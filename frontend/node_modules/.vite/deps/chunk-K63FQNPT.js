// node_modules/realgrid/dist/main.esm.js
var t = { name: "RealGrid2", version: "2.9.2.1912", license: "enterprise", code: null };
var e = function(t2, i2) {
  return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t3, e2) {
    t3.__proto__ = e2;
  } || function(t3, e2) {
    for (var i3 in e2) Object.prototype.hasOwnProperty.call(e2, i3) && (t3[i3] = e2[i3]);
  }, e(t2, i2);
};
function i(t2, i2) {
  if ("function" != typeof i2 && null !== i2) throw new TypeError("Class extends value " + String(i2) + " is not a constructor or null");
  function o2() {
    this.constructor = t2;
  }
  e(t2, i2), t2.prototype = null === i2 ? Object.create(i2) : (o2.prototype = i2.prototype, new o2());
}
var o = function() {
  return o = Object.assign || function(t2) {
    for (var e2, i2 = 1, o2 = arguments.length; i2 < o2; i2++) for (var r2 in e2 = arguments[i2]) Object.prototype.hasOwnProperty.call(e2, r2) && (t2[r2] = e2[r2]);
    return t2;
  }, o.apply(this, arguments);
};
function r(t2, e2, i2, o2) {
  return new (i2 || (i2 = Promise))(function(r2, n2) {
    function s2(t3) {
      try {
        l2(o2.next(t3));
      } catch (t4) {
        n2(t4);
      }
    }
    function a2(t3) {
      try {
        l2(o2.throw(t3));
      } catch (t4) {
        n2(t4);
      }
    }
    function l2(t3) {
      var e3;
      t3.done ? r2(t3.value) : (e3 = t3.value, e3 instanceof i2 ? e3 : new i2(function(t4) {
        t4(e3);
      })).then(s2, a2);
    }
    l2((o2 = o2.apply(t2, e2 || [])).next());
  });
}
function n(t2, e2) {
  var i2, o2, r2, n2, s2 = { label: 0, sent: function() {
    if (1 & r2[0]) throw r2[1];
    return r2[1];
  }, trys: [], ops: [] };
  return n2 = { next: a2(0), throw: a2(1), return: a2(2) }, "function" == typeof Symbol && (n2[Symbol.iterator] = function() {
    return this;
  }), n2;
  function a2(a3) {
    return function(l2) {
      return function(a4) {
        if (i2) throw new TypeError("Generator is already executing.");
        for (; n2 && (n2 = 0, a4[0] && (s2 = 0)), s2; ) try {
          if (i2 = 1, o2 && (r2 = 2 & a4[0] ? o2.return : a4[0] ? o2.throw || ((r2 = o2.return) && r2.call(o2), 0) : o2.next) && !(r2 = r2.call(o2, a4[1])).done) return r2;
          switch (o2 = 0, r2 && (a4 = [2 & a4[0], r2.value]), a4[0]) {
            case 0:
            case 1:
              r2 = a4;
              break;
            case 4:
              return s2.label++, { value: a4[1], done: false };
            case 5:
              s2.label++, o2 = a4[1], a4 = [0];
              continue;
            case 7:
              a4 = s2.ops.pop(), s2.trys.pop();
              continue;
            default:
              if (!(r2 = s2.trys, (r2 = r2.length > 0 && r2[r2.length - 1]) || 6 !== a4[0] && 2 !== a4[0])) {
                s2 = 0;
                continue;
              }
              if (3 === a4[0] && (!r2 || a4[1] > r2[0] && a4[1] < r2[3])) {
                s2.label = a4[1];
                break;
              }
              if (6 === a4[0] && s2.label < r2[1]) {
                s2.label = r2[1], r2 = a4;
                break;
              }
              if (r2 && s2.label < r2[2]) {
                s2.label = r2[2], s2.ops.push(a4);
                break;
              }
              r2[2] && s2.ops.pop(), s2.trys.pop();
              continue;
          }
          a4 = e2.call(t2, s2);
        } catch (t3) {
          a4 = [6, t3], o2 = 0;
        } finally {
          i2 = r2 = 0;
        }
        if (5 & a4[0]) throw a4[1];
        return { value: a4[0] ? a4[1] : void 0, done: true };
      }([a3, l2]);
    };
  }
}
function s(t2, e2, i2) {
  if (i2 || 2 === arguments.length) for (var o2, r2 = 0, n2 = e2.length; r2 < n2; r2++) !o2 && r2 in e2 || (o2 || (o2 = Array.prototype.slice.call(e2, 0, r2)), o2[r2] = e2[r2]);
  return t2.concat(o2 || Array.prototype.slice.call(e2));
}
var a;
var l;
var h;
var u;
var c;
var d;
var p;
var f = "$_hash";
var _ = "$_view";
var g = "$_row";
var y = "$_idx";
var m = "$_foc";
var b = "$_lev";
!function(t2) {
  t2.TEXT = "text", t2.NUMBER = "number", t2.BOOLEAN = "boolean", t2.DATETIME = "datetime", t2.OBJECT = "object", t2.CHAR = "char", t2.UNUM = "unum", t2.INT = "int", t2.UINT = "uint", t2.DATE = "date";
}(a || (a = {})), function(t2) {
  t2.ASCENDING = "ascending", t2.DESCENDING = "descending", t2.NONE = "none";
}(l || (l = {})), function(t2) {
  t2.SENSITIVE = "sensitive", t2.INSENSITIVE = "insensitive";
}(h || (h = {})), function(t2) {
  t2.ROWS = "rows", t2.ITEMS = "items";
}(u || (u = {})), function(t2) {
  t2.AUTO = "auto", t2.EXPLICIT = "explicit";
}(c || (c = {})), function(t2) {
  t2.AUTO = "auto", t2.EXPLICIT = "explicit";
}(d || (d = {})), function(t2) {
  t2.NONE = "none", t2.HEADER = "header", t2.FOOTER = "footer", t2.SUMMARY = "summary", t2.BOTH = "both";
}(p || (p = {}));
var v;
var w;
var C = function(t2) {
  return t2 == p.BOTH || t2 == p.HEADER;
};
!function(t2) {
  t2.ALWAYS = "always", t2.UPDATE = "update", t2.INSERT = "insert";
}(v || (v = {})), function(t2) {
  t2.ERROR = "error", t2.WARNING = "warning", t2.INFO = "info", t2.IGNORE = "ignore";
}(w || (w = {}));
var x;
var I;
var E;
var S;
var O;
var R;
var P;
var k;
var D;
var T;
var M;
var F;
var L;
var N;
var $;
var A;
var B;
var V;
var j;
var H;
var W;
var G;
var U;
var Y;
var z;
var q;
var K;
var X;
var Z;
var J;
var Q = { error: 1, warning: 2, info: 3, ignore: 4 };
var tt = function(t2, e2) {
  return Q[t2] - Q[e2];
};
!function(t2) {
  t2.NONE = "none", t2.AGGREGATE = "aggregate", t2.STATISTICAL = "statistical";
}(x || (x = {})), function(t2) {
  t2.NONE = "none", t2.LEFT_EDGE = "leftEdge", t2.RIGHT_EDGE = "rightEdge", t2.TOP_EDGE = "topEdge", t2.BOTTOM_EDGE = "bottomEdge", t2.LEFT = "left", t2.RIGHT = "right", t2.TOP = "top", t2.BOTTOM = "bottom", t2.CENTER = "center";
}(I || (I = {})), function(t2) {
  t2.NONE = "none", t2.HEAD = "head", t2.BODY = "body", t2.TAIL = "tail";
}(E || (E = {})), function(t2) {
  t2.NONE = "none", t2.EVEN = "even", t2.EVEN_FILL = "evenFill", t2.FILL = "fill";
}(S || (S = {})), function(t2) {
  t2.DATA = "data", t2.HEADER = "header", t2.FOOTER = "footer", t2.SUMMARY = "summary", t2.INDICATOR = "indicator", t2.STATE = "state", t2.CHECK = "check", t2.HEAD = "head", t2.FOOT = "foot", t2.SUM = "sum", t2.FIXED_BAR = "fixedbar", t2.GROUP_HEADER = "groupHeader", t2.GROUP_FOOTER = "groupFooter", t2.GROUP_BAR = "groupBar", t2.GROUP_HEAD = "groupHead", t2.GROUP_FOOT = "groupFoot", t2.GROUP_PANEL = "groupPanel", t2.GROUP_COLUMN = "groupColumn", t2.GRID_EMPTY = "gridEmpty", t2.LAYOUT_HEADER = "layoutHeader", t2.FILTER = "filter", t2.INLINE_FILTER = "inlineFilter", t2.SCROLL_BAR = "scrollBar", t2.SCROLL_TRACK = "scrollTrack", t2.SCROLL_THUMB = "scrollThumb", t2.SCROLL_BUTTON = "scrollButton", t2.SCROLL_EDGE = "scrollEdge";
}(O || (O = {})), function(t2) {
  t2.NONE = "none", t2.ROW = "row", t2.DATA = "data", t2.FILL = "fill", t2.CELL = "cell";
}(R || (R = {})), function(t2) {
  t2.NORMAL = "normal", t2.UPPER = "upper", t2.LOWER = "lower", t2.DEFAULT = "default";
}(P || (P = {})), function(t2) {
  t2.NORMAL = "normal", t2.TODAY = "today", t2.TODAY_WHEN_NULL = "todayWhenNull", t2.DEFAULT = "default", t2.DEFAULT_WHEN_NULL = "defaultWhenNull";
}(k || (k = {})), function(t2) {
  t2.NONE = "none", t2.EXCLUSIVE = "exclusive", t2.INCLUSIVE = "inclusive", t2.REVERSE = "reverse";
}(D || (D = {})), function(t2) {
  t2.NORMAL = "normal", t2.CHECK = "check", t2.RADIO = "radio", t2.SEPARATOR = "separator";
}(T || (T = {})), function(t2) {
  t2.VISIBLE = "visible", t2.HOVERED = "hovered", t2.ALWAYS = "always", t2.HIDDEN = "hidden", t2.ACTIVE_OR_HOVERED = "activeOrHovered";
}(M || (M = {})), function(t2) {
  t2.NONE = "none", t2.ACTION = "action", t2.POPUP = "popup";
}(F || (F = {})), function(t2) {
  t2.ALWAYS = "always", t2.DEFAULT = "default", t2.VISIBLE = "visible", t2.HIDDEN = "hidden", t2.ROWFOCUSED = "rowfocused";
}(L || (L = {})), function(t2) {
  t2.LEFT = "left", t2.RIGHT = "right", t2.LEFT_EDGE = "leftEdge", t2.RIGHT_EDGE = "rightEdge", t2.TOP = "top", t2.BOTTOM = "bottom", t2.TOP_EDGE = "topEdge", t2.BOTTOM_EDGE = "bottomEdge", t2.CENTER = "center";
}(N || (N = {})), function(t2) {
  t2.ALL = "all", t2.VISIBLE_ONLY = "visibleOnly", t2.RECYCLE = "recycle";
}($ || ($ = {})), function(t2) {
  t2.CANCEL = "cancel", t2.COMMIT = "commit", t2.DEFAULT = "default";
}(A || (A = {})), function(t2) {
  t2.ROW = "row", t2.GROUP = "group", t2.FOOTER = "footer", t2.TREE = "tree";
}(B || (B = {})), function(t2) {
  t2.COUNT = "count", t2.SUM = "sum", t2.MAX = "max", t2.MIN = "min", t2.AVG = "avg", t2.VAR = "var", t2.VARP = "varp", t2.STDEV = "stdev", t2.STDEVP = "stdevp", t2.DATACOUNT = "datacount", t2.DATAAVG = "dataavg";
}(V || (V = {})), function(t2) {
  t2.ALWAYS = "always", t2.DEFAULT = "default", t2.NONE = "none";
}(j || (j = {})), function(t2) {
  t2.ROW = "row", t2.GRID = "grid", t2.NONE = "none";
}(H || (H = {})), function(t2) {
  t2.LAYER = "layer", t2.LINE = "line";
}(W || (W = {})), function(t2) {
  t2.LEFT_TOP = "leftTop", t2.LEFT_BOTTOM = "leftBottom", t2.RIGHT_TOP = "rightTop", t2.RIGHT_BOTTOM = "rightBottom";
}(G || (G = {})), function(t2) {
  t2.EXPAND = "expand", t2.COLLAPSE = "collapse", t2.ALWAYS = "always";
}(U || (U = {})), function(t2) {
  t2.NONE = "none", t2.OVER = "over", t2.ALWAYS = "always";
}(Y || (Y = {})), function(t2) {
  t2.EQUAL = "equal", t2.NOT_EQUAL = "notEqual", t2.CONTAINS = "contains", t2.NOT_CONTAINS = "notContains", t2.STARTS_WITH = "startsWith", t2.ENDS_WITH = "endsWith", t2.RESET = "reset", t2.GREATER = "greater", t2.GREATER_EQUAL = "greaterEqual", t2.LOWER = "lower", t2.LOWER_EQUAL = "lowerEqual", t2.BETWEEN = "between", t2.EMPTY = "empty";
}(z || (z = {})), function(t2) {
  t2.TRIANGLE = "triangle", t2.SQUARE = "square";
}(q || (q = {})), function(t2) {
  t2.FIRST = "first", t2.LAST = "last", t2.DEFAULT = "default";
}(K || (K = {})), function(t2) {
  t2.EXPAND = "expand", t2.COLLAPSE = "collapse", t2.REMAIN_AND_EXPAND = "remainAndExpand", t2.REMAIN_AND_COLLAPSE = "remainAndCollapse";
}(X || (X = {})), function(t2) {
  t2.NONE = "none", t2.HOUR = "hour", t2.MINUTE = "minute", t2.SECOND = "second", t2.AUTO = "auto";
}(Z || (Z = {})), function(t2) {
  t2.VERTICAL = "vertical", t2.HORIZONTAL = "horizontal";
}(J || (J = {}));
var et;
var it = function() {
  function t2(t3, e2, i2, o2) {
    void 0 === t3 && (t3 = 0), void 0 === e2 && (e2 = 0), void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = 0), this.x = t3, this.y = e2, this.width = i2, this.height = o2;
  }
  return Object.defineProperty(t2.prototype, "left", { get: function() {
    return this.x;
  }, set: function(t3) {
    var e2 = t3 - this.x;
    this.x += e2, this.width -= e2;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "right", { get: function() {
    return this.x + this.width;
  }, set: function(t3) {
    var e2 = t3 - (this.x + this.width);
    this.width += e2;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "top", { get: function() {
    return this.y;
  }, set: function(t3) {
    var e2 = t3 - this.y;
    this.y += e2, this.height -= e2;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "bottom", { get: function() {
    return this.y + this.height;
  }, set: function(t3) {
    var e2 = t3 - (this.y + this.height);
    this.height += e2;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "isEmpty", { get: function() {
    return 0 === this.width || 0 === this.height;
  }, enumerable: false, configurable: true }), t2.prototype.clone = function() {
    return new t2(this.x, this.y, this.width, this.height);
  }, t2.prototype.getInner = function() {
    return new t2(0, 0, this.width, this.height);
  }, t2.prototype.equals = function(t3) {
    return t3 === this || t3 && this.x === t3.x && this.y === t3.y && this.width === t3.width && this.height === t3.height;
  }, t2.prototype.leftBy = function(t3) {
    return this.x += t3, this.width -= t3, this;
  }, t2.prototype.rightBy = function(t3) {
    return this.width += t3, this;
  }, t2.prototype.topBy = function(t3) {
    return this.y += t3, this.height -= t3, this;
  }, t2.prototype.bottomBy = function(t3) {
    return this.height += t3, this;
  }, t2.prototype.shrink = function(t3, e2) {
    return this.width -= t3, this.height -= e2, this;
  }, t2.prototype.expand = function(t3, e2) {
    return this.width += t3, this.height += e2, this;
  }, t2.prototype.contains = function(t3, e2) {
    return t3 >= this.x && t3 <= this.x + this.width && e2 >= this.y && e2 <= this.y + this.height;
  }, t2.prototype.setEmpty = function() {
    return this.width = this.height = 0, this;
  }, t2.prototype.move = function(t3, e2) {
    return void 0 === t3 && (t3 = 0), void 0 === e2 && (e2 = 0), this.x = t3, this.y = e2, this;
  }, t2.prototype.set = function(t3, e2, i2, o2) {
    return this.x = t3, this.y = e2, this.width = i2, this.height = o2, this;
  }, t2.prototype.setWidth = function(t3) {
    return this.width = t3, this;
  }, t2.prototype.copy = function(t3) {
    return this.x = t3.x, this.y = t3.y, this.width = t3.width, this.height = t3.height, this;
  }, t2.prototype.copyHorz = function(t3) {
    return this.x = t3.x, this.width = t3.width, this;
  }, t2.prototype.copyVert = function(t3) {
    return this.y = t3.y, this.height = t3.height, this;
  }, t2.prototype.inflate = function(t3, e2, i2, o2) {
    return void 0 === t3 && (t3 = 0), void 0 === e2 && (e2 = void 0), void 0 === i2 && (i2 = void 0), void 0 === o2 && (o2 = void 0), e2 = void 0 !== e2 ? e2 : t3, i2 = void 0 !== i2 ? i2 : t3, o2 = void 0 !== o2 ? o2 : e2, t3 && (this.left = this.x - t3), e2 && (this.top = this.y - e2), i2 && (this.right = this.right + i2), o2 && (this.bottom = this.bottom + o2), this;
  }, t2.prototype.offset = function(t3, e2) {
    return this.x += t3, this.y += e2, this;
  }, t2.prototype.round = function() {
    var t3 = this.clone();
    return t3.x >>>= 0, t3.y >>>= 0, t3.width >>>= 0, t3.height >>>= 0, t3;
  }, t2.prototype.union = function(t3) {
    var e2 = this.clone();
    return e2.left = Math.min(this.x, t3.x), e2.right = Math.max(this.right, t3.right), e2.top = Math.min(this.y, t3.y), e2.bottom = Math.max(this.bottom, t3.bottom), e2;
  }, t2.prototype.normalize = function() {
    return this.width < 0 && (this.x -= this.width, this.width *= -1), this.height < 0 && (this.y -= this.height, this.height *= -1), this;
  }, t2.prototype.toString = function() {
    return "{x: " + this.x + ", y: " + this.y + ", width: " + this.width + ", height: " + this.height + "}";
  }, t2.Temp = new t2(), t2;
}();
var ot = "undefined" != typeof window ? window : {};
var rt = { ua: (et = "undefined" != typeof window && window.navigator || {}).userAgent || "", platform: (et.platform || "").toUpperCase() };
var nt = rt.ua;
var st = rt.platform;
var at = st.indexOf("MAC") >= 0;
var lt = st.indexOf("WIN") >= 0;
var ht = !!ot.chrome;
var ut = void 0 !== ot.InstallTrigger;
var ct = !!ot.safari || !ht && nt.indexOf("Safari") >= 0;
var dt = /iPad|iPhone|iPod/.test(nt) && !ot.MSStream;
var pt = !!nt.match(/Trident.*rv\:11\./);
var ft = -1 !== nt.indexOf("MSIE 10");
var _t = -1 !== nt.indexOf("MSIE 9");
var gt = pt || ft || _t;
var yt = Date.now();
var mt = void 0;
var bt = void 0;
var vt = void 0;
var wt = void 0;
var Ct = void 0;
function xt(t2) {
  return t2 && t2.ownerDocument && (t2.ownerDocument.defaultView || t2.ownerDocument.parentWindow);
}
function It(t2) {
  return t2 && t2.ownerDocument;
}
function Et(t2) {
  return t2.defaultView || t2.parentWindow;
}
var St;
var Ot = function() {
  function t2() {
  }
  return t2.stopEvent = function(t3, e2) {
    void 0 === e2 && (e2 = false), t3.preventDefault ? (t3.preventDefault(), t3.stopPropagation()) : t3.returnValue = false, e2 && t3.stopImmediatePropagation();
  }, t2.setDebugging = function(e2, i2, o2) {
    t2.$$_debugging = i2, t2.$$_keyLog = o2;
  }, t2.isDebugging = function() {
    return t2.$$_debugging;
  }, t2.setSlotMode = function(e2) {
    t2.$$_slotMode = e2;
  }, t2.setLanguage = function(e2) {
    t2.$$_lang = e2;
  }, Object.defineProperty(t2, "language", { get: function() {
    return this.$$_lang;
  }, enumerable: false, configurable: true }), t2.isSlotMode = function() {
    return t2.$$_slotMode;
  }, t2.log = function(e2) {
    for (var i2 = [], o2 = 1; o2 < arguments.length; o2++) i2[o2 - 1] = arguments[o2];
    t2.isDebugging() && console.log(e2, i2);
  }, t2.keyLog = function(e2) {
    for (var i2 = [], o2 = 1; o2 < arguments.length; o2++) i2[o2 - 1] = arguments[o2];
    t2.$$_keyLog && console.log(e2, i2);
  }, t2.isArray = function(t3) {
    return Array.isArray(t3);
  }, t2.isObject = function(t3) {
    return null != t3 && "object" == typeof t3;
  }, t2.makeArray = function(e2, i2) {
    return void 0 === i2 && (i2 = false), null != e2 ? t2.isArray(e2) ? e2 : [e2] : i2 ? [] : void 0;
  }, t2.isNumber = function(t3) {
    return "number" == typeof t3;
  }, t2.getNumber = function(t3, e2) {
    return isNaN(parseFloat(t3)) ? e2 : parseFloat(t3);
  }, t2.getTimer = function() {
    return (/* @__PURE__ */ new Date()).getTime() - yt;
  }, t2.isWhiteSpace = function(t3) {
    return !t3 || !t3.trim();
  }, t2.pad = function(t3, e2, i2) {
    return e2 = Math.max(e2 || 2, 1), i2 = i2 || "0", new Array(e2 - String(t3).length + 1).join(i2) + t3;
  }, t2.pick = function() {
    for (var t3 = [], e2 = 0; e2 < arguments.length; e2++) t3[e2] = arguments[e2];
    for (var i2, o2 = t3.length, r2 = 0; r2 < o2; r2++) if (null != (i2 = t3[r2])) return i2;
  }, t2.included = function(t3) {
    for (var e2 = [], i2 = 1; i2 < arguments.length; i2++) e2[i2 - 1] = arguments[i2];
    for (var o2 = e2.length, r2 = 0; r2 < o2; r2++) if (e2[r2] == t3) return true;
    return false;
  }, t2.valueIn = function(t3, e2) {
    if ("object" == typeof e2) {
      for (var i2 = Object.keys(e2), o2 = 0; o2 < i2.length; o2++) if (e2[i2[o2]] === t3) return true;
    }
    return false;
  }, t2.compareTextValue = function(t3, e2, i2, o2) {
    if (t3 === e2) return true;
    var r2 = String(t3), n2 = null == e2 ? void 0 : String(e2);
    return !r2 && !n2 || !(!r2 || !n2) && (i2 || (r2 = r2.toLowerCase(), n2 = n2.toLowerCase()), o2 ? n2.indexOf(r2) >= 0 : r2 == n2);
  }, t2.cast = function(t3, e2) {
    return t3 instanceof e2 ? t3 : null;
  }, t2.toInt = function(t3, e2) {
    var i2 = parseInt(t3, e2 || 10);
    return isNaN(i2) ? 0 : i2;
  }, t2.toFloat = function(t3) {
    var e2 = parseFloat(t3);
    return isNaN(e2) ? 0 : e2;
  }, t2.hex = function(t3, e2, i2) {
    void 0 === e2 && (e2 = 2), void 0 === i2 && (i2 = "0"), e2 = Math.max(e2 || 2, 1);
    var o2 = t3.toString(16);
    return i2 = i2 || "0", new Array(e2 - o2.length + 1).join(i2) + o2;
  }, t2.deepCopy = function(e2) {
    if (null == e2 || "object" != typeof e2) return e2;
    if (e2 instanceof Date) return new Date(e2);
    for (var i2 = t2.isArray(e2) ? [] : {}, o2 = 0, r2 = Object.keys(e2); o2 < r2.length; o2++) {
      var n2 = r2[o2];
      e2.hasOwnProperty(n2) && (i2[n2] = t2.deepCopy(e2[n2]));
    }
    return i2;
  }, t2.extendObj = function(t3, e2) {
    if (null == t3 || "object" != typeof t3 || null == e2 || "object" != typeof e2) return e2;
    for (var i2 = 0, o2 = Object.keys(t3); i2 < o2.length; i2++) {
      var r2 = o2[i2];
      t3.hasOwnProperty(r2) && void 0 === e2[r2] && (e2[r2] = t3[r2]);
    }
    return e2;
  }, t2.getBounds = function(t3) {
    var e2 = new it();
    return e2.x = t3.offsetLeft, e2.y = t3.offsetTop, e2.width = t3.offsetWidth, e2.height = t3.offsetHeight, e2;
  }, t2.toStr = function(t3) {
    return "number" == typeof t3 ? isNaN(t3) ? "" : String(t3) : null != t3 ? String(t3) : "";
  }, t2.setBounds = function(t3, e2, i2, o2, r2) {
    var n2 = t3.style;
    n2.left = e2 + "px", n2.top = i2 + "px", n2.width = o2 + "px", n2.height = r2 + "px";
  }, t2.getClientRect = function(e2) {
    var i2 = e2.getBoundingClientRect(), o2 = t2.getZoom(e2), r2 = new it(i2.left / o2, i2.top / o2, i2.width / o2, i2.height / o2);
    if ("BODY" === e2.tagName) {
      var n2 = e2.ownerDocument.defaultView;
      r2.height = Math.max(r2.height, e2.scrollHeight, n2.innerHeight), r2.width = Math.max(r2.width, e2.scrollHeight, n2.innerWidth);
    }
    return r2.cx = e2.offsetLeft, r2.cy = e2.offsetTop, r2;
  }, t2.getZoom = function(t3) {
    var e2 = t3.offsetWidth || t3.scrollWidth, i2 = t3.offsetHeight || t3.scrollHeight, o2 = t3.getBoundingClientRect(), r2 = NaN;
    try {
      if (o2.height && o2.width ? r2 = (o2.height / i2 + o2.width / e2) / 2 : o2.height ? r2 = o2.height / i2 : o2.width && (r2 = o2.width / e2), isNaN(r2)) {
        var n2 = getComputedStyle(t3).zoom;
        n2 && (r2 = parseFloat(n2));
      }
      if (isNaN(r2)) throw new Error("zomm check fail");
    } catch (t4) {
      r2 = 1;
    }
    return Math.round(100 * r2) / 100;
  }, t2.getMargin = function(t3) {
    var e2 = 0, i2 = 0;
    if (t3 instanceof xt(t3).HTMLBodyElement) for (var o2 = t3; o2; ) {
      var r2 = getComputedStyle(o2);
      "static" === r2.position && (e2 += parseFloat(r2.marginLeft) || 0, i2 += parseFloat(r2.marginTop) || 0), o2 = o2.parentElement;
    }
    return { x: e2, y: i2 };
  }, t2.getChildIndex = function(t3) {
    if (t3) {
      var e2 = t3.parentNode;
      if (e2) {
        for (var i2 = e2.children, o2 = i2.length; o2--; ) if (i2[o2] === t3) return o2;
      }
    }
    return -1;
  }, t2.clearChildren = function(t3) {
    for (var e2; e2 = t3.lastChild; ) t3.removeChild(e2);
  }, t2.clearElements = function(e2) {
    for (var i2; i2 = e2.lastChild; ) t2.clearElements(i2), e2.removeChild(i2);
  }, t2.addChild = function(t3, e2) {
    return !(!t3 || !e2 || e2.parentNode === t3) && (t3.appendChild(e2), true);
  }, t2.removeChild = function(t3, e2) {
    return !(!t3 || !e2 || e2.parentNode !== t3) && (t3.removeChild(e2), true);
  }, t2.disableSelection = function(t3) {
    var e2 = t3.style;
    e2["-moz-user-select"] = "-moz-none", e2["-khtml-user-select"] = "none", e2["-webkit-user-select"] = "none", e2["-o-user-select"] = "none", e2["-ms-user-select"] = "none", e2["user-select"] = "none";
  }, t2.setMobile = function(t3) {
    mt = t3;
  }, t2.setIECompatMode = function(t3) {
    Ct = t3;
  }, t2.setTablet = function(t3) {
    vt = t3;
  }, t2.isMobile = function() {
    return void 0 !== mt ? mt : (void 0 === bt && (bt = this.$_checkMobile()), bt);
  }, t2.isIEMode = function() {
    return !t2.isMobile() && !t2.isChromium && Ct && false === navigator.msPointerEnabled;
  }, t2.isTablet = function() {
    return void 0 !== vt ? vt : (void 0 === wt && (wt = this.$_checkTablet()), wt);
  }, t2.$_checkTablet = function() {
    return t2.isMobile() && /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(nt.toLowerCase());
  }, t2.$_checkMobile = function() {
    var t3 = false;
    return (nt.match(/Android/i) || nt.match(/webOS/i) || nt.match(/iPhone/i) || nt.match(/iPad/i) || nt.match(/iPod/i) || nt.match(/BlackBerry/i) || nt.match(/Windows Phone/i)) && (t3 = true), t3 || (t3 = "ontouchstart" in window && nt.indexOf("Macintosh") >= 0), t3;
  }, t2.getBrowserSize = function(e2) {
    var i2 = e2 ? e2.ownerDocument : document, o2 = i2.defaultView, r2 = i2.body, n2 = i2.documentElement, s2 = t2.getZoom(r2);
    return { width: o2.innerWidth / s2 || n2.clientWidth || r2.clientWidth, height: o2.innerHeight / s2 || n2.clientHeight || r2.clientHeight };
  }, t2.move = function(t3, e2, i2) {
    t3.style.left = e2 + "px", t3.style.top = i2 + "px";
  }, t2.htmlEncode = function(t3) {
    return document.createElement("a").appendChild(document.createTextNode(t3)).parentNode.innerHTML;
  }, t2.detach = function(t3) {
    return t3 && t3.parentNode && t3.parentNode.removeChild(t3), null;
  }, t2.getSize = function(e2) {
    return t2.getClientRect(e2);
  }, t2.getScrolled = function(t3) {
    var e2 = t3.body, i2 = Et(t3), o2 = t3.documentElement;
    return { sx: i2.pageXOffset || o2.scrollLeft || e2.scrollLeft, sy: i2.pageYOffset || o2.scrollTop || e2.scrollTop };
  }, t2.getOffset = function(e2) {
    var i2 = t2.getZoom(e2), o2 = e2.ownerDocument, r2 = o2.defaultView, n2 = t2.getClientRect(e2), s2 = o2.body, a2 = o2.documentElement, l2 = r2.pageYOffset || a2.scrollTop || s2.scrollTop, h2 = r2.pageXOffset || a2.scrollLeft || s2.scrollLeft;
    l2 /= i2, h2 /= i2;
    var u2 = a2.clientTop || s2.clientTop || 0, c2 = a2.clientLeft || s2.clientLeft || 0, d2 = n2.left + h2 - c2, p2 = n2.top + l2 - u2;
    return { x: Math.round(d2), y: Math.round(p2) };
  }, t2.isAncestorOf = function(t3, e2, i2) {
    var o2;
    if (e2 instanceof HTMLElement) o2 = e2;
    else for (var r2 = this.getComposedPath(i2); r2.length; ) {
      var n2 = r2.shift();
      if (n2 instanceof HTMLElement) {
        o2 = n2;
        break;
      }
    }
    for (; o2; ) {
      if (o2 == t3) return true;
      o2 = o2.parentElement;
    }
    return false;
  }, t2.getComposedPath = function(t3) {
    if (t3.composedPath) return t3.composedPath();
    for (var e2 = t3.target, i2 = []; e2; ) i2.push(e2), e2 = e2.parentElement || e2.parentNode;
    return i2;
  }, t2.equalNumbers = function(t3, e2) {
    return isNaN(t3) && isNaN(e2) || !isNaN(t3) && t3 == e2;
  }, t2.equalArrays = function(t3, e2) {
    if (t3 === e2) return true;
    if (null == t3 || null == e2) return false;
    var i2 = t3.length;
    if (i2 != e2.length) return false;
    for (var o2 = 0; o2 < i2; ++o2) if (t3[o2] !== e2[o2]) return false;
    return true;
  }, t2.equalObjects = function(t3, e2) {
    return t3 == e2 || JSON.stringify(t3) === JSON.stringify(e2);
  }, t2.isLeapYear = function(t3) {
    return t3 % 4 == 0 && t3 % 100 != 0 || t3 % 400 == 0;
  }, t2.incMonth = function(e2, i2) {
    var o2 = e2.getDate();
    return e2.setDate(1), e2.setMonth(e2.getMonth() + i2), e2.setDate(Math.min(o2, t2.month_days[t2.isLeapYear(e2.getFullYear()) ? 1 : 0][e2.getMonth()])), e2;
  }, t2.incYear = function(e2, i2) {
    var o2 = e2.getDate();
    return e2.setDate(1), e2.setFullYear(e2.getFullYear() + i2), e2.setDate(Math.min(o2, t2.month_days[t2.isLeapYear(e2.getFullYear()) ? 1 : 0][e2.getMonth()])), e2;
  }, t2.setClassName = function(t3, e2) {
    (e2 = e2 || "") != t3.className && (t3.className = e2);
  }, t2.addClassName = function(t3, e2) {
    if (e2 = e2 || "", t3.classList) t3.classList.add(e2);
    else {
      var i2 = t3.className.split(" ");
      i2.indexOf(e2) < 0 && i2.push(e2), t3.className = i2.join(" ");
    }
  }, t2.removeClassName = function(t3, e2) {
    if (t3.classList) t3.classList.remove(e2);
    else {
      var i2, o2 = t3.className.split(" ");
      (i2 = o2.indexOf(e2)) >= 0 && o2.splice(i2, 1), t3.className = o2.join(" ");
    }
  }, t2.setStyle = function(t3, e2) {
    var i2 = e2.style;
    for (var o2 in t3) null != t3[o2] ? i2[o2] = t3[o2] : (i2.removeProperty ? i2.removeProperty(o2) : i2.removeAttribute && i2.removeAttribute(o2), i2[o2] = "");
  }, t2.getTextLength = function(t3) {
    for (var e2 = 0, i2 = 0, o2 = 0; t3 && (i2 = t3.charCodeAt(o2)); o2++) e2 += i2 >> 7 ? 2 : 1;
    return e2;
  }, t2.escapeRegExp = function(t3) {
    return t3.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
  }, t2.isEmpty = function(t3) {
    return t3 && Object.keys(t3).length > 0;
  }, t2.isPassive = function() {
    if (null === t2.$_supportPassive) {
      t2.$_supportPassive = false;
      try {
        addEventListener("test", null, Object.defineProperty({}, "passive", { get: function() {
          t2.$_supportPassive = true;
        } }));
      } catch (e2) {
        t2.log("passive not support");
      }
    }
    return t2.$_supportPassive;
  }, t2.hangulToChosungAll = function(e2) {
    for (var i2 = "", o2 = 0; o2 < e2.length; o2++) {
      var r2 = e2.charCodeAt(o2) - 44032;
      i2 += r2 > -1 && r2 < 11172 ? t2.cho[Math.floor(r2 / 588)] : e2[o2];
    }
    return i2;
  }, t2.hangulToChosung = function(e2) {
    var i2 = { cho: e2, org: e2 };
    if (/[ㄱ-힝]/.test(e2)) {
      var o2 = t2.cho, r2 = e2.charCodeAt(0);
      r2 >= 12593 && r2 <= 12622 && (i2.org = void 0), (r2 -= 44032) >= 0 && r2 < 11172 && (i2.cho = o2[Math.floor(r2 / 588)]);
    }
    return i2;
  }, t2.addQuot = function(t3, e2) {
    return t3 && (t3.indexOf("\n") >= 0 || t3.indexOf("\r\n") >= 0 || '"' == t3.charAt(0)) && (t3 = '"' + (t3 = t3.replace(/\"/g, '""')) + '"'), t3;
  }, t2.addQuatation = function(t3, e2, i2, o2) {
    return null != t3 && ((i2 || o2) && (i2 && t3 && (t3 = t3.replace(/\n/g, i2)), o2 && t3 && (t3 = t3.replace(/\r/g, o2))), (e2 || t3.indexOf("\n") >= 0 || t3.indexOf(",") >= 0 || t3.indexOf('"') >= 0) && (t3 = '"' + t3.replace(/\"/g, '""') + '"')), null === t3 ? "" : t3;
  }, t2.isClickableTemplate = function(t3, e2) {
    return Array.prototype.some.call(t3.querySelectorAll("input, textarea, a, select, button, [tabindex]"), function(t4) {
      return e2 === t4;
    });
  }, t2.isFocusableTemplate = function(t3, e2) {
    return Array.prototype.some.call(t3.querySelectorAll("input, textarea, select"), function(t4) {
      var i2 = t4.type;
      return t4 === e2 && "button" !== i2 && "checkbox" !== i2;
    });
  }, t2.objectToCssText = function(t3) {
    return "string" == typeof t3 ? t3 : t3 ? Object.keys(t3).map(function(e2) {
      return "".concat(e2.split(/(?=[A-Z])/).join("-").toLowerCase(), ":").concat(t3[e2]);
    }).join(";") : null;
  }, t2.getLast = function(t3) {
    return t3[t3.length - 1];
  }, t2.camelToHyphen = function(t3, e2, i2) {
    return void 0 === i2 && (i2 = "-"), t3 ? e2 ? t3.split(/(?=[A-Z])/).join(i2).toUpperCase() : t3.split(/(?=[A-Z])/).join(i2).toLowerCase() : t3;
  }, t2.find = function(t3, e2) {
    for (var i2 = 0; i2 < t3.length; i2++) if (e2.call(null, t3[i2], i2, t3)) return t3[i2];
  }, t2.isInteractive = function(t3) {
    var e2 = xt(t3);
    return t3 instanceof (null == e2 ? void 0 : e2.HTMLInputElement) && "checkbox" === t3.type || t3 instanceof (null == e2 ? void 0 : e2.HTMLAnchorElement);
  }, t2.assign = function(t3) {
    for (var e2 = [], i2 = 1; i2 < arguments.length; i2++) e2[i2 - 1] = arguments[i2];
    for (var o2 = Object(t3), r2 = 0; r2 < e2.length; r2++) {
      var n2 = e2[r2];
      if (null != n2) for (var s2 in n2) Object.prototype.hasOwnProperty.call(n2, s2) && (o2[s2] = n2[s2]);
    }
    return o2;
  }, t2.setInert = function(t3, e2) {
    e2 ? t3.removeAttribute("inert") : t3.setAttribute("inert", "");
  }, t2.insertBefore = function(t3, e2, i2) {
    if (e2.nextElementSibling !== i2) return t3.insertBefore(e2, i2);
  }, t2.ctrlKey = function(e2) {
    var i2 = t2.isMac || t2.isiOS;
    return e2 && (i2 && e2.metaKey || !i2 && e2.ctrlKey);
  }, t2.specialKey = function(t3) {
    return t3 && (t3.ctrlKey || t3.metaKey || t3.altKey || t3.shiftKey);
  }, t2.resetPosition = function(e2, i2, o2, r2, n2, s2, a2, l2) {
    var h2 = It(o2), u2 = xt(o2), c2 = t2.getBrowserSize(), d2 = t2.getSize(e2), p2 = i2 ? t2.getSize(i2) : { left: 0, top: 0 }, f2 = t2.getZoom(h2.body), _2 = c2.width, g2 = c2.height, y2 = t2.getSize(o2), m2 = u2.pageXOffset || h2.documentElement.scrollLeft, b2 = u2.pageYOffset || h2.documentElement.scrollTop;
    m2 /= f2, b2 /= f2, h2.documentElement.scrollWidth > h2.documentElement.clientWidth && (g2 -= 18), h2.documentElement.scrollHeight > h2.documentElement.clientHeight && (_2 -= 18);
    var v2 = t2.getMargin(e2);
    r2 += v2.x, n2 += v2.y, r2 += p2.left - d2.left, n2 += p2.top - d2.top, (t2.ieTen || t2.ieOld) && (r2 += h2.documentElement.scrollLeft, n2 += h2.documentElement.scrollTop), n2 + y2.height > g2 + b2 && a2 && (n2 = n2 - a2.height - y2.height) < 0 && (n2 = g2 - y2.height - 2), t2.isMobile() && !t2.isTablet() || !a2 || (d2.bottom < a2.bottom + y2.height || g2 + b2 < a2.bottom + y2.height) && (n2 = a2.top - y2.height - d2.top - 2), l2 ? r2 = Math.max(0, r2 + s2 - y2.width) : r2 + y2.width > _2 + m2 && (r2 = _2 - y2.width), t2.isMobile() && !t2.isTablet() || o2.offsetParent || (r2 += h2.documentElement.offsetLeft, n2 += h2.documentElement.offsetTop), t2.move(o2, Math.max(0, r2), Math.max(0, n2));
  }, t2.isIE = gt, t2.ieAll = gt, t2.ieOld = _t, t2.isMac = at, t2.isWin = lt, t2.isSafari = ct, t2.isChrome = ht, t2.isFirefox = ut, t2.ieTen = ft, t2.ieNine = _t, t2.isiOS = dt, t2.isChromium = ht, t2.TextProp = t2.ieAll ? "innerText" : "textContent", t2.month_days = [[31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]], t2.cho = ["ㄱ", "ㄲ", "ㄴ", "ㄷ", "ㄸ", "ㄹ", "ㅁ", "ㅂ", "ㅃ", "ㅅ", "ㅆ", "ㅇ", "ㅈ", "ㅉ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ"], t2.colonreg = /;(?=(?:[^"]*"[^"]*")*(?![^"]*"))/, t2.$_INVISIBLE_EDIT_BOUNDS = new it(-1e4, -1e4, 100, 100), t2.$$_debugging = false, t2.$$_keyLog = false, t2.$$_slotMode = false, t2.$_supportPassive = null, t2;
}();
var Rt = function() {
  function t2() {
  }
  return t2.encode = function(e2) {
    var i2, o2, r2, n2, s2, a2, l2, h2 = "", u2 = 0, c2 = t2.CHARACTERS;
    for (e2 = t2.utf8_encode(e2); u2 < e2.length; ) n2 = (i2 = e2.charCodeAt(u2++)) >> 2, s2 = (3 & i2) << 4 | (o2 = e2.charCodeAt(u2++)) >> 4, a2 = (15 & o2) << 2 | (r2 = e2.charCodeAt(u2++)) >> 6, l2 = 63 & r2, isNaN(o2) ? a2 = l2 = 64 : isNaN(r2) && (l2 = 64), h2 = h2 + c2.charAt(n2) + c2.charAt(s2) + c2.charAt(a2) + c2.charAt(l2);
    return h2;
  }, t2.decode = function(e2) {
    var i2, o2, r2, n2, s2, a2, l2 = "", h2 = 0, u2 = t2.CHARACTERS;
    for (e2 = e2.replace(/[^A-Za-z0-9\+\/\=]/g, ""); h2 < e2.length; ) i2 = u2.indexOf(e2.charAt(h2++)) << 2 | (n2 = u2.indexOf(e2.charAt(h2++))) >> 4, o2 = (15 & n2) << 4 | (s2 = u2.indexOf(e2.charAt(h2++))) >> 2, r2 = (3 & s2) << 6 | (a2 = u2.indexOf(e2.charAt(h2++))), l2 += String.fromCharCode(i2), 64 != s2 && (l2 += String.fromCharCode(o2)), 64 != a2 && (l2 += String.fromCharCode(r2));
    return l2 = t2.utf8_decode(l2);
  }, t2.utf8_encode = function(t3) {
    t3 = t3.replace(/\r\n/g, "\n");
    for (var e2 = "", i2 = 0; i2 < t3.length; i2++) {
      var o2 = t3.charCodeAt(i2);
      o2 < 128 ? e2 += String.fromCharCode(o2) : o2 > 127 && o2 < 2048 ? (e2 += String.fromCharCode(o2 >> 6 | 192), e2 += String.fromCharCode(63 & o2 | 128)) : (e2 += String.fromCharCode(o2 >> 12 | 224), e2 += String.fromCharCode(o2 >> 6 & 63 | 128), e2 += String.fromCharCode(63 & o2 | 128));
    }
    return e2;
  }, t2.utf8_decode = function(t3) {
    for (var e2 = "", i2 = 0, o2 = 0, r2 = 0, n2 = 0, s2 = t3.length; i2 < s2; ) (o2 = t3.charCodeAt(i2)) < 128 ? (e2 += String.fromCharCode(o2), i2++) : o2 > 191 && o2 < 224 ? (r2 = t3.charCodeAt(i2 + 1), e2 += String.fromCharCode((31 & o2) << 6 | 63 & r2), i2 += 2) : (r2 = t3.charCodeAt(i2 + 1), n2 = t3.charCodeAt(i2 + 2), e2 += String.fromCharCode((15 & o2) << 12 | (63 & r2) << 6 | 63 & n2), i2 += 3);
    return e2;
  }, t2.CHARACTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", t2.btoa = function(e2) {
    for (var i2, o2, r2, n2, s2 = t2.CHARACTERS, a2 = "", l2 = 0, h2 = (e2 = String(e2)).length % 3; l2 < e2.length; ) {
      if ((o2 = e2.charCodeAt(l2++)) > 255 || (r2 = e2.charCodeAt(l2++)) > 255 || (n2 = e2.charCodeAt(l2++)) > 255) throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");
      i2 = o2 << 16 | r2 << 8 | n2, a2 += s2.charAt(i2 >> 18 & 63) + s2.charAt(i2 >> 12 & 63) + s2.charAt(i2 >> 6 & 63) + s2.charAt(63 & i2);
    }
    return h2 ? a2.slice(0, h2 - 3) + "===".substring(h2) : a2;
  }, t2;
}();
!function(t2) {
  t2.NONE = "none", t2.CREATED = "created", t2.UPDATED = "updated", t2.DELETED = "deleted", t2.CREATE_AND_DELETED = "createAndDeleted";
}(St || (St = {}));
var Pt = function(t2) {
  return t2 == St.DELETED || t2 == St.CREATE_AND_DELETED;
};
var kt = function() {
  function t2(t3) {
    this.format = t3;
  }
  return Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, set: function(t3) {
    t3 != this._format && (this._format = t3, this.parse(t3));
  }, enumerable: false, configurable: true }), t2.prototype.toBool = function(t3) {
    return !!this.toBoolStrict(t3);
  }, t2.prototype.toBoolEx = function(t3) {
    var e2 = this._sensitive ? t3 : t3.toLowerCase(), i2 = this.$_toBool(t3);
    return null != i2 ? i2 : e2 ? Boolean(e2) : void 0;
  }, t2.prototype.toBoolStrict = function(t3) {
    return this.$_toBool(t3);
  }, t2.prototype.toText = function(t3) {
    return t3 ? this._trueText : this._falseText;
  }, t2.prototype.$_toBool = function(t3) {
    if (this._values) {
      var e2 = this._sensitive ? t3 : t3.toLowerCase();
      if (e2 in this._values) return this._values[e2];
    }
  }, t2.prototype.parse = function(t3) {
    var e2 = this;
    if (this._values = {}, t3) {
      this._trueText = this._falseText = null;
      var i2 = t3.split(/[;\:]/), o2 = this._sensitive = "0" != i2[2], r2 = i2[0] ? o2 ? i2[0].split(",") : i2[0].toLowerCase().split(",") : null, n2 = i2[1] ? o2 ? i2[1].split(",") : i2[1].toLowerCase().split(",") : null;
      r2 && r2.forEach(function(t4) {
        e2._values[t4] = false, e2._falseText = e2._falseText || t4;
      }), n2 && n2.forEach(function(t4) {
        e2._values[t4] = true, e2._trueText = e2._trueText || t4;
      });
    } else this._values[this._trueText = "true"] = true, this._values[this._falseText = "false"] = false;
  }, t2.Default = new t2("false,f,0:true,t,1:0"), t2;
}();
var Dt = function() {
  function t2(t3) {
    this._format = null, this._baseYear = 2e3, this._patterns = [], this._amText = "AM", this._pmText = "PM", this._matchPattern = false, t3 && (this.format = t3);
  }
  return Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, set: function(t3) {
    if (t3 != this._format) {
      if (!t3) throw new Error("Invalid empty date format");
      this._format = t3, this.parseFormat(t3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "baseYear", { get: function() {
    return this._baseYear;
  }, set: function(t3) {
    t3 != this._baseYear && (this._baseYear = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "amText", { get: function() {
    return this._amText;
  }, set: function(t3) {
    t3 != this._amText && (this._amText = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "pmText", { get: function() {
    return this._pmText;
  }, set: function(t3) {
    t3 != this._pmText && (this._pmText = t3);
  }, enumerable: false, configurable: true }), t2.prototype.parse = function(e2, i2) {
    try {
      for (var o2 = 0, r2 = 1, n2 = 1, s2 = 0, a2 = 0, l2 = 0, h2 = 0, u2 = 0, c2 = 0, d2 = this._patterns.length, p2 = 0, f2 = e2.length, _2 = this._matchPattern, g2 = this.getStrPattern(e2), y2 = 0; y2 < d2 && p2 < f2; y2++) {
        var m2 = this._patterns[y2], b2 = m2.c, v2 = m2.len;
        switch (b2) {
          case "y":
            o2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "M":
            r2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "d":
            n2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "a":
            if (this._amText && (_2 ? g2[y2] === this._amText : e2.indexOf(this._amText, p2) == p2)) u2 = 12, v2 = this._amText.length;
            else if (_2 ? "am" === g2[y2].toLocaleLowerCase() : "am" === e2.substr(p2, 2).toLocaleLowerCase()) u2 = 12, v2 = 2;
            else if (this._pmText && (_2 ? g2[y2] === this._pmText : e2.indexOf(this._pmText, p2) == p2)) c2 = 12, v2 = this._pmText.length;
            else {
              if (_2 ? "pm" !== g2[y2].toLocaleLowerCase() : "pm" !== e2.substr(p2, 2).toLocaleLowerCase()) {
                if (i2) throw "Invalid date value: " + e2;
                return null;
              }
              c2 = 12, v2 = 2;
            }
            break;
          case "H":
          case "h":
            s2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "m":
            a2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "s":
            l2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case "S":
            h2 = parseInt(_2 ? g2[y2] : e2.substr(p2, v2));
            break;
          case ".":
          case "/":
          case "-":
          case ":":
          case " ":
            if (t2.DATE_SEPARATORS.indexOf(_2 ? g2[y2] : e2.charAt(p2)) < 0) {
              if (i2) throw "Invalid date value: ".concat(e2, ", invalid token[").concat(_2 ? g2[y2] : e2.charAt(p2), "]");
              return null;
            }
            break;
          default:
            if (i2) throw "Invalid date value: ".concat(e2, ", invalid pattern[").concat(_2 ? g2[y2] : e2.charAt(p2), "]");
            return null;
        }
        p2 += v2;
      }
      o2 < 100 && (o2 += this._baseYear), u2 > 0 ? 12 == s2 && (s2 = 0) : c2 > 0 && s2 < 12 && (s2 += 12);
      var w2 = new Date(o2, r2 - 1, n2, s2, a2, l2, h2);
      return w2.getFullYear() === o2 && w2.getMonth() === r2 - 1 && w2.getDate() === n2 ? w2 : null;
    } catch (t3) {
      if (i2) throw t3;
      return null;
    }
  }, t2.prototype.parseFormat = function(t3) {
    var e2 = this, i2 = 0, o2 = function(t4) {
      t4 && !isNaN(parseInt(t4)) && (e2._baseYear = parseInt(t4));
    }, r2 = function(t4) {
      if (t4) {
        var i3 = t4.split(",");
        i3.length > 0 && i3[0] && (e2._amText = i3[0] || e2._amText), i3.length > 1 && i3[1] && (e2._pmText = i3[1] || e2._pmText);
      }
    }, n2 = t3.split(";");
    if (n2.length > 2) o2(n2[1]), r2(n2[2]);
    else if (n2.length > 1) {
      var s2 = n2[1];
      isNaN(parseInt(s2)) ? s2 && r2(s2) : o2(s2);
    }
    var a2, l2, h2, u2 = n2[0], c2 = u2.length, d2 = 0;
    for (this._patterns = []; d2 < c2; ) if (a2 = d2, l2 = u2.charAt(d2), Ot.isWhiteSpace(l2)) {
      for (d2++; d2 < c2 && Ot.isWhiteSpace(u2.charAt(d2)); ) d2++;
      this._patterns.push({ c: " ", p: a2, len: d2 - a2 }), i2++;
    } else {
      switch (h2 = 0, l2) {
        case "y":
          4 != (h2 = this.getPattern(u2, d2, l2)) && 2 != h2 && this.throwInvalidFormat(u2);
          break;
        case "M":
        case "d":
        case "H":
        case "h":
        case "m":
        case "s":
        case "S":
          h2 = this.getPattern(u2, d2, l2);
          break;
        case ".":
        case "/":
        case "-":
        case ":":
          i2++;
        case "a":
          1 != (h2 = this.getPattern(u2, d2, l2)) && this.throwInvalidFormat(u2);
          break;
        default:
          this.throwInvalidFormat(u2);
      }
      h2 > 0 && (this._patterns.push({ c: l2, p: d2, len: h2 }), d2 += h2);
    }
    this._matchPattern = 2 * i2 + 1 === this._patterns.length;
  }, t2.prototype.throwInvalidFormat = function(t3) {
    throw new Error("Invalid date format: " + t3);
  }, t2.prototype.throwInvalidValue = function(t3) {
    throw new Error("Invalid date format: " + t3);
  }, t2.prototype.getPattern = function(t3, e2, i2) {
    for (var o2 = 1; ++e2 < t3.length && t3.charAt(e2) == i2; ) o2++;
    return o2;
  }, t2.prototype.getStrPattern = function(t3) {
    for (var e2 = t3.length, i2 = 0, o2 = 0, r2 = []; e2 > i2; ) {
      var n2 = t3[i2];
      if (/-|\.|\/|:| /.test(n2)) if (r2.push(t3.substr(o2, i2 - o2)), r2.push(n2), Ot.isWhiteSpace(n2)) {
        for (; Ot.isWhiteSpace(t3[++i2]) && e2 > i2; ) ;
        o2 = i2;
      } else o2 = i2 + 1;
      i2++;
    }
    return r2.push(t3.substr(o2, i2 - o2)), r2;
  }, t2.DATE_SEPARATORS = "./-: ", t2;
}();
var Tt = function() {
  function t2(t3) {
    this._format = "", this._type = 0, this._parser = new Dt(null), this.format = t3;
  }
  return t2.initialize = function() {
    t2.Default.amText = "AM", t2.Default.pmText = "PM", t2.Default.baseYear = 2e3;
  }, t2.getReader = function(e2) {
    var i2 = t2.Formatters[e2];
    return i2 || (t2.Formatters[e2] = i2 = new t2(e2)), i2;
  }, t2.getSimpleDateNull = function(t3) {
    if (t3 instanceof Date) return t3;
    if ("number" == typeof t3) return new Date(t3);
    if ("string" != typeof t3) return null;
    var e2 = (t3 = 8 === t3.length && /^[0-9]*$/.test(t3) ? t3.replace(/(\d{4})(\d{2})(\d{2})/, "$1/$2/$3") : t3).split(/[.//-]/);
    if (3 != e2.length) return null;
    var i2 = parseInt(e2[0]), o2 = parseInt(e2[1]) - 1, r2 = parseInt(e2[2]);
    return i2 == (t3 = new Date(i2, o2, r2)).getFullYear() && o2 == t3.getMonth() && r2 == t3.getDate() ? t3 : null;
  }, Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, set: function(t3) {
    t3 != this._format && (this._format = t3, this.parse(t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "amText", { get: function() {
    return this._parser.amText;
  }, set: function(t3) {
    this._parser.amText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "pmText", { get: function() {
    return this._parser.pmText;
  }, set: function(t3) {
    this._parser.pmText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "baseYear", { get: function() {
    return this._parser.baseYear;
  }, set: function(t3) {
    this._parser.baseYear = t3;
  }, enumerable: false, configurable: true }), t2.prototype.toDate = function(t3, e2) {
    if (!t3) return null;
    var i2 = null;
    switch (this._type) {
      case 0:
        i2 = this._parser.parse(t3, e2);
        break;
      case 2:
        var o2 = parseInt(t3);
        i2 = new Date(o2);
        break;
      default:
        i2 = new Date(t3);
    }
    return i2 && !isNaN(i2.getTime()) ? i2 : null;
  }, t2.prototype.parse = function(e2) {
    if (e2) {
      if (e2.indexOf("T") > 0 || e2.indexOf("Z") > 0 || /([+\-])(\d\d)?(:)?(\d\d)?$/.test(e2)) this._type = t2.Formats.indexOf("iso");
      else {
        var i2 = e2.toLowerCase();
        this._type = Math.max(0, t2.Formats.indexOf(i2));
      }
      0 == this._type && (this._parser.format = e2);
    }
  }, t2.Formats = ["custom", "iso", "timestamp", "platform"], t2.Default = new t2("yyyy/MM/dd HH:mm:ss"), t2.Formatters = {}, t2;
}();
Tt.initialize();
var Mt = 0;
var Ft = function() {
  function t2(t3) {
    this.$_disposed = false, t3 || (this.$_hash = Mt++);
  }
  return t2.prototype.dispose = function() {
    return this.$_disposed || this.$_disposing || (this.$_disposed = true, this.$_disposing = true, this._doDispose()), null;
  }, t2.prototype._doDispose = function() {
  }, Object.defineProperty(t2.prototype, "disposing", { get: function() {
    return this.$_disposing;
  }, enumerable: false, configurable: true }), t2.prototype.isMe = function(t3) {
    return t3 == this.$_hash;
  }, t2.prototype.$_getters = function(t3) {
    for (var e2 = [], i2 = Object.getOwnPropertyNames(t3), o2 = 0, r2 = i2.length; o2 < r2; o2++) {
      var n2 = i2[o2], s2 = Object.getOwnPropertyDescriptor(t3, n2);
      s2 && s2.get && e2.push(n2);
    }
    return e2;
  }, t2.prototype.doAssignSimple = function(t3) {
    return false;
  }, t2.prototype.assignFrom = function(e2) {
    var i2 = Object.getPrototypeOf(this);
    if (e2 instanceof t2) for (var o2 = Object.getPrototypeOf(e2), r2 = {}; o2 && o2.constructor != t2; ) {
      for (var n2 = this.$_getters(o2), s2 = 0, a2 = n2.length; s2 < a2; s2++) {
        if (!((c2 = n2[s2]) in r2)) if (r2[c2] = null, d2 = Object.getOwnPropertyDescriptor(i2, c2)) {
          if (d2.set) (u2 = Object.getOwnPropertyDescriptor(o2, c2).get) && d2.set.call(this, u2.call(e2));
        } else for (var l2 = Object.getPrototypeOf(i2); l2; ) {
          var h2 = Object.getOwnPropertyDescriptor(l2, c2);
          if (h2) {
            var u2;
            if (h2.set) (u2 = Object.getOwnPropertyDescriptor(o2, c2).get) && h2.set.call(this, u2.call(e2));
            l2 = null;
          } else l2 = Object.getPrototypeOf(l2);
        }
      }
      o2 = Object.getPrototypeOf(o2);
    }
    else if (!this.doAssignSimple(e2)) for (var c2 in e2) {
      var d2;
      if (d2 = Object.getOwnPropertyDescriptor(i2, c2)) d2.set && d2.set.call(this, e2[c2]);
      else for (l2 = Object.getPrototypeOf(i2); l2; ) {
        var p2 = Object.getOwnPropertyDescriptor(l2, c2);
        p2 ? (p2.set && p2.set.call(this, e2[c2]), l2 = null) : l2 = Object.getPrototypeOf(l2);
      }
    }
  }, t2.prototype.extend = function(t3) {
    for (var e2 in t3) this.hasOwnProperty(e2) && (this[e2] = t3[e2]);
  }, t2.prototype.toProxy = function(e2) {
    void 0 === e2 && (e2 = true);
    for (var i2 = {}, o2 = Object.getPrototypeOf(this), r2 = []; o2 && o2.constructor != t2; ) {
      for (var n2 = this.$_getters(o2), s2 = 0, a2 = n2.length; s2 < a2; s2++) {
        var l2 = n2[s2], h2 = Object.getOwnPropertyDescriptor(o2, l2);
        if (h2) {
          if (h2.get && h2.set && r2.indexOf(l2) < 0) {
            r2.push(l2);
            var u2 = h2.get.call(this);
            (e2 || void 0 !== u2) && (null !== u2 && "object" == typeof u2 && Object.getPrototypeOf(u2).hasOwnProperty("toProxy") ? i2[l2] = u2.toProxy() : i2[l2] = u2);
          }
        } else for (var c2 = Object.getPrototypeOf(o2); c2; ) {
          var d2 = Object.getOwnPropertyDescriptor(c2, l2);
          if (d2) {
            if (d2.get && d2.set && r2.indexOf(l2) < 0) {
              r2.push(l2);
              u2 = d2.get.call(this);
              (e2 || void 0 !== u2) && (i2[l2] = u2);
            }
            c2 = null;
          } else c2 = Object.getPrototypeOf(c2);
        }
      }
      o2 = Object.getPrototypeOf(o2);
    }
    return i2;
  }, t2;
}();
var Lt = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2.message = e3, o2.tokenPos = i2, o2;
  }
  return i(e2, t2), e2;
}(Error);
var Nt = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.message = e3, i2;
  }
  return i(e2, t2), e2;
}(Error);
var $t = function() {
  for (var t2 = [], e2 = 0; e2 < arguments.length; e2++) t2[e2] = arguments[e2];
  for (var i2 = [], o2 = 0, r2 = t2; o2 < r2.length; o2++) {
    var n2 = r2[o2];
    i2[n2] = true;
  }
  return i2;
};
var At = $t(26, 27);
var Bt = $t(40, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 41, 42, 43, 44);
var Vt = $t(4, 5, 18, 19);
var jt = $t(11, 3, 2, 14, 15, 16, 17);
var Ht = function() {
  function t2() {
    this.IS_IDENT = [], this.IS_INTEGER = [], this.IS_NUMBER = [], this.IS_WHITE = [], this.IS_END = [], this.QUOTATION = '"'.charCodeAt(0), this.SQUOTATION = "'".charCodeAt(0), this.BACKSLASH = "\\".charCodeAt(0), this.Keywords = { str: 20, num: 21, bool: 23, not: 13, len: 24, and: 11, in: 12, mod: 15, or: 18, div: 14, shl: 16, shr: 17, xor: 19, trim: 25, is: 26, like: 46, ilike: 48, match: 50, imatch: 52, likehan: 54, ilikehan: 55, defined: 35, null: 34, empty: 36, nan: 37, datestr: 90, year: 91, month: 92, day: 93, hour: 94, rounddown: 95, timestamp: 96 }, this._procs = null, this._source = null, this._len = 0, this._tokenId = 0, this._run = 0, this._runAhead = 0, this._nextRun = 0, this._lineNo = 0, this._linePos = 0, this._tokenPos = 0;
    for (var t3 = 0; t3 < 256; t3++) this.IS_IDENT[t3] = t3 == "_".charCodeAt(0) || t3 >= "0".charCodeAt(0) && t3 <= "9".charCodeAt(0) || t3 >= "a".charCodeAt(0) && t3 <= "z".charCodeAt(0) || t3 >= "A".charCodeAt(0) && t3 <= "Z".charCodeAt(0), this.IS_INTEGER[t3] = t3 >= "0".charCodeAt(0) && t3 <= "9".charCodeAt(0) || t3 >= "a".charCodeAt(0) && t3 <= "f".charCodeAt(0) || t3 >= "A".charCodeAt(0) && t3 <= "F".charCodeAt(0), this.IS_NUMBER[t3] = t3 >= "0".charCodeAt(0) && t3 <= "9".charCodeAt(0) || t3 == ".".charCodeAt(0) || t3 == "e".charCodeAt(0) || t3 == "E".charCodeAt(0), this.IS_WHITE[t3] = t3 >= 1 && t3 <= 9 || 11 == t3 || t3 >= 14 && t3 <= 32, this.IS_END[t3] = 0 == t3;
    this.initProcs();
  }
  return t2.prototype.clear = function() {
    this._source = null;
  }, t2.prototype.next = function() {
    var t3 = this._source.charCodeAt(this._run);
    this._tokenPos = this._run, t3 < 256 ? this._procs[t3].call(this) : this.identProc();
  }, t2.prototype.unkownProc = function() {
    this._tokenId = 0, this._run++;
  }, t2.prototype.symbolProc = function() {
    this._tokenId = 80, this._run++;
  }, t2.prototype.commaProc = function() {
    this._tokenId = 32, this._run++;
  }, t2.prototype.crProc = function() {
    this._tokenId = 33, 10 == this._source.charCodeAt(this._run + 1) ? this._run += 2 : this._run++, this._lineNo++, this._linePos = this._run;
  }, t2.prototype.lfProc = function() {
    this._tokenId = 33, this._run++, this._lineNo++, this._linePos = this._run;
  }, t2.prototype.equalProc = function() {
    this._tokenId = 40, "=" == this._source.charAt(++this._run) && "=" == this._source.charAt(++this._run) && this._run++;
  }, t2.prototype.notProc = function() {
    this._tokenId = 13, "=" == this._source.charAt(++this._run) && (this._tokenId = 45, "=" == this._source.charAt(++this._run) && this._run++);
  }, t2.prototype.greaterProc = function() {
    "=" == this._source.charAt(this._run + 1) ? (this._tokenId = 42, this._run += 2) : (this._tokenId = 41, this._run++);
  }, t2.prototype.lowerProc = function() {
    "=" == this._source.charAt(this._run + 1) ? (this._tokenId = 44, this._run += 2) : ">" == this._source.charAt(this._run + 1) ? (this._tokenId = 45, this._run += 2) : (this._tokenId = 43, this._run++);
  }, t2.prototype.nextIdent = function() {
    for (var t3 = this._run; t3 < this._len && !this.IS_IDENT[this._source.charCodeAt(t3)]; ) t3++;
    for (var e2 = t3; t3 < this._len && this.IS_IDENT[this._source.charCodeAt(t3)]; ) t3++;
    return t3 > e2 ? (this._nextRun = t3, this._source.substr(e2, t3 - e2).toLowerCase()) : null;
  }, t2.prototype.identProc = function() {
    for (var t3 = this._run; this._run < this._len && (this.IS_IDENT[this._source.charCodeAt(this._run)] || this._source.charCodeAt(this._run) > 255); ) this._run++;
    var e2 = this._source.substr(t3, this._run - t3).toLowerCase();
    if (this.Keywords.hasOwnProperty(e2)) switch (this._tokenId = this.Keywords[e2], this._tokenId) {
      case 13:
        if (e2 = this.nextIdent()) switch (e2) {
          case "like":
            this._tokenId = 47, this._run = this._nextRun;
            break;
          case "ilike":
            this._tokenId = 49, this._run = this._nextRun;
            break;
          case "match":
            this._tokenId = 51, this._run = this._nextRun;
            break;
          case "imatch":
            this._tokenId = 53, this._run = this._nextRun;
            break;
          case "likehan":
            this._tokenId = 56, this._run = this._nextRun;
            break;
          case "ilikehan":
            this._tokenId = 57, this._run = this._nextRun;
        }
        break;
      case 26:
        "not" == (e2 = this.nextIdent()) && (this._tokenId = 27, this._run = this._nextRun);
    }
    else this._tokenId = 10;
  }, t2.prototype.integerProc = function() {
    for (this._tokenId = 64, this._run++; this._run < this._len && this.IS_INTEGER[this._source.charCodeAt(this._run)]; ) this._run++;
  }, t2.prototype.numberProc = function() {
    for (this._tokenId = 64, this._run++; this._run < this._len && this.IS_NUMBER[this._source.charCodeAt(this._run)]; ) {
      if ("." == this._source.charAt(this._run)) {
        if ("." == this._source.charAt(this._run + 1)) break;
        this._tokenId = 63;
      }
      this._run++;
    }
  }, t2.prototype.minusProc = function() {
    this._tokenId = 4, this._run++;
  }, t2.prototype.plusProc = function() {
    this._tokenId = 5, this._run++;
  }, t2.prototype.pointProc = function() {
    "." == this._source.charAt(this._run + 1) ? (this._tokenId = 68, this._run += 2) : (this._tokenId = 65, this._run++);
  }, t2.prototype.roundOpenProc = function() {
    this._tokenId = 66, this._run++;
  }, t2.prototype.roundCloseProc = function() {
    this._tokenId = 67, this._run++;
  }, t2.prototype.slashProc = function() {
    this._tokenId = 2, this._run++;
  }, t2.prototype.spaceProc = function() {
    for (this._tokenId = 71, this._run++; this._run < this._len && this.IS_WHITE[this._source.charCodeAt(this._run)]; ) this._run++;
  }, t2.prototype.bracketOpenProc = function() {
    this._tokenId = 69, this._run++;
  }, t2.prototype.bracketCloseProc = function() {
    this._tokenId = 70, this._run++;
  }, t2.prototype.starProc = function() {
    this._tokenId = 3, this._run++;
  }, t2.prototype.modProc = function() {
    this._tokenId = 15, this._run++;
  }, t2.prototype.stringProc = function() {
    this._tokenId = 61;
    do {
      var t3 = this._source.charCodeAt(this._run);
      if (this.IS_END[t3]) throw new Lt("Untermintated string", t3);
      t3 == this.BACKSLASH && this._run++, this._run++;
    } while (this._run < this._len && this._source.charCodeAt(this._run) != this.QUOTATION);
    this._run++;
  }, t2.prototype.smallStringProc = function() {
    this._tokenId = 61;
    do {
      var t3 = this._source.charCodeAt(this._run);
      if (this.IS_END[t3]) throw new Lt("Untermintated string", t3);
      t3 == this.BACKSLASH && this._run++, this._run++;
    } while (this._run < this._len && this._source.charCodeAt(this._run) != this.SQUOTATION);
    this._run++;
  }, t2.prototype.initProcs = function() {
    this._procs = [];
    for (var t3 = 1; t3 <= 255; t3++) this._procs[t3] = this.symbolProc;
    for (t3 = 1; t3 <= 32; t3++) this._procs[t3] = this.spaceProc;
    this._procs[10] = this.lfProc, this._procs[13] = this.crProc, this._procs["$".charCodeAt(0)] = this.integerProc, this._procs[this.QUOTATION] = this.stringProc, this._procs[this.SQUOTATION] = this.smallStringProc;
    for (t3 = 0; t3 <= 9; t3++) this._procs["0".charCodeAt(0) + t3] = this.numberProc;
    for (t3 = "A".charCodeAt(0); t3 <= "Z".charCodeAt(0); t3++) this._procs[t3] = this.identProc;
    for (t3 = "a".charCodeAt(0); t3 <= "z".charCodeAt(0); t3++) this._procs[t3] = this.identProc;
    this._procs["_".charCodeAt(0)] = this.identProc, this._procs["(".charCodeAt(0)] = this.roundOpenProc, this._procs[")".charCodeAt(0)] = this.roundCloseProc, this._procs["*".charCodeAt(0)] = this.starProc, this._procs["+".charCodeAt(0)] = this.plusProc, this._procs[",".charCodeAt(0)] = this.commaProc, this._procs["-".charCodeAt(0)] = this.minusProc, this._procs[".".charCodeAt(0)] = this.pointProc, this._procs["/".charCodeAt(0)] = this.slashProc, this._procs["%".charCodeAt(0)] = this.modProc, this._procs["<".charCodeAt(0)] = this.lowerProc, this._procs["=".charCodeAt(0)] = this.equalProc, this._procs[">".charCodeAt(0)] = this.greaterProc, this._procs["[".charCodeAt(0)] = this.bracketOpenProc, this._procs["]".charCodeAt(0)] = this.bracketCloseProc, this._procs["!".charCodeAt(0)] = this.notProc;
  }, Object.defineProperty(t2.prototype, "tokenId", { get: function() {
    return this._tokenId;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "tokenLoc", { get: function() {
    return { x: this._tokenPos - this._linePos, y: this._lineNo };
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "tokenLen", { get: function() {
    return this._run - this._tokenPos;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "token", { get: function() {
    return this._source.substr(this._tokenPos, this.tokenLen);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "isSpace", { get: function() {
    return 71 == this._tokenId;
  }, enumerable: false, configurable: true }), t2.prototype.init = function(t3) {
    this._source = t3, this._len = t3.length, this._lineNo = 0, this._linePos = 0, this._tokenPos = 0, this._runAhead = this._run = 0, this._tokenId = 0;
  }, t2.prototype.charAhread = function() {
    for (this._runAhead = this._run; this._runAhead < this._len && this._source.charCodeAt(this._runAhead) > 0 && this._source.charCodeAt(this._runAhead) <= 32; ) this._runAhead++;
    return this._source.charCodeAt(this._runAhead);
  }, t2.prototype.nextId = function(t3) {
    do {
      this.next();
    } while (this._run < this._len && this._tokenId != t3);
    return null;
  }, t2.prototype.nextNoSpace = function() {
    if (this._run < this._len) do {
      this.next();
    } while (this._run < this._len && this.isSpace);
    return null;
  }, t2.prototype.isFirstInLine = function() {
    if (0 == this._tokenPos) return true;
    var t3, e2 = this._tokenPos;
    for (e2--; e2 > 0 && this.IS_WHITE[this._source.charCodeAt(e2)]; ) e2--;
    return 0 == e2 || (10 == (t3 = this._source.charCodeAt(e2)) || 13 == t3);
  }, t2;
}();
var Wt = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.isIdentifier = function(t3) {
    throw new Error("Token is not a valid Identifier: " + t3);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    throw new Error("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, e3) {
    throw new Error("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, e3, i2) {
    throw new Error("Invalid identifier indexer: " + t3);
  }, e2;
}(Ft);
var Gt = function() {
  function t2() {
  }
  return Object.defineProperty(t2.prototype, "value", { get: function() {
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "asLiteral", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), t2.prototype.prepareValue = function() {
  }, t2.prototype.getLiteral = function() {
  }, t2.prototype.isIdentifier = function(t3) {
    return false;
  }, t2.prototype.toString = function() {
    return String(this);
  }, t2;
}();
var Ut = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2;
}(Gt);
!function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  i(e2, t2), e2.prototype.evaluate = function(t3) {
  }, e2.prototype.toString = function() {
    return "";
  }, e2.Default = new e2();
}(Gt);
var Yt;
var zt = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._operator = 0, e3;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    if (this._literal) return this._literal.value;
    if (!this._rightExpr) return this._leftExpr.evaluate(t3);
    var e3 = this._leftExpr.evaluate(t3), i2 = this._rightExpr.evaluate(t3);
    switch (this._operator) {
      case 40:
        return e3 == i2;
      case 45:
        return e3 != i2;
      case 41:
        return e3 > i2;
      case 42:
        return e3 >= i2;
      case 43:
        return e3 < i2;
      case 44:
        return e3 <= i2;
      case 46:
        return this.calcLike(e3, i2, false);
      case 47:
        return !this.calcLike(e3, i2, false);
      case 48:
        return this.calcLike(e3, i2, true);
      case 49:
        return !this.calcLike(e3, i2, true);
      case 54:
        return this.calcLikeHan(e3, i2, false);
      case 56:
        return !this.calcLikeHan(e3, i2, false);
      case 55:
        return this.calcLikeHan(e3, i2, true);
      case 57:
        return !this.calcLikeHan(e3, i2, true);
      case 50:
        return this.calcMatch(e3, i2, false);
      case 51:
        return !this.calcMatch(e3, i2, false);
      case 52:
        return this.calcMatch(e3, i2, true);
      case 53:
        return !this.calcMatch(e3, i2, true);
      default:
        throw new Nt("Unknown operator: " + this._operator);
    }
  }, e2.prototype.toString = function() {
    var t3 = "";
    if (this._literal) t3 = this._literal.toString();
    else if (this._rightExpr) {
      var e3 = this._leftExpr.toString(), i2 = this._rightExpr.toString(), o2 = void 0;
      switch (this._operator) {
        case 40:
          o2 = "=";
          break;
        case 45:
          o2 = "<>";
          break;
        case 41:
          o2 = ">";
          break;
        case 42:
          o2 = ">=";
          break;
        case 43:
          o2 = "<";
          break;
        case 44:
          o2 = "<=";
          break;
        case 46:
          o2 = "like";
          break;
        case 47:
          o2 = "not like";
          break;
        case 48:
          o2 = "ilike";
          break;
        case 49:
          o2 = "not ilike";
          break;
        case 50:
          o2 = "match";
          break;
        case 51:
          o2 = "not match";
          break;
        case 52:
          o2 = "imatch";
          break;
        case 53:
          o2 = "not imatch";
          break;
        case 54:
          o2 = "likeHan";
          break;
        case 56:
          o2 = "not likehan";
          break;
        case 55:
          o2 = "ilikeHan";
          break;
        case 57:
          o2 = "not ilikehan";
          break;
        case 32:
          o2 = ",";
          break;
        default:
          o2 = "<<ERROR>>";
      }
      t3 = "(" + e3 + " " + o2 + " " + i2 + ")";
    } else t3 = this._leftExpr.toString();
    return t3;
  }, e2.prototype.isIdentifier = function(t3) {
    return this._leftExpr && !this._rightExpr && this._leftExpr.isIdentifier(t3);
  }, e2.prototype.prepareValue = function() {
    this._leftExpr.prepareValue(), null == this._rightExpr ? this._literal = this._leftExpr.getLiteral() : this._rightExpr.prepareValue();
  }, e2.prototype.getLiteral = function() {
    return this._literal;
  }, e2.prototype.calcLike = function(t3, e3, i2) {
    var o2 = String(t3), r2 = String(e3);
    if (o2 && r2) {
      i2 && (o2 = o2.toLowerCase(), r2 = r2.toLowerCase());
      var n2 = r2.length;
      if (n2 > 1) {
        var s2 = "%" == r2.charAt(0), a2 = "%" == r2.charAt(n2 - 1);
        if (s2 && a2) return r2 = r2.substr(1, n2 - 2), o2.indexOf(r2, 0) >= 0;
        if (s2) {
          r2 = r2.substr(1, n2 - 1);
          var l2 = o2.lastIndexOf(r2);
          return l2 >= 0 && l2 == o2.length - r2.length;
        }
        return a2 ? (r2 = r2.substr(0, n2 - 1), 0 == o2.indexOf(r2, 0)) : o2 == r2;
      }
      return "%" != r2 && o2 == r2;
    }
    return false;
  }, e2.prototype.calcLikeHan = function(t3, e3, i2) {
    if (t3 && e3) {
      t3 = String(t3);
      var o2 = (e3 = String(e3)).length, r2 = "%" == e3.charAt(0), n2 = "%" == e3.charAt(o2 - 1);
      if (e3 = r2 && n2 ? e3.substr(1, o2 - 2) : r2 ? e3.substr(1, o2 - 1) : n2 ? e3.substr(0, o2 - 1) : e3, t3.length < e3.length) return;
      i2 && (t3 = t3.toLowerCase(), e3 = e3.toLowerCase());
      var s2 = Ot.hangulToChosungAll(t3), a2 = Ot.hangulToChosungAll(e3), l2 = -1, h2 = void 0;
      if (r2 && n2) {
        for (; (l2 = s2.indexOf(a2, l2 + 1)) >= 0; ) {
          for (var u2 = 0; u2 < a2.length && u2 + l2 < s2.length; u2++) {
            var c2 = Ot.hangulToChosung(t3[u2 + l2]);
            if ((d2 = Ot.hangulToChosung(e3[u2])).org && d2.org !== c2.org || !d2.cho || d2.cho !== c2.cho) {
              h2 = false;
              break;
            }
            h2 = true;
          }
          if (h2) return true;
        }
        return false;
      }
      if (r2) {
        if ((l2 = s2.lastIndexOf(a2)) >= 0 && l2 === s2.length - a2.length) {
          for (u2 = 0; u2 < a2.length; u2++) {
            c2 = Ot.hangulToChosung(t3[l2 + u2]);
            if ((d2 = Ot.hangulToChosung(e3[u2])).org && d2.org !== c2.org || !d2.cho || d2.cho !== c2.cho) {
              h2 = false;
              break;
            }
            h2 = true;
          }
          if (h2) return true;
        }
        return false;
      }
      if (n2) {
        if (0 === s2.indexOf(a2)) {
          for (u2 = 0; u2 < a2.length; u2++) {
            var d2;
            c2 = Ot.hangulToChosung(t3[u2]);
            if ((d2 = Ot.hangulToChosung(e3[u2])).org && d2.org !== c2.org || !d2.cho || d2.cho !== c2.cho) {
              h2 = false;
              break;
            }
            h2 = true;
          }
          if (h2) return true;
        }
        return false;
      }
      return t3 == e3;
    }
    return false;
  }, e2.prototype.calcMatch = function(t3, e3, i2) {
    return new RegExp(e3, "m" + (i2 ? "i" : "")).test(t3);
  }, e2;
}(Gt);
var qt = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "value", { get: function() {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "asLiteral", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3) {
  }, e2;
}(Gt);
var Kt = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.toString = function() {
    return "defined";
  }, e2;
}(qt);
var Xt = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.toString = function() {
    return "empty";
  }, e2;
}(qt);
var Zt = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "value", { get: function() {
    return NaN;
  }, enumerable: false, configurable: true }), e2.prototype.toString = function() {
    return "null";
  }, e2;
}(qt);
var Jt = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.toString = function() {
    return "NaN";
  }, e2;
}(qt);
var Qt = function(t2) {
  function e2(i2, o2, r2) {
    var n2 = t2.call(this) || this;
    return n2._leftExpr = i2, n2._operator = o2, n2._isNot = 27 == o2, n2._value = -1, r2 instanceof Kt ? n2._value = e2.DEFINED : r2 instanceof Zt ? n2._value = e2.NULL : r2 instanceof Xt ? n2._value = e2.EMPTY : r2 instanceof Jt && (n2._value = e2.NAN), n2;
  }
  return i(e2, t2), e2.prototype.prepareValue = function() {
    this._leftExpr.prepareValue(), this._literal = this._leftExpr.getLiteral();
  }, e2.prototype.getLiteral = function() {
    return null;
  }, e2.prototype.evaluate = function(t3) {
    var i2, o2 = this._literal ? this._literal.value : this._leftExpr.evaluate(t3);
    switch (this._value) {
      case e2.DEFINED:
        i2 = void 0 !== o2;
        break;
      case e2.NULL:
        i2 = null == o2;
        break;
      case e2.EMPTY:
        i2 = null == o2 || 0 == String(o2).length;
        break;
      case e2.NAN:
        i2 = null === o2 || isNaN(o2);
        break;
      default:
        return;
    }
    return this._isNot ? !i2 : i2;
  }, e2.prototype.toString = function() {
    var t3 = "<<ERROR>>";
    switch (this._value) {
      case e2.DEFINED:
        t3 = "defined";
        break;
      case e2.NULL:
        t3 = "null";
        break;
      case e2.EMPTY:
        t3 = "empty";
        break;
      case e2.NAN:
        t3 = "NaN";
    }
    return "(" + (this._isNot ? "is not " : "is ") + t3 + ")";
  }, e2.DEFINED = 0, e2.NULL = 1, e2.EMPTY = 2, e2.NAN = 3, e2;
}(zt);
var te = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._value = Number(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "asLiteral", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3) {
    return this._value;
  }, e2.prototype.toString = function() {
    return String(this._value);
  }, e2;
}(Ut);
var ee = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._value = parseInt(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "asLiteral", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3) {
    return this._value;
  }, e2.prototype.toString = function() {
    return String(this._value);
  }, e2;
}(Ut);
var ie = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    i2._value = e3.substr(1, e3.length - 2);
    for (var o2 = "", r2 = 0, n2 = false; r2 < i2._value.length; ) "\\" != i2._value[r2] || n2 ? (n2 = false, o2 += i2._value[r2++]) : (n2 = true, r2++);
    return i2._value = o2, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "asLiteral", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3) {
    return this._value;
  }, e2.prototype.toString = function() {
    return "'" + this._value + "'";
  }, e2;
}(Ut);
var oe = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._idKey = -651212, i2._literal = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "identifier", { get: function() {
    return this._literal;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3) {
    return -651212 == this._idKey && (this._idKey = t3.isIdentifier(this._literal)), t3.evaluateIdentifier(this._idKey);
  }, e2.prototype.toString = function() {
    return this._literal;
  }, e2;
}(Gt);
var re = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    return r2._idKey = -1490313, r2._intIndex = NaN, r2._strIndex = null, r2._ident = e3, r2._indexer = i2, r2._capital = o2, r2;
  }
  return i(e2, t2), e2.prototype.prepareValue = function() {
    var t3 = this._indexer.asLiteral;
    if (t3 || this._indexer instanceof zt && (this._indexer.prepareValue(), t3 = this._indexer.getLiteral()), t3) {
      var e3 = t3.value;
      "string" == typeof e3 ? this._strIndex = e3 : this._intIndex = parseInt(e3), this._capital && this._strIndex && (this._strIndex = this._strIndex.toUpperCase());
    }
  }, e2.prototype.getLiteral = function() {
    return null;
  }, e2.prototype.evaluate = function(t3) {
    if (-1490313 == this._idKey && (this._idKey = t3.isIdentifier(this._ident)), this._strIndex) return t3.evaluateIndexerS(this._idKey, this._strIndex, this._capital);
    if (isNaN(this._intIndex)) {
      var e3 = this._indexer.evaluate(t3);
      return "string" == typeof e3 ? t3.evaluateIndexerS(this._idKey, e3, this._capital) : t3.evaluateIndexerI(this._idKey, e3);
    }
    return t3.evaluateIndexerI(this._idKey, this._intIndex);
  }, e2.prototype.toString = function() {
    return this._ident + "[" + this._indexer.toString() + "]";
  }, e2;
}(zt);
var ne = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._factor = e3, i2;
  }
  return i(e2, t2), e2.prototype.prepareValue = function() {
    this._literal = this._factor.asLiteral, !this._literal && this._factor instanceof Gt && (this._factor.prepareValue(), this._literal = this._factor.getLiteral());
  }, e2.prototype.getLiteral = function() {
    return null;
  }, e2;
}(Gt);
var se = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 ? e3.length : 0;
  }, e2.prototype.toString = function() {
    return "(len " + this._factor + ")";
  }, e2;
}(ne);
var ae = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 ? e3.trim() : e3;
  }, e2.prototype.toString = function() {
    return "(trim " + this._factor + ")";
  }, e2;
}(ne);
var le = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    return -(this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3));
  }, e2.prototype.toString = function() {
    return "-" + this._factor;
  }, e2;
}(ne);
var he = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    return this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
  }, e2.prototype.toString = function() {
    return "+" + this._factor;
  }, e2;
}(ne);
var ue = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    return !(this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3));
  }, e2.prototype.toString = function() {
    return "(not " + this._factor + ")";
  }, e2;
}(ne);
var ce = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return Boolean(e3);
  }, e2.prototype.toString = function() {
    return "(bool " + this._factor + ")";
  }, e2;
}(ne);
var de = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return Number(e3);
  }, e2.prototype.toString = function() {
    return "(num " + this._factor + ")";
  }, e2;
}(ne);
var pe = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return String(e3);
  }, e2.prototype.toString = function() {
    return "(str " + this._factor + ")";
  }, e2;
}(ne);
var fe = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    if (e3 instanceof Date) {
      var i2 = Ot.pad;
      e3 = i2(e3.getFullYear(), 4) + i2(e3.getMonth() + 1, 2) + i2(e3.getDate(), 2);
    }
    return String(e3);
  }, e2.prototype.toString = function() {
    return "(datestr " + this._factor + ")";
  }, e2;
}(ne);
var _e = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 instanceof Date ? e3.getFullYear() : null;
  }, e2.prototype.toString = function() {
    return "(year " + this._factor + ")";
  }, e2;
}(ne);
var ge = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 instanceof Date ? e3.getMonth() + 1 : null;
  }, e2.prototype.toString = function() {
    return "(month " + this._factor + ")";
  }, e2;
}(ne);
var ye = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 instanceof Date ? e3.getDate() : null;
  }, e2.prototype.toString = function() {
    return "(day " + this._factor + ")";
  }, e2;
}(ne);
var me = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._literal instanceof Ut ? this._literal.value : this._factor.evaluate(t3);
    return e3 instanceof Date ? e3.getHours() : null;
  }, e2.prototype.toString = function() {
    return "(hour " + this._factor + ")";
  }, e2;
}(ne);
var be = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._factor, i2 = e3.getLiteral();
    if (e3.getLiteral()) return i2.value;
    if (e3._rightExpr) {
      var o2 = e3._leftExpr.evaluate(t3), r2 = e3._rightExpr.evaluate(t3);
      if (32 === e3._operator) {
        var n2 = Math.pow(10, r2);
        return Math.floor(o2 * n2) / n2;
      }
      throw new Nt("Unknown operator: " + e3._operator);
    }
    return e3._leftExpr.evaluate(t3);
  }, e2.prototype.toString = function() {
    return "(rounddown " + this._factor + ")";
  }, e2;
}(ne);
var ve = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.evaluate = function(t3) {
    var e3 = this._factor, i2 = e3.getLiteral();
    if (i2) return i2.value;
    if (e3._rightExpr) {
      var o2 = e3._leftExpr.evaluate(t3), r2 = e3._rightExpr.evaluate(t3);
      if (null == o2) return;
      if (!(o2 instanceof Date)) throw new Nt("value not date: " + o2);
      if (32 === e3._operator) {
        var n2 = 1;
        switch (r2) {
          case 4:
            n2 *= 24;
          case 3:
            n2 *= 60;
          case 2:
            n2 *= 60;
          case 1:
            n2 *= 1e3;
        }
        return Math.floor(o2.getTime() / n2) * n2;
      }
      throw new Nt("Unknown operator: " + e3._operator);
    }
    if (null != (o2 = e3._leftExpr.evaluate(t3))) {
      if (!(o2 instanceof Date)) throw new Nt("value not date: " + o2);
      return o2.getTime();
    }
  }, e2.prototype.toString = function() {
    return "(timestamp " + this._factor + ")";
  }, e2;
}(ne);
var we = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._factors = [], e3._operators = [], e3._literal = null, e3;
  }
  return i(e2, t2), e2.prototype.addFactor = function(t3) {
    this._factors.push(t3);
  }, e2.prototype.addOperator = function(t3) {
    this._operators.push(t3);
  }, e2.prototype.isIdentifier = function(t3) {
    return 1 == this._factors.length && this._factors[0] instanceof oe && this._factors[0].identifier == t3;
  }, e2.prototype.prepareValue = function() {
    for (var t3 = 0, e3 = this._factors.length; t3 < e3; t3++) this._factors[t3].prepareValue();
    if (0 == this._operators.length) {
      var i2 = this._factors[0];
      this._literal = i2.asLiteral, this._literal || (this._literal = i2.getLiteral());
    }
  }, e2.prototype.getLiteral = function() {
    return this._literal;
  }, e2.prototype.evaluate = function(t3) {
    if (this._literal) return this._literal.value;
    for (var e3 = this._factors.length, i2 = this._factors[0].evaluate(t3), o2 = 1; o2 < e3; o2++) {
      var r2 = this._factors[o2].evaluate(t3);
      switch (this._operators[o2 - 1]) {
        case 11:
          i2 = i2 && r2;
          break;
        case 3:
          i2 *= r2;
          break;
        case 2:
          i2 /= r2;
          break;
        case 14:
          i2 = Math.floor(Math.floor(i2) / Math.floor(r2));
          break;
        case 15:
          i2 %= r2;
          break;
        case 16:
          i2 <<= r2;
          break;
        case 17:
          i2 >>= r2;
      }
    }
    return i2;
  }, e2.prototype.toString = function() {
    var t3 = "";
    if (this._literal) t3 = this._literal.toString();
    else if (1 == this._factors.length) t3 = this._factors[0].toString();
    else {
      t3 = "(" + this._factors[0].toString();
      for (var e3 = 1; e3 < this._factors.length; e3++) {
        switch (this._operators[e3 - 1]) {
          case 11:
            t3 += " and ";
            break;
          case 3:
            t3 += " * ";
            break;
          case 2:
          case 14:
            t3 += " / ";
            break;
          case 15:
            t3 += " mod ";
            break;
          case 16:
            t3 += " shl ";
            break;
          case 17:
            t3 += " shr ";
        }
        t3 += this._factors[e3].toString();
      }
      t3 += ")";
    }
    return t3;
  }, e2;
}(Gt);
var Ce = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._terms = [], e3._operators = [], e3._literal = null, e3;
  }
  return i(e2, t2), e2.prototype.addTerm = function(t3) {
    this._terms.push(t3);
  }, e2.prototype.addOperator = function(t3) {
    this._operators.push(t3);
  }, e2.prototype.isIdentifier = function(t3) {
    return 1 == this._terms.length && this._terms[0].isIdentifier(t3);
  }, e2.prototype.prepareValue = function() {
    for (var t3 = 0, e3 = this._terms.length; t3 < e3; t3++) this._terms[t3].prepareValue();
    0 == this._operators.length && (this._literal = this._terms[0].getLiteral());
  }, e2.prototype.getLiteral = function() {
    return this._literal;
  }, e2.prototype.evaluate = function(t3) {
    if (this._literal) return this._literal.value;
    for (var e3 = this._terms.length, i2 = this._terms[0].evaluate(t3), o2 = 1; o2 < e3; o2++) {
      var r2 = this._terms[o2].evaluate(t3);
      switch (this._operators[o2 - 1]) {
        case 4:
          i2 -= r2;
          break;
        case 5:
          i2 += r2;
          break;
        case 18:
          i2 = i2 || r2;
          break;
        case 19:
          i2 ^= r2;
      }
    }
    return i2;
  }, e2.prototype.toString = function() {
    var t3 = "";
    if (this._literal) t3 = this._literal.toString();
    else if (1 == this._terms.length) t3 = this._terms[0].toString();
    else {
      t3 = "(" + this._terms[0].toString();
      for (var e3 = 1; e3 < this._terms.length; e3++) {
        switch (this._operators[e3 - 1]) {
          case 4:
            t3 += " - ";
            break;
          case 5:
            t3 += " + ";
            break;
          case 18:
            t3 += " or ";
            break;
          case 19:
            t3 += " xor ";
            break;
          default:
            t3 += " <<ERROR>> ";
        }
        t3 += this._terms[e3].toString();
      }
      t3 += ")";
    }
    return t3;
  }, e2;
}(Gt);
var xe = function() {
  function t2() {
    this._node = null, this._capitalIndexers = null, this._lexer = new Ht();
  }
  return t2.prototype.syntaxError = function(t3, e2) {
    throw new Lt(t3, e2);
  }, t2.prototype.expected = function(t3) {
    if (t3 != this._lexer.tokenId) throw new Lt("Token is not a expected kind [" + t3 + "]: " + this._lexer.tokenId, this._lexer.tokenLoc);
    this.nextToken();
  }, t2.prototype.nextToken = function() {
    this._lexer.nextNoSpace();
  }, t2.prototype.doExpression = function() {
    var t3, e2 = null, i2 = this.doSimpleExpression();
    if (At[t3 = this._lexer.tokenId]) {
      this.nextToken();
      var o2 = this.doSimpleExpression();
      o2.prepareValue();
      var r2 = o2.getLiteral();
      if (!(r2 instanceof qt)) throw new Lt("is operator's operand must be defined, null or empty: " + this._lexer.tokenId, null);
      e2 = new Qt(i2, t3, r2);
    } else (e2 = new zt())._leftExpr = i2, (Bt[this._lexer.tokenId] || 32 == this._lexer.tokenId) && (e2._operator = this._lexer.tokenId, this.nextToken(), e2._rightExpr = this.doSimpleExpression());
    return e2;
  }, t2.prototype.doSimpleExpression = function() {
    var t3 = new Ce();
    for (t3.addTerm(this.doTerm()); Vt[this._lexer.tokenId]; ) t3.addOperator(this._lexer.tokenId), this.nextToken(), t3.addTerm(this.doTerm());
    return t3;
  }, t2.prototype.doTerm = function() {
    var t3 = new we();
    for (t3.addFactor(this.doFactor()); jt[this._lexer.tokenId]; ) t3.addOperator(this._lexer.tokenId), this.nextToken(), t3.addFactor(this.doFactor());
    return t3;
  }, t2.prototype.doFactor = function() {
    var t3 = this._lexer.tokenId;
    switch (t3) {
      case 61:
        return this.doCharString();
      case 66:
        return this.doRoundOpen();
      case 10:
        return this.doIdentifier();
      case 64:
        return this.doInteger();
      case 63:
        return this.doNumber();
      case 4:
        return this.doMinus();
      case 5:
        return this.doPlus();
      case 13:
        return this.doNot();
      case 35:
        return this.doDefined();
      case 34:
        return this.doNull();
      case 36:
        return this.doEmpty();
      case 37:
        return this.doNaN();
      case 23:
        return this.doToBool();
      case 21:
        return this.doToNumber();
      case 20:
        return this.doToString();
      case 24:
        return this.doLength();
      case 25:
        return this.doTrim();
      case 90:
        return this.doToDateString();
      case 91:
        return this.doToYear();
      case 92:
        return this.doToMonth();
      case 93:
        return this.doToDay();
      case 94:
        return this.doToHour();
      case 95:
        return this.doRoundDown();
      case 96:
        return this.doTimeStamp();
    }
    throw new Lt("Unkown token: " + t3, this._lexer.tokenLoc);
  }, t2.prototype.doCharString = function() {
    var t3 = this._lexer.token;
    return this.nextToken(), new ie(t3);
  }, t2.prototype.doRoundOpen = function() {
    this.nextToken();
    var t3 = this.doExpression();
    return this.expected(67), t3;
  }, t2.prototype.doIdentifier = function() {
    var t3 = this._lexer.token;
    if (this.nextToken(), 69 == this._lexer.tokenId) {
      this.nextToken();
      var e2 = this.doExpression();
      return this.expected(70), new re(t3, e2, this._capitalIndexers.indexOf(t3) >= 0);
    }
    return new oe(t3);
  }, t2.prototype.doNumber = function() {
    var t3 = this._lexer.token;
    return this.nextToken(), new te(t3);
  }, t2.prototype.doInteger = function() {
    var t3 = this._lexer.token;
    return this.nextToken(), new ee(t3);
  }, t2.prototype.doMinus = function() {
    return this.nextToken(), new le(this.doFactor());
  }, t2.prototype.doPlus = function() {
    return this.nextToken(), new he(this.doFactor());
  }, t2.prototype.doNot = function() {
    return this.nextToken(), new ue(this.doFactor());
  }, t2.prototype.doDefined = function() {
    return this.nextToken(), new Kt();
  }, t2.prototype.doNull = function() {
    return this.nextToken(), new Zt();
  }, t2.prototype.doEmpty = function() {
    return this.nextToken(), new Xt();
  }, t2.prototype.doNaN = function() {
    return this.nextToken(), new Jt();
  }, t2.prototype.doToBool = function() {
    return this.nextToken(), new ce(this.doFactor());
  }, t2.prototype.doToNumber = function() {
    return this.nextToken(), new de(this.doFactor());
  }, t2.prototype.doToString = function() {
    return this.nextToken(), new pe(this.doFactor());
  }, t2.prototype.doLength = function() {
    return this.nextToken(), new se(this.doFactor());
  }, t2.prototype.doTrim = function() {
    return this.nextToken(), new ae(this.doFactor());
  }, t2.prototype.doToDateString = function() {
    return this.nextToken(), new fe(this.doFactor());
  }, t2.prototype.doToYear = function() {
    return this.nextToken(), new _e(this.doFactor());
  }, t2.prototype.doToMonth = function() {
    return this.nextToken(), new ge(this.doFactor());
  }, t2.prototype.doToDay = function() {
    return this.nextToken(), new ye(this.doFactor());
  }, t2.prototype.doToHour = function() {
    return this.nextToken(), new me(this.doFactor());
  }, t2.prototype.doRoundDown = function() {
    return this.nextToken(), new be(this.doFactor());
  }, t2.prototype.doTimeStamp = function() {
    return this.nextToken(), new ve(this.doFactor());
  }, t2.prototype.parse = function(t3, e2) {
    if (t3) {
      this._capitalIndexers = e2 || [], this._lexer.init(t3), this.nextToken();
      var i2 = this.doExpression();
      return i2 && i2.prepareValue(), this._lexer.clear(), this._capitalIndexers = null, i2;
    }
    return null;
  }, t2.prototype.evaluate = function(t3, e2, i2) {
    return this.parse(t3, i2).evaluate(e2);
  }, t2.Default = new t2(), t2;
}();
var Ie = ["value", "values"];
var Ee = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === i2 && (i2 = a.TEXT), void 0 === o2 && (o2 = 0);
    var r2 = t2.call(this) || this;
    return r2._index = -1, r2._dataType = a.TEXT, r2._subType = null, r2._runType = a.TEXT, r2._length = 0, r2._subTypeEnabled = true, r2._required = false, r2._updatable = true, r2._ranged = false, r2._runSet = null, r2._typeLock = false, r2._objectKey = null, r2._objectCallback = null, e3 && (r2.fieldName = e3), null != i2 && (i2 === a.DATE && (i2 = a.DATETIME, r2._subType = a.DATE, r2._subTypeEnabled = true), r2._dataType = i2), r2._length = o2, r2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "hash", { get: function() {
    return this._fieldName;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldName", { get: function() {
    return this._fieldName;
  }, set: function(t3) {
    if (!(t3 = t3 && t3.trim())) throw new Error("Field name must be exists.");
    t3 != this._orgFieldName && (this._orgFieldName = t3, this._orgAttrName = "@" + t3, this._fieldName = t3.toUpperCase(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "orgFieldName", { get: function() {
    return this._orgFieldName;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "orgAttrName", { get: function() {
    return this._orgAttrName;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataType", { get: function() {
    return this._dataType;
  }, set: function(t3) {
    t3 != this._dataType && (this._dataType = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "runType", { get: function() {
    return this._runType;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "subType", { get: function() {
    return this._subType;
  }, set: function(t3) {
    (t3 = t3 || null) != this._subType && (this._subType = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "subTypeEnabled", { get: function() {
    return this._subTypeEnabled;
  }, set: function(t3) {
    t3 != this._subTypeEnabled && (this._subTypeEnabled = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseField", { get: function() {
    return this._baseField;
  }, set: function(t3) {
    t3 != this._orgBaseField && (this._orgBaseField = t3, this._baseField = t3 && t3.toUpperCase(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "length", { get: function() {
    return this._length;
  }, set: function(t3) {
    (t3 = t3 || 0) != this._length && (this._length = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "set", { get: function() {
    return this._set;
  }, set: function(t3) {
    t3 !== this._set && (this._set = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minimum", { get: function() {
    return this._minimum;
  }, set: function(t3) {
    t3 != this._minimum && (this._minimum = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maximum", { get: function() {
    return this._maximum;
  }, set: function(t3) {
    t3 != this._maximum && (this._maximum = t3, this.resetTypes(), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "required", { get: function() {
    return this._required;
  }, set: function(t3) {
    t3 != this._required && (this._required = t3, this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "header", { get: function() {
    return this._header;
  }, set: function(t3) {
    t3 != this._header && (this._header = t3, this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultValue", { get: function() {
    return this._defaultValue;
  }, set: function(t3) {
    t3 != this._defaultValue && (this._defaultValue = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nullValue", { get: function() {
    return this._nullValue;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._boolParser = t3 ? new kt(t3) : null, this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, t3 ? (this._dateParser = new Tt(t3), this._amText && (this._dateParser.amText = this._amText), this._pmText && (this._dateParser.pmText = this._pmText), this._baseYear && (this._dateParser.baseYear = this._baseYear)) : this._dateParser = null, this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "amText", { get: function() {
    return this._amText;
  }, set: function(t3) {
    t3 != this._amText && (this._amText = t3, this._dateParser && (this._dateParser.amText = t3), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pmText", { get: function() {
    return this._pmText;
  }, set: function(t3) {
    t3 != this._pmText && (this._pmText = t3, this._dateParser && (this._dateParser.pmText = t3), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseYear", { get: function() {
    return this._baseYear;
  }, set: function(t3) {
    t3 != this._baseYear && (this._baseYear = t3, this._dateParser && (this._dateParser.baseYear = t3), this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueExpression", { get: function() {
    return this._valueExpression;
  }, set: function(t3) {
    t3 != this._valueExpression && (this._valueExpression = t3, this._owner && this._owner.updateField(this, true));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueCallback", { get: function() {
    return this._valueCallback;
  }, set: function(t3) {
    t3 != this._valueCallback && (this._valueCallback = t3, this._owner && this._owner.updateField(this, true));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tag", { get: function() {
    return this._tag;
  }, set: function(t3) {
    this._tag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "objectKey", { get: function() {
    return this._objectKey;
  }, set: function(t3) {
    this._objectKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "objectCallback", { get: function() {
    return this._objectCallback;
  }, set: function(t3) {
    this._objectCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "calculated", { get: function() {
    return !!this._valueExpression || !!this._valueCallback;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "updatable", { get: function() {
    return !this._valueExpression && !this._valueCallback && this._updatable;
  }, set: function(t3) {
    t3 != this._updatable && (this._updatable = t3);
  }, enumerable: false, configurable: true }), e2.prototype.isEmpty = function(t3) {
    var e3 = null == t3 || "" === t3;
    return e3 || this._dataType != a.NUMBER || (e3 = isNaN(t3)), e3;
  }, e2.prototype.equalValues = function(t3, e3) {
    return this._equalValues(t3, e3);
  }, e2.prototype.sameValues = function(t3, e3) {
    return this._sameValues(t3, e3);
  }, e2.prototype.readValue = function(t3) {
    return this._readValue(t3);
  }, e2.prototype.getBool = function(t3, e3) {
    return "boolean" == typeof e3 ? e3 : this._boolParser ? this._boolParser.toBool(e3) : t3.toBool(e3);
  }, e2.prototype.getDate = function(t3, e3) {
    return e3 instanceof Date ? new Date(e3.getTime()) : "number" == typeof e3 ? new Date(e3) : this._dateParser ? this._dateParser.toDate(e3, false) : t3.toDate(e3, false);
  }, e2.prototype.clone = function() {
    var t3 = new e2(this.fieldName, this.dataType, this.length);
    return t3._orgFieldName = this._orgFieldName, t3._orgAttrName = this._orgAttrName, t3._boolParser = this._boolParser, t3._dateParser = this._dateParser, t3._orgBaseField = this._orgBaseField, t3._baseField = this._baseField, t3._defaultValue = this._defaultValue, t3._valueCallback = this._valueCallback, t3._valueExpression = this._valueExpression, t3;
  }, e2.prototype.$_resetTypes = function(t3) {
    this.resetTypes(t3);
  }, e2.prototype.assignFrom = function(t3) {
    "fieldName" in t3 && (this.fieldName = t3.fieldName), "subType" in t3 && (this._subType = t3.subType), "set" in t3 && (this._set = t3.set instanceof Array ? t3.set.slice() : null), "defaultValue" in t3 && (this._defaultValue = t3.defaultValue), "baseField" in t3 && (this.baseField = t3.baseField), "booleanFormat" in t3 && (this.booleanFormat = t3.booleanFormat), "amText" in t3 && (this._amText = t3.amText), "pmText" in t3 && (this._pmText = t3.pmText), "baseYear" in t3 && (this._baseYear = t3.baseYear), "header" in t3 && (this._header = t3.header), "datetimeFormat" in t3 && (this.datetimeFormat = t3.datetimeFormat), "objectKey" in t3 && (this._objectKey = t3.objectKey), "objectCallback" in t3 && (this._objectCallback = t3.objectCallback), "required" in t3 && (this._required = t3.required), "minimum" in t3 && (this._minimum = t3.minimum), "maximum" in t3 && (this._maximum = t3.maximum), "valueExpression" in t3 && (this.valueExpression = t3.valueExpression), "valueCallback" in t3 && (this._valueCallback = t3.valueCallback), "tag" in t3 && (this._tag = t3.tag);
  }, e2.prototype.$_setIndex = function(t3) {
    this._index = t3;
  }, e2.prototype.$_prepare = function(t3) {
    this._owner = t3;
  }, e2.prototype.changed = function() {
  }, e2.prototype.resetTypes = function(t3) {
    if (!this._typeLock) {
      t3 && (this._ownerBoolParser = t3.boolParser, this._ownerDateParser = t3.dateParser);
      var e3 = this._dataType, i2 = this._subType;
      if (this._runType = e3, this._ranged = false, (!this._owner || this._owner.subTypeEnabled) && this._subTypeEnabled) {
        if (i2) switch (e3) {
          case a.TEXT:
            i2 == a.CHAR && this._length > 0 && (e3 = i2);
            break;
          case a.NUMBER:
            i2 != a.UNUM && i2 != a.INT && i2 != a.UINT || (e3 = i2);
            break;
          case a.DATETIME:
            i2 == a.DATE && (e3 = i2);
        }
        if (this._runType = e3, this._runSet = null, this._set && this._set.length) {
          if (this._runType == a.DATETIME) {
            this._runSet = [];
            for (var o2 = 0; o2 < this._set.length; o2++) {
              (r2 = this.getDate(this._ownerDateParser, this._set[o2])) && this._runSet.push(r2.getTime());
            }
            this._runSet.length < 1 && (this._runSet = null);
          } else if (this._runType == a.DATE) {
            this._runSet = [];
            for (o2 = 0; o2 < this._set.length; o2++) {
              var r2;
              if (r2 = this.getDate(this._ownerDateParser, this._set[o2])) {
                var n2 = new Date(r2.getDate());
                this._runSet.push(n2.setHours(0, 0, 0, 0));
              }
            }
            this._runSet.length < 1 && (this._runSet = null);
          } else this._runSet = this._set;
          this._ranged = true;
        }
        if (!this._ranged) switch (this._dataType) {
          case a.NUMBER:
            this._runMin = Number(this._minimum), this._runMax = Number(this._maximum), isNaN(this._runMin) || isNaN(this._runMax) ? this._ranged = !isNaN(this._runMin) || !isNaN(this._runMax) : this._ranged = this._runMin <= this._runMax;
            break;
          case a.DATETIME:
          case a.DATE:
            this._runMin = this.getDate(this._ownerDateParser, this._minimum), this._runMax = this.getDate(this._ownerDateParser, this._maximum), this._runMin && this._runMax ? this._ranged = this._runMin.getTime() <= this._runMax.getTime() : this._ranged = this._runMin || this._runMax;
        }
        switch (this._runType) {
          case a.TEXT:
            this._equalValues = this.equalTextValues, this._sameValues = this.sameTextValues, this._readValue = this.readTextValue, this._nullValue = null;
            break;
          case a.CHAR:
            this._equalValues = this.equalTextValues, this._sameValues = this.sameTextValues, this._readValue = this.readCharValue, this._nullValue = null;
            break;
          case a.NUMBER:
            this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readNumberValue, this._nullValue = NaN;
            break;
          case a.UNUM:
            this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readUnumValue, this._nullValue = NaN;
            break;
          case a.INT:
            this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readIntValue, this._nullValue = NaN;
            break;
          case a.UINT:
            this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readUintValue, this._nullValue = NaN;
            break;
          case a.DATETIME:
            this._equalValues = this.equalDateValues, this._sameValues = this.sameDateValues, this._readValue = this.readDatetimeValue, this._nullValue = null;
            break;
          case a.DATE:
            this._equalValues = this.equalDateValues, this._sameValues = this.sameDateValues, this._readValue = this.readDateValue, this._nullValue = null;
            break;
          case a.BOOLEAN:
            this._equalValues = this.equalBoolValues, this._sameValues = this.sameBoolValues, this._readValue = this.readBooleanValue, this._nullValue = false;
            break;
          case a.OBJECT:
            this._equalValues = this.equalObjectValues, this._sameValues = this.sameObjectValues, this._readValue = this.readObjectValues, this._nullValue = false;
            break;
          default:
            this._equalValues = this.equalDummyValues, this._sameValues = this.sameDummyValues, this._readValue = this.readDummyValue, this._nullValue = void 0;
        }
      }
    }
  }, e2.prototype.$_refreshFormats = function(t3) {
    this._owner = t3, this._dateParser && (this._dateParser.baseYear || (this._dateParser.baseYear = t3.baseYear), this._dateParser.amText || (this._dateParser.amText = t3.amText), this._dateParser.pmText || (this._dateParser.pmText = t3.pmText)), this._ownerBoolParser = t3.boolParser, this._ownerDateParser = t3.dateParser;
  }, e2.prototype.equalDummyValues = function(t3, e3) {
    return this.equalTextValues(t3, e3);
  }, e2.prototype.sameDummyValues = function(t3, e3) {
    return null == t3 ? null == e3 : null != e3 && t3 == e3;
  }, e2.prototype.equalTextValues = function(t3, e3) {
    return void 0 === t3 ? void 0 === e3 : void 0 !== e3 && t3 == e3;
  }, e2.prototype.sameTextValues = function(t3, e3) {
    return null == t3 || "" == t3 ? null == e3 || "" == e3 : null != e3 && "" != e3 && t3 == e3;
  }, e2.prototype.equalNumberValues = function(t3, e3) {
    return void 0 === t3 ? void 0 === e3 : void 0 !== e3 && (isNaN(t3) ? isNaN(e3) : !isNaN(e3) && t3 == e3);
  }, e2.prototype.sameNumberValues = function(t3, e3) {
    return isNaN(t3) ? isNaN(e3) : !isNaN(e3) && t3 == e3;
  }, e2.prototype.equalDateValues = function(t3, e3) {
    return void 0 === t3 ? void 0 === e3 : void 0 !== e3 && (t3 instanceof Date ? e3 instanceof Date && t3.getTime() == e3.getTime() : !(e3 instanceof Date));
  }, e2.prototype.sameDateValues = function(t3, e3) {
    return t3 instanceof Date ? e3 instanceof Date && t3.getTime() == e3.getTime() : !(e3 instanceof Date);
  }, e2.prototype.equalBoolValues = function(t3, e3) {
    return void 0 === t3 ? void 0 === e3 : void 0 !== e3 && Boolean(t3) == Boolean(e3);
  }, e2.prototype.sameBoolValues = function(t3, e3) {
    return this.equalBoolValues(t3, e3);
  }, e2.prototype.equalObjectValues = function(t3, e3) {
    return void 0 === t3 || void 0 === e3 ? void 0 === t3 == (void 0 === e3) : JSON.stringify(t3) === JSON.stringify(e3);
  }, e2.prototype.sameObjectValues = function(t3, e3) {
    return null == t3 || null == e3 ? null == t3 && null == e3 : JSON.stringify(t3) === JSON.stringify(e3);
  }, e2.prototype.readDummyValue = function(t3) {
    return t3;
  }, e2.prototype.readTextValue = function(t3) {
    if (void 0 === t3) return t3;
    var e3 = null === t3 ? null : String(t3);
    return this._ranged && this._runSet && this._runSet.indexOf(e3) < 0 ? void 0 : e3;
  }, e2.prototype.readCharValue = function(t3) {
    if (void 0 === t3) return t3;
    var e3 = null === t3 ? null : String(t3);
    return e3 && (e3 = e3.substr(0, this._length)), this._ranged && this._runSet && this._runSet.indexOf(e3) < 0 ? void 0 : e3;
  }, e2.prototype.readNumberValue = function(t3) {
    if (null != t3 && "" !== t3) {
      var e3 = Number(t3);
      if (this._ranged) if (this._runSet) {
        if (this._runSet.indexOf(e3) < 0) return;
      } else isNaN(this._runMin) || (e3 = Math.max(this._runMin, e3)), isNaN(this._runMax) || (e3 = Math.min(this._runMax, e3));
      return e3;
    }
  }, e2.prototype.readUnumValue = function(t3) {
    if (null != t3 && "" !== t3) {
      var e3 = Math.max(0, Number(t3));
      if (this._ranged) {
        if (this._runSet) {
          if (this._runSet.indexOf(e3) < 0) return;
        } else isNaN(this._runMin) || (e3 = Math.max(this._runMin, e3)), isNaN(this._runMax) || (e3 = Math.min(this._runMax, e3));
        e3 = Math.max(0, e3);
      }
      return e3;
    }
  }, e2.prototype.readIntValue = function(t3) {
    if (null != t3 && "" !== t3) {
      var e3 = t3 >= 0 ? Math.floor(t3) : Math.ceil(t3);
      if (this._ranged) {
        if (this._runSet) {
          if (this._runSet.indexOf(e3) < 0) return;
        } else isNaN(this._runMin) || (e3 = Math.max(this._runMin, e3)), isNaN(this._runMax) || (e3 = Math.min(this._runMax, e3));
        e3 = e3 >= 0 ? Math.floor(e3) : Math.ceil(e3);
      }
      return e3;
    }
  }, e2.prototype.readUintValue = function(t3) {
    if (null != t3 && "" !== t3) {
      var e3 = Math.max(0, Math.floor(Math.floor(t3)));
      if (this._ranged) {
        if (this._runSet) {
          if (this._runSet.indexOf(e3) < 0) return;
        } else isNaN(this._runMin) || (e3 = Math.max(this._runMin, e3)), isNaN(this._runMax) || (e3 = Math.min(this._runMax, e3));
        e3 = Math.max(0, Math.floor(Math.floor(e3)));
      }
      return e3;
    }
  }, e2.prototype.readDatetimeValue = function(t3) {
    if (void 0 !== t3) {
      if (null === t3) return this._nullValue;
      var e3 = this.getDate(this._ownerDateParser, t3);
      if (e3 && this._ranged) if (this._runSet) {
        for (var i2 = false, o2 = this._runSet.length; o2--; ) if (e3.getTime() == this._runSet[o2]) {
          i2 = true;
          break;
        }
        if (!i2) return;
      } else this._runMin && e3.getTime() < this._runMin.getTime() && (e3 = new Date(this._runMin)), this._runMax && e3.getTime() > this._runMax.getTime() && (e3 = new Date(this._runMax));
      return e3;
    }
  }, e2.prototype.readDateValue = function(t3) {
    if (void 0 !== t3) {
      if (null === t3) return this._nullValue;
      var e3 = this.getDate(this._ownerDateParser, t3);
      if (e3 && (e3.setHours(0, 0, 0, 0), this._ranged)) if (this._runSet) {
        for (var i2 = false, o2 = this._runSet.length; o2--; ) if (e3.getTime() == this._runSet[o2]) {
          i2 = true;
          break;
        }
        if (!i2) return;
      } else this._runMin && e3.getTime() < this._runMin.getTime() && (e3 = new Date(this._runMin)), this._runMax && e3.getTime() > this._runMax.getTime() && (e3 = new Date(this._runMax));
      return e3;
    }
  }, e2.prototype.readBooleanValue = function(t3) {
    return void 0 === t3 ? t3 : null !== t3 && this.getBool(this._ownerBoolParser, t3);
  }, e2.prototype.readObjectValues = function(t3) {
    if ("string" == typeof t3) try {
      t3 = JSON.parse(t3);
    } catch (e3) {
      throw new Error("Invalid Object String " + e3 + "\r\n" + t3);
    }
    else if (null != t3 && "object" != typeof t3) try {
      t3 = JSON.parse(t3);
    } catch (e3) {
      Ot.log("JSON.parse fail => ".concat(t3));
    }
    return Ot.deepCopy(t3);
  }, e2.prototype.$_compareObject = function(t3, e3, i2, o2) {
    var r2 = this._objectKey, n2 = this._objectCallback, s2 = n2 ? n2(this.orgFieldName, i2, t3) : r2 && t3.hasOwnProperty(r2) ? t3[r2] : null, a2 = n2 ? n2(this.orgFieldName, o2, e3) : r2 && e3.hasOwnProperty(r2) ? e3[r2] : null;
    return s2 > a2 ? 1 : s2 < a2 ? -1 : 0;
  }, e2.prototype.$_calculateValue = function(t3, e3, i2, o2, r2, n2, s2) {
    return this._valueCallback ? this._valueCallback(t3.handler, i2, o2, n2, s2) : this._valueExpression ? (this._exprNode || (this._exprNode = xe.Default.parse(this._valueExpression, Ie)), e3.setValues(s2, r2), this._exprNode.evaluate(e3)) : void 0;
  }, e2;
}(Ft);
!function(t2) {
  t2.NONE = "none", t2.EXPLICIT = "explicit", t2.AUTO = "auto";
}(Yt || (Yt = {}));
var Se = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._values = null, e3._fields = null, e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype.setValues = function(t3, e3) {
    this._values = t3, this._fields = e3, this._fieldCount = e3 ? e3.length : 0;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._values) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        return this._values[i2];
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._values && this._fields) {
      var r2 = this._fields.indexOf(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      return this._values[r2];
    }
  }, e2.ID_VALUE = 0, e2.ID_VALUES = 1, e2.IDENTS = { value: e2.ID_VALUE, values: e2.ID_VALUES }, e2;
}(Wt);
var Oe = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._listeners = [], e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return this._listeners = [], t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "listenerCount", { get: function() {
    return this._listeners.length;
  }, enumerable: false, configurable: true }), e2.prototype.addListener = function(t3, e3) {
    return null != t3 && this._listeners && this._listeners.indexOf(t3) < 0 && (null != e3 && e3 >= 0 ? this._listeners.splice(e3, 0, t3) : this._listeners.push(t3)), this;
  }, e2.prototype.removeListener = function(t3) {
    if (!this.disposing && null != t3 && this._listeners) {
      var e3 = this._listeners.indexOf(t3);
      e3 >= 0 && this._listeners.splice(e3, 1);
    }
    return this;
  }, e2.prototype.clearListener = function() {
    this._listeners.length = 0;
  }, e2.prototype.fireEvent = function(t3) {
    var e3 = Array.prototype.slice.call(arguments, 0);
    e3[0] = this;
    for (var i2 = 0, o2 = this._listeners.length; i2 < o2; i2++) {
      var r2 = this._listeners[i2], n2 = r2[t3];
      n2 && n2.apply(r2, e3);
    }
  }, e2.prototype.fireConfirmEvent = function(t3) {
    var e3 = Array.prototype.slice.call(arguments, 0);
    e3[0] = this;
    for (var i2 = 0, o2 = this._listeners.length; i2 < o2; i2++) {
      var r2 = this._listeners[i2], n2 = r2[t3];
      if (n2) {
        var s2 = n2.apply(r2, e3);
        if ("boolean" == typeof s2 && !s2) return false;
      }
    }
    return true;
  }, e2.prototype.fireMessageEvent = function(t3) {
    var e3 = Array.prototype.slice.call(arguments, 0);
    e3[0] = this;
    for (var i2 = 0, o2 = this._listeners.length; i2 < o2; i2++) {
      var r2 = this._listeners[i2], n2 = r2[t3];
      if (n2) {
        var s2 = n2.apply(r2, e3);
        if ("string" == typeof s2 && s2) return s2;
      }
    }
    return null;
  }, e2.prototype.fireObjectEvent = function(t3) {
    var e3 = Array.prototype.slice.call(arguments, 0);
    e3[0] = this;
    for (var i2 = 0, o2 = this._listeners.length; i2 < o2; i2++) {
      var r2 = this._listeners[i2], n2 = r2[t3];
      if (n2) {
        var s2 = n2.apply(r2, e3);
        if (null != s2) return s2;
      }
    }
    return null;
  }, e2;
}(Ft);
var Re = ["yy", "yyyy", "YY", "YYYY", "M", "MM", "d", "dd", "a", "H", "HH", "h", "hh", "m", "mm", "s", "ss", "S", "SS", "SSS", "T", "t", "Z", "z", "+"];
var Pe = [".", "/", "-", ":"];
var ke = "A".charCodeAt(0);
var De = "a".charCodeAt(0);
var Te = "Y".charCodeAt(0);
var Me = "y".charCodeAt(0);
var Fe = "M".charCodeAt(0);
var Le = "m".charCodeAt(0);
var Ne = "d".charCodeAt(0);
var $e = "H".charCodeAt(0);
var Ae = "h".charCodeAt(0);
var Be = "S".charCodeAt(0);
var Ve = "s".charCodeAt(0);
var je = function(t2, e2, i2) {
  void 0 === i2 && (i2 = 0);
  var o2 = t2.toString();
  return i2 && o2.length >= i2 ? o2.substr(0, i2) : (e2 = Math.max(o2.length, e2), ("0000" + t2.toString()).substr(-e2));
};
var He = function() {
  function t2(t3) {
    this.format = t3;
  }
  return t2.getFormatter = function(e2) {
    var i2 = t2.Formatters[e2];
    return i2 || (t2.Formatters[e2] = i2 = new t2(e2)), i2;
  }, Object.defineProperty(t2, "Default", { get: function() {
    return t2.getFormatter(t2.DEFAULT_FORMAT);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, set: function(e2) {
    (e2 = e2 || t2.DEFAULT_FORMAT) != this._format && (this._tokens = [], this.parse(e2), this._format = e2);
  }, enumerable: false, configurable: true }), t2.prototype.getText = function(t3) {
    if (!this._tokens) return "";
    var e2 = this._hasUTC, i2 = new Date(t3);
    e2 || null == this._timeOff || (i2 = new Date(i2.getTime() + 60 * i2.getTimezoneOffset() * 1e3 + this._timeOff));
    for (var o2 = this._tokens, r2 = "", n2 = e2 ? i2.getUTCHours() : i2.getHours(), s2 = 0, a2 = o2.length; s2 < a2; s2++) {
      var l2 = o2[s2], h2 = l2.length;
      switch (l2.charCodeAt(0)) {
        case Te:
        case Me:
          r2 += je((e2 ? i2.getUTCFullYear() : i2.getFullYear()) % Math.pow(10, h2), h2);
          break;
        case Fe:
          r2 += je((e2 ? i2.getUTCMonth() : i2.getMonth()) + 1, h2);
          break;
        case Ne:
          r2 += je(e2 ? i2.getUTCDate() : i2.getDate(), h2);
          break;
        case $e:
          r2 += je(n2, h2);
          break;
        case Ae:
          r2 += je(this._hasAmPm ? 0 == n2 ? 12 : n2 > 12 ? n2 - 12 : n2 : n2, h2);
          break;
        case Le:
          r2 += je(e2 ? i2.getUTCMinutes() : i2.getMinutes(), h2);
          break;
        case Ve:
          r2 += je(e2 ? i2.getUTCSeconds() : i2.getSeconds(), h2);
          break;
        case De:
        case ke:
          r2 += n2 < 12 ? this._amText : this._pmText;
          break;
        case Be:
          r2 += je(e2 ? i2.getUTCMilliseconds() : i2.getMilliseconds(), h2, h2);
          break;
        default:
          r2 += l2;
      }
    }
    if (!e2 && null != this._timeOff) {
      var u2 = this._timeOff >= 0 ? "+" : "-", c2 = Math.abs(this._timeOff / 6e4);
      r2 += u2 + "".concat(je(Math.floor(c2 / 60), 2), ":").concat(je(c2 % 60, 2));
    }
    return r2;
  }, t2.prototype.parseDateFormatTokens = function(t3) {
    var e2 = [];
    if (t3) {
      var i2, o2 = t3.trim(), r2 = 0;
      if (i2 = o2.match(/([+\-])(\d\d)?(:)?(\d\d)?$/)) {
        var n2 = i2[1];
        if (null == i2[2]) this._timeOff = 60 * -(/* @__PURE__ */ new Date()).getTimezoneOffset() * 1e3;
        else {
          var s2 = parseInt(i2[2]), a2 = parseInt(i2[4] || "00");
          this._timeOff = 60 * (60 * s2 + a2) * 1e3, "-" === n2 && (this._timeOff = -this._timeOff);
        }
        o2 = o2.substr(0, i2.index);
      }
      for (var l2 = o2.length; r2 < l2; ) {
        var h2 = o2.charAt(r2);
        if (Pe.indexOf(h2) >= 0) e2.push(h2), r2++;
        else {
          for (var u2 = r2++; r2 < l2 && o2.charAt(r2) == h2; ) r2++;
          if (h2 = o2.substring(u2, r2), Re.indexOf(h2) < 0 && /[a-zA-Z\+]/.test(h2[0])) throw new Error("Invalid datetime write format: " + t3);
          e2.push(h2);
        }
        if (r2 < l2 && Ot.isWhiteSpace(h2 = o2.charAt(r2))) for (e2.push(h2); r2 < l2 && Ot.isWhiteSpace(o2.charAt(r2)); ) r2++;
      }
    }
    return e2;
  }, t2.prototype.parse = function(e2) {
    if (this._amText = "AM", this._pmText = "PM", e2) {
      var i2 = e2.split(";");
      this._format = i2[0] || t2.DEFAULT_FORMAT, this._tokens = this.parseDateFormatTokens(this._format), this._hasAmPm = this._tokens.indexOf("a") >= 0 || this._tokens.indexOf("A") >= 0, this._hasUTC = this._tokens.indexOf("z") > 0 || this._tokens.indexOf("Z") > 0;
      var o2 = void 0;
      if (i2.length > 2 ? o2 = i2[2] : i2.length > 1 && i2[1] && (o2 = i2[1]), o2) {
        var r2 = o2.split(",");
        r2.length > 0 && r2[0] && (this._amText = r2[0] || this._amText), r2.length > 1 && r2[1] && (this._pmText = r2[1] || this._pmText);
      }
    }
  }, t2.DEFAULT_FORMAT = "yyyy/MM/dd", t2.Formatters = {}, t2;
}();
var We = function() {
  function t2(t3) {
    this.$_parse(this._format = t3);
  }
  return t2.getFormatter = function(e2) {
    var i2 = t2.Formatters[e2];
    return i2 || (t2.Formatters[e2] = i2 = new t2(e2)), i2;
  }, Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, enumerable: false, configurable: true }), t2.prototype.formatValue = function(t3) {
    return void 0 === t3 ? this._nullText : t3 ? this._trueText : this._falseText;
  }, t2.prototype.$_parse = function(t3) {
    if (this._falseText = this._trueText = null, t3) {
      var e2 = t3.split(/[;\:]/);
      this._falseText = e2[0], e2.length > 0 && (this._trueText = e2[1]), e2.length > 1 && (this._nullText = e2[2]);
    }
  }, t2.Formatters = {}, t2;
}();
var Ge = function() {
  function t2() {
  }
  return Object.defineProperty(t2, "messages", { get: function() {
    return t2.currentMessages ? t2.currentMessages : this.currentMessages = Ot.assign({}, t2.defaultMessages);
  }, enumerable: false, configurable: true }), t2.setMessages = function(e2) {
    t2.currentMessages = Ot.assign({}, t2.defaultMessages, e2);
  }, t2.defaultMessages = { dateEditorCancelLabel: "Cancel", dateEditorDeleteLabel: "Delete", dateEditorHourLabel: "시", dateEditorMinuteLabel: "분", dateEditorMonths: void 0, dateEditorSaveLabel: "Save", dateEditorSecondLabel: "초", dateEditorTodayLabel: "Today", dateEditorWeekDays: ["일", "월", "화", "수", "목", "금", "토"], dateEditorYearDisplayFormat: "{Y}년", dateEditorMonthDisplayFormat: "{M}월", dateEditorYearMonthDisplayFormat: void 0, searchEditorMoreText: "더보기", checkListAcceptText: "Accept", checkListCancelText: "Cancel", checkListAllCheckText: "Check All", filterSelectorAcceptText: "확인", filterSelectorAllCheckText: "(전체 선택)", filterSelectorCancelText: "취소", filterSelectorEmptyFilterText: "(값 없음)", filterSelectorFilterResetText: "초기화", filterSelectorFiltersResetText: "전체 초기화", filterSelectorSearchPlaceholder: "검색...", filterSelectorSearchedCheckText: "(조회 전체 선택)", filterSelectorDateYearFormat: "{YYYY}년도", filterSelectorDateQuarterFormat: "{Q}사분기", filterSelectorDateMonthFormat: "{M}월", filterSelectorDateDayFormat: "YYYY-MM-DD", filterSelectorHourFormat: "{H}시", filterSelectorMinuteFormat: "{M}분", filterSelectorSecondFormat: "{S}초", filterToastMessage: "Filtering...", dataDropProxyLabel: "${rows}행 ${mode}", dataDropModeMove: "이동", dataDropModeCopy: "복사", groupingPrompt: "컬럼 헤더를 이 곳으로 끌어다 놓으면 그 컬럼으로 그룹핑합니다.", groupingToastMessage: "Grouping...", groupResetText: "초기화", displayEmptyMessage: "표시할 데이타가 없습니다.", filterOperatorContains: "포함", filterOperatorNotContains: "포함하지 않음", filterOperatorStartsWith: "시작 문자", filterOperatorEndsWith: "끝 문자", filterOperatorEqual: "같음", filterOperatorNotEqual: "같지 않음", filterOperatorEmpty: "값 없음", filterOperatorReset: "초기화", filterOperatorGreater: "보다 큼", filterOperatorGreaterEqual: "크거나 같음", filterOperatorLower: "보다 작음", filterOperatorLowerEqual: "작거나 같음", filterOperatorBetween: "범위", invalidDatetimeFormat1: "Invalid datetime read format - 'H'와 'a'가 같이 존재할 수 없습니다: ", invalidDatetimeFormat2: "Invalid datetime read format - 'h'가 있으면 'a'가 반드시 있어야 합니다: ", commitEditingMessage: "먼저 편집을 완료 하십시오.", deleteRowsMessage: "선택된 행(들)을 삭제하시겠습니까?", invalidFormatMessage: "잘못된 입력 유형입니다.", decimalSeparator: ".", thousandsSeparator: ",", sortingToastMessage: "Sorting...", exportProgressMessage: "Exporting...", rowIndicatorHeadText: "No.", rowIndicatorFootText: "Σ", rowIndicatorSumText: "Σ", stateTextCreateAndDeleted: "X", stateTextCreated: "C", stateTextDeleted: "D", stateTextUpdated: "U", rowOutOfBounds: "row is out of bounds: ", fieldIndexOutOfBounds: "fieldIndex is out of bounds: ", fieldNameMustExists: "fieldName must be exists.", fieldNameAlreadyExists: "fieldName is already exists: ", clientEditingError: "Client is editing (call grid.commit() or grid.cancel() first)", gridElementAttachFail: "Grid is already contained ContainerDiv", gridContainerNotFind: "Invalid grid container element: " }, t2;
}();
var Ue = function() {
  function t2() {
  }
  return Object.defineProperty(t2, "currency", { get: function() {
    return t2._currency;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "locale", { get: function() {
    return t2._locale;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "numberFormats", { get: function() {
    return t2._numberFormats || (t2._numberFormats = Ot.assign({}, t2.defNumberFormats())), t2._numberFormats;
  }, enumerable: false, configurable: true }), t2.defNumberFormats = function() {
    var e2 = t2._currency || "KRW";
    return { number: { style: "decimal", excelFormat: "#,##0.0" }, currency: { style: "currency", currency: e2, excelFormat: "KRW" === e2 ? "₩#,##0" : void 0 }, accounting: { style: "currency", currency: e2, currencySign: "accounting" } };
  }, t2.getNumberFormatter = function(e2) {
    var i2 = t2._numberFormats;
    i2 || (i2 = t2._numberFormats = Ot.assign({}, t2.defNumberFormats()));
    var o2 = i2[e2];
    if (o2) {
      var r2 = o2.formatter;
      return r2 || (r2 = o2.formatter = new Intl.NumberFormat(t2._locale || navigator.language, o2)), r2;
    }
  }, t2.addNumberFormat = function(e2, i2, o2) {
    var r2 = t2._numberFormats;
    if (i2 && e2) return r2 || (r2 = t2._numberFormats = Ot.assign({}, t2.defNumberFormats())), r2[e2] && (!o2 && console.warn("numberFormat name is already exists: " + e2), !o2) || (r2[e2] = i2), e2;
  }, t2.setLocale = function(e2) {
    if (t2._locale = e2.locale || navigator.language, Ot.setLanguage(t2._locale), t2._currency = e2.currency || "KRW", t2._numberFormats = Ot.assign({}, t2.defNumberFormats()), e2.numberFormats) for (var i2 in e2.numberFormats) t2.addNumberFormat(i2, e2.numberFormats[i2], true);
    e2.messages && Ge.setMessages(e2.messages);
  }, t2.getLocale = function() {
    var e2 = { locale: t2._locale || navigator.language, currency: t2._currency || "KRW" };
    return e2.messages = Ot.assign({}, Ge.messages), e2.numberFormats = Ot.assign({}, e2.numberFormats || t2.defNumberFormats()), e2;
  }, t2;
}();
var Ye = function(t2) {
  return Ot.included(t2, "c", "f", "C", "F", "a", "A");
};
var ze = function() {
  function t2(t3) {
    this._groupPos = 0, this._replacement = "$&,", this.parse(this._format = t3);
  }
  return t2.getFormatter = function(e2) {
    var i2 = t2.Formatters[e2];
    return i2 || (t2.Formatters[e2] = i2 = new t2(e2)), i2;
  }, Object.defineProperty(t2, "Default", { get: function() {
    return t2.getFormatter(t2.DEFAULT_FORMAT);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "separator", { get: function() {
    return this._seperator;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "groupSep", { get: function() {
    return this._groupSep;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "minDigits", { get: function() {
    return this._minDigits;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "maxDigits", { get: function() {
    return this._maxDigits;
  }, enumerable: false, configurable: true }), t2.prototype.parse = function(t3) {
    this._minDigits = 0, this._maxDigits = 0, this._parse(t3);
  }, t2.prototype.getText = function(t3, e2) {
    void 0 === e2 && (e2 = true);
    var i2 = Number(t3);
    if (isNaN(i2)) return "";
    if ((Ue.numberFormats || {}).hasOwnProperty(this._format)) {
      var o2 = Ue.getNumberFormatter(this._format);
      return o2 && o2.format(t3);
    }
    var r2 = this._minDigits, n2 = 0;
    if (this._optDecimal) {
      var s2 = (l2 = ("" + i2).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/)) ? Math.max(0, (l2[1] ? l2[1].length : 0) - (l2[2] ? +l2[2] : 0)) : 0;
      r2 = Math.min(Math.max(s2, this._minDigits), this._maxDigits);
    }
    if (this._round) switch (n2 = Math.pow(10, r2), this._round) {
      case "c":
        i2 = Math.ceil(n2 * i2) / n2;
        break;
      case "f":
        var a2 = i2.toString().split(".");
        i2 = parseFloat(a2.length > 1 ? a2[0] + "." + a2[1].substr(0, r2) : a2[0]);
    }
    i2 = "a" === this._round ? Math.abs(i2) : i2;
    var l2, h2 = (i2 = Number(i2.toPrecision(15))).toFixed(r2);
    return !e2 && (n2 = parseFloat(h2)) === Math.abs(parseFloat(h2)) && 0 === n2 && (h2 = Math.abs(i2).toFixed(r2)), this._seperator && (h2 = h2.replace(".", this._seperator)), this._reg ? r2 ? h2.replace(this._regDecimal, this._replacement) : h2.replace(this._reg, this._replacement) : h2;
  }, t2.prototype._parse = function(t3) {
    if ((t3 && (t3 = t3.trim()), t3) && !(Ue.numberFormats || {}).hasOwnProperty(t3)) {
      var e2 = Ge.messages.decimalSeparator, i2 = Ge.messages.thousandsSeparator;
      if (t3.indexOf(";") > -1) {
        var o2 = t3.split(";");
        t3 = o2[0], o2.length > 1 && o2[1] && !Ye(o2[1]) && (e2 = o2[1]), o2.length > 2 && o2[2] && !Ye(o2[2]) && (i2 = o2[2]), this._round = o2[3] || o2[2] || o2[1], this._round = Ye(this._round) ? this._round.toLowerCase() : this._round;
      }
      this._seperator = "." == e2 ? null : e2, this._groupSep = "," == i2 ? null : i2;
      var r2 = t3.length, n2 = t3.indexOf(".");
      if (this._optDecimal = t3.indexOf("#", n2) > 0, n2 >= 0) {
        for (var s2 = n2 + 1; s2 < r2 && "0" == t3.charAt(s2); s2++) this._minDigits++, this._maxDigits++;
        for (; s2 < r2 && "#" == t3.charAt(s2); s2++) this._maxDigits++;
        t3 = t3.substr(0, n2);
      }
      if (t3) {
        var a2 = t3.length;
        "," == t3.charAt(a2 - 1) && (this._groupPos = 3, t3 = t3.substr(0, a2 - 1));
      }
      if (t3) {
        var l2 = t3.length, h2 = true;
        for (s2 = l2 - 1; s2 >= 0; s2--) {
          var u2 = t3.charAt(s2);
          if ("0" == u2 && h2) ;
          else if (0 == this._groupPos && "," == u2) this._groupPos = l2 - s2 - 1;
          else {
            if ("#" != u2) break;
            h2 = false;
          }
        }
      }
      this._groupPos > 0 && (this._replacement = "$&" + i2, this._reg = new RegExp("\\d(?=(\\d{" + this._groupPos + "})+($|\\" + e2 + "))", "g"), this._regDecimal = new RegExp("\\d(?=(\\d{" + this._groupPos + "})+\\" + e2 + ")", "g"));
    }
  }, t2.DEFAULT_FORMAT = "#,##0.0", t2.Formatters = {}, t2;
}();
var qe = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._datetimeWriter = null, i2._booleanFormatter = null, i2._numberFormatter = null, i2.assignFrom(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, this._datetimeWriter = t3 ? He.getFormatter(t3) : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._booleanFormatter = t3 ? We.getFormatter(t3) : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormat", { get: function() {
    return this._numberFormat;
  }, set: function(t3) {
    t3 != this._numberFormat && (this._numberFormat = t3, this._numberFormatter = t3 ? ze.getFormatter(t3) : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeCallback", { get: function() {
    return this._datetimeCallback;
  }, set: function(t3) {
    this._datetimeCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanCallback", { get: function() {
    return this._booleanCallback;
  }, set: function(t3) {
    this._booleanCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCallback", { get: function() {
    return this._numberCallback;
  }, set: function(t3) {
    this._numberCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nullDateText", { get: function() {
    return this._nullDateText;
  }, set: function(t3) {
    this._nullDateText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nullText", { get: function() {
    return this._nullText;
  }, set: function(t3) {
    this._nullText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nanText", { get: function() {
    return this._nanText;
  }, set: function(t3) {
    this._nanText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowState", { get: function() {
    return this._rowState;
  }, set: function(t3) {
    this._rowState = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeWriter", { get: function() {
    return this._datetimeWriter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormatter", { get: function() {
    return this._booleanFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormatter", { get: function() {
    return this._numberFormatter;
  }, enumerable: false, configurable: true }), e2;
}(Ft);
var Ke = function() {
  function t2() {
  }
  return Object.defineProperty(t2, "summaryMode", { get: function() {
    return t2._summaryMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "fixed", { get: function() {
    return t2._fixed || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "display", { get: function() {
    return t2._display || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "format", { get: function() {
    return t2._format || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "edit", { get: function() {
    return t2._edit || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "editor", { get: function() {
    return t2._editor || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "copy", { get: function() {
    return t2._copy || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "paste", { get: function() {
    return t2._paste || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "sorting", { get: function() {
    return t2._sorting || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "filtering", { get: function() {
    return t2._filtering || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "dataDrop", { get: function() {
    return t2._dataDrop || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "rowIndicator", { get: function() {
    return t2._rowIndicator || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "checkBar", { get: function() {
    return t2._checkBar || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "stateBar", { get: function() {
    return t2._stateBar || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "header", { get: function() {
    return t2._header || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "footer", { get: function() {
    return t2._footer;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "footers", { get: function() {
    return t2._footers || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "headerSummary", { get: function() {
    return t2._headerSummary || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "headerSummaries", { get: function() {
    return t2._headerSummaries || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "hideDeletedRows", { get: function() {
    return t2._hideDeletedRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "sortMode", { get: function() {
    return t2._sortMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "groupSummaryMode", { get: function() {
    return t2._groupSummaryMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "filterOr", { get: function() {
    return t2._filterOr;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "filterMode", { get: function() {
    return t2._filterMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "rowGroup", { get: function() {
    return t2._rowGroup || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "groupPanel", { get: function() {
    return t2._groupPanel || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "grouping", { get: function() {
    return t2._grouping || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "filterPanel", { get: function() {
    return t2._filterPanel || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "dataOptions", { get: function() {
    return t2._dataOptions || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(t2, "mobile", { get: function() {
    return t2._mobile || {};
  }, enumerable: false, configurable: true }), t2.setDefaultOptions = function(e2, i2) {
    e2 && (t2._fixed = Ot.assign({}, e2.fixed), t2._display = Ot.assign({}, e2.display), t2._format = Ot.assign({}, e2.format), t2._edit = Ot.assign({}, e2.edit), t2._editor = Ot.assign({}, e2.editor), t2._copy = Ot.assign({}, e2.copy), t2._paste = Ot.assign({}, e2.paste), t2._sorting = Ot.assign({}, e2.sorting), t2._filtering = Ot.assign({}, e2.filtering), t2._dataDrop = Ot.assign({}, e2.dataDrop), t2._rowIndicator = Ot.assign({}, e2.rowIndicator), t2._checkBar = Ot.assign({}, e2.checkBar), t2._stateBar = Ot.assign({}, e2.stateBar), t2._header = Ot.assign({}, e2.header), t2._footer = Ot.assign({}, e2.footer), t2._footers = Ot.assign({}, e2.footers), t2._headerSummary = Ot.assign({}, e2.headerSummary), t2._headerSummaries = Ot.assign({}, e2.headerSummaries), void 0 !== e2.hideDeleted && (t2._hideDeletedRows = e2.hideDeletedRows), void 0 !== e2.hideDeletedRows && (t2._hideDeletedRows = e2.hideDeletedRows), void 0 !== e2.sortMode && (t2._sortMode = e2.sortMode), void 0 !== e2.summaryMode && (t2._summaryMode = e2.summaryMode), void 0 !== e2.inclusiveFiltering && (t2._filterOr = e2.inclusiveFiltering), void 0 !== e2.filterOr && (t2._filterOr = e2.filterOr), void 0 !== e2.filterMode && (t2._filterMode = e2.filterMode), t2._groupPanel = Ot.assign({}, e2.groupPanel), void 0 !== e2.groupSummaryMode && (t2._groupSummaryMode = e2.groupSummaryMode), t2._rowGroup = Ot.assign({}, e2.rowGroup), t2._groupPanel = Ot.assign({}, e2.groupPanel), t2._grouping = Ot.assign({}, e2.grouping), t2._filterPanel = Ot.assign({}, e2.filterPanel), t2._mobile = Ot.assign({}, e2.mobile)), i2 && (t2._dataOptions = Ot.assign({}, i2));
  }, t2;
}();
var Xe = function() {
  function t2() {
  }
  return t2.prototype.compare = function(t3, e2, i2) {
    return t3.dataType == a.NUMBER ? Number(e2) - Number(i2) : e2 > i2 ? 1 : e2 < i2 ? -1 : 0;
  }, t2;
}();
var Ze = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2;
}(Error);
var Je = function(t2) {
  function e2() {
    return t2.call(this, Ge.messages.clientEditingError) || this;
  }
  return i(e2, t2), e2;
}(Error);
var Qe = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._subTypeEnabled = true, e3._undoable = false, e3._insertable = true, e3._updatable = true, e3._deletable = true, e3._softDeleting = false, e3._deleteCreated = false, e3._checkStates = true, e3._restoreMode = Yt.NONE, e3._strictRestore = false, e3._booleanFormat = null, e3._datetimeFormat = null, e3._baseYear = 2e3, e3._amText = "AM", e3._pmText = "PM", e3._alertClientError = true, e3._throwClientError = false, e3._commitBeforeDataEdit = false, e3._fields = [], e3._calcFields = [], e3._fieldNames = [], e3._fieldMap = {}, e3._defComparer = new Xe(), e3._comparers = [], e3._boolParser = kt.Default, e3._dateParser = Tt.Default, e3._eventLock = 0, e3._resetLock = 0, e3._countLock = 0, e3._clients = [], e3.assignFrom(Ke.dataOptions), e3;
  }
  return i(e2, t2), e2.getUniqueValues = function(t3, e3) {
    return Object.keys(t3.reduce(function(t4, e4) {
      return t4[e4] = true, t4;
    }, {})).map(function(t4) {
      if ("null" === t4) return null;
      if ("undefined" !== t4) switch (e3) {
        case a.NUMBER:
        case a.UNUM:
          return parseFloat(t4);
        case a.UINT:
        case a.INT:
          return parseInt(t4);
        case a.DATE:
        case a.DATETIME:
          return new Date(parseInt(t4));
        case a.BOOLEAN:
          return "false" !== t4 && ("true" === t4 || void 0);
        default:
          return t4;
      }
    });
  }, e2.prototype._doDispose = function() {
    try {
      this.$_internalClearFields(), this._fieldMap = null;
    } catch (t3) {
      Ot.log("DataSource dispose catch error");
    }
    this._fields = this._calcFields = this._fieldNames = this._fieldMap = this._boolParser = this._dateParser = this._comparers = this._clients = this._defComparer = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "subTypeEnabled", { get: function() {
    return this._subTypeEnabled;
  }, set: function(t3) {
    if (t3 != this._subTypeEnabled) {
      this._subTypeEnabled = t3;
      for (var e3 = 0, i2 = this._fields; e3 < i2.length; e3++) {
        i2[e3].$_resetTypes();
      }
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "insertable", { get: function() {
    return this._insertable;
  }, set: function(t3) {
    this._insertable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "updatable", { get: function() {
    return this._updatable;
  }, set: function(t3) {
    this._updatable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deletable", { get: function() {
    return this._deletable;
  }, set: function(t3) {
    this._deletable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "softDeleting", { get: function() {
    return this._softDeleting;
  }, set: function(t3) {
    this._softDeleting = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deleteCreated", { get: function() {
    return this._deleteCreated;
  }, set: function(t3) {
    this._deleteCreated = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkStates", { get: function() {
    return this._checkStates;
  }, set: function(t3) {
    t3 != this._checkStates && (this._checkStates = t3, this._doCheckStatesChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "restoreMode", { get: function() {
    return this._restoreMode;
  }, set: function(t3) {
    if (t3 != this._restoreMode) {
      var e3 = this._restoreMode;
      this._restoreMode = t3, this._doRestoreModeChanged(e3, t3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "strictRestore", { get: function() {
    return this._strictRestore;
  }, set: function(t3) {
    this._strictRestore = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._boolParser = t3 ? new kt(t3) : kt.Default);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, this.$_createDateReader());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseYear", { get: function() {
    return this._baseYear;
  }, set: function(t3) {
    this._baseYear = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "amText", { get: function() {
    return this._amText;
  }, set: function(t3) {
    t3 != this._amText && (this._amText = t3, this.$_createDateReader());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pmText", { get: function() {
    return this._pmText;
  }, set: function(t3) {
    t3 != this._pmText && (this._pmText = t3, this.$_createDateReader());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "alertClientError", { get: function() {
    return this._alertClientError;
  }, set: function(t3) {
    this._alertClientError = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "throwClientError", { get: function() {
    return this._throwClientError;
  }, set: function(t3) {
    this._throwClientError = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitBeforeDataEdit", { get: function() {
    return this._commitBeforeDataEdit;
  }, set: function(t3) {
    this._commitBeforeDataEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "calculateRuntime", { get: function() {
    return this._calculateRuntime || (this._calculateRuntime = new Se()), this._calculateRuntime;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldCount", { get: function() {
    return this._fields.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boolParser", { get: function() {
    return this._boolParser;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateParser", { get: function() {
    return this._dateParser;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "eventLocked", { get: function() {
    return this._eventLock > 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valuesCallback", { get: function() {
    return this._valuesCallback;
  }, set: function(t3) {
    this._valuesCallback = t3;
  }, enumerable: false, configurable: true }), e2.prototype.registerClient = function(t3) {
    t3 && this._clients.indexOf(t3) < 0 && this._clients.push(t3);
  }, e2.prototype.unregisterClient = function(t3) {
    if (t3) {
      var e3 = this._clients.indexOf(t3);
      e3 >= 0 && this._clients.splice(e3, 1);
    }
  }, e2.prototype.cancelClients = function() {
    for (var t3 = 0, e3 = this._clients; t3 < e3.length; t3++) {
      e3[t3].cancelDataEditing();
    }
  }, e2.prototype.commitClients = function() {
    for (var t3 = 0, e3 = this._clients; t3 < e3.length; t3++) {
      e3[t3].commitDataEditing();
    }
  }, e2.prototype.beginUpdate = function() {
    this._checkClientState(), this._eventLock++;
  }, e2.prototype.endUpdate = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = true), this._checkClientState(), this._eventLock = Math.max(0, this._eventLock - 1), 0 == this._eventLock && (t3 && (this._resetLock > 0 ? (this.clearCommandStack(), this._fireReset(e3)) : this._fireRefresh(), this._countLock > 0 && this._fireRowCountChanged()), this._resetLock = this._countLock = 0);
  }, e2.prototype.addField = function(t3, e3, i2) {
    if (this._checkClientState()) {
      var o2;
      this.beginUpdate();
      try {
        (o2 = this.$_internalAddField(t3)) && o2.$_resetTypes(this);
      } finally {
        e3 ? this._doFieldsReset() : this._resetLock++, i2 && this._reCalculateFields(), this.endUpdate(true, false);
      }
      return o2;
    }
  }, e2.prototype.removeField = function(t3, e3) {
    var i2;
    if (this._checkClientState() && t3 && ("string" == typeof t3 ? i2 = this.fieldByName(t3) : t3 instanceof Ee ? i2 = t3 : "object" == typeof t3 && t3.fieldName && (i2 = this.fieldByName(t3.fieldName)), i2)) {
      this.beginUpdate();
      try {
        this.$_internalRemoveField(i2);
      } finally {
        e3 ? this._doFieldsReset() : this._resetLock++, this.endUpdate(true, false);
      }
    }
  }, e2.prototype.updateField = function(t3, e3) {
    var i2 = 0, o2 = this._calcFields;
    if (t3.calculated && o2.indexOf(t3) < 0) {
      i2 = o2.length;
      for (var r2 = 0; r2 < o2.length; r2++) if (o2[r2].index >= t3.index) {
        i2 = r2;
        break;
      }
      o2.splice(i2, 0, t3);
    } else t3.calculated || (i2 = o2.indexOf(t3)) >= 0 && o2.splice(i2, 1);
    if (e3 && t3.calculated) {
      this.beginUpdate();
      try {
        this._reCalculateFields(t3);
      } finally {
        this.endUpdate(true);
      }
    }
  }, e2.prototype.clearFields = function() {
    this._checkClientState() && this._fields.length > 0 && (this.$_internalClearFields(), this._doFieldsReset());
  }, e2.prototype.setFields = function(t3) {
    if (this._checkClientState()) {
      this.beginUpdate();
      try {
        if (this.$_internalClearFields(), t3) for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) {
          var o2 = this.$_internalAddField(t3[e3]);
          o2 && o2.$_resetTypes(this);
        }
      } finally {
        this.endUpdate(), this._doFieldsReset();
      }
    }
  }, e2.prototype.getField = function(t3) {
    return "string" == typeof t3 && (t3 = this.getFieldIndex(t3)), this._fields[t3];
  }, e2.prototype.getFields = function() {
    return this._fields.slice();
  }, e2.prototype.fieldByName = function(t3) {
    if (t3) for (var e3 = t3.toUpperCase(), i2 = 0, o2 = this._fields; i2 < o2.length; i2++) {
      var r2 = o2[i2];
      if (r2.fieldName == e3) return r2;
    }
    return null;
  }, e2.prototype.getFieldNames = function() {
    for (var t3 = [], e3 = 0; e3 < this._fields.length; e3++) t3.push(this._fields[e3].fieldName);
    return t3;
  }, e2.prototype.getOrgFieldNames = function() {
    for (var t3 = [], e3 = 0; e3 < this._fields.length; e3++) t3.push(this._fields[e3].orgFieldName);
    return t3;
  }, e2.prototype.getFieldName = function(t3) {
    return this._checkFieldIndex(t3), this._fields[t3].fieldName;
  }, e2.prototype.getOrgFieldName = function(t3) {
    return this._checkFieldIndex(t3), this._fields[t3].orgFieldName;
  }, e2.prototype.getFieldIndex = function(t3) {
    if ("number" == typeof t3) return t3;
    if (t3) {
      var e3 = t3.toUpperCase();
      if (e3 in this._fieldMap) return this._fieldMap[e3];
    }
    return -1;
  }, e2.prototype.getFieldIndexC = function(t3) {
    return t3 in this._fieldMap ? this._fieldMap[t3] : -1;
  }, e2.prototype.getBaseField = function(t3) {
    return t3 >= 0 && t3 < this._fields.length ? this.getFieldIndex(this._fields[t3].baseField) : -1;
  }, e2.prototype.getValueType = function(t3) {
    return this._fields[t3].dataType;
  }, e2.prototype.getDefaultValue = function(t3) {
    return this._fields[t3].defaultValue();
  }, e2.prototype.objectToRow = function(t3) {
    var e3 = [], i2 = this._valuesCallback;
    if (i2) {
      var o2 = i2.call(this, this.$_handler, t3);
      if (o2 && Array.isArray(o2)) return o2.slice();
    }
    if (t3) for (var r2 = 0, n2 = this.fieldCount; r2 < n2; r2++) {
      var s2 = this.getOrgFieldName(r2);
      t3.hasOwnProperty(s2) && (e3[r2] = t3[s2]);
    }
    return e3;
  }, e2.prototype.canUpdateField = function(t3, e3) {
    if (e3 >= 0 && e3 < this._fields.length) {
      if (!this._fields[e3].updatable && t3 >= 0) try {
        var i2 = this.getRowState(t3);
        return !i2 || i2 == St.CREATED || i2 == St.CREATE_AND_DELETED;
      } catch (t4) {
        return false;
      }
      return true;
    }
    return false;
  }, e2.prototype.getDataComparer = function(t3) {
    return t3 >= 0 && this._comparers[t3];
  }, e2.prototype.setDataComparer = function(t3, e3) {
    this._comparers[t3] = e3;
  }, e2.prototype.canSummarize = function(t3) {
    return t3 >= 0 && t3 < this.fieldCount;
  }, e2.prototype.canAppendRow = function() {
    return false;
  }, e2.prototype._convertValues = function(t3, e3) {
    var i2 = "*" in e3 && "*" == e3["*"] ? t3 : {};
    for (var o2 in e3) i2[e3[o2]] = t3[o2];
    return i2;
  }, e2.prototype.getClientsBusy = function() {
    var t3 = { busy: false, cnt: 0, client: null };
    if (this.disposing) return t3;
    for (var e3 = this._clients.length; e3--; ) this._clients[e3].isDataEditing() && (t3.busy = true, t3.cnt++, t3.client = this._clients[e3]);
    return t3;
  }, e2.prototype._checkClientState = function() {
    if (this.getClientsBusy().busy) {
      if (this._throwClientError) throw new Je();
      return this._alertClientError && alert(new Je().message), false;
    }
    return true;
  }, e2.prototype._checkFieldIndex = function(t3) {
    if (t3 < 0 || t3 >= this._fields.length) throw new Ze(Ge.messages.fieldIndexOutOfBounds + t3);
  }, e2.prototype.$_internalClearFields = function() {
    this._checkClientState();
    for (var t3 = 0, e3 = this._fields; t3 < e3.length; t3++) {
      e3[t3].$_setIndex(-1);
    }
    this._fields.splice(0, this._fields.length), this._calcFields.splice(0, this._calcFields.length), this._fieldNames.splice(0, this._fieldNames.length), this._fieldMap = {};
  }, e2.prototype.$_internalInsertField = function(t3, e3) {
    this._checkClientState();
    var i2 = this._fields.length;
    if (t3 < 0 || t3 > i2) throw Ot.isDebugging(), new Ze(Ge.messages.fieldIndexOutOfBounds + t3);
    if (e3) {
      e3.$_prepare(this), this._fields.splice(t3, 0, e3), this._fieldNames.splice(t3, 0, e3.fieldName), e3.calculated && this._calcFields.push(e3), e3.$_setIndex(t3), this._fieldMap[e3.fieldName] = t3;
      for (var o2 = t3 + 1; o2 <= i2; o2++) (e3 = this._fields[o2]).$_setIndex(o2), this._fieldMap[e3.fieldName] = o2;
      return t3;
    }
    return -1;
  }, e2.prototype.$_internalRemoveField = function(t3) {
    if (this._checkClientState(), t3) {
      var e3 = t3.index;
      this._fields.splice(e3, 1), this._fieldNames.splice(e3, 1), delete this._fieldMap[t3.fieldName];
      for (var i2 = 0; i2 <= this._fields.length - 1; i2++) (t3 = this._fields[i2]).$_setIndex(i2), this._fieldMap[t3.fieldName] = i2;
    }
  }, e2.prototype.$_addField = function(t3, e3, i2, o2) {
    if (!t3) throw new Ze(Ge.messages.fieldNameMustExists);
    if (this.getFieldIndex(t3) >= 0) throw new Ze(Ge.messages.fieldNameAlreadyExists + t3);
    var r2 = new Ee(t3, e3, i2);
    o2 && r2.assignFrom(o2);
    var n2 = o2 && null != o2.index && !isNaN(o2.index) ? o2.index : this._fields.length;
    return this.$_internalInsertField(n2, r2), r2;
  }, e2.prototype.$_internalAddField = function(t3) {
    var e3 = null;
    return "string" == typeof t3 ? e3 = this.$_addField(t3, a.TEXT, 0) : t3 instanceof Ee ? (e3 = t3.clone(), this.$_internalInsertField(this._fields.length, e3)) : t3 && (e3 = this.$_addField(t3.fieldName, t3.dataType || a.TEXT, t3.length, t3)), e3;
  }, e2.prototype._internalCalculateValues = function(t3, e3, i2) {
    var o2 = i2 ? Ot.makeArray(i2) : this._calcFields;
    if (o2.length > 0) {
      for (var r2 = [], n2 = 0; n2 < t3.length; n2++) r2[n2] = this.getField(n2).readValue(t3[n2]);
      n2 = 0;
      for (var s2 = o2.length; n2 < s2; n2++) {
        var a2 = o2[n2], l2 = this._fieldMap[a2.fieldName];
        t3[l2] = r2[l2] = a2.readValue(a2.$_calculateValue(this, this.calculateRuntime, e3, a2.orgFieldName, this._fieldNames, this.getOrgFieldNames(), r2));
      }
    }
  }, e2.prototype.refreshFieldFormats = function() {
    for (var t3 = 0, e3 = this._fields; t3 < e3.length; t3++) {
      e3[t3].$_refreshFormats(this);
    }
  }, e2.prototype.refreshFieldFormat = function(t3) {
    t3 && t3.$_refreshFormats(this);
  }, e2.prototype._getRowValues = function() {
    return new Array(this.fieldCount);
  }, e2.prototype.$_createOutputRows = function(t3, e3, i2) {
    void 0 === i2 && (i2 = 0);
    var o2 = this.fieldCount, r2 = t3.length;
    e3 instanceof qe || (e3 = new qe(e3));
    var n2 = e3.nullDateText, s2 = e3.nullText, l2 = e3.nanText;
    try {
      for (var h2 = 0; h2 < o2; h2++) {
        var u2 = this.getField(h2), c2 = u2.dataType, d2 = u2.orgFieldName, p2 = void 0, f2 = void 0, _2 = void 0, g2 = void 0, y2 = void 0, m2 = void 0;
        if (c2 == a.DATETIME && ((p2 = e3.datetimeCallback) || (g2 = e3.datetimeWriter) || n2)) if (p2) for (var b2 = 0; b2 < r2; b2++) {
          (C2 = t3[b2])[d2] = p2(this.handler, b2 + i2, d2, C2[d2]);
        }
        else for (b2 = 0; b2 < r2; b2++) {
          var v2 = (C2 = t3[b2])[d2];
          C2[d2] = v2 ? g2 ? g2.getText(C2[d2]) : v2 : n2;
        }
        else if (c2 == a.BOOLEAN && ((f2 = e3.booleanCallback) || (y2 = e3.booleanFormatter))) if (f2) for (b2 = 0; b2 < r2; b2++) {
          (C2 = t3[b2])[d2] = f2(this.handler, b2 + i2, d2, C2[d2]);
        }
        else for (b2 = 0; b2 < r2; b2++) {
          (C2 = t3[b2])[d2] = y2.formatValue(C2[d2]);
        }
        else if (c2 == a.NUMBER && ((_2 = e3.numberCallback) || (m2 = e3.numberFormatter) || l2)) if (_2) for (b2 = 0; b2 < r2; b2++) {
          (C2 = t3[b2])[d2] = _2(this.handler, b2 + i2, d2, C2[d2]);
        }
        else for (b2 = 0; b2 < r2; b2++) {
          var w2 = (C2 = t3[b2])[d2];
          C2[d2] = null == w2 || isNaN(w2) ? l2 : m2 ? m2.getText(w2) : w2;
        }
        else if (null != s2 && null != s2) for (b2 = 0; b2 < r2; b2++) {
          var C2;
          w2 = (C2 = t3[b2])[d2];
          C2[d2] = null == w2 || null == w2 ? s2 : w2;
        }
      }
    } finally {
      e3 && e3.dispose();
    }
  }, e2.prototype.$_sortRows = function(t3, e3, i2, o2, r2) {
    do {
      var n2 = o2, s2 = r2, a2 = t3[Math.floor((o2 + r2) / 2)];
      do {
        for (; n2 <= s2 && !(i2(e3, a2, t3[n2]) <= 0); ) n2++;
        for (; n2 <= s2 && !(i2(e3, a2, t3[s2]) >= 0); ) s2--;
        if (n2 <= s2) {
          if (n2 != s2) {
            var l2 = t3[n2];
            t3[n2] = t3[s2], t3[s2] = l2;
          }
          n2++, s2--;
        }
      } while (n2 <= s2);
      o2 < s2 && this.$_sortRows(t3, e3, i2, o2, s2), o2 = n2;
    } while (o2 < r2);
  }, e2.prototype.$_createDateReader = function() {
    this._datetimeFormat ? (this._dateParser = new Tt(this._datetimeFormat), this._dateParser.amText = this._amText, this._dateParser.pmText = this._pmText, this._dateParser.baseYear = this._baseYear) : this._dateParser = Tt.Default;
  }, e2.prototype._doCheckStatesChanged = function() {
  }, e2.prototype._fireCommandStackChanged = function(t3, i2) {
    this._eventLock <= 0 && this.fireEvent(e2.COMMAND_STACK_CHANGED, t3, i2);
  }, e2.COMMAND_STACK_CHANGED = "onDataSourceCommandStackChanged", e2;
}(Oe);
var ti = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.connect = function(t3) {
  }, e2.prototype.disconnect = function() {
  }, e2.prototype.clearRows = function() {
  }, e2.prototype.setRows = function() {
  }, e2.prototype.setRowCount = function(t3) {
  }, e2.prototype.insertRow = function(t3) {
  }, e2.prototype.insertRows = function(t3, e3) {
  }, e2.prototype.removeRow = function(t3) {
  }, e2.prototype.removeRows = function(t3) {
  }, e2.prototype.updateRow = function(t3) {
  }, e2.prototype.updateRows = function(t3, e3) {
  }, e2.prototype.updateRowList = function(t3) {
  }, e2.prototype.setValue = function(t3, e3) {
  }, e2.prototype.moveRow = function(t3, e3) {
  }, e2.prototype.moveRows = function(t3, e3, i2) {
  }, e2.prototype.moveRowList = function(t3, e3) {
  }, e2.prototype.changeStates = function(t3) {
  }, e2;
}(Ft);
var ei = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._tags = [], i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._owner = null, this._tags = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.add = function(t3) {
    null != this._tags && t3 && this._tags.indexOf(t3) < 0 && (this._tags.push(t3), t3.connect(this._owner));
  }, e2.prototype.remove = function(t3) {
    if (null != this._tags && t3) {
      var e3 = this._tags.indexOf(t3);
      e3 >= 0 && (this._tags.splice(e3, 1), t3.disconnect());
    }
  }, e2.prototype.clearRows = function() {
    if (null != this._tags) for (var t3 = 0, e3 = this._tags; t3 < e3.length; t3++) {
      e3[t3].clearRows();
    }
  }, e2.prototype.setRows = function() {
    if (null != this._tags) for (var t3 = 0, e3 = this._tags; t3 < e3.length; t3++) {
      e3[t3].setRows();
    }
  }, e2.prototype.setRowCount = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].setRowCount(t3);
    }
  }, e2.prototype.insertRow = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].insertRow(t3);
    }
  }, e2.prototype.insertRows = function(t3, e3) {
    if (null != this._tags) for (var i2 = 0, o2 = this._tags; i2 < o2.length; i2++) {
      o2[i2].insertRows(t3, e3);
    }
  }, e2.prototype.removeRow = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].removeRow(t3);
    }
  }, e2.prototype.removeRows = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].removeRows(t3);
    }
  }, e2.prototype.updateRow = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].updateRow(t3);
    }
  }, e2.prototype.updateRows = function(t3, e3) {
    if (null != this._tags) for (var i2 = 0, o2 = this._tags; i2 < o2.length; i2++) {
      o2[i2].updateRows(t3, e3);
    }
  }, e2.prototype.updateRowList = function(t3) {
    if (null != this._tags) for (var e3 = 0, i2 = this._tags; e3 < i2.length; e3++) {
      i2[e3].updateRowList(t3);
    }
  }, e2.prototype.setValue = function(t3, e3) {
    if (null != this._tags) for (var i2 = 0, o2 = this._tags; i2 < o2.length; i2++) {
      o2[i2].setValue(t3, e3);
    }
  }, e2.prototype.moveRow = function(t3, e3) {
    if (null != this._tags) for (var i2 = 0, o2 = this._tags; i2 < o2.length; i2++) {
      o2[i2].moveRow(t3, e3);
    }
  }, e2.prototype.moveRows = function(t3, e3, i2) {
    if (null != this._tags) for (var o2 = 0, r2 = this._tags; o2 < r2.length; o2++) {
      r2[o2].moveRows(t3, e3, i2);
    }
  }, e2.prototype.moveRowList = function(t3, e3) {
    if (null != this._tags) for (var i2 = 0, o2 = this._tags; i2 < o2.length; i2++) {
      o2[i2].moveRowList(t3, e3);
    }
  }, e2;
}(Ft);
var ii = function() {
  function t2(t3) {
    this._active = false, this._exprNode = null, this.criteria = t3;
  }
  return t2.prototype.dispose = function() {
    this._exprNode = null;
  }, Object.defineProperty(t2.prototype, "criteria", { get: function() {
    return this._criteria;
  }, set: function(e2) {
    e2 != this._criteria && (this._criteria = e2, this._exprNode = e2 ? xe.Default.parse(e2, t2.CAPITAL_INDEXERS) : null);
  }, enumerable: false, configurable: true }), t2.prototype.select = function(t3, e2, i2) {
    return !this._exprNode || (t3.setRow(e2, i2), this._exprNode.evaluate(t3));
  }, t2.CAPITAL_INDEXERS = ["value", "values", "len"], t2;
}();
var oi = function() {
  function t2(e2, i2) {
    this._filterMode = t2.FILTER_AND, this._or = false, this.load(e2), i2 && (this.filterMode = i2);
  }
  return t2.prototype.dispose = function() {
    return this._filters && this._filters.forEach(function(t3, e2) {
      t3.dispose();
    }), this._filters = null, null;
  }, Object.defineProperty(t2.prototype, "filterMode", { get: function() {
    return this._filterMode;
  }, set: function(e2) {
    var i2 = e2 ? e2.toLocaleLowerCase() : e2;
    i2 != this._filterMode && (this._filterMode = i2, this._or = this._filterMode == t2.FILTER_OR);
  }, enumerable: false, configurable: true }), t2.prototype.load = function(t3) {
    if (!t3 || t3 instanceof Array || (t3 = [t3]), this._filters = [], t3 instanceof Array) for (var e2 = 0, i2 = t3.length; e2 < i2; e2++) {
      var o2 = void 0, r2 = t3[e2];
      r2 && ("string" == typeof r2 ? o2 = new ii(r2) : r2.criteria && (o2 = new ii(r2.criteria))), o2 && this._filters.push(o2);
    }
  }, t2.prototype.prepare = function(t3, e2) {
    t3.prepare(e2);
  }, t2.prototype.select = function(t3, e2, i2) {
    var o2 = this._filters, r2 = o2.length;
    if (this._or) {
      for (var n2 = 0; n2 < r2; n2++) if (1 == o2[n2].select(t3, e2, i2)) return true;
      return false;
    }
    for (n2 = 0; n2 < r2; n2++) if (0 == o2[n2].select(t3, e2, i2)) return false;
    return true;
  }, t2.FILTER_AND = "and", t2.FILTER_OR = "or", t2;
}();
var ri = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._ds = null, e3._fieldCount = 0, e3._row = -1, e3._values = null, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._ds = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.prepare = function(t3) {
    this._ds = t3, this._fieldCount = t3 ? t3.fieldCount : 0;
  }, e2.prototype.setRow = function(t3, e3) {
    this._row = t3, this._values = e3;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    if (t3 === e2.ID_ROW) return this._row;
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        return this._values[i2];
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        var r2 = this.getField(i2, o2);
        return this._values[r2];
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.getField = function(t3, e3) {
    var i2 = e3 ? this._ds.getFieldIndexC(t3) : this._ds.getFieldIndex(t3);
    if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field is not exits:" + t3);
    return i2;
  }, e2.ID_ROW = 0, e2.ID_VALUE = 1, e2.ID_VALUES = 2, e2.IDENTS = { row: e2.ID_ROW, value: e2.ID_VALUE, values: e2.ID_VALUES }, e2;
}(Wt);
var ni = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._tags = new ei(e3), e3._filterRuntime = new ri(), e3._commandListeners = [], e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._tags = this._tags.dispose(), this._filters = this._filters && this._filters.dispose(), this._filterRuntime = this._filterRuntime.dispose(), this._commandListeners = null, this._fireDispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype.editCommandStackChanged = function(t3, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, Object.defineProperty(e2.prototype, "filters", { get: function() {
    return this._filters;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterRuntime", { get: function() {
    return this._filterRuntime;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deletedCount", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tags", { get: function() {
    return this._tags;
  }, enumerable: false, configurable: true }), e2.prototype.addTag = function(t3) {
    this._tags.add(t3);
  }, e2.prototype.removeTag = function(t3) {
    this._tags.remove(t3);
  }, e2.prototype.setFilterMode = function(t3) {
    this._filters && t3 == this._filters.filterMode || (this._filters ? this._filters.filterMode = t3 : this._filters = new oi(null, t3));
  }, e2.prototype.setFilters = function(t3, e3) {
    !t3 || t3 instanceof oi ? (this._filters = t3, this._filters && e3 && (this._filters.filterMode = e3)) : this._filters = new oi(t3, e3);
  }, e2.prototype.getRowObject = function(t3) {
    if (t3 < 0 || t3 >= this.rowCount) throw new Ze(Ge.messages.rowOutOfBounds + t3);
    for (var e3 = {}, i2 = 0, o2 = this.fieldCount; i2 < o2; i2++) {
      var r2 = this.getOrgFieldName(i2), n2 = this.getValue(t3, i2);
      e3[r2] = n2;
    }
    return e3;
  }, e2.prototype.compareValues = function(t3, e3, i2, o2, r2) {
    return 0;
  }, e2.prototype.compareTexts = function(t3, e3, i2, o2) {
    return 0;
  }, e2.prototype.compareNumbers = function(t3, e3, i2, o2) {
    return 0;
  }, e2.prototype.compareBools = function(t3, e3, i2, o2) {
    return 0;
  }, e2.prototype.compareObjects = function(t3, e3, i2, o2) {
    return 0;
  }, e2.prototype.summarize = function(t3, e3) {
    return false;
  }, e2.prototype.summarizeRange = function(t3, e3, i2) {
    return false;
  }, e2.prototype.copyRows = function(t3, e3, i2, o2) {
  }, Object.defineProperty(e2.prototype, "hiddenCount", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), e2.prototype.isHiddenRow = function(t3) {
    return false;
  }, e2.prototype.registerCommandListener = function(t3) {
    t3 && this._commandListeners && this._commandListeners.indexOf(t3) < 0 && this._commandListeners.push(t3);
  }, e2.prototype.unregisterCommandListener = function(t3) {
    var e3 = this._commandListeners ? this._commandListeners.indexOf(t3) : -1;
    e3 >= 0 && this._commandListeners.splice(e3, 1);
  }, e2.prototype.findRow = function(t3, e3, i2) {
  }, e2.prototype._doFieldsReset = function() {
    this._fireReset(true);
  }, e2.prototype._keepCommandStates = function(t3) {
    if (this._commandListeners.length > 0) return this._commandListeners[0].getCommandStates(t3);
  }, e2.prototype._yieldCommandStates = function(t3, e3) {
    if (this._commandListeners.length > 0) return this._commandListeners[0].setCommandStates(t3, e3);
  }, e2.prototype._fireDispose = function() {
    this._eventLock <= 0 && this.fireEvent("onDataProviderDisposed");
  }, e2.prototype._fireReset = function(t3) {
    this._eventLock <= 0 ? this.fireEvent("onDataProviderReset", t3) : this._resetLock++;
  }, e2.prototype._fireRefresh = function() {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRefresh");
  }, e2.prototype._fireRowCountChanged = function() {
    this._eventLock <= 0 ? this.fireEvent("onDataProviderRowCountChanged") : this._countLock++;
  }, e2.prototype.fireDataLoadComplated = function() {
    this._eventLock <= 0 && this.fireEvent("onDataProviderDataLoadComplated");
  }, e2.prototype.fireRowInserting = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowInserting", t3, e3);
  }, e2.prototype.fireRowInserted = function(t3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowInserted", t3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowsInserted = function(t3, e3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsInserted", t3, e3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowRemoving = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowRemoving", t3);
  }, e2.prototype.fireRowRemoved = function(t3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowRemoved", t3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowsRemoving = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowsRemoving", t3);
  }, e2.prototype.fireRowsRemoved = function(t3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsRemoved", t3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowUpdating = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowUpdating", t3, e3, i2);
  }, e2.prototype.fireRowUpdated = function(t3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowUpdated", t3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowsUpdated = function(t3, e3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsUpdated", t3, e3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowListUpdated = function(t3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderRowListUpdated", t3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowMoving = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowMoving", t3, e3);
  }, e2.prototype.fireRowMoved = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRowMoved", t3, e3);
  }, e2.prototype.fireRowsMoving = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowsMoving", t3, e3, i2);
  }, e2.prototype.fireRowsMoved = function(t3, e3, i2) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRowsMoved", t3, e3, i2);
  }, e2.prototype.fireRowListMoving = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowListMoving", t3, e3);
  }, e2.prototype.fireRowListMoved = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRowListMoved", t3, e3);
  }, e2.prototype.fireValueChanging = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderValueChanging", t3, e3, i2);
  }, e2.prototype.fireValueChanged = function(t3, e3) {
    this._eventLock <= 0 && (this.fireEvent("onDataProviderValueChanged", t3, e3), this.fireEvent("onDataProviderDataChanged"));
  }, e2.prototype.fireRowStateChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderStateChanged", t3, e3);
  }, e2.prototype.fireRowStatesChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderStatesChanged", t3, e3);
  }, e2.prototype.fireRowStatesCleared = function() {
    this._eventLock <= 0 && this.fireEvent("onDataProviderStatesCleared");
  }, e2.prototype.fireRestoreRows = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRestoreRows", t3);
  }, e2.prototype.fireRowHided = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onDataProviderRowHided", t3, e3);
  }, e2;
}(Qe);
var si = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2.fields = [], i2.values = [], i2.startIndex = 0, i2.wrap = true, i2.select = true, i2.allFields = true, i2.caseSensitive = false, i2.partialMatch = false, i2.compareCallback = null, i2.reverse = false, e3 && i2.extend(e3), i2;
  }
  return i(e2, t2), e2;
}(Ft);
var ai = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2.fields = null, i2.value = null, i2.startIndex = 0, i2.startFieldIndex = 0, i2.wrap = true, i2.select = true, i2.caseSensitive = false, i2.partialMatch = false, i2.columns = null, i2.compareCallback = null, i2.reverse = false, e3 && i2.extend(e3), i2;
  }
  return i(e2, t2), e2;
}(Ft);
!function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  i(e2, t2);
}(Error);
var li = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
  }, e2.prototype.undo = function() {
  }, e2.prototype.redo = function(t3) {
  }, e2.prototype.execute = function() {
    return this.redo(false);
  }, e2;
}(Ft);
!function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.undo = function() {
  }, e2.prototype.redo = function(t3) {
  }, e2.prototype.execute = function() {
    return this.redo(false);
  };
}(li);
var hi = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._commands = [], i2._current = -1, i2._undoing = false, i2._redoing = false, i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._owner = null, this._commands = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "length", { get: function() {
    return this._commands.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._current >= 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._commands.length > this._current + 1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._redoing;
  }, enumerable: false, configurable: true }), e2.prototype.undo = function() {
    if (this.canUndo) {
      var t3 = this._commands[this._current];
      this._undoing = true;
      try {
        t3.undo();
      } finally {
        this._undoing = false;
      }
      this._current = this._current - 1, this._changed();
    }
  }, e2.prototype.redo = function(t3) {
    var e3;
    if (this.canRedo) {
      var i2 = this._current + 1, o2 = this._commands[i2];
      this._redoing = true;
      try {
        e3 = o2.redo(true);
      } finally {
        this._redoing = false;
      }
      this._current = i2, this._changed();
    }
    return e3;
  }, e2.prototype.execute = function(t3) {
    if (t3) {
      var e3 = this._current++;
      this._commands[this._current] = t3, this.$_shrink(this._current + 1);
      var i2 = void 0;
      try {
        i2 = t3.execute();
      } catch (t4) {
        throw this.$_shrink(e3 + 1), this._current = e3, t4;
      }
      return this._changed(), i2;
    }
  }, e2.prototype.flush = function() {
    var t3 = this._commands.length;
    if (t3 > 0) {
      for (; t3--; ) this._commands[t3].dispose();
      this._commands = [], this._current = -1, this._changed();
    }
  }, e2.prototype._changed = function() {
    null != this._owner && this._owner.editCommandStackChanged(this, this.canUndo, this.canRedo);
  }, e2.prototype.$_shrink = function(t3) {
    if (t3 >= 0 && t3 < this._commands.length) {
      for (var e3 = this._commands.length - 1; e3 >= t3; e3--) this._commands[e3].dispose();
      this._commands.splice(t3, this._commands.length - t3);
    }
  }, e2;
}(Oe);
var ui = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._ds = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._ds = null, this._save = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.redo = function(t3) {
    return t3 ? this._doRedo(this._ds, this._save) : this._save = this._doRun(this._ds), this._save && this._save.result;
  }, e2.prototype.undo = function() {
    this._doUndo(this._ds, this._save);
  }, e2.prototype._setSoftDeleting = function(t3, e3) {
    t3._softDeleting = e3;
  }, e2.prototype._setDeleteCreated = function(t3, e3) {
    t3._deleteCreated = e3;
  }, e2.prototype._cloneRow = function(t3) {
    if (Ot.isArray(t3)) return t3.slice();
    if (t3) {
      var e3 = {};
      for (var i2 in t3) e3[i2] = t3[i2];
      return e3;
    }
  }, e2.prototype._cloneValues = function(t3, e3, i2) {
    if (void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), t3) {
      var o2 = t3.length, r2 = [];
      i2 < 0 && (i2 = o2), e3 = Math.max(0, e3);
      for (var n2 = Math.min(o2, e3 + i2), s2 = e3; s2 < n2; s2++) {
        var a2 = t3[s2];
        if (Ot.isArray(a2)) r2.push(a2.slice());
        else if (a2) {
          var l2 = {};
          for (var h2 in a2) l2[h2] = a2[h2];
          r2.push(l2);
        }
      }
      return r2;
    }
    return null;
  }, e2;
}(li);
var ci = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2;
}(ui);
var di = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2;
}(hi);
var pi = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._row = i2, n2._field = o2, n2._value = r2, n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.row = t3._keepRow(this._row), (e3.result = t3.$_setValue(this._row, this._field, this._value)) && (this._newState = t3.getRowState(this._row)), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_setValue(this._row, this._field, this._value);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3._yieldRow(this._row, e3.row), e3.row.state != this._newState && t3.fireRowStateChanged(this._row, this._newState), t3.fireValueChanged(this._row, this._field);
  }, e2;
}(ci);
var fi = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._row = i2, n2._values = n2._cloneRow(o2), n2._strict = r2, n2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._values = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.row = t3._keepRow(this._row), (e3.result = t3.$_updateRow(this._row, this._values, this._strict)) && (this._newState = t3.getRowState(this._row)), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_updateRow(this._row, this._values, this._strict);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3._yieldRow(this._row, e3.row), e3.row.state != this._newState && t3.fireRowStateChanged(this._row, this._newState), t3.fireRowUpdated(this._row);
  }, e2;
}(ci);
var _i = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._row = i2, Ot.isArray(o2) || (o2 = e3.objectToRow(o2)), r2._values = o2.slice(), r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.result = t3.$_insertRow(this._row, this._values), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_insertRow(this._row, this._values);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3.$_deleteRow(this._row);
  }, e2;
}(ci);
var gi = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2._row = i2, o2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return this._softDeleting = t3.softDeleting, e3.row = t3._keepRow(this._row), e3.result = t3.$_deleteRow(this._row), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.softDeleting;
    try {
      this._setSoftDeleting(t3, this._softDeleting), t3.$_deleteRow(this._row);
    } finally {
      this._setSoftDeleting(t3, i2);
    }
  }, e2.prototype._doUndo = function(t3, e3) {
    t3.$_insertRow(this._row, e3.row.values), t3._yieldStates(this._row, e3.row), t3._yieldCommandStates(this._row, e3.row.outer);
  }, e2;
}(ci);
var yi = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._row = i2, n2._state = o2, n2._force = r2, n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.row = t3._keepStates(this._row), t3.$_setRowState(this._row, this._state, this._force), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_setRowState(this._row, this._state, this._force);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3._yieldState(this._row, e3.row.state), e3.row.state != this._state && t3.fireRowStateChanged(this._row, this._state);
  }, e2;
}(ci);
var mi = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._row = i2, r2._state = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.state = t3._keepState(this._row), t3.$_changeRowState(this._row, this._state, true, true), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_changeRowState(this._row, this._state, true, true);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3._yieldState(this._row, e3.state), e3.state != this._state && t3.fireRowStateChanged(this._row, this._state);
  }, e2;
}(ci);
var bi = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._deleteRows = i2, r2._rowEvents = o2, r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = { rows: [] };
    e3.orgValues = t3._keepOrgValues();
    var i2 = t3.$_clearRowStates(this._deleteRows, this._rowEvents, true);
    return e3.rows = i2.rows, e3.states = i2.states, e3.values = i2.values, e3.rowIds = i2.rowIds, e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_clearRowStates(this._deleteRows, this._rowEvents, false);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows, o2 = e3.values, r2 = e3.states, n2 = e3.rowIds, s2 = [];
    if (o2) for (var a2 = 0; a2 < i2.length; a2++) {
      var l2 = i2[a2];
      t3.$_internalInsertRow(l2, o2[l2], true, n2[l2]);
    }
    if (r2) for (a2 = 0; a2 < r2.length; a2++) r2[a2] && (t3._yieldState(a2, r2[a2]), r2[a2] !== St.NONE && s2.push(a2));
    t3._yieldOrgValues(e3.rows), (i2.length > 0 || r2.length > 0) && t3._fireRefresh();
  }, e2;
}(ci);
var vi = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2, a2) {
    var l2 = t2.call(this, e3) || this;
    return l2._row = i2, l2._values = l2._cloneValues(o2, r2, n2), l2._start = 0, l2._count = l2._values.length, l2._rowEvents = s2, l2._strict = a2, l2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._values = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_updateRows(this._row, this._values, this._start, this._count, this._strict, this._rowEvents, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_updateRows(this._row, this._values, this._start, this._count, this._strict, this._rowEvents, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows;
    if (i2 && !(i2.length < 1)) {
      for (var o2 = e3.values, r2 = e3.states, n2 = e3.orgValues, s2 = 0; s2 < i2.length; s2++) {
        var a2 = i2[s2];
        t3.$_restoreRow(a2, o2[s2], r2[s2], n2[s2]);
      }
      t3._fireRefresh();
    }
  }, e2;
}(ci);
var wi = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rows = i2.slice(), r2._rowEvents = o2, r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return this._softDeleting = t3.softDeleting, t3.$_removeRows(this._rows, this._rowEvents, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.softDeleting;
    try {
      this._setSoftDeleting(t3, this._softDeleting), t3.$_removeRows(this._rows, this._rowEvents, null);
    } finally {
      this._setSoftDeleting(t3, i2);
    }
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows, o2 = e3.statedRows;
    if (!(i2.length < 1 && o2.length < 1)) {
      for (var r2 = e3.rowSaves, n2 = e3.states, s2 = 0; s2 < i2.length; s2++) {
        var a2 = i2[s2], l2 = r2[s2];
        t3.$_internalInsertRow(a2, l2.values, true), t3._yieldRow(a2, l2, false);
      }
      i2.length && t3._fireRowCountChanged();
      for (s2 = 0; s2 < o2.length; s2++) {
        a2 = o2[s2];
        t3._yieldState(a2, n2[s2]);
      }
      o2.length && t3.fireRowStatesChanged(o2, true), i2.length > 0 && t3._fireRefresh();
      for (s2 = 0; s2 < i2.length; s2++) {
        a2 = i2[s2];
        var h2 = r2[s2];
        t3._yieldCommandStates(a2, h2.outer);
      }
    }
  }, e2;
}(ci);
var Ci = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2) {
    var a2 = t2.call(this, e3) || this;
    return a2._row = i2, a2._values = a2._cloneValues(o2, r2, n2), a2._start = 0, a2._count = a2._values.length, a2._rowEvents = s2, a2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    return t3.$_insertRows(this._row, this._values, this._start, this._count, this._rowEvents), {};
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_insertRows(this._row, this._values, this._start, this._count, this._rowEvents);
  }, e2.prototype._doUndo = function(t3, e3) {
    if (!this._rows) {
      this._rows = [];
      for (var i2 = 0; i2 < this._values.length; i2++) this._rows.push(this._row + i2);
    }
    var o2 = t3.softDeleting;
    try {
      this._setSoftDeleting(t3, false), t3.$_removeRows(this._rows, false, null);
    } finally {
      this._setSoftDeleting(t3, o2);
    }
  }, e2;
}(ci);
function xi(t2, e2) {
  return t2 && t2.getAttribute(e2);
}
var Ii = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.csvToArray = function(t3, e3, i2, o2, r2, n2) {
    void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false), void 0 === n2 && (n2 = ",");
    for (var s2 = [], a2 = [], l2 = e3.length, h2 = 0, u2 = [], c2 = false, d2 = false; h2 < l2; ) {
      var p2 = e3.charAt(h2);
      '"' == p2 ? c2 ? d2 && '"' == e3.charAt(h2 + 1) ? (u2.push(p2), h2++) : d2 ? (d2 = false, !r2 && u2.push(p2)) : u2.push(p2) : (c2 = d2 = true, !r2 && u2.push(p2)) : d2 || p2 != n2 && "\r" != p2 && "\n" != p2 ? (c2 = true, u2.push(p2)) : (p2 == n2 ? a2.push(u2.join("")) : "\r" != p2 && "\n" != p2 || (a2.push(u2.join("")), s2.push(a2), a2 = [], "\n" == e3.charAt(h2 + 1) && h2++), u2 = [], c2 = false), h2++;
    }
    d2 && u2.splice(0, 0, '"'), u2.length > 0 && a2.push(u2.join("")), a2.length > 0 && s2.push(a2), i2 > 0 && (o2 <= 0 ? s2.splice(0, i2) : s2 = s2.splice(i2, o2));
    for (var f2 = t3.getFields(), _2 = f2.length, g2 = _2 > 0, y2 = 0, m2 = s2.length; y2 < m2; y2++) {
      a2 = s2[y2], g2 && a2.length > _2 && (a2.length = _2);
      for (var b2 = 0; b2 < _2; b2++) a2[b2] = f2[b2].readValue(a2[b2]);
    }
    return s2;
  }, e2.xmlToRow = function(t3, e3, i2) {
    for (var o2 = t3.childNodes, r2 = e3.length, n2 = new Array(r2), s2 = 0, a2 = o2.length; s2 < a2; s2++) {
      var l2, h2 = o2[s2];
      if ((l2 = i2.indexOf(h2.tagName)) >= 0) {
        var u2 = h2.nodeValue;
        null == u2 && h2.hasChildNodes() && (u2 = Ot.included(h2.childNodes[0].nodeType, 3, 4) ? h2.childNodes[0].nodeValue : void 0), null != u2 && (n2[l2] = u2);
      }
    }
    for (s2 = 0; s2 < r2; s2++) if (void 0 === n2[s2]) {
      var c2 = xi(t3, i2[s2]);
      null != c2 && (n2[s2] = c2);
    }
    return n2;
  }, e2.xmlToArray = function(t3, i2, o2, r2) {
    void 0 === o2 && (o2 = 0), void 0 === r2 && (r2 = -1);
    var n2 = null, s2 = e2.xmlToRow, a2 = i2 ? i2.length : 0;
    if (a2 && (o2 = Math.max(0, o2), r2 < 0 && (r2 = a2), r2 = Math.min(a2 - o2, r2))) {
      var l2 = t3.getFields(), h2 = t3.getOrgFieldNames();
      l2.length, n2 = new Array(r2);
      for (var u2 = 0; u2 < r2; u2++) {
        var c2 = s2(i2[u2 + o2], l2, h2);
        n2[u2] = c2;
      }
    }
    return n2;
  }, e2;
}(Ft);
var Ei = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._row = i2, r2._newRow = o2, r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    t3.$_moveRow(this._row, this._newRow);
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_moveRow(this._row, this._newRow);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3.$_moveRow(this._newRow, this._row);
  }, e2;
}(ci);
var Si = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._row = i2, n2._count = o2, n2._newRow = r2, n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    t3.$_moveRows(this._row, this._count, this._newRow);
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_moveRows(this._row, this._count, this._newRow);
  }, e2.prototype._doUndo = function(t3, e3) {
    t3.$_moveRows(this._newRow, this._count, this._row);
  }, e2;
}(ci);
var Oi = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    r2._rows = i2, r2._newRows = i2.slice();
    for (var n2 = o2 - i2[0], s2 = 0; s2 < i2.length; s2++) r2._newRows[s2] += n2;
    return r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return e3.result = t3.$_moveRowList(this._rows, this._newRows[0]), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    return t3.$_moveRowList(this._rows, this._newRows[0]);
  }, e2.prototype._doUndo = function(t3, e3) {
    return t3.$_moveRowList(this._newRows, this._rows[0]);
  }, e2;
}(ci);
var Ri = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowFields = Ot.deepCopy(i2), r2._value = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_fillValue(this._rowFields, this._value, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_fillValue(this._rowFields, this._value, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows;
    if (!(i2.length < 1)) {
      for (var o2 = e3.values, r2 = e3.states, n2 = e3.orgValues, s2 = 0; s2 < i2.length; s2++) {
        var a2 = i2[s2];
        t3.$_restoreRow(a2, o2[s2], r2[s2], n2[s2]);
      }
      t3._fireRefresh();
    }
  }, e2;
}(ci);
var Pi = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    void 0 === o2 && (o2 = false), void 0 === r2 && (r2 = null), void 0 === n2 && (n2 = St.NONE);
    var s2 = t2.call(this, e3) || this;
    return s2._newCount = i2, s2._oldCount = e3.rowCount, s2._fillDefaults = o2, s2._defaultValues = r2, s2._rowState = n2, s2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_setRowCount(this._newCount, this._fillDefaults, this._defaultValues, this._rowState, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_setRowCount(this._newCount, this._fillDefaults, this._defaultValues, this._rowState, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    if (this._oldCount < this._newCount) t3.$_setRowCount(this._oldCount);
    else if (this._oldCount > this._newCount) {
      var i2 = e3.rows, o2 = e3.statedRows;
      if (i2.length < 1 && o2.length < 1) return;
      for (var r2 = e3.rowSaves, n2 = e3.states, s2 = 0; s2 < i2.length; s2++) {
        var a2 = i2[s2], l2 = r2[s2];
        t3.$_internalInsertRow(a2, l2.values, true), t3._yieldRow(a2, l2, false);
      }
      for (s2 = 0; s2 < o2.length; s2++) {
        a2 = o2[s2];
        t3._yieldState(a2, n2[s2]);
      }
      t3._fireRefresh();
      for (s2 = 0; s2 < i2.length; s2++) {
        a2 = i2[s2];
        var h2 = r2[s2];
        t3._yieldCommandStates(a2, h2.outer);
      }
    }
  }, e2;
}(ci);
var ki = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._values = Ot.deepCopy(i2), n2._rowEvents = o2, n2._strict = r2, n2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._values = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_updateRows2(this._values, this._strict, this._rowEvents, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_updateRows2(this._values, this._strict, this._rowEvents, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows;
    if (i2 && !(i2.length < 1)) {
      for (var o2 = e3.values, r2 = e3.states, n2 = e3.orgValues, s2 = 0; s2 < i2.length; s2++) {
        var a2 = i2[s2];
        t3.$_restoreRow(a2, o2[s2], r2[s2], n2[s2]);
      }
      t3._fireRefresh();
    }
  }, e2;
}(ci);
var Di = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, e3) || this;
    return s2._rows = i2.slice(), s2._state = o2, s2._force = r2, s2._rowEvents = n2, s2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    for (var e3 = {}, i2 = 0; i2 < this._rows.length; i2++) {
      var o2 = this._rows[i2];
      e3[o2] = t3._keepStates(o2);
    }
    return t3.$_setRowStates(this._rows, this._state, this._force, this._rowEvents), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_setRowStates(this._rows, this._state, this._force, this._rowEvents);
  }, e2.prototype._doUndo = function(t3, e3) {
    for (var i2 = [], o2 = this._rows.length; o2--; ) {
      var r2 = this._rows[o2];
      t3._yieldStates(r2, e3[r2]), e3[r2].state !== this._state && (this._rowEvents ? t3.fireRowStateChanged(r2, this._state) : i2.push(r2));
    }
    i2.length > 0 && t3.fireRowStatesChanged(i2, Pt(this._state));
  }, e2;
}(ci);
var Ti = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2._rows = i2 && i2.slice(), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rows = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_restoreUpdatedRows(this._rows, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_restoreUpdatedRows(this._rows, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows;
    if (i2 && !(i2.length < 1)) {
      for (var o2 = 0; o2 < i2.length; o2++) {
        var r2 = i2[o2], n2 = e3[r2], s2 = n2.values, a2 = n2.state, l2 = n2.orgValues;
        t3.$_restoreRow(r2, s2, a2, l2);
      }
      t3._fireRefresh();
    }
  }, e2;
}(ci);
var Mi = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._points = [], o2._nextPoint = 0, o2._values = [], o2._rowIds = [], o2._rowStates = [], o2._orgValues = null, o2._needRestore = false, o2._deletedCount = 0, o2._nextRowId = 0, o2._hiddenIds = [], o2.$_handler = i2, e3 && (o2.undoable = true, o2._commands = new di(o2)), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._commands = this._commands && this._commands.dispose(), this._values = this._rowIds = this._rowStates = this._points = this._orgValues = this._hiddenIds = [], t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "handler", { get: function() {
    return this.$_handler;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoable", { get: function() {
    return this._undoable && !!this._commands;
  }, set: function(t3) {
    t3 != this.undoable && (this._undoable = t3, this._commands && this._commands.flush());
  }, enumerable: false, configurable: true }), e2.prototype.getDataRow = function(t3) {
    return this._rowIds.indexOf(t3);
  }, Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._values.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deletedCount", { get: function() {
    return this._deletedCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._commands && this._commands.canUndo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._commands && this._commands.canRedo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._commands && this._commands.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._commands && this._commands.redoing;
  }, enumerable: false, configurable: true }), e2.prototype.getRowId = function(t3) {
    return this._rowIds[t3];
  }, e2.prototype.$_internalInsertField = function(e3, i2) {
    if ((e3 = t2.prototype.$_internalInsertField.call(this, e3, i2)) >= 0) {
      for (var o2 = this._values.length, r2 = 0; r2 < o2; r2++) {
        (n2 = this._values[r2]) && n2.splice(e3, 0, void 0);
      }
      if (this._orgValues) {
        o2 = Math.min(o2, this._orgValues.length);
        for (r2 = 0; r2 < o2; r2++) {
          var n2;
          (n2 = this._orgValues[r2]) && n2.splice(e3, 0, void 0);
        }
      }
    }
    return e3;
  }, e2.prototype.$_internalRemoveField = function(e3) {
    try {
      var i2 = e3.index;
      if (i2 >= 0) {
        for (var o2 = 0, r2 = this._values; o2 < r2.length; o2++) {
          (a2 = r2[o2]) && a2.splice(i2, 1);
        }
        if (this._orgValues) for (var n2 = 0, s2 = this._orgValues; n2 < s2.length; n2++) {
          var a2;
          (a2 = s2[n2]) && a2.splice(i2, 1);
        }
      }
      t2.prototype.$_internalRemoveField.call(this, e3);
    } catch (t3) {
      throw t3;
    }
  }, e2.prototype.$_internalClearFields = function() {
    t2.prototype.$_internalClearFields.call(this), this.$_clearRows();
  }, e2.prototype.setRowCount = function(t3, e3, i2, o2) {
    void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = null), void 0 === o2 && (o2 = St.NONE), this.undoable ? this._commands.execute(new Pi(this, t3, e3, i2, o2)) : this.$_setRowCount(t3, e3, i2, o2);
  }, e2.prototype.$_setRowCount = function(t3, e3, i2, o2, r2) {
    if (void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = null), void 0 === o2 && (o2 = St.NONE), void 0 === r2 && (r2 = null), this._checkClientState()) {
      var n2 = this._values, s2 = n2.length, a2 = Math.max(0, t3);
      if (a2 != s2) {
        var l2 = this._rowIds, h2 = this._rowStates;
        if (this.refreshFieldFormats(), r2 && (r2.rows = [], r2.rowSaves = [], r2.statedRows = [], r2.states = []), a2 > s2 && (e3 || i2)) {
          var u2 = this.fieldCount, c2 = i2;
          if (!c2 || c2 instanceof Array || (c2 = this.objectToRow(c2)), c2 && c2.length < 1 && (c2 = null), e3 || c2) for (var d2 = c2 ? Math.min(c2.length, u2) : 0, p2 = s2; p2 < a2; p2++) {
            var f2 = [];
            if (e3) for (var _2 = 0; _2 < u2; _2++) {
              var g2 = this.getField(_2);
              f2[_2] = void 0 !== g2.defaultValue ? g2.defaultValue : g2.nullValue;
            }
            if (d2 > 0) for (_2 = 0; _2 < d2; _2++) {
              var y2 = c2[_2];
              void 0 !== y2 && (f2[_2] = this.getField(_2).readValue(y2));
            }
            n2[p2] = f2;
          }
        } else if (a2 > s2) for (p2 = s2; p2 < a2; p2++) n2[p2] = [];
        else if (a2 < s2) {
          if (r2) for (p2 = a2; p2 < s2; p2++) {
            var m2 = p2;
            r2.statedRows.push(m2), r2.states.push(h2[p2]), r2.rows.push(m2), r2.rowSaves.push(this._keepRow(m2));
          }
          if (this._deletedCount > 0) for (p2 = s2 - 1; p2 >= a2; p2--) Pt(h2[p2]) && this._deletedCount--;
        }
        o2 = this.checkStates && o2 ? o2 : St.NONE, n2.length = l2.length = h2.length = a2, this._orgValues && this._orgValues.length > a2 && (this._orgValues.length = a2);
        for (p2 = s2; p2 < a2; p2++) h2[p2] = o2, l2[p2] = this._nextRowId++;
        for (p2 = this._hiddenIds.length - 1; p2 >= 0; p2--) {
          _2 = this._hiddenIds[p2];
          l2.indexOf(_2) < 0 && this._hiddenIds.splice(p2, 1);
        }
        this.tags.setRowCount(a2), this._fireRefresh(), this._fireRowCountChanged();
      }
    }
  }, e2.prototype.$_clearRows = function() {
    this._values.length = 0, this._values = [], this._rowIds.length = 0, this._rowIds = [], this._rowStates.length = 0, this._rowStates = [], this._hiddenIds.length = 0, this._hiddenIds = [], this._orgValues ? (this._orgValues.length = 0, this._orgValues = []) : this._orgValues = null, this._deletedCount = 0, this.clearCommandStack(), this.tags.clearRows();
  }, e2.prototype.clearRows = function() {
    this._checkClientState() && (this.$_clearRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated());
  }, e2.prototype.setRows = function(t3, e3, i2) {
    if (void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), this._checkClientState() && 0 != i2) {
      this.refreshFieldFormats(), this.beginUpdate();
      try {
        this.$_clearRows();
        var o2 = this.checkStates, r2 = this.filters, n2 = this.filterRuntime, s2 = void 0;
        if (t3 && (s2 = t3.length) > 0 && e3 < s2) if (e3 = Math.max(0, e3), i2 = i2 < 0 ? s2 : Math.min(i2, s2 - e3), r2) {
          this._values.length = this._rowIds.length = this._rowStates.length = i2, r2.prepare(n2, this);
          for (var a2 = s2, l2 = 0, h2 = 0, u2 = e3; u2 < a2 && l2 < i2; u2++) {
            (c2 = t3[u2]) instanceof Array || (c2 = this.objectToRow(c2)), r2.select(n2, h2++, c2) && this.$_internalSetRow(l2++, c2, o2);
          }
          this._values.length = this._rowIds.length = this._rowStates.length = l2;
        } else {
          if ((a2 = Math.min(s2, e3 + i2)) > e3) {
            this._values.length = this._rowIds.length = this._rowStates.length = a2 - e3;
            for (l2 = 0, u2 = e3; u2 < a2; u2++) {
              var c2;
              (c2 = t3[u2]) instanceof Array || (c2 = this.objectToRow(c2)), this.$_internalSetRow(l2++, c2, o2);
            }
          }
        }
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
      this.tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated();
    }
  }, e2.prototype.setXmlRows = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), this._checkClientState() && 0 != i2 && (t3 = Ii.xmlToArray(this, t3, e3, i2), this.setRows(t3));
  }, e2.prototype.insertRows = function(t3, e3, i2, o2, r2) {
    void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false), this.undoable ? this._commands.execute(new Ci(this, t3, e3, i2, o2, r2)) : this.$_insertRows(t3, e3, i2, o2, r2);
  }, e2.prototype.$_insertRows = function(t3, e3, i2, o2, r2) {
    if (this._checkClientState() && e3) {
      var n2 = e3.length;
      if (!(n2 < 1) && 0 != (o2 = o2 < 0 ? n2 : Math.min(n2, o2))) {
        if (t3 < 0 || t3 > this._values.length) throw new Ze(Ge.messages.rowOutOfBounds + t3);
        this.refreshFieldFormats(), i2 = Math.max(0, i2);
        var s2 = Math.min(n2, i2 + o2);
        if (r2) for (var a2 = t3, l2 = i2; l2 < s2; l2++) {
          (h2 = e3[l2]) instanceof Array || (h2 = this.objectToRow(h2)), this.fireRowInserting(a2, h2) && (this.$_internalInsertRow(a2, h2, true, null), this.fireRowInserted(a2), this._fireRowCountChanged(), a2++);
        }
        else {
          for (a2 = t3, l2 = i2; l2 < s2; l2++, a2++) {
            var h2;
            (h2 = e3[l2]) instanceof Array || (h2 = this.objectToRow(h2)), this.$_internalInsertRow(a2, h2, false, null);
          }
          this.tags.insertRows(t3, o2 = s2 - i2), this.fireRowsInserted(t3, o2), this._fireRowCountChanged();
        }
      }
    }
  }, e2.prototype.appendRows = function(t3, e3, i2, o2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), void 0 === o2 && (o2 = false), this.insertRows(this.rowCount, t3, e3, i2, o2);
  }, e2.prototype.insertRowsFrom = function(t3, e3, i2, o2) {
    for (var r2 = [], n2 = 0, s2 = i2; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      r2.push(t3.getRowObject(a2));
    }
    if (e3) for (var l2 = i2.length - 1; l2 >= 0; l2--) r2[l2] = this._convertValues(r2[l2], e3);
    this.insertRows(o2, r2);
  }, e2.prototype.appendRowsFrom = function(t3, e3, i2) {
    this.insertRowsFrom(t3, e3, i2, this.rowCount);
  }, e2.prototype.insertXmlRows = function(t3, e3, i2, o2, r2) {
    void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false), this._checkClientState() && (e3 = Ii.xmlToArray(this, e3, i2, o2), this.insertRows(t3, e3, 0, -1, r2));
  }, e2.prototype.appendXmlRows = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = false), this.insertXmlRows(this.rowCount, t3, e3, i2, o2);
  }, e2.prototype.fillValue = function(t3, e3) {
    if (this.undoable) return this._commands.execute(new Ri(this, t3, e3));
    this.$_fillValue(t3, e3);
  }, e2.prototype.updateRows = function(t3, e3, i2, o2, r2, n2) {
    if (void 0 === n2 && (n2 = false), this.undoable) return this._commands.execute(new vi(this, t3, e3, i2, o2, n2, r2));
    this.$_updateRows(t3, e3, i2, o2, r2, n2);
  }, e2.prototype.updateRows2 = function(t3, e3, i2) {
    if (this.undoable) return this._commands.execute(new ki(this, t3, i2, e3));
    this.$_updateRows2(t3, e3, i2);
  }, e2.prototype.updateXmlRows = function(t3, e3, i2, o2, r2) {
    void 0 === r2 && (r2 = false), this._checkClientState() && (e3 = Ii.xmlToArray(this, e3, i2, o2), this.updateRows(t3, e3, 0, -1, r2));
  }, e2.prototype.getValue = function(t3, e3) {
    this.$_checkRowIndex(t3), this._checkFieldIndex(e3);
    var i2 = this._values[t3];
    return i2 ? i2[e3] : void 0;
  }, e2.prototype.setValue = function(t3, e3, i2) {
    return this.undoable ? this._commands.execute(new pi(this, t3, e3, i2)) : this.$_setValue(t3, e3, i2);
  }, e2.prototype.$_setValue = function(t3, e3, i2) {
    if (!this._checkClientState()) return false;
    this.$_checkRowIndex(t3), this._checkFieldIndex(e3);
    var o2 = this.getField(e3), r2 = this._rowStates[t3];
    if (!o2) throw new Ze(Ge.messages.fieldIndexOutOfBounds + e3);
    if (!o2.updatable && (r2 == St.NONE || r2 == St.UPDATED)) return false;
    var n2, s2 = this._values[t3], a2 = o2.readValue(i2);
    if (s2 && o2.equalValues(a2, s2[e3])) return false;
    this.refreshFieldFormat(o2);
    var l2 = this.checkStates && (r2 == St.NONE || !r2);
    return s2 || (this._values[t3] = s2 = new Array(this.fieldCount)), l2 && this._orgValues && (n2 = s2.concat()), s2[e3] = a2, this._internalCalculateValues(s2, t3), l2 ? (n2 && (this._orgValues[t3] = n2), this.$_changeRowState(t3, St.UPDATED, true)) : this._needRestore && this.restoreState(t3), this.tags.setValue(t3, e3), this.fireValueChanged(t3, e3), true;
  }, e2.prototype.updateRow = function(t3, e3, i2) {
    return this.undoable ? this._commands.execute(new fi(this, t3, e3, i2)) : this.$_updateRow(t3, e3, i2);
  }, e2.prototype.getRow = function(t3) {
    this.$_checkRowIndex(t3);
    var e3 = this._values[t3];
    return e3 ? e3.slice() : [];
  }, e2.prototype.getRows = function(t3, e3) {
    void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = -1);
    var i2 = this._values.length, o2 = Math.max(0, t3), r2 = e3 < 0 ? i2 - 1 : Math.min(i2 - 1, e3);
    if (o2 >= i2 || r2 < o2) return [];
    for (var n2 = r2 - o2 + 1, s2 = new Array(n2), a2 = 0; a2 < n2; a2++) s2[a2] = this._values[a2 + o2] ? this._values[a2 + o2].slice() : [];
    return s2;
  }, e2.prototype.getRowObject = function(t3, e3) {
    return this.$_checkRowIndex(t3), this.$_getRowObject(t3, e3);
  }, e2.prototype.getRowObjects = function(t3, e3, i2) {
    void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = -1);
    var o2 = this._values.length, r2 = Math.max(0, t3), n2 = e3 < 0 ? o2 - 1 : Math.min(o2 - 1, e3);
    if (r2 >= o2 || n2 < r2) return [];
    for (var s2 = n2 - r2 + 1, a2 = new Array(s2), l2 = 0; l2 < s2; l2++) a2[l2] = this.$_getRowObject(l2 + r2, i2);
    return a2;
  }, e2.prototype.getOutputObject = function(t3, e3) {
    var i2 = this.getRowObject(e3, null == t3 ? void 0 : t3.rowState);
    return t3 && this.$_createOutputRows([i2], t3, e3), i2;
  }, e2.prototype.getOutputObjects = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1);
    var o2 = this.getRowObjects(e3, i2, null == t3 ? void 0 : t3.rowState);
    return t3 && this.$_createOutputRows(o2, t3, e3), o2;
  }, e2.prototype.getFieldValues = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), this._checkFieldIndex(t3);
    var o2 = this._values.length;
    if (i2 = i2 < 0 ? o2 - 1 : Math.min(o2 - 1, i2), (e3 = Math.max(0, e3)) >= o2 || i2 < e3) return null;
    for (var r2 = new Array(i2 - e3 + 1), n2 = e3; n2 <= i2; n2++) {
      var s2 = this._values[n2];
      r2[n2 - e3] = s2 && s2[t3];
    }
    return r2;
  }, e2.prototype.hasData = function(t3) {
    var e3 = this._values;
    return t3 >= 0 && t3 < e3.length && void 0 !== e3[t3] && e3[t3].length > 0;
  }, e2.prototype.insertRow = function(t3, e3) {
    return this.undoable ? this._commands.execute(new _i(this, t3, e3)) : this.$_insertRow(t3, e3);
  }, e2.prototype.$_insertRow = function(t3, e3, i2) {
    if (void 0 === i2 && (i2 = void 0), !this._checkClientState()) return false;
    if (t3 < 0 || t3 > this._values.length) throw new Ze(Ge.messages.rowOutOfBounds + t3);
    return this.refreshFieldFormats(), !(!e3 || !this.fireRowInserting(t3, e3)) && (Ot.isArray(e3) || (e3 = this.objectToRow(e3)), this.$_internalInsertRow(t3, e3, true, null), i2 && this._yieldStates(t3, i2), this.fireRowInserted(t3), this._fireRowCountChanged(), true);
  }, e2.prototype.appendRow = function(t3) {
    var e3 = this.rowCount;
    return this.insertRow(e3, t3) ? e3 : -1;
  }, e2.prototype.removeRow = function(t3) {
    if (this.undoable) {
      if (this.softDeleting && this.checkStates) switch (this._rowStates[t3]) {
        case St.CREATED:
          if (!this.deleteCreated) return this._commands.execute(new mi(this, t3, St.CREATE_AND_DELETED));
          break;
        case St.DELETED:
        case St.CREATE_AND_DELETED:
          return;
        default:
          return this._commands.execute(new mi(this, t3, St.DELETED));
      }
      return this._commands.execute(new gi(this, t3));
    }
    return this.$_removeRow(t3);
  }, e2.prototype.$_removeRow = function(t3) {
    if (!this._checkClientState()) return false;
    if (this.$_checkRowIndex(t3), this.softDeleting && this.checkStates) {
      switch (this._rowStates[t3]) {
        case St.CREATED:
          this.deleteCreated ? this.$_deleteRow(t3) : this.$_changeRowState(t3, St.CREATE_AND_DELETED, true, true);
          break;
        case St.DELETED:
        case St.CREATE_AND_DELETED:
          break;
        default:
          this.$_changeRowState(t3, St.DELETED, true, true);
      }
      return true;
    }
    return this.$_deleteRow(t3);
  }, e2.prototype.removeRows = function(t3, e3) {
    void 0 === e3 && (e3 = false), this.undoable ? this._commands.execute(new wi(this, t3, e3)) : this.$_removeRows(t3, e3, null);
  }, e2.prototype.$_removeRows = function(t3, e3, i2) {
    if (this._checkClientState()) {
      var o2, r2 = this.deleteCreated;
      if (t3 && !((o2 = t3.length) < 1)) {
        if (t3 = t3.slice(), i2 && (i2.rows = [], i2.rowSaves = [], i2.statedRows = [], i2.states = []), this.softDeleting && this.checkStates) {
          for (var n2 = e3 ? null : [], s2 = o2; s2--; ) {
            var a2 = t3[s2], l2 = this._rowStates[a2], h2 = false;
            switch (this.$_checkRowIndex(a2), l2) {
              case St.CREATED:
                r2 || (i2 && (i2.statedRows.push(a2), i2.states.push(l2)), h2 = this.$_changeRowState(a2, St.CREATE_AND_DELETED, e3, false), t3.splice(s2, 1));
                break;
              case St.DELETED:
              case St.CREATE_AND_DELETED:
                t3.splice(s2, 1);
                break;
              default:
                i2 && (i2.statedRows.push(a2), i2.states.push(l2)), h2 = this.$_changeRowState(a2, St.DELETED, e3, false), t3.splice(s2, 1);
            }
            n2 && h2 && n2.push(a2);
          }
          e3 || n2 && n2.length > 0 && this.fireRowStatesChanged(n2, true);
        }
        if ((o2 = t3.length) > 0) {
          if (o2 > 1 && t3.sort(function(t4, e4) {
            return t4 - e4;
          }), i2) for (s2 = 0; s2 < o2; s2++) {
            a2 = t3[s2];
            i2.rows.push(a2), i2.rowSaves.push(this._keepRow(a2));
          }
          if (e3) for (s2 = o2; s2--; ) {
            a2 = t3[s2];
            this.$_checkRowIndex(a2), this.$_deleteRow(a2);
          }
          else if (this.fireRowsRemoving(t3)) {
            for (s2 = o2; s2--; ) {
              a2 = t3[s2], l2 = this._rowStates[a2];
              this.$_checkRowIndex(a2), this.$_internalRemoveRow(a2), Pt(l2) && this._deletedCount--;
            }
            this.tags.removeRows(t3), this.fireRowsRemoved(t3), this._fireRowCountChanged();
          }
        }
      }
    }
  }, e2.prototype.moveRow = function(t3, e3) {
    if (t3 != e3) return this.undoable ? this._commands.execute(new Ei(this, t3, e3)) : void this.$_moveRow(t3, e3);
  }, e2.prototype.$_moveRow = function(t3, e3) {
    this._checkClientState() && (this.$_checkRowIndex(t3), this.$_checkRowIndex(e3), this.fireRowMoving(t3, e3) && (this.$_internalMoveRow(t3, e3), this.tags.moveRow(t3, e3), this.fireRowMoved(t3, e3)));
  }, e2.prototype.moveRows = function(t3, e3, i2) {
    if (!(e3 < 1 || t3 == i2)) return this.undoable ? this._commands.execute(new Si(this, t3, e3, i2)) : void this.$_moveRows(t3, e3, i2);
  }, e2.prototype.$_moveRows = function(t3, e3, i2) {
    this._checkClientState() && (this.$_checkRowIndex(t3), this.$_checkRowIndex(i2), this.fireRowsMoving(t3, e3, i2) && (this.$_internalMoveRows(t3, e3, i2), this.tags.moveRows(t3, e3, i2), this.fireRowsMoved(t3, e3, i2)));
  }, e2.prototype.moveRowList = function(t3, e3) {
    if (t3 && !(t3.length < 1)) return t3 = t3.sort(function(t4, e4) {
      return t4 - e4;
    }), this.undoable ? this._commands.execute(new Oi(this, t3, e3)) : this.$_moveRowList(t3, e3);
  }, e2.prototype.$_moveRowList = function(t3, e3) {
    if (this._checkClientState()) {
      var i2 = t3[0];
      return this.$_checkRowIndex(i2), this.$_checkRowIndex(e3), this.fireRowListMoving(t3, e3) ? (this.$_internalMoveRowList(t3, e3), this.tags.moveRowList(t3, e3), this.fireRowListMoved(t3, e3), true) : void 0;
    }
  }, e2.prototype.getRowState = function(t3) {
    return this.$_checkRowIndex(t3), this._rowStates[t3] || St.NONE;
  }, e2.prototype.$_checkDeleted = function(t3, e3) {
    Pt(e3) ? this._deletedCount++ : Pt(t3) && !Pt(e3) && this._deletedCount--;
  }, e2.prototype.setRowState = function(t3, e3, i2) {
    return this.undoable ? this._commands.execute(new yi(this, t3, e3, i2)) : this.$_setRowState(t3, e3, i2);
  }, e2.prototype.$_setRowState = function(t3, e3, i2) {
    this._checkClientState() && (this.$_checkRowIndex(t3), this._orgValues ? this.$_changeRowStateEx(t3, e3, true, i2) : this.$_changeRowState(t3, e3, true, i2));
  }, e2.prototype.setRowStates = function(t3, e3, i2, o2) {
    return void 0 === o2 && (o2 = false), this.undoable ? this._commands.execute(new Di(this, t3, e3, i2, o2)) : this.$_setRowStates(t3, e3, i2, o2);
  }, e2.prototype.$_setRowStates = function(t3, e3, i2, o2) {
    var r2;
    if ((void 0 === o2 && (o2 = false), this._checkClientState()) && (t3 && !((r2 = t3.length) < 1))) if (o2) for (var n2 = 0; n2 < r2; n2++) {
      var s2 = t3[n2];
      this.$_checkRowIndex(s2), this.$_changeRowStateEx(s2, e3, true, i2);
    }
    else {
      var a2 = [], l2 = this._rowStates;
      for (n2 = 0; n2 < r2; n2++) {
        var h2 = l2[s2 = t3[n2]];
        this.$_checkRowIndex(s2), e3 != h2 && (l2[s2] = e3, a2.push(s2), this.$_checkDeleted(h2, e3), this._orgValues && this.prepareOrgValues(s2, h2, e3));
      }
      a2.length > 0 && this.fireRowStatesChanged(a2);
    }
  }, e2.prototype.clearRowStates = function(t3, e3) {
    void 0 === e3 && (e3 = false), this.undoable ? this._commands.execute(new bi(this, t3, e3)) : this.$_clearRowStates(t3, e3);
  }, e2.prototype.$_clearRowStates = function(t3, e3, i2) {
    if (void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = false), this._checkClientState()) {
      for (var o2 = [], r2 = i2 ? this._rowStates.slice() : null, n2 = i2 ? [] : null, s2 = i2 ? this._rowIds.slice() : null, a2 = this._rowStates.length; a2--; ) {
        var l2 = this._rowStates[a2];
        switch (n2 && (n2[a2] = null), l2) {
          case St.CREATE_AND_DELETED:
          case St.DELETED:
            if (t3) {
              if (o2.push(a2), n2) {
                var h2 = this._keepRow(a2);
                h2 && (n2[a2] = h2.values);
              }
              e3 ? this.$_deleteRow(a2) : (this.$_internalRemoveRow(a2), this.tags.removeRow(a2), this._deletedCount--);
            } else this.$_changeRowState(a2, St.NONE, e3);
            break;
          default:
            this.$_changeRowState(a2, St.NONE, e3);
        }
      }
      return this.$_resetOrgValues(), e3 || (o2.length > 0 && (this.fireRowsRemoved(o2), this._fireRowCountChanged()), this.fireRowStatesCleared()), i2 ? { rows: o2, states: r2, values: n2, rowIds: s2 } : void 0;
    }
  }, e2.prototype.$_restoreStates = function(t3, e3) {
    this.fireRowStatesChanged(t3);
  }, e2.prototype.getStateRows = function(t3) {
    var e3 = [];
    if (t3) for (var i2 = 0, o2 = this._rowStates.length; i2 < o2; i2++) {
      this._rowStates[i2] == t3 && e3.push(i2);
    }
    return e3;
  }, e2.prototype.getAllStateRows = function() {
    for (var t3 = {}, e3 = t3[St.CREATED] = [], i2 = t3[St.UPDATED] = [], o2 = t3[St.DELETED] = [], r2 = t3[St.CREATE_AND_DELETED] = [], n2 = 0, s2 = this._rowStates.length; n2 < s2; n2++) {
      var a2 = this._rowStates[n2];
      a2 === St.CREATED ? e3.push(n2) : a2 === St.UPDATED ? i2.push(n2) : a2 === St.DELETED ? o2.push(n2) : a2 === St.CREATE_AND_DELETED && r2.push(n2);
    }
    return t3;
  }, e2.prototype.getRowStateCount = function(t3) {
    var e3 = t3 ? t3.length : 0, i2 = this._rowStates.length, o2 = 0;
    if (e3 && i2) if (e3 > 1) for (var r2 = 0; r2 < i2; r2++) {
      var n2 = this._rowStates[r2];
      t3.indexOf(n2) >= 0 && o2++;
    }
    else for (n2 = t3[0], r2 = 0; r2 < i2; r2++) this._rowStates[r2] === n2 && o2++;
    return o2;
  }, e2.prototype.$_restoreState = function(t3) {
    if (this._rowStates[t3] === St.UPDATED) {
      var e3 = this._orgValues[t3];
      if (e3) {
        for (var i2 = this._values[t3], o2 = this.strictRestore, r2 = 0, n2 = this.fieldCount; r2 < n2; r2++) {
          var s2 = i2.length > r2 ? i2[r2] : void 0, a2 = e3.length > r2 ? e3[r2] : void 0, l2 = this.getField(r2);
          if (o2) {
            if (!l2.equalValues(s2, a2)) return false;
          } else if (!l2.sameValues(s2, a2)) return false;
        }
        return this._rowStates[t3] = St.NONE, true;
      }
    }
    return false;
  }, e2.prototype.restoreUpdatedStates = function(t3) {
    if (this._orgValues && this._checkClientState()) {
      var e3 = [];
      if (null != t3) for (var i2 = 0, o2 = t3.length; i2 < o2; i2++) {
        var r2 = t3[i2];
        r2 >= 0 && r2 < this._values.length && this.$_restoreState(r2) && e3.push(r2);
      }
      else for (i2 = 0, o2 = this._values.length; i2 < o2; i2++) this.$_restoreState(i2) && e3.push(i2);
      e3.length > 0 && this.fireRowStatesChanged(e3);
    }
  }, e2.prototype.$_restoreUpdatedRow = function(t3, e3) {
    var i2 = this._rowStates[t3];
    if (i2 === St.UPDATED) {
      var o2 = this._orgValues[t3];
      if (o2) {
        var r2 = this._values[t3];
        if (e3) e3[t3] = { state: i2, values: r2.slice(), orgValues: o2.slice() }, (e3.rows || (e3.rows = [])).push(t3);
        for (var n2 = 0, s2 = Math.min(o2.length, this.fieldCount); n2 < s2; n2++) r2[n2] = o2[n2];
        return this._rowStates[t3] = St.NONE, true;
      }
    }
    return false;
  }, e2.prototype.$_restoreRow = function(t3, e3, i2, o2) {
    this._values[t3] = e3.slice(), this._rowStates[t3] = i2, this._orgValues && (this._orgValues[t3] = o2 && o2.slice());
  }, e2.prototype.restoreUpdatedRows = function(t3) {
    this.undoable && this._orgValues ? this._commands.execute(new Ti(this, t3)) : this.$_restoreUpdatedRows(t3);
  }, e2.prototype.$_restoreUpdatedRows = function(t3, e3) {
    if (this._orgValues && this._checkClientState()) {
      var i2 = [];
      if (null != t3) for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) {
        var n2 = t3[o2];
        n2 >= 0 && n2 < this._values.length && this.$_restoreUpdatedRow(n2, e3) && i2.push(n2);
      }
      else for (o2 = 0, r2 = this._values.length; o2 < r2; o2++) this.$_restoreUpdatedRow(o2, e3) && i2.push(o2);
      i2.length > 0 && (e3 && (e3.rows = i2.slice()), this.fireRestoreRows(i2), this.fireRowStatesChanged(i2));
    }
  }, e2.prototype._reCalculateFields = function(t3) {
    var e3 = this;
    this._values.forEach(function(i2, o2) {
      e3._internalCalculateValues(i2, o2, t3);
    });
  }, e2.prototype.getUpdatedCells = function(t3) {
    var e3 = this.restoreMode;
    if (!this._orgValues || e3 != Yt.AUTO && e3 != Yt.EXPLICIT) return null;
    if (null == t3 && (t3 = this.getStateRows(St.UPDATED)), null == t3) return null;
    for (var i2 = [], o2 = 0, r2 = t3.length; o2 < r2; o2++) {
      var n2 = t3[o2], s2 = n2 >= 0 && this._orgValues && n2 < this._orgValues.length ? this._orgValues[n2] : null;
      if (s2) {
        for (var a2 = this._values[n2], l2 = this.strictRestore, h2 = [], u2 = 0, c2 = this.fieldCount; u2 < c2; u2++) {
          var d2 = a2.length > u2 ? a2[u2] : void 0, p2 = s2.length > u2 ? s2[u2] : void 0, f2 = this.getField(u2);
          f2.calculated || (l2 ? f2.equalValues(d2, p2) || h2.push({ fieldName: this.getOrgFieldName(u2), oldValue: s2[u2], newValue: a2[u2] }) : f2.sameValues(d2, p2) || h2.push({ fieldName: this.getOrgFieldName(u2), oldValue: s2[u2], newValue: a2[u2] }));
        }
        h2.length > 0 && i2.push({ __rowId: n2, updatedCells: h2 });
      }
    }
    return i2;
  }, e2.prototype._doRestoreModeChanged = function() {
    this.$_resetOrgValues();
  }, e2.prototype.findRow = function(t3, e3, i2) {
    if (void 0 === i2 && (i2 = 0), t3.length < 1 || e3.length < t3.length) return -1;
    for (var o2 = [], r2 = [], n2 = this._values, s2 = 0, a2 = t3.length; s2 < a2; s2++) {
      var l2 = void 0;
      (l2 = "string" == typeof t3[s2] ? this.getFieldIndex(t3[s2]) : Number(t3[s2])) >= 0 && l2 < this.fieldCount && o2.indexOf(l2) < 0 && (o2.push(l2), r2.push(e3[s2]));
    }
    var h2 = o2.length;
    for (s2 = 0; s2 < h2; s2++) o2[s2] = this.getField(o2[s2]);
    for (s2 = i2, a2 = n2.length; s2 < a2; s2++) {
      var u2 = n2[s2], c2 = true;
      for (l2 = 0; l2 < h2; l2++) if (!o2[l2].equalValues(r2[l2], u2[l2])) {
        c2 = false;
        break;
      }
      if (c2) return s2;
    }
    return -1;
  }, e2.prototype.savePoint = function(t3) {
    if (void 0 === t3 && (t3 = true), this._checkClientState()) {
      var e3 = this._values, i2 = this.fieldCount, o2 = e3 ? e3.length : 0;
      if (i2 > 0 && o2 > 0) {
        for (var r2 = new Array(o2), n2 = 0; n2 < o2; n2++) {
          var s2 = e3[n2] && e3[n2].concat();
          r2[n2] = s2;
        }
        var a2 = t3 ? this._rowStates.concat() : null, l2 = this._nextPoint++;
        return this._points.push({ id: l2, data: r2, states: a2 }), l2;
      }
      return -1;
    }
  }, e2.prototype.rollback = function(t3) {
    if (this._checkClientState()) for (var e3 = this._points.length - 1; e3 >= 0; e3--) {
      var i2 = this._points[e3];
      if (i2.id == t3) {
        this.$_removeSavePoints(e3 + 1), this.setRows(i2.data);
        var o2 = i2.states;
        o2 && (this._rowStates = o2.concat());
        break;
      }
    }
  }, e2.prototype.$_removeSavePoints = function(t3) {
    for (var e3 = this._points, i2 = e3.length - 1; i2 >= t3; i2--) {
      e3[i2].data = null, e3.pop();
    }
  }, e2.prototype.clearSavePoints = function() {
    this.$_removeSavePoints(0);
  }, e2.prototype.getSavePoints = function() {
    for (var t3 = [], e3 = 0, i2 = this._points.length; e3 < i2; e3++) t3.push(this._points[e3].id);
    return t3;
  }, e2.prototype.canUpdateRow = function(t3) {
    return !(this._rowStates[t3] === St.NONE && !this.updatable);
  }, e2.prototype.canAppendRow = function() {
    return true;
  }, e2.prototype.canInsertRow = function(t3) {
    return true;
  }, e2.prototype.canDeleteRow = function(t3) {
    return true;
  }, e2.prototype.getDistinctValues = function(t3, e3, i2) {
    if (void 0 === e3 && (e3 = -1), void 0 === i2 && (i2 = l.ASCENDING), e3 = arguments.length > 1 ? e3 : -1, this._checkFieldIndex(t3), e3 < 0 && (e3 = this._values.length), e3 > 0) {
      for (var o2 = this.getField(t3).dataType, r2 = [], n2 = void 0, s2 = 0, h2 = this.rowCount; s2 < h2; s2++) switch (n2 = this._values[s2] ? this._values[s2][t3] : void 0, o2) {
        case a.NUMBER:
          null != n2 && isNaN(n2) || r2.push(n2);
          break;
        case a.DATE:
        case a.DATETIME:
          r2.push(n2 ? n2.getTime() : void 0);
          break;
        case a.OBJECT:
        default:
          r2.push(n2);
      }
      return r2 = Qe.getUniqueValues(r2, o2), i2 !== l.NONE && (r2 = Ot.included(o2, a.DATETIME, a.DATE, a.NUMBER) ? r2.sort(function(t4, e4) {
        return t4 - e4;
      }) : r2.sort(), i2 === l.DESCENDING && (r2 = r2.reverse())), r2.slice(0, e3);
    }
    return null;
  }, e2.prototype.compareValues = function(t3, e3, i2, o2, r2) {
    var n2 = this._values[e3], s2 = this._values[i2];
    if (n2 === s2) return 0;
    var a2 = n2 ? n2[t3] : null, l2 = s2 ? s2[t3] : null;
    return -1 === o2 && (a2 = "" == a2 ? null : a2, l2 = "" == l2 ? null : l2), null == a2 ? null == l2 ? 0 : -1 * o2 : null == l2 ? 1 * o2 : (a2 = r2 ? String(a2).toLowerCase() : a2) > (l2 = r2 ? String(l2).toLowerCase() : l2) ? 1 : a2 < l2 ? -1 : 0;
  }, e2.prototype.compareTexts = function(t3, e3, i2, o2) {
    return this.compareValues(t3, e3, i2, o2, true);
  }, e2.prototype.compareNumbers = function(t3, e3, i2, o2) {
    var r2 = this._values[e3], n2 = this._values[i2];
    if (r2 === n2) return 0;
    var s2 = r2 ? r2[t3] : NaN, a2 = n2 ? n2[t3] : NaN;
    return isNaN(s2) ? isNaN(a2) ? 0 : -1 * o2 : isNaN(a2) ? 1 * o2 : s2 > a2 ? 1 : s2 < a2 ? -1 : 0;
  }, e2.prototype.compareBools = function(t3, e3, i2, o2) {
    var r2 = this._values[e3], n2 = this._values[i2];
    if (r2 === n2) return 0;
    var s2 = !!r2 && Boolean(r2[t3]), a2 = !!n2 && Boolean(n2[t3]);
    return s2 && !a2 ? 1 : !s2 && a2 ? -1 : 0;
  }, e2.prototype.compareObjects = function(t3, e3, i2, o2) {
    var r2 = this._values[e3], n2 = this._values[i2];
    if (r2 === n2) return 0;
    var s2 = r2 ? r2[t3] : null, a2 = n2 ? n2[t3] : null;
    return s2 ? a2 ? this.getField(t3).$_compareObject(s2, a2, e3, i2) : 1 * o2 : a2 ? -1 * o2 : 0;
  }, e2.prototype.summarize = function(t3, e3) {
    var i2 = this.rowCount;
    if (i2 < 1) return false;
    for (var o2 = [], r2 = 0; r2 < i2; r2++) o2.push(r2);
    return this.summarizeRange(t3, o2, e3);
  }, e2.prototype.summarizeRange = function(t3, e3, i2) {
    if (null == t3 || null == e3) return false;
    t3.clear();
    var o2 = e3.length;
    if (o2 < 1) return false;
    for (var r2, n2, s2, l2 = this.getField(t3.field).dataType === a.NUMBER, h2 = 0, u2 = t3.field, c2 = 0; c2 < o2; ) {
      var d2 = e3[c2++];
      null == (y2 = (g2 = this._values[d2]) && g2[u2]) || l2 && (!l2 || isNaN(y2)) || (l2 && (r2 = h2 ? r2 + y2 : y2), (l2 || "" != y2) && h2++, (null == n2 || y2 < n2) && (n2 = y2), (null == s2 || y2 > s2) && (s2 = y2));
    }
    if (t3.count = o2, h2 > 0) if (t3.sum = r2, t3.min = n2, t3.max = s2, l2 && (t3.avg = r2 / o2), t3.dataCount = h2, l2 && (t3.dataAvg = r2 / h2), i2 && l2) {
      for (var p2 = 0, f2 = t3.avg, _2 = 0; _2 < o2; _2++) {
        var g2, y2;
        d2 = e3[_2];
        null != (y2 = (g2 = this._values[d2]) && g2[u2]) && (p2 += Math.pow(y2 - f2, 2));
      }
      t3.varsp = p2 / o2, t3.vars = p2 / (o2 - 1);
    } else t3.varsp = NaN, t3.vars = NaN;
    return true;
  }, e2.prototype._keepRow = function(t3) {
    var e3 = {};
    return e3.rowId = this._rowIds[t3], e3.values = this._values[t3] && this._values[t3].slice(), e3.state = this._rowStates[t3], e3.orgValues = this._orgValues && this._orgValues[t3] && this._orgValues[t3].slice(), e3.outer = this._keepCommandStates(t3), e3;
  }, e2.prototype._yieldRow = function(t3, e3, i2) {
    void 0 === i2 && (i2 = true), this._rowIds[t3] = e3.rowId, this._values[t3] = e3.values && e3.values.slice(), this._rowStates[t3] = e3.state, this._orgValues && (this._orgValues[t3] = e3.orgValues && e3.orgValues.slice()), i2 && this._yieldCommandStates(t3, e3.outer);
  }, e2.prototype._keepStates = function(t3) {
    var e3 = {};
    return e3.rowId = this._rowIds[t3], e3.state = this._rowStates[t3], e3.orgValues = this._orgValues && this._orgValues[t3] && this._orgValues[t3].slice(), e3;
  }, e2.prototype._yieldStates = function(t3, e3) {
    this._rowIds[t3] = e3.rowId, this._rowStates[t3] = e3.state, this._orgValues && (this._orgValues[t3] = e3.orgValues && e3.orgValues.slice());
  }, e2.prototype._keepState = function(t3) {
    return this._rowStates[t3];
  }, e2.prototype._yieldState = function(t3, e3) {
    var i2 = this._rowStates[t3];
    this._rowStates[t3] = e3, !Pt(i2) && Pt(e3) ? this._deletedCount++ : Pt(i2) && !Pt(e3) && this._deletedCount--;
  }, e2.prototype._keepOrgValues = function() {
    var t3 = this._orgValues;
    if (t3) {
      for (var e3 = [], i2 = 0; i2 < t3.length; i2++) e3.push(t3[i2] && t3[i2].slice());
      return e3;
    }
    return null;
  }, e2.prototype._yieldOrgValues = function(t3) {
    if (this._orgValues) if (t3) {
      this._orgValues = [];
      for (var e3 = 0; e3 < t3.length; e3++) this._orgValues.push(t3[e3] && t3[e3].slice());
    } else this._orgValues = t3;
  }, e2.prototype.$_checkRowIndex = function(t3) {
    if (isNaN(t3) || t3 < 0 || t3 >= this._values.length) throw Ot.isDebugging(), new Ze(Ge.messages.rowOutOfBounds + t3);
  }, e2.prototype.$_resetOrgValues = function() {
    var t3 = this.restoreMode;
    this._orgValues = this.checkStates && t3 != Yt.NONE ? [] : null, this._needRestore = this._orgValues && t3 == Yt.AUTO;
  }, e2.prototype.arrayToRow = function(t3, e3) {
    for (var i2 = Math.min(t3 ? t3.length : 0, this.fieldCount), o2 = new Array(i2), r2 = 0; r2 < i2; r2++) o2[r2] = this.getField(r2).readValue(t3[r2]);
    return this._internalCalculateValues(o2, e3), o2;
  }, e2.prototype.$_internalSetRow = function(t3, e3, i2) {
    var o2 = this.arrayToRow(e3, t3);
    this._values[t3] = o2, this._rowIds[t3] = this._nextRowId++, this.checkStates && (this._rowStates[t3] = St.NONE);
  }, e2.prototype.$_internalInsertRow = function(t3, e3, i2, o2) {
    var r2 = this.arrayToRow(e3, t3), n2 = t3 == this._values.length;
    n2 ? (this._values.push(r2), this._rowIds.push(this._nextRowId++)) : (this._values.splice(t3, 0, r2), this._rowIds.splice(t3, 0, null != o2 ? o2 : this._nextRowId++)), i2 && this.tags.insertRow(t3), n2 ? this._rowStates.push(this.checkStates ? St.CREATED : St.NONE) : (this._rowStates.splice(t3, 0, this.checkStates ? St.CREATED : St.NONE), this._orgValues && this._orgValues.splice(t3, 0, void 0));
  }, e2.prototype.$_createValue = function(t3, e3) {
    var i2 = e3.slice();
    if (Ot.isArray(t3)) for (var o2 = 0; o2 < t3.length; o2++) i2[o2] = t3[o2];
    else if (Ot.isObject(t3)) for (var r2 in t3) {
      var n2 = this.getFieldIndex(r2);
      -1 !== n2 && (i2[n2] = t3[r2]);
    }
    return i2;
  }, e2.prototype.$_updateRow = function(t3, e3, i2) {
    if (this._checkClientState()) {
      this.$_checkRowIndex(t3), this.refreshFieldFormats();
      var o2 = this.$_createValue(e3, this._values[t3]);
      return !(!e3 || !this.fireRowUpdating(t3, o2, this._values[t3].slice())) && (this.$_internalUpdateRow(t3, e3, i2, true, true), this.fireRowUpdated(t3), true);
    }
  }, e2.prototype.$_updateRows = function(t3, e3, i2, o2, r2, n2, s2) {
    if (void 0 === s2 && (s2 = null), this._checkClientState() && e3) {
      var a2 = e3.length;
      if (!(a2 < 1) && 0 != (o2 = o2 < 0 ? a2 : Math.min(a2, o2))) {
        i2 = Math.max(0, i2), this.refreshFieldFormats();
        var l2 = this.rowCount, h2 = Math.min(a2, i2 + o2);
        if (!(h2 <= i2)) if (s2 && (s2.rows = [], s2.values = [], s2.states = [], s2.orgValues = []), n2) for (var u2 = t3, c2 = i2; c2 < h2 && u2 < l2; c2++, u2++) {
          var d2 = e3[c2];
          !this._values[u2] && (this._values[u2] = new Array(this.fieldCount));
          var p2 = this.$_createValue(d2, this._values[u2]);
          this.fireRowUpdating(u2, p2, this._values[u2].slice()) && (s2 && (s2.rows.push(u2), s2.values.push(this._values[u2].slice()), s2.states.push(this._rowStates[u2]), s2.orgValues.push(this._orgValues && this._orgValues[u2])), this.$_internalUpdateRow(u2, d2, r2, true, true), this.fireRowUpdated(u2));
        }
        else {
          var f2 = [];
          for (u2 = t3, c2 = i2; c2 < h2 && u2 < l2; c2++, u2++) {
            this._rowStates[u2] == St.NONE && f2.push(u2), !this._values[u2] && (this._values[u2] = new Array(this.fieldCount)), s2 && (s2.rows.push(u2), s2.values.push(this._values[u2].slice()), s2.states.push(this._rowStates[u2]), s2.orgValues.push(this._orgValues && this._orgValues[u2]));
            d2 = e3[c2];
            this.$_internalUpdateRow(u2, d2, r2, false, false);
          }
          f2.length > 0 && this.fireRowStatesChanged(f2), this.tags.updateRows(t3, o2 = h2 - i2), this.fireRowsUpdated(t3, o2);
        }
      }
    }
  }, e2.prototype.$_updateRows2 = function(t3, e3, i2, o2) {
    var r2 = this;
    if (this._checkClientState() && t3) if (this.refreshFieldFormats(), o2 && (o2.rows = [], o2.values = [], o2.states = [], o2.orgValues = []), Object.keys(t3).forEach(function(t4) {
      return r2.$_checkRowIndex(parseInt(t4));
    }), i2) for (var n2 in t3) {
      var s2 = Number(n2), a2 = t3[n2], l2 = this.$_createValue(a2, this._values[s2]);
      !this._values[s2] && (this._values[s2] = new Array(this.fieldCount)), this.fireRowUpdating(s2, l2, this._values[n2].slice()) && (o2 && (o2.rows.push(s2), o2.values.push(this._values[s2].slice()), o2.states.push(this._rowStates[s2]), o2.orgValues.push(this._orgValues && this._orgValues[s2])), this.$_internalUpdateRow(s2, a2, e3, true, true), this.fireRowUpdated(s2));
    }
    else {
      var h2 = [], u2 = [];
      for (var n2 in t3) {
        s2 = Number(n2);
        this._rowStates[s2] == St.NONE && h2.push(s2), !this._values[s2] && (this._values[s2] = new Array(this.fieldCount)), o2 && (o2.rows.push(s2), o2.values.push(this._values[s2].slice()), o2.states.push(this._rowStates[s2]), o2.orgValues.push(this._orgValues && this._orgValues[s2]));
        a2 = t3[n2];
        this.$_internalUpdateRow(s2, a2, e3, false, false), u2.push(s2);
      }
      h2.length > 0 && this.fireRowStatesChanged(h2), this.tags.updateRowList(u2), this.fireRowListUpdated(u2);
    }
  }, e2.prototype.$_fillValue = function(t3, e3, i2) {
    if (void 0 === i2 && (i2 = null), this._checkClientState() && Object.keys(t3).length) {
      this.refreshFieldFormats(), i2 && (i2.rows = [], i2.values = [], i2.states = [], i2.orgValues = []);
      var o2 = [], r2 = [];
      for (var n2 in t3) {
        r2.push(+n2), this._rowStates[n2] == St.NONE && o2.push(+n2), !this._values[n2] && (this._values[n2] = new Array(this.fieldCount)), i2 && (i2.rows.push(n2), i2.values.push(this._values[n2].slice()), i2.states.push(this._rowStates[n2]), i2.orgValues.push(this._orgValues && this._orgValues[n2]));
        for (var s2 = this._values[n2].slice(), a2 = 0, l2 = t3[n2]; a2 < l2.length; a2++) {
          s2[l2[a2]] = e3;
        }
        this.$_internalUpdateRow(+n2, s2, false, false, false);
      }
      o2.length > 0 && this.fireRowStatesChanged(o2), this.tags.updateRowList(r2), this.fireRowListUpdated(r2);
    }
  }, e2.prototype.$_internalUpdateRow = function(t3, e3, i2, o2, r2) {
    var n2, s2 = this.getFields(), a2 = Ot.isArray(e3), l2 = Math.min(s2.length, a2 ? e3.length : s2.length), h2 = this._values[t3], u2 = this._rowStates[t3], c2 = this.checkStates && (u2 == St.NONE || !u2);
    h2 || (this._values[t3] = h2 = new Array(this.fieldCount)), c2 && this._orgValues && (n2 = Ot.deepCopy(h2));
    for (var d2 = false, p2 = 0; p2 < l2; p2++) {
      var f2 = s2[p2];
      if ((f2.updatable || u2 == St.CREATED || u2 == St.CREATE_AND_DELETED) && (a2 || e3.hasOwnProperty(f2.orgFieldName))) {
        var _2 = a2 ? e3[p2] : e3[f2.orgFieldName];
        i2 && void 0 === _2 || (d2 = !this._needRestore || (d2 || (i2 ? !f2.equalValues(h2[p2], f2.readValue(_2)) : !f2.sameValues(h2[p2], f2.readValue(_2)))), h2[p2] = f2.readValue(_2));
      }
    }
    d2 && this._internalCalculateValues(h2, t3), c2 && d2 ? (n2 && (this._orgValues[t3] = n2), this.$_changeRowState(t3, St.UPDATED, o2)) : this._needRestore && this.restoreState(t3), r2 && this.tags.updateRow(t3);
  }, e2.prototype.$_changeRowState = function(t3, e3, i2, o2) {
    if (void 0 === o2 && (o2 = false), this.checkStates || o2) {
      var r2 = this._rowStates[t3];
      if ((e3 = e3 || St.NONE) != r2) return this._rowStates[t3] = e3, !Pt(r2) && Pt(e3) ? this._deletedCount++ : Pt(r2) && !Pt(e3) && this._deletedCount--, i2 && this.fireRowStateChanged(t3, r2), true;
    }
    return false;
  }, e2.prototype.restoreState = function(t3) {
    if (this._rowStates[t3] === St.UPDATED) {
      var e3 = this._orgValues[t3];
      if (e3) {
        for (var i2 = this._values[t3], o2 = this.strictRestore, r2 = 0, n2 = this.fieldCount; r2 < n2; r2++) {
          var s2 = i2.length > r2 ? i2[r2] : void 0, a2 = e3.length > r2 ? e3[r2] : void 0;
          if (o2) {
            if (!this.getField(r2).equalValues(s2, a2)) return false;
          } else if (!this.getField(r2).sameValues(s2, a2)) return false;
        }
        return this._rowStates[t3] = St.NONE, true;
      }
    }
    return false;
  }, e2.prototype.prepareOrgValues = function(t3, e3, i2) {
    i2 == St.UPDATED ? this._orgValues[t3] = this._values[t3] ? this._values[t3].concat() : [] : e3 == St.UPDATED && this._orgValues[t3] && (this._orgValues[t3] = void 0);
  }, e2.prototype.$_changeRowStateEx = function(t3, e3, i2, o2) {
    var r2 = this._rowStates[t3];
    return !!this.$_changeRowState(t3, e3, false, o2) && (this._orgValues && this.prepareOrgValues(t3, r2, e3), i2 && this.fireRowStateChanged(t3, r2), true);
  }, e2.prototype.$_getRowObject = function(t3, e3) {
    var i2 = {}, o2 = this._values[t3];
    if (o2) {
      for (var r2 = 0; r2 < this.fieldCount; r2++) {
        i2[this.getOrgFieldName(r2)] = o2[r2];
      }
      e3 && (i2.__rowState = this.getRowState(t3));
    }
    return i2;
  }, e2.prototype.$_deleteRow = function(t3) {
    if (this.fireRowRemoving(t3)) {
      var e3 = this._rowStates[t3];
      return this.$_internalRemoveRow(t3), Pt(e3) && this._deletedCount--, this.tags.removeRow(t3), this.fireRowRemoved(t3), this._fireRowCountChanged(), true;
    }
    return false;
  }, e2.prototype.$_internalRemoveRow = function(t3) {
    var e3 = this._rowIds[t3];
    this._hiddenIds.indexOf(e3) >= 0 && this._hiddenIds.splice(this._hiddenIds.indexOf(e3), 1), this._values.splice(t3, 1), this._rowIds.splice(t3, 1), this._orgValues && this._orgValues.length > t3 && this._orgValues.splice(t3, 1), this._rowStates.splice(t3, 1);
  }, e2.prototype.$_internalMoveRow = function(t3, e3) {
    var i2 = this._values[t3], o2 = this._rowIds[t3], r2 = this._rowStates[t3];
    this._values.splice(t3, 1), this._rowIds.splice(t3, 1), this._rowStates.splice(t3, 1), this._values.splice(e3, 0, i2), this._rowIds.splice(e3, 0, o2), this._rowStates.splice(e3, 0, r2), this._orgValues && (this._orgValues.length = Math.max(this._orgValues.length, e3 + 1), i2 = this._orgValues[t3], this._orgValues.splice(t3, 1), this._orgValues.splice(e3, 0, i2));
  }, e2.prototype.$_internalMoveRows = function(t3, e3, i2) {
    for (var o2 = this._values.splice(t3, e3), r2 = this._rowIds.splice(t3, e3), n2 = this._rowStates.splice(t3, e3), s2 = 0, a2 = o2.length; s2 < a2; s2++) this._values.splice(i2 + s2, 0, o2[s2]), this._rowIds.splice(i2 + s2, 0, r2[s2]), this._rowStates.splice(i2 + s2, 0, n2[s2]);
    if (this._orgValues) {
      this._orgValues.length = Math.max(this._orgValues.length, i2 + e3 + 1);
      for (s2 = 0, a2 = (o2 = this._orgValues.splice(t3, e3)).length; s2 < a2; s2++) this._orgValues.splice(i2 + s2, 0, o2[s2]);
    }
  }, e2.prototype.$_internalMoveRowList = function(t3, e3) {
    for (var i2 = [], o2 = [], r2 = [], n2 = t3.length - 1; n2 >= 0; n2--) {
      var s2 = t3[n2];
      i2.push(this._values.splice(s2, 1)[0]), o2.push(this._rowIds.splice(s2, 1)[0]), r2.push(this._rowStates.splice(s2, 1)[0]);
    }
    i2 = i2.reverse(), o2 = o2.reverse(), r2 = r2.reverse();
    n2 = 0;
    for (var a2 = t3.length; n2 < a2; n2++) this._values.splice(e3 + n2, 0, i2[n2]), this._rowIds.splice(e3 + n2, 0, o2[n2]), this._rowStates.splice(e3 + n2, 0, r2[n2]);
    if (this._orgValues) {
      i2 = [], this._orgValues.length = Math.max(this._orgValues.length, e3 + t3.length + 1);
      for (n2 = t3.length - 1; n2 >= 0; n2--) i2.push(this._orgValues.splice(t3[n2], 1)[0]);
      i2 = i2.reverse();
      for (n2 = 0, a2 = t3.length; n2 < a2; n2++) this._orgValues.splice(e3 + n2, 0, i2[n2]);
    }
  }, e2.prototype.$_searchDataRow = function(t3, e3, i2, o2, r2) {
    var n2 = this.rowCount;
    if (n2 < 1) return -1;
    var s2 = Math.min(t3.length, e3.length);
    if (s2 < 1) return -1;
    for (var l2 = i2.allFields, h2 = i2.caseSensitive, u2 = i2.partialMatch, c2 = null, d2 = [], p2 = i2.reverse, f2 = i2.compareCallback || Ot.compareTextValue, _2 = 0; _2 < s2; _2++) d2[_2] = this.getField(t3[_2]).dataType;
    o2 = Math.max(0, o2), r2 = Math.min(n2 - 1, r2);
    for (var g2 = o2; p2 ? g2 >= r2 : g2 <= r2; p2 ? g2-- : g2++) {
      var y2 = true;
      for (_2 = 0; _2 < s2; _2++) {
        var m2 = this.getValue(g2, t3[_2]), b2 = this.getOrgFieldName(t3[_2]);
        switch (d2[_2]) {
          case a.DATETIME:
          case a.DATE:
            if (e3[_2] instanceof Date) y2 = f2.call(this.$_handler, e3[_2], m2, h2, u2, g2, b2);
            else {
              if (!c2) {
                var v2 = /[.]/.test(e3[_2]) ? "yyyy.MM.dd" : /[/]/.test(e3[_2]) ? "yyyy/MM/dd" : /[-]/.test(e3[_2]) ? "yyyy-MM-dd" : "yyyyMMdd";
                c2 = new He(v2);
              }
              y2 = f2.call(this.$_handler, e3[_2], m2 ? c2.getText(m2) : m2, h2, u2, g2, b2);
            }
            break;
          default:
            y2 = f2.call(this.$_handler, e3[_2], m2, h2, u2, g2, b2);
        }
        if (y2 && !l2) return g2;
        if (!y2 && l2) break;
      }
      if (y2) return g2;
    }
    return -1;
  }, e2.prototype.searchDataRow = function(t3) {
    var e3 = -1;
    t3 instanceof si || (t3.reverse && !t3.hasOwnProperty("startIndex") && (t3.startIndex = this.rowCount - 1), t3 = new si(t3));
    var i2 = t3.fields, o2 = t3.values, r2 = t3.startIndex;
    if (i2 && i2.length > 0 && o2 && o2.length > 0) {
      for (var n2 = i2.length, s2 = [], a2 = 0; a2 < n2; a2++) {
        var l2 = parseFloat(i2[a2]);
        if (isNaN(l2)) {
          var h2 = this.getFieldIndex(i2[a2]);
          h2 >= 0 && s2.push(h2);
        } else s2.push(l2);
      }
      if (s2.length > 0) {
        n2 = this.rowCount;
        var u2 = t3.reverse;
        r2 = u2 ? Math.min(n2, r2) : Math.max(0, r2), (e3 = (u2 ? r2 > -1 : r2 < n2) ? this.$_searchDataRow(s2, o2, t3, r2, u2 ? 0 : n2 - 1) : -1) < 0 && t3.wrap && (u2 ? r2 < n2 - 1 : r2 > 0) && (e3 = this.$_searchDataRow(s2, o2, t3, u2 ? n2 - 1 : 0, u2 ? r2 + 1 : r2 - 1));
      }
    }
    return e3;
  }, e2.prototype.$_searchData = function(t3, e3, i2, o2, r2, n2) {
    var s2 = this.rowCount;
    if (s2 < 1) return null;
    for (var l2 = i2.caseSensitive, h2 = i2.partialMatch, u2 = this.fieldCount, c2 = t3.length, d2 = i2.reverse, p2 = null, f2 = [], _2 = 0; _2 < u2; _2++) f2[_2] = this.getField(_2).dataType;
    o2 = Math.max(0, o2), r2 = Math.max(0, Math.min(s2 - 1, r2)), n2 = Math.max(d2 ? -1 : 0, Math.min(n2, c2)), d2 ? n2 < 0 && (o2--, n2 = c2 - 1) : n2 >= t3.length && (o2++, n2 = 0);
    for (var g2 = i2.compareCallback || Ot.compareTextValue, y2 = o2; d2 ? y2 >= r2 : y2 <= r2; d2 ? y2-- : y2++) for (_2 = d2 ? y2 < o2 ? c2 - 1 : n2 : y2 > o2 ? 0 : n2; d2 ? _2 >= 0 : _2 < c2; d2 ? _2-- : _2++) {
      var m2 = t3[_2];
      if (m2 >= 0 && m2 < u2) {
        var b2 = this.getValue(y2, m2), v2 = false, w2 = this.getOrgFieldName(m2);
        switch (f2[m2]) {
          case a.DATETIME:
          case a.DATE:
            if (e3 instanceof Date) v2 = g2.call(this.$_handler, e3, b2, l2, h2, y2, w2);
            else {
              if (!p2) {
                var C2 = /[.]/.test(e3) ? "yyyy.MM.dd" : /[/]/.test(e3) ? "yyyy/MM/dd" : /[-]/.test(e3) ? "yyyy-MM-dd" : "yyyyMMdd";
                p2 = new He(C2);
              }
              v2 = g2.call(this.$_handler, e3, b2 ? p2.getText(b2) : b2, l2, h2, y2, w2);
            }
            break;
          default:
            v2 = g2.call(this.$_handler, e3, b2, l2, h2, y2, w2);
        }
        if (v2) return { dataRow: y2, fieldIndex: m2, searchFieldIndex: _2, fieldName: w2 };
      }
    }
    return null;
  }, e2.prototype.searchData = function(t3) {
    var e3 = this, i2 = t3.value, o2 = this.rowCount, r2 = t3.fields = Ot.makeArray(t3.fields);
    r2 && r2.length || (r2 = this.getOrgFieldNames());
    var n2 = [];
    if (!(r2 && r2.length > 0 && null != i2)) return null;
    r2.forEach(function(t4) {
      n2.push(e3.getFieldIndex(t4));
    }), t3 instanceof ai || (t3.reverse && (t3.hasOwnProperty("startIndex") || (t3.startIndex = o2 - 1), t3.hasOwnProperty("startFieldIndex") || (t3.startFieldIndex = n2.length - 1)), t3 = new ai(t3));
    var s2 = null, a2 = t3.reverse, l2 = n2.length, h2 = a2 ? Math.min(o2 - 1, t3.startIndex) : Math.max(0, t3.startIndex), u2 = a2 ? 0 : o2 - 1, c2 = a2 ? Math.min(l2 - 1, t3.startFieldIndex) : Math.max(0, t3.startFieldIndex), d2 = a2 ? h2 < o2 - 1 || c2 < l2 - 1 : h2 > 0 || c2 > 0;
    return !(s2 = (a2 ? h2 >= 0 && c2 >= 0 : h2 < o2) ? this.$_searchData(n2, i2, t3, h2, u2, c2) : null) && t3.wrap && d2 && (s2 = this.$_searchData(n2, i2, t3, a2 ? o2 - 1 : 0, h2 - 1, a2 ? c2 : 0)), s2 && (s2.fieldName = this.getOrgFieldName(s2.fieldIndex)), s2;
  }, e2.prototype.isDataChanged = function(t3, e3) {
    if (this._rowStates[t3] !== St.UPDATED || !this._orgValues) return false;
    if (this.$_checkRowIndex(t3), this._checkFieldIndex(e3), this._orgValues[t3]) {
      var i2 = this._orgValues[t3][e3], o2 = this.getValue(t3, e3), r2 = this.getField(e3);
      return r2 && !r2.sameValues(i2, o2);
    }
    return false;
  }, e2.prototype.$_hideRows = function(t3, e3) {
    if (null != t3) {
      var i2 = Ot.isArray(t3) ? t3 : [t3], o2 = [];
      this._hiddenIds.length;
      for (var r2 = 0, n2 = i2.length; r2 < n2; r2++) {
        var s2 = this.getRowId(i2[r2]);
        if (null != s2) if (e3) this._hiddenIds.indexOf(s2) < 0 && (o2.push(i2[r2]), this._hiddenIds.push(s2));
        else {
          var a2 = this._hiddenIds.indexOf(s2);
          a2 >= 0 && (o2.push(i2[r2]), this._hiddenIds.splice(a2, 1));
        }
      }
      o2.length && this.fireRowHided(o2, e3);
    }
  }, e2.prototype.hideRows = function(t3) {
    this.$_hideRows(t3, true);
  }, e2.prototype.showRows = function(t3) {
    this.$_hideRows(t3, false);
  }, e2.prototype.clearHiddenRows = function() {
    this._hiddenIds.length > 0 && this.fireRowHided(this._hiddenIds.splice(0), false);
  }, e2.prototype.getHiddenRows = function() {
    for (var t3 = [], e3 = 0, i2 = this._hiddenIds.length; e3 < i2; e3++) {
      var o2 = this._rowIds.indexOf(this._hiddenIds[e3]);
      o2 >= 0 && t3.push(o2);
    }
    return t3.sort(function(t4, e4) {
      return t4 - e4;
    }), t3;
  }, e2.prototype.isHiddenRow = function(t3) {
    var e3 = this._rowIds[t3];
    return this._hiddenIds.indexOf(e3) >= 0;
  }, Object.defineProperty(e2.prototype, "hiddenCount", { get: function() {
    return this._hiddenIds.length;
  }, enumerable: false, configurable: true }), e2.prototype.undo = function() {
    this.canUndo && this._commands.undo();
  }, e2.prototype.redo = function() {
    this.canRedo && this._commands.redo(true);
  }, e2.prototype.clearCommandStack = function() {
    this._commands && this._commands.flush();
  }, e2;
}(ni);
var Fi = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._tags = new Array(), i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.add = function(t3) {
    if (t3) {
      var e3 = this._tags || (this._tags = []);
      e3.indexOf(t3) < 0 && e3.push(t3), t3.connect(this._owner);
    }
  }, e2.prototype.remove = function(t3) {
    if (t3 && this._tags) {
      var e3 = this._tags.indexOf(t3);
      e3 >= 0 && (this._tags.splice(e3, 1), t3.disconnect());
    }
  }, e2.prototype.clearRows = function() {
    if (this._tags) for (var t3 = this._tags.length; t3--; ) this._tags[t3].clearRows();
  }, e2.prototype.setRows = function() {
    if (this._tags) for (var t3 = this._tags.length; t3--; ) this._tags[t3].setRows();
  }, e2.prototype.addRow = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].addRow(t3);
  }, e2.prototype.addRows = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].addRows(t3);
  }, e2.prototype.removeRow = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].removeRow(t3);
  }, e2.prototype.removeRows = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].removeRows(t3);
  }, e2.prototype.updateRow = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].updateRow(t3);
  }, e2.prototype.updateRows = function(t3) {
    if (this._tags) for (var e3 = this._tags.length; e3--; ) this._tags[e3].updateRows(t3);
  }, e2;
}(Ft);
var Li = function() {
  function t2() {
  }
  return t2.parse = function(t3) {
    return new window.DOMParser().parseFromString(t3, "text/xml");
  }, t2.toString = function(t3) {
    return new window.XMLSerializer().serializeToString(t3);
  }, t2.getNodeValue = function(t3) {
    return t3.firstChild.nodeValue;
  }, t2.getAttr = function(t3, e2) {
    return t3.getAttribute(e2);
  }, t2.setAttr = function(t3, e2, i2) {
    t3.setAttribute(e2, i2);
  }, t2.addChild = function(t3, e2, i2) {
    var o2 = t3.createElement(i2);
    return e2.appendChild(o2), o2;
  }, t2.addChildWithAttr = function(t3, e2, i2, o2, r2) {
    var n2 = t3.createElement(i2);
    return n2.setAttribute(o2, r2), e2.appendChild(n2), n2;
  }, t2.addChildWithValue = function(t3, e2, i2, o2) {
    var r2 = t3.createElement(i2);
    return r2.nodeValue = o2, e2.appendChild(r2), r2;
  }, t2.parseXml = function(t3) {
    var e2 = null;
    try {
      (e2 = new ActiveXObject("Microsoft.XMLDOM")).async = false, e2.loadXML(t3);
    } catch (i2) {
      if (e2) throw i2;
      e2 = new window.DOMParser().parseFromString(t3, "text/xml");
    }
    return e2;
  }, t2;
}();
function Ni(t2, e2) {
  var i2 = [];
  if (t2) {
    var o2 = t2.childNodes;
    if (o2) for (var r2 = 0, n2 = o2.length; r2 < n2; r2++) {
      var s2 = o2[r2];
      s2.tagName === e2 && i2.push(s2);
    }
  }
  return i2;
}
var $i;
var Ai = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.extractJson = function(t3, e3) {
    var i2 = t3;
    if (e3 = e3 && e3.trim()) for (var o2 = e3.split("."), r2 = 0; r2 < o2.length; r2++) {
      var n2 = o2[r2] && o2[r2].trim();
      if (n2) {
        var s2 = n2.indexOf("["), a2 = n2.lastIndexOf("]");
        if (s2 > 0 && a2 > s2) {
          var l2 = n2.substring(0, s2), h2 = "$" != l2 ? i2[l2] : i2;
          if (Array.isArray(h2)) {
            l2 = n2.substring(s2 + 1, a2);
            var u2 = parseInt(l2);
            i2 = u2 >= 0 && u2 < h2.length ? h2[u2] : null;
          } else i2 = null;
        } else "$" != n2 && (i2 = i2[n2]);
        if (!i2) break;
      }
    }
    return Array.isArray(i2) ? i2 : null;
  }, e2.extractXml = function(t3, e3) {
    var i2 = null;
    if (e3 = e3 && e3.trim()) for (var o2 = e3.split("."), r2 = 0; r2 < o2.length; r2++) {
      var n2 = o2[r2] && o2[r2].trim();
      if (n2) {
        var s2 = n2.indexOf("["), a2 = n2.lastIndexOf("]");
        if (s2 > 0 && a2 > s2) {
          var l2 = n2.substring(0, s2);
          if (i2 = Ni(i2 ? i2[0] : t3, l2)) l2 = n2.substring(s2 + 1, a2), i2 = i2[parseInt(l2)];
        } else i2 = Ni(i2 ? i2[0] : t3, n2);
        if (!i2) break;
      }
    }
    return i2;
  }, e2;
}(Ft);
!function(t2) {
  t2.SET = "set", t2.APPEND = "append", t2.INSERT = "insert", t2.UPDATE = "update";
}($i || ($i = {}));
var Bi;
var Vi;
var ji;
var Hi = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    if (i2.fillMode = $i.SET, i2.fillPos = 0, i2.count = -1, i2.rootArray = true, i2.rows = "row", i2.start = 0, i2.delimiter = ",", i2.quoted = false, i2.parentId = 0, i2.childrenField = null, i2.treeField = null, i2.iconField = null, i2.needSorting = false, i2.noStates = false, e3) {
      for (var o2 in e3) null != e3[o2] && (i2[o2] = e3[o2]);
      i2.parentId = e3.parentId || e3.parent, i2.childrenField = e3.childrenField || e3.children, i2.treeField = e3.treeField || e3.tree, i2.iconField = e3.iconField || e3.icon, i2.needSorting = e3.needSorting || e3.sorting;
    }
    return i2;
  }
  return i(e2, t2), e2;
}(Ft);
var Wi = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._provider = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._provider = null;
  }, e2.prototype.load = function(t3, e3, i2) {
    var o2 = new Hi(i2);
    if (this._checkEmpty(e3, o2)) return 0;
    var r2 = this._provider.checkStates;
    o2.noStates && (this._provider.checkStates = false);
    try {
      switch (t3) {
        case "json":
          return this._loadJson(e3, o2);
        case "xml":
          return this._loadXml(e3, o2);
        case "csv":
          return this._loadCsv(e3, o2);
      }
    } finally {
      this._provider.checkStates = r2, this._provider.fireDataLoadComplated();
    }
  }, e2.prototype._loadJson = function(t3, e3) {
    "string" == typeof t3 && (t3 = JSON.parse(t3));
    var i2 = null;
    if (e3.rootArray && (i2 = Ot.isArray(t3) ? t3 : null), i2 || (i2 = Ai.extractJson(t3, e3.rows)), i2) {
      var o2 = e3.fillPos, r2 = e3.start, n2 = e3.count;
      switch (e3.fillMode) {
        case $i.APPEND:
          this._provider.appendRows(i2, r2, n2);
          break;
        case $i.INSERT:
          this._provider.insertRows(o2, i2, r2, n2);
          break;
        case $i.UPDATE:
          this._provider.updateRows(o2, i2, r2, n2, false);
          break;
        case $i.SET:
        default:
          this._provider.setRows(i2, r2, n2);
      }
      return i2.length;
    }
    return this._fillEmpty(e3), 0;
  }, e2.prototype._loadXml = function(t3, e3) {
    if ("string" == typeof t3 && (t3 = Li.parse(t3)), t3 && t3.documentElement) {
      var i2 = e3.fillPos, o2 = e3.start, r2 = e3.count, n2 = e3.rows, s2 = Ai.extractXml(t3.documentElement, n2);
      switch (e3.fillMode) {
        case $i.APPEND:
          this._provider.appendXmlRows(s2, o2, r2);
          break;
        case $i.INSERT:
          this._provider.insertXmlRows(i2, s2, o2, r2);
          break;
        case $i.UPDATE:
          this._provider.updateXmlRows(i2, s2, o2, r2);
          break;
        case $i.SET:
        default:
          this._provider.setXmlRows(s2, o2, r2);
      }
      return s2.length;
    }
    return this._fillEmpty(e3), 0;
  }, e2.prototype._loadCsv = function(t3, e3) {
    var i2 = e3.fillPos, o2 = e3.start, r2 = e3.count, n2 = e3.quoted, s2 = e3.delimiter, a2 = Ii.csvToArray(this._provider, t3, o2, r2, n2, s2);
    if (a2 && (r2 = a2.length) > 0) {
      switch (e3.fillMode) {
        case $i.APPEND:
          this._provider.appendRows(a2, 0, r2);
          break;
        case $i.INSERT:
          this._provider.insertRows(i2, a2, 0, r2);
          break;
        case $i.UPDATE:
          this._provider.updateRows(i2, a2, 0, r2, false);
          break;
        case $i.SET:
        default:
          this._provider.setRows(a2, 0, r2);
      }
      return a2.length;
    }
    return this._fillEmpty(e3), 0;
  }, e2.prototype._fillEmpty = function(t3) {
    t3.fillMode === $i.SET && this._provider.setRows(null);
  }, e2.prototype._checkEmpty = function(t3, e3) {
    return !t3 && (this._fillEmpty(e3), true);
  }, e2;
}(Ft);
var Gi = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._rowCount = 0, o2._ds = e3, o2._rootRow = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._ds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rootRow", { get: function() {
    return this._rootRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "insertedRows", { get: function() {
    return this._rows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "insertedCount", { get: function() {
    return this._rowCount;
  }, enumerable: false, configurable: true }), e2.prototype._prepareLoad = function(t3) {
    this._rowCount = 0, this._rows = [];
  }, e2.prototype._createRow = function(t3, e3, i2) {
    return this._ds.createRow(i2, isNaN(i2[e3]) ? -1 : i2[e3], i2[t3], false);
  }, e2.prototype._createRow2 = function(t3, e3, i2) {
    return this._ds.createRow(i2, e3, t3, false);
  }, e2.prototype._rowAdded = function(t3, e3) {
    this._rowCount++, this._rows && e3.parent === t3 && this._rows.push(e3);
  }, e2.prototype._addRow = function(t3, e3, i2, o2, r2) {
    var n2 = this._createRow(i2, o2, r2);
    return e3._insertChild(e3.count, n2, true, true), this._rowAdded(t3, n2), n2;
  }, e2.prototype._addRow2 = function(t3, e3, i2, o2, r2) {
    var n2 = this._createRow2(i2, o2, r2);
    return e3._insertChild(e3.count, n2, true, true), this._rowAdded(t3, n2), n2;
  }, e2;
}(Ft);
var Ui = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._loadData = function(t3, e3, i2, o2, r2, n2) {
    if (this._prepareLoad(e3), !t3 || t3.length < 1) return this._rowCount;
    for (var s2 = this.provider, a2 = t3.length, l2 = [], h2 = new Array(t3.length), u2 = 0; u2 < a2; u2++) if (l2[u2] = u2, Array.isArray(t3[u2])) {
      if (Array.isArray(t3[u2])) for (var c2 = h2[u2] = new Array(s2.fieldCount), d2 = 0, p2 = s2.fieldCount; d2 < p2; d2++) c2[d2] = t3[u2][d2];
    } else h2[u2] = this.provider.objectToRow(t3[u2]);
    o2 && this.$_sortRows(l2, h2, i2, 0, a2 - 1), s2.beginUpdate();
    try {
      this.$_buildTree(e3 || this.rootRow, l2, h2, i2, r2, n2);
    } finally {
      s2.endUpdate(false);
    }
    return this.insertedCount;
  }, e2.prototype.$_sortRows = function(t3, e3, i2, o2, r2) {
    function n2(t4, o3) {
      var r3 = e3[t4][i2], n3 = e3[o3][i2];
      return r3 == n3 ? 0 : r3 < n3 ? -1 : 1;
    }
    do {
      var s2 = o2, a2 = r2, l2 = t3[Math.floor((o2 + r2) / 2)];
      do {
        for (; !(n2(l2, t3[s2]) <= 0); ) s2++;
        for (; !(n2(l2, t3[a2]) >= 0); ) a2--;
        if (s2 <= a2) {
          if (s2 != a2) {
            var h2 = t3[s2];
            t3[s2] = t3[a2], t3[a2] = h2;
          }
          s2++, a2--;
        }
      } while (s2 <= a2);
      o2 < a2 && this.$_sortRows(t3, e3, i2, o2, a2), o2 = s2;
    } while (o2 < r2);
  }, e2.prototype.$_buildTree = function(t3, e3, i2, o2, r2, n2) {
    function s2(e4, i3, r3, n3) {
      for (var s3 = n3[o2]; i3 != t3; ) {
        var a3 = i3.getValue(o2);
        if (e4.parentCallback) {
          if (e4.parentCallback(a3, s3)) return i3;
        } else if (0 == s3.indexOf(a3)) return i3;
        i3 = i3.parent;
      }
      return t3;
    }
    var a2 = e3[0], l2 = this._createRow(r2, n2, i2[a2]), h2 = s2(this, t3, 0, i2[a2]);
    if (h2._insertChild(h2.count, l2, true, true), this._rowAdded(t3, l2), e3.length > 1) for (var u2 = e3.length, c2 = l2, d2 = 1; d2 < u2; d2++) a2 = e3[d2], l2 = this._createRow(r2, n2, i2[a2]), (h2 = s2(this, c2, 0, i2[a2]))._insertChild(h2.count, l2, true, true), this._rowAdded(t3, l2), c2 = l2;
  }, e2;
}(Gi);
var Yi = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.load = function(t3, e3, i2, o2, r2, n2) {
    return this._loadData(e3, t3, i2, o2, r2, n2);
  }, e2;
}(Ui);
var zi = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.load = function(t3, e3, i2, o2, r2, n2) {
    var s2 = Ii.csvToArray(this.provider, e3);
    return this._loadData(s2, t3, i2, o2, r2, n2);
  }, e2;
}(Ui);
var qi = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.load = function(t3, e3, i2, o2, r2) {
    if (this._prepareLoad(t3), e3) {
      var n2 = Ai.extractJson(e3, i2);
      if (n2 && n2.length > 0) {
        this.provider.beginUpdate();
        try {
          this.$_buildJsonTree(this.provider, t3 || this.rootRow, n2, i2, o2, r2);
        } finally {
          this.provider.endUpdate(false);
        }
      }
    }
    return this._rowCount;
  }, e2.prototype.load2 = function(t3, e3, i2, o2, r2, n2) {
    if (this._prepareLoad(t3), e3) {
      var s2 = Ai.extractJson(e3, i2);
      if (s2 && s2.length > 0) {
        this.provider.beginUpdate();
        try {
          this.$_buildJsonTree2(this.provider, t3 || this.rootRow, s2, o2, r2, n2);
        } finally {
          this.provider.endUpdate(false);
        }
      }
    }
    return this._rowCount;
  }, e2.prototype.$_buildJsonTree = function(t3, e3, i2, o2, r2, n2) {
    var s2 = t3.getOrgFieldNames();
    !function t4(i3, s3, a2, l2) {
      for (var h2 = l2.length, u2 = 0, c2 = a2.length; u2 < c2; u2++) {
        for (var d2 = a2[u2], p2 = new Array(h2), f2 = 0; f2 < h2; f2++) {
          var _2 = l2[f2];
          d2.hasOwnProperty(_2) && (p2[f2] = d2[_2]);
        }
        var g2 = i3._addRow(e3, s3, r2, n2, p2);
        if (d2.hasOwnProperty(o2)) {
          var y2 = d2[o2];
          Array.isArray(y2) && y2.length > 0 && t4(i3, g2, y2, l2);
        }
      }
    }(this, e3, i2, s2);
  }, e2.prototype.$_buildJsonTree2 = function(t3, e3, i2, o2, r2, n2) {
    var s2 = t3.getOrgFieldNames();
    !function t4(i3, s3, a2, l2) {
      for (var h2 = l2.length, u2 = 0, c2 = a2.length; u2 < c2; u2++) {
        for (var d2 = a2[u2], p2 = new Array(h2), f2 = 0; f2 < h2; f2++) {
          var _2 = l2[f2];
          d2.hasOwnProperty(_2) && (p2[f2] = d2[_2]);
        }
        var g2 = i3._addRow2(e3, s3, d2[r2], isNaN(d2[n2]) ? -1 : d2[n2], p2);
        if (d2.hasOwnProperty(o2)) {
          var y2 = d2[o2];
          Array.isArray(y2) && y2.length > 0 && t4(i3, g2, y2, l2);
        }
      }
    }(this, e3, i2, s2);
  }, e2;
}(Gi);
var Ki = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.load = function(t3, e3, i2, o2, r2) {
    if (this._prepareLoad(t3), e3) {
      var n2 = "string" == typeof e3 ? Li.parseXml(e3) : e3;
      if (n2) {
        var s2 = Ai.extractXml(n2.documentElement, i2);
        if (s2 && s2.length > 0) {
          this.provider.beginUpdate();
          try {
            this.$_buildXmlTree(this.provider, t3 || this.rootRow, s2, i2, o2, r2);
          } finally {
            this.provider.endUpdate(false);
          }
        }
      }
    }
    return this._rowCount;
  }, e2.prototype.$_buildXmlTree = function(t3, e3, i2, o2, r2, n2) {
    !function t4(i3, s2, a2, l2, h2) {
      for (var u2 = 0, c2 = a2.length; u2 < c2; u2++) {
        var d2 = a2[u2], p2 = Ii.xmlToRow(d2, l2, h2), f2 = i3._addRow(e3, s2, r2, n2, p2), _2 = Ai.extractXml(d2, o2);
        _2 && _2.length > 0 && t4(i3, f2, _2, l2, h2);
      }
    }(this, e3, i2, t3.getFields(), t3.getOrgFieldNames());
  }, e2;
}(Ui);
var Xi = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._keepChildren = function(t3, e3, i2) {
    for (var o2 = 0; o2 < e3.children.length; o2++) {
      var r2 = e3.getChild(o2), n2 = r2._keepRow(t3, true);
      i2.push(n2), r2.children && r2.children.length && this._keepChildren(t3, r2, n2.children = []);
    }
  }, e2.prototype._restoreChildren = function(t3, e3, i2) {
    for (var o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2], n2 = void 0;
      "state" === r2.run ? (n2 = t3.rowById(r2.rowId))._changeRowState(r2.state, true, false) : ((n2 = t3.createTemp())._yieldRow(t3, r2, true), e3._addChild(n2, false, true)), r2.children && this._restoreChildren(t3, n2, r2.children);
    }
  }, e2;
}(ui);
var Zi = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2;
}(hi);
var Ji = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._rowId = i2.rowId, n2._values = n2._cloneRow(o2), n2._strict = r2, n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {}, i2 = t3.rowById(this._rowId);
    return e3.row = i2._keepRow(t3), (e3.result = i2.$_update(t3, this._values, this._strict, false)) && (this._newState = i2.rowState), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2 && i2.$_update(t3, this._values, this._strict, false);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2 && i2._yieldRow(t3, e3.row), e3.row.state != this._newState && t3._fireRowStateChanged(i2, false), t3._rowUpdated(i2);
  }, e2;
}(Xi);
var Qi = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowId = i2.rowId, r2._recursive = o2, r2._parentId = i2.parent.rowId, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = t3.rowById(this._rowId), i2 = e3._keepRow(t3, true), o2 = t3.rowById(this._parentId);
    o2 ? ((!this._softDeleting || this._softDeleting && this._recursive) && e3.children && e3.children.length && (i2.children = [], this._keepChildren(t3, e3, i2.children)), i2.result = o2._removeChild(e3, false, this._recursive, [i2])) : i2.result = false;
    return i2;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    t3.rowById(this._parentId)._removeChild(i2, false, this._recursive, [e3]);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2, o2 = "remove" === e3.run;
    if ((i2 = o2 ? t3.createTemp() : t3.rowById(this._rowId)) && (i2._yieldRow(t3, e3, true), e3.children && e3.children.length && this._restoreChildren(t3, i2, e3.children)), o2) {
      var r2 = t3.rowById(this._parentId);
      r2 && r2._insertChild(e3.index, i2, false, true);
    } else t3._stateChanged(i2, true);
  }, e2;
}(Xi);
var to = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, e3) || this;
    return s2._row = r2, s2._rowId = r2.rowId, s2._index = o2, s2._noState = n2, s2._parentId = i2.rowId, s2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = t3.rowById(this._rowId) || this._row, i2 = e3._keepRow(t3, false), o2 = t3.rowById(this._parentId);
    return e3.children && e3.children.length && (i2.children = [], this._keepChildren(t3, e3, i2.children)), i2.result = o2._insertChild(this._index, e3, false, this._noState), i2;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.rowById(this._parentId), o2 = t3.createTemp();
    o2._yieldRow(t3, e3, false), o2._rowId = e3.rowId, i2 && o2 && i2._insertChild(this._index, o2, false, this._noState);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._parentId), o2 = t3.rowById(this._rowId);
    i2 && o2 && i2.$_removeChild(o2, this._index, false);
  }, e2;
}(Xi);
var eo = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._children = null, o2._descendantCount = 0, !i2 && (o2._rowId = e3 && e3._nextRowId++), o2;
  }
  return i(e2, t2), e2.getRowIds = function(t3) {
    if (!t3) return null;
    for (var e3 = [], i2 = 0, o2 = t3; i2 < o2.length; i2++) {
      var r2 = o2[i2];
      e3.push(r2.rowId);
    }
    return e3;
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "rowId", { get: function() {
    return this._rowId;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "provider", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    var t3 = this.parent;
    return null != t3 ? t3._children.indexOf(this) : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconIndex", { get: function() {
    return -1;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasChildren", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._children ? this._children.length : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "descendantCount", { get: function() {
    return this._descendantCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "children", { get: function() {
    return this._children ? this._children.concat() : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "descendants", { get: function() {
    if (this._children) {
      var t3 = [];
      return function t4(e3, i2) {
        for (var o2 = 0, r2 = e3.count; o2 < r2; o2++) {
          var n2 = e3.getChild(o2);
          i2.push(n2), t4(n2, i2);
        }
      }(this, t3), t3;
    }
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ancestors", { get: function() {
    var t3 = null, e3 = this.parent;
    if (e3) for (t3 = []; e3 && e3.rowId >= 0; ) t3.push(e3), e3 = e3.parent;
    return t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowState", { get: function() {
    return St.NONE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "values", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.getChild = function(t3) {
    if (t3 >= 0) {
      if (!this._children || t3 >= this._children.length) throw new RangeError("Index is invalid: " + t3);
      return this._children[t3];
    }
    throw new RangeError("Index is invalid: " + t3);
  }, e2.prototype.getChildObjects = function(t3, e3, i2, o2, r2, n2) {
    void 0 === n2 && (n2 = -1);
    var s2 = this._children;
    if (s2) {
      var a2 = [];
      e3 = e3 || "rows", i2 = i2 || "iconIndex";
      for (var l2 = 0, h2 = s2.length; l2 < h2; l2++) {
        var u2 = s2[l2], c2 = u2.getObject();
        o2 && (c2.__rowId = u2._rowId), r2 && (c2.__rowState = u2.rowState), t3 && 0 !== n2 && (c2[e3] = u2.getChildObjects(t3, e3, i2, o2, r2, n2 - 1)), c2[i2] = u2.iconIndex, a2.push(c2);
      }
      return a2;
    }
    return null;
  }, e2.prototype.$_createTreeOutputRows = function(t3, e3, i2) {
    var o2 = [];
    !function t4(e4, i3, o3) {
      for (var r3 = 0, n3 = e4.length; r3 < n3; r3++) {
        var s3 = e4[r3];
        i3.push(e4[r3]), o3 && s3[o3] && s3[o3].length && t4(s3[o3], i3, o3);
      }
    }(t3, o2, i2);
    var r2, n2 = this.provider, s2 = n2.fieldCount, l2 = o2.length;
    e3 instanceof qe || (e3 = new qe(e3));
    for (var h2 = e3.nullDateText, u2 = e3.nullText, c2 = e3.nanText, d2 = this.provider.handler, p2 = 0; p2 < s2; p2++) {
      var f2 = n2.getField(p2), _2 = f2.orgFieldName, g2 = void 0, y2 = void 0;
      if (f2.dataType == a.DATETIME && ((g2 = e3.datetimeCallback) || (y2 = e3.datetimeWriter) || null != h2 && null != h2)) if (g2) for (var m2 = 0; m2 < l2; m2++) (r2 = o2[m2])[_2] = g2(d2, r2._rowId, _2, r2[_2]);
      else for (m2 = 0; m2 < l2; m2++) {
        var b2 = (r2 = o2[m2])[_2];
        r2[_2] = b2 ? y2 ? y2.getText(r2[_2]) : b2 : h2;
      }
      else if (f2.dataType == a.BOOLEAN && ((g2 = e3.booleanCallback) || (y2 = e3.booleanFormatter))) if (g2) for (m2 = 0; m2 < l2; m2++) (r2 = o2[m2])[_2] = g2(d2, r2._rowId, _2, r2[_2]);
      else for (m2 = 0; m2 < l2; m2++) (r2 = o2[m2])[_2] = y2.formatValue(r2[_2]);
      else if (f2.dataType == a.NUMBER && ((g2 = e3.numberCallback) || (y2 = e3.numberFormatter) || null != c2 && null != c2)) if (g2) for (m2 = 0; m2 < l2; m2++) (r2 = o2[m2])[_2] = g2(d2, r2._rowId, _2, r2[_2]);
      else for (m2 = 0; m2 < l2; m2++) {
        var v2 = (r2 = o2[m2])[_2];
        r2[_2] = null == v2 || isNaN(v2) ? c2 : y2 ? y2.getText(v2) : v2;
      }
      else if (null != u2 && null != u2) for (m2 = 0; m2 < l2; m2++) {
        v2 = (r2 = o2[m2])[_2];
        r2[_2] = null == v2 || null == v2 ? u2 : v2;
      }
    }
    for (var w2 = 0, C2 = o2.length; w2 < C2; w2++) delete o2[w2]._rowId;
  }, e2.prototype.getOutput = function(t3, e3) {
    if (t3) {
      var i2 = this.getObject();
      return i2 && (i2[e3 || "iconIndex"] = this.iconIndex, i2._rowId = this._rowId, t3.rowState && (i2.__rowState = this.rowState), this.$_createTreeOutputRows([i2], t3)), i2;
    }
    return null;
  }, e2.prototype.getChildOutputObjects = function(t3, e3, i2, o2) {
    var r2 = this.getChildObjects(e3, i2, o2, true, null == t3 ? void 0 : t3.rowState);
    return r2 && t3 && this.$_createTreeOutputRows(r2, t3, i2), r2;
  }, e2.prototype.findById = function(t3) {
    if (this._children) for (var e3 = 0, i2 = this._children.length; e3 < i2; e3++) {
      var o2 = this._children[e3];
      if (o2.rowId == t3) return o2;
      if (o2 = o2.findById(t3)) return o2;
    }
    return null;
  }, e2.prototype.indexOf = function(t3) {
    return this._children ? this._children.indexOf(t3) : -1;
  }, e2.prototype.insertChild = function(t3, e3, i2) {
    var o2 = this.provider;
    return o2.undoable ? o2._commands.execute(new to(o2, this, t3, e3, i2)) : this._insertChild(t3, e3, false, i2);
  }, e2.prototype.addChild = function(t3, e3) {
    return this.insertChild(this.count, t3, e3);
  }, e2.prototype.insertChildren = function(t3, e3, i2) {
    return this._insertChildren(t3, e3, false, i2);
  }, e2.prototype.removeChild = function(t3, e3) {
    var i2 = this.provider, o2 = i2.undoable, r2 = i2._commands;
    return o2 ? r2.execute(new Qi(i2, t3, e3)) : this._removeChild(t3, false, e3, null);
  }, e2.prototype.clearChildren = function() {
    var t3 = this.provider;
    t3 && !t3._checkClientState() || this._removeChildren();
  }, e2.prototype.findChild = function(t3, e3) {
    var i2 = this.provider;
    if (!i2 || !t3 || t3.length < 1 || !e3 || e3.length < t3.length) return null;
    for (var o2 = [], r2 = [], n2 = 0, s2 = t3.length; n2 < s2; n2++) {
      var a2 = void 0;
      (a2 = "string" == typeof t3[n2] ? i2.getFieldIndex(t3[n2]) : Number(t3[n2])) >= 0 && a2 < i2.fieldCount && o2.indexOf(a2) < 0 && (o2.push(a2), r2.push(e3[n2]));
    }
    n2 = 0;
    for (var l2 = o2.length; n2 < l2; n2++) o2[n2] = i2.getField(o2[n2]);
    return this.$_findChild(o2, r2);
  }, e2.prototype.isAncestorOf = function(t3) {
    if (t3 && t3 !== this) {
      for (var e3 = t3.parent; e3 && e3 !== this; ) e3 = e3.parent;
      return e3 === this;
    }
    return false;
  }, e2.prototype.clearRowStates = function(t3, e3) {
    var i2 = this.provider;
    if (i2) {
      var o2 = [], r2 = t3 ? [] : null;
      this._collectStateRows(o2, r2);
      var n2 = o2.length, s2 = r2 ? r2.length : 0;
      if (0 != n2 || 0 != s2) {
        if (e3) for (var a2 = 0, l2 = o2.length; a2 < l2; a2++) o2[a2]._changeRowState(St.NONE, true, false);
        else n2 && i2.changeRowStates(o2, St.NONE);
        s2 && i2.deleteRows(r2);
      }
    }
  }, e2.prototype.toTreeString = function() {
    for (var t3 = this.rowId + "", e3 = new Array(this.level + 1).join("  "), i2 = 0; i2 < this.count; i2++) t3 += "\n" + e3 + this.getChild(i2).toTreeString();
    return t3;
  }, e2.prototype._checkFieldIndex = function(t3) {
    var e3 = this.provider.fieldCount;
    if (t3 < 0 || t3 >= e3) throw new Ze(Ge.messages.fieldIndexOutOfBounds + t3);
  }, e2.prototype._descendantCountChanged = function(t3) {
    this._descendantCount += t3;
    var e3 = this.parent;
    e3 && e3._descendantCountChanged(t3);
  }, e2.prototype._moveChild = function(t3, e3) {
    if (t3 != e3) {
      if (t3 < 0 || t3 >= this._children.length) throw new RangeError("index is out of range: " + t3);
      if (e3 < 0 || e3 >= this._children.length) throw new RangeError("newIndex is out of range: " + e3);
      var i2 = this._children[t3];
      if (t3 > e3) for (var o2 = t3; o2 > e3; o2--) this._children[o2] = this._children[o2 - 1];
      else for (o2 = t3; o2 < e3; o2++) this._children[o2] = this._children[o2 + 1];
      this._children[e3] = i2;
    }
  }, e2.prototype._moveChildren = function(t3, e3) {
    var i2 = t3[0];
    if (i2 != e3) {
      if (i2 < 0 || i2 >= this._children.length) throw new RangeError("index is out of range: " + t3[0]);
      if (e3 < 0 || e3 >= this._children.length) throw new RangeError("newIndex is out of range: " + e3);
      for (var o2 = this._children, r2 = [], n2 = t3.length - 1; n2 >= 0; n2--) r2.push(o2.splice(t3[n2], 1)[0]);
      for (n2 = 0; n2 < r2.length; n2++) o2.splice(e3, 0, r2[n2]);
    }
  }, e2.prototype._changeParent = function(t3, e3) {
    if (e3 < 0 || e3 > t3._children.length) throw new RangeError("index is out of range: " + e3);
    var i2 = this.parent, o2 = this.index;
    i2._children.splice(o2, 1), i2._descendantCountChanged(-1 - this.descendantCount), i2._detach(this), t3._children.splice(e3, 0, this), t3._descendantCountChanged(1 + this.descendantCount), t3._attach(this);
  }, e2.prototype._insertChild = function(t3, e3, i2, o2) {
    var r2 = this.provider;
    if (r2 && !i2) {
      if (!r2._checkClientState()) return false;
      r2.refreshFieldFormats();
    }
    if (!e3) throw new Error("child is null");
    if (this._children = this._children || [], t3 < 0 || t3 > this._children.length) throw new RangeError("Insert index is invalid: " + t3);
    return !(!i2 && !this._doChildAdding(t3, e3)) && (this._children.splice(t3, 0, e3), this._descendantCountChanged(1 + e3.descendantCount), this._attach(e3), o2 || e3._changeRowState(St.CREATED, true, false), this._doChildAdded(t3, e3), true);
  }, e2.prototype._insertChildren = function(t3, e3, i2, o2) {
    var r2 = this.provider;
    if (r2 && !i2) {
      if (!r2._checkClientState()) return false;
      r2.refreshFieldFormats();
    }
    if (this._children = this._children || [], t3 < 0 || t3 > this._children.length) throw new RangeError("Insert index is invalid: " + t3);
    if (i2 || this._doRowsAdding(t3, e3)) {
      for (var n2 = 0, s2 = 0; s2 < e3.length; s2++) {
        var a2 = e3[s2];
        this._children.splice(t3 + s2, 0, a2), this._attach(a2), n2 += a2.descendantCount, o2 || a2._changeRowState(St.CREATED, true, false);
      }
      return this._descendantCountChanged(n2), this._doRowsAdded(t3, e3), true;
    }
    return false;
  }, e2.prototype._addChild = function(t3, e3, i2) {
    return this._insertChild(this.count, t3, e3, i2);
  }, e2.prototype.$_removeChild = function(t3, e3, i2) {
    return !(!i2 && !this._doChildRemoving(t3)) && (this._children.splice(e3, 1), this._descendantCountChanged(-1 - t3.descendantCount), this._detach(t3), this._doChildRemoved(t3), true);
  }, e2.prototype._removeChild = function(t3, e3, i2, o2) {
    var r2 = this.provider;
    if (!r2 || e3 || r2._checkClientState()) {
      if (t3 && this._children) {
        var n2 = this._children.indexOf(t3), s2 = oo.findSave(t3.rowId, o2);
        if (!r2.softDeleting || !r2.checkStates) return s2 && (s2.run = "remove"), this.$_removeChild(t3, n2, e3);
        switch (t3.rowState) {
          case St.CREATED:
            if (r2.deleteCreated) return s2 && (s2.run = "remove"), this.$_removeChild(t3, n2, e3);
            t3._changeRowState(St.CREATE_AND_DELETED, true, false), s2 && (s2.run = "state", s2.changeState = St.CREATE_AND_DELETED);
            break;
          case St.DELETED:
          case St.CREATE_AND_DELETED:
            s2 && (s2.run = "state", s2.changeState = t3.rowState), s2 && (s2.run = "state");
            break;
          default:
            t3._changeRowState(St.DELETED, true, false), s2 && (s2.run = "state", s2.changeState = St.DELETED);
        }
        if (i2 && t3.count > 0) for (var a2 = t3.children, l2 = t3.count; l2--; ) t3._removeChild(a2[l2], e3, i2, s2 && s2.children);
      }
      return false;
    }
  }, e2.prototype._removeChildren = function() {
    this._children && this._children.length > 0 && (this._children.splice(0, this._children.length), this._descendantCountChanged(-this._descendantCount), this._doCleared());
  }, e2.prototype._setChildren = function(t3) {
    this._children && this._children.length > 0 && this._children.splice(0, this._children.length);
    var e3, i2 = -this._descendantCount;
    if (t3 && (e3 = t3.length) > 0) {
      this._children || (this._children = []);
      for (var o2 = 0; o2 < e3; o2++) {
        var r2 = t3[o2];
        this._children.push(r2), i2 += 1 + r2.descendantCount, this._attach(r2);
      }
    }
    this._descendantCountChanged(i2);
  }, e2.prototype.$_findChild = function(t3, e3) {
    for (var i2 = t3.length, o2 = this.count, r2 = 0; r2 < o2; r2++) {
      for (var n2 = this._children[r2], s2 = true, a2 = 0; a2 < i2; a2++) if (!t3[a2].equalValues(e3[a2], n2.getValue(t3[a2].index))) {
        s2 = false;
        break;
      }
      if (s2) return n2;
      if (n2 = n2.$_findChild(t3, e3)) return n2;
    }
    return null;
  }, e2.prototype._collectStateRows = function(t3, e3) {
    for (var i2 = this.count; i2--; ) {
      var o2 = this.getChild(i2), r2 = o2.rowState;
      !e3 || r2 != St.DELETED && r2 != St.CREATE_AND_DELETED ? (r2 != St.NONE && t3.push(o2), o2._collectStateRows(t3, e3)) : e3.push(o2);
    }
  }, e2.prototype._clearOrgValues = function() {
    for (var t3 = this.count; t3--; ) this.getChild(t3)._clearOrgValues();
  }, e2.prototype._restoreState = function(t3, e3) {
    if (t3) for (var i2 = this.count; i2--; ) this.getChild(i2)._restoreState(true, e3);
    return false;
  }, e2.prototype.$_restoreRow = function(t3, e3, i2) {
    if (t3) for (var o2 = this.count; o2--; ) this.getChild(o2).$_restoreRow(true, e3, i2);
    return false;
  }, e2.prototype._doChildAdding = function(t3, e3) {
    var i2 = this.provider;
    return !i2 || i2._rowAdding(this, t3, e3);
  }, e2.prototype._doChildAdded = function(t3, e3) {
    var i2 = this.provider;
    i2 && i2._rowAdded(e3);
  }, e2.prototype._doRowsAdding = function(t3, e3) {
    var i2 = this.provider;
    return !i2 || i2._rowsAdding(this, t3, e3);
  }, e2.prototype._doRowsAdded = function(t3, e3) {
    var i2 = this.provider;
    i2 && i2._rowsAdded(this, e3);
  }, e2.prototype._doChildRemoving = function(t3) {
    var e3 = this.provider;
    return !e3 || e3._rowRemoving(t3);
  }, e2.prototype._doChildRemoved = function(t3) {
    var e3 = this.provider;
    e3 && e3._rowRemoved(t3);
  }, e2.prototype._doCleared = function() {
    var t3 = this.provider;
    t3 && t3._rowCleared(this);
  }, e2;
}(Ft);
var io = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, false) || this;
    return i2._provider = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._provider = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.set = function(t3) {
    for (var e3 = [], i2 = 0; i2 < t3.count; i2++) e3.push(t3.getChild(i2).copy());
    this._setChildren(e3);
  }, Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._provider;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowId", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasChildren", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.copy = function() {
    for (var t3 = new e2(null), i2 = 0, o2 = this.count; i2 < o2; i2++) {
      var r2 = this.getChild(i2).copy();
      t3._addChild(r2, true, true);
    }
    return t3._provider = this._provider, t3;
  }, e2.prototype._changeRowState = function(t3, e3, i2) {
    return false;
  }, e2.prototype.getObject = function() {
    return null;
  }, e2.prototype.getValue = function(t3) {
  }, e2.prototype.setValue = function(t3, e3, i2) {
    return false;
  }, e2.prototype._attach = function(t3) {
    t3._parent = this;
  }, e2.prototype._detach = function(t3) {
    t3._parent === this && (t3._parent = null);
  }, e2.prototype.update = function(t3, e3) {
    return false;
  }, e2.prototype.$_setHasChildren = function(t3) {
  }, e2.prototype.$_setIconIndex = function(t3) {
  }, e2.prototype._keepRow = function(t3) {
  }, e2.prototype._yieldRow = function(t3, e3) {
  }, e2.prototype._keepStates = function(t3) {
  }, e2.prototype._yieldStates = function(t3, e3) {
  }, e2;
}(eo);
var oo = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._nextRowId = 0, e3._commandListeners = [], e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._fireDispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype.editCommandStackChanged = function(t3, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, e2.prototype.registerCommandListener = function(t3) {
    t3 && this._commandListeners.indexOf(t3) < 0 && this._commandListeners.push(t3);
  }, e2.prototype.unregisterCommandListener = function(t3) {
    var e3 = this._commandListeners.indexOf(t3);
    e3 >= 0 && this._commandListeners.splice(e3, 1);
  }, e2.prototype._keepCommandStates = function(t3) {
    if (this._commandListeners.length > 0) return this._commandListeners[0].getCommandStates(t3);
  }, e2.prototype._yieldCommandStates = function(t3, e3) {
    if (this._commandListeners.length > 0) return this._commandListeners[0].setCommandStates(t3, e3);
  }, e2.prototype._fireDispose = function() {
    this.fireEvent("onTreeDataProviderDisposed");
  }, e2.findSave = function(t3, e3) {
    if (e3) for (var i2 = 0, o2 = e3; i2 < o2.length; i2++) {
      var r2 = o2[i2];
      if (r2.rowId === t3) return r2;
    }
  }, e2;
}(Qe);
var ro = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowFields = Ot.deepCopy(i2), r2._value = o2, r2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = {};
    for (var i2 in this._rowFields) {
      var o2 = t3.rowById(+i2)._keepRow(t3);
      e3[i2] = o2;
    }
    return t3.$_fillValue(this._rowFields, this._value), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_fillValue(this._rowFields, this._value);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = [];
    for (var o2 in this._rowFields) {
      var r2 = t3.rowById(+o2);
      r2._yieldRow(t3, e3[o2]), i2.push(r2);
    }
    t3._fireRowsUpdated(i2);
  }, e2;
}(Xi);
var no = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._rowIds = i2.map(function(t3) {
      return t3.rowId;
    }), n2._values = n2._cloneValues(o2.slice()), n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    for (var e3 = [], i2 = this._rowIds.map(function(e4) {
      return t3.rowById(e4);
    }), o2 = 0, r2 = i2; o2 < r2.length; o2++) {
      var n2 = r2[o2]._keepRow(t3);
      e3.push(n2);
    }
    return t3.$_updateRows(i2, this._values, this._strict), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = this._rowIds.map(function(e4) {
      return t3.rowById(e4);
    });
    t3.$_updateRows(i2, this._values, this._strict);
  }, e2.prototype._doUndo = function(t3, e3) {
    for (var i2 = [], o2 = this._rowIds.map(function(e4) {
      return t3.rowById(e4);
    }), r2 = 0; r2 < o2.length; r2++) {
      var n2 = o2[r2];
      e3[r2].state !== n2.rowState && i2.push(n2), n2._yieldRow(t3, e3[r2]);
    }
    t3._fireRowStatesChanged(i2);
  }, e2;
}(Xi);
var so = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._rowId = i2.rowId, n2._field = o2, n2._value = r2 instanceof Date ? new Date(r2) : r2, n2;
  }
  return i(e2, t2), e2.prototype._doRun = function(t3) {
    var e3 = t3.rowById(this._rowId), i2 = e3._keepRow(t3);
    return (i2.result = e3.$_setValue(this._field, this._value, false)) && (this._newState = e3.rowState), i2;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2 && i2.$_setValue(this._field, this._value, false);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2._yieldRow(t3, e3), e3.state != this._newState && t3._fireRowStateChanged(i2), t3._valueChanged(i2, this._field);
  }, e2;
}(Xi);
var ao = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowIds = i2.map(function(t3) {
      return t3.rowId;
    }), r2._recursive = o2, r2._softDeleting = e3.softDeleting, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rowIds = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = [], i2 = this._rowIds.map(function(e4) {
      return t3.rowById(e4);
    });
    i2.sort(function(t4, e4) {
      return t4.index - e4.index;
    });
    for (var o2 = 0, r2 = i2; o2 < r2.length; o2++) {
      var n2 = r2[o2], s2 = n2._keepRow(t3, true);
      (!this._softDeleting || this._recursive) && n2.children && n2.children.length && this._keepChildren(t3, n2, s2.children = []), e3.push(s2);
    }
    return t3.$_removeRows(i2, this._recursive, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = this._rowIds.map(function(e4) {
      return t3.rowById(e4);
    });
    t3.$_removeRows(i2, this._recursive, e3);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3, o2 = [];
    if (e3 && e3.length) for (var r2 = 0, n2 = e3; r2 < n2.length; r2++) {
      var s2 = n2[r2];
      if ("state" === s2.run) {
        (a2 = i2.rowById(s2.rowId)) && a2._changeRowState(s2.state, true, false), o2.push(a2), s2.children && this._restoreChildren(i2, a2, s2.children);
      } else {
        var a2;
        (a2 = i2.createTemp())._yieldRow(i2, s2, true);
        var l2 = i2.rowById(s2.parentId);
        l2 && l2._insertChild(s2.index, a2, false, true), s2.children && this._restoreChildren(i2, a2, s2.children);
      }
    }
    i2._statesChanged(o2);
  }, e2;
}(Xi);
var lo = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2, a2) {
    var l2 = t2.call(this, e3) || this;
    return l2._data = r2, l2._index = o2, l2._noState = a2, l2._parentId = i2.rowId, l2._childrenProp = n2, l2._iconIndex = Ot.getNumber(r2[s2], -1), l2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._data = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._createChildren = function(t3, e3, i2, o2) {
    if (i2 && i2.length) for (var r2 = 0; r2 < i2.length; r2++) {
      var n2 = i2[r2], s2 = t3.createRow(n2, this._iconIndex, false);
      e3._addChild(s2, false, this._noState);
      var a2 = s2._keepRow(t3, false);
      o2.push(a2), n2[this._childrenProp] && this._createChildren(t3, s2, n2[this._childrenProp], a2.children = []);
    }
  }, e2.prototype._doRun = function(t3) {
    var e3, i2 = this._data, o2 = this._childrenProp, r2 = this._iconIndex, n2 = i2[o2], s2 = t3.createRow(i2, r2, n2 && n2.length > 0);
    return t3.rowById(this._parentId)._insertChild(this._index, s2, false, this._noState) ? ((e3 = s2._keepRow(t3, false)).index = this._index, n2 && n2.length && this._createChildren(t3, s2, n2, e3.children = []), e3.result = s2.rowId) : e3.result = -1, e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.createTemp();
    i2._yieldRow(t3, e3, true), e3.children && e3.children.length && this._restoreChildren(t3, i2, e3.children);
    var o2 = t3.rowById(this._parentId);
    o2 && o2._insertChild(e3.index, i2, false, this._noState);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._parentId), o2 = t3.rowById(e3.rowId);
    i2 && o2 && i2.$_removeChild(o2, this._index, false);
  }, e2;
}(Xi);
var ho = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowId = i2.rowId, r2._newState = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {}, i2 = t3.rowById(this._rowId);
    return e3.state = i2 && i2._keepState(t3), i2 && i2._changeRowState(this._newState, true, false), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.rowById(this._rowId)._changeRowState(this._newState, true, false);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2._yieldStates(t3, e3), e3.state != this._newState && (i2._changeRowState(e3.state, true, false), t3._fireRowStateChanged(i2, true));
  }, e2;
}(Xi);
var uo = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, e3) || this;
    return s2._rows = i2.slice(), s2._newState = o2, s2._force = r2, s2._rowEvents = n2, s2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    for (var e3 = [], i2 = 0, o2 = this._rows; i2 < o2.length; i2++) {
      var r2 = o2[i2], n2 = t3.rowById(r2);
      if (n2) {
        var s2 = n2._keepStates(t3);
        e3.push(s2);
      }
    }
    return t3.$_setRowStates(this._rows, this._newState, this._force, this._rowEvents), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_setRowStates(this._rows, this._newState, this._force, this._rowEvents);
  }, e2.prototype._doUndo = function(t3, e3) {
    for (var i2 = function(t4) {
      for (var i3 = 0, o3 = e3; i3 < o3.length; i3++) {
        var r3 = o3[i3];
        if (r3.rowId === t4) return r3;
      }
    }, o2 = [], r2 = 0, n2 = this._rows; r2 < n2.length; r2++) {
      var s2 = n2[r2], a2 = t3.rowById(s2), l2 = i2(s2);
      a2 && l2 && a2 && l2 && a2._changeRowState(l2.state, this._rowEvents, false) && o2.push(s2);
    }
    !this._rowEvents && o2.length && t3._fireRowStatesChanged(o2);
  }, e2;
}(Xi);
var co = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowId = i2.rowId, r2._delta = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {}, i2 = t3.rowById(this._rowId);
    return e3.result = t3.$_changeRowIndex(i2, this._delta), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2 && t3.$_changeRowIndex(i2, this._delta);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = t3.rowById(this._rowId);
    i2 && t3.$_changeRowIndex(i2, -this._delta);
  }, e2;
}(Xi);
var po = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3) || this;
    return n2._rowId = i2.rowId, n2._oldIndex = i2.index, n2._oldParentId = i2.parent.rowId, n2._parentId = o2.rowId, n2._index = r2, n2;
  }
  return i(e2, t2), e2.getInfo = function(t3, e3, i2) {
    return { row: t3.rowById(e3), parent: t3.rowById(i2) };
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var i2 = {}, o2 = e2.getInfo(t3, this._rowId, this._parentId), r2 = o2.row, n2 = o2.parent;
    return i2.result = t3.$_changeRowParent(r2, n2, this._index), i2;
  }, e2.prototype._doRedo = function(t3, i2) {
    var o2 = e2.getInfo(t3, this._rowId, this._parentId), r2 = o2.row, n2 = o2.parent;
    t3.$_changeRowParent(r2, n2, this._index);
  }, e2.prototype._doUndo = function(t3, i2) {
    var o2 = e2.getInfo(t3, this._rowId, this._oldParentId), r2 = o2.row, n2 = o2.parent;
    t3.$_changeRowParent(r2, n2, this._oldIndex);
  }, e2;
}(Xi);
var fo = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._rowIds = i2.map(function(t3) {
      return t3.rowId;
    }), r2._delta = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.getRows = function(t3) {
    return this._rowIds.map(function(e3) {
      return t3.rowById(e3);
    });
  }, e2.prototype._doRun = function(t3) {
    var e3 = {}, i2 = this.getRows(t3);
    return e3.result = t3.$_changeRowsIndex(i2, this._delta), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    var i2 = this.getRows(t3);
    t3.$_changeRowsIndex(i2, this._delta);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = this.getRows(t3);
    t3.$_changeRowsIndex(i2, -this._delta);
  }, e2;
}(Xi);
var _o = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3) || this;
    return r2._deleteRows = i2, r2._rowEvents = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.saveTreeNode = function(t3, e3, i2) {
    var o2;
    if (-1 !== t3.rowId) {
      var r2 = t3.rowState;
      o2 = { state: r2, rowId: t3.rowId, index: t3.index, parentId: t3.parent.rowId, parentRemove: i2, orgValues: t3._orgValues && t3._orgValues.slice(), children: [] }, this._deleteRows && (Pt(r2) || i2) && (o2.values = t3.values && t3.values.slice(), i2 = true), e3.push(o2), e3 = o2.children;
    }
    for (var n2 = 0, s2 = t3.count; n2 < s2; n2++) this.saveTreeNode(t3.getChild(n2), e3, i2);
  }, e2.prototype.restoreRowStates = function(t3, e3, i2) {
    for (var o2 = 0; o2 < e3.length; o2++) {
      var r2 = e3[o2], n2 = t3.rowById(r2.rowId);
      if (this._deleteRows && (Pt(r2.state) || r2.parentRemove)) {
        var s2 = t3.rowById(r2.parentId);
        n2 = t3.createTemp(), s2 && (n2._yieldRow(t3, r2, true), s2._insertChild(r2.index, n2, false, true));
      } else n2 && n2.rowState !== r2.state && (i2.push(n2), n2._yieldStates(t3, r2));
      this.restoreRowStates(t3, r2.children, i2);
    }
  }, e2.prototype._doRun = function(t3) {
    var e3 = [];
    return this.saveTreeNode(t3.rootRow, e3, false), t3.$_clearRowStates(this._deleteRows, this._rowEvents), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_clearRowStates(this._deleteRows, this._rowEvents, false);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = [];
    this.restoreRowStates(t3, e3, i2), i2.length && t3._fireRowStatesChanged(i2);
  }, e2;
}(Xi);
var go = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2._rows = i2 && i2.slice(), o2._recursive = !!o2._rows, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rows = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doRun = function(t3) {
    var e3 = {};
    return t3.$_restoreUpdatedRows(this._rows, e3), e3;
  }, e2.prototype._doRedo = function(t3, e3) {
    t3.$_restoreUpdatedRows(this._rows, null);
  }, e2.prototype._doUndo = function(t3, e3) {
    var i2 = e3.rows;
    if (!(i2.length < 1)) {
      for (var o2 = 0; o2 < i2.length; o2++) {
        var r2 = i2[o2];
        t3.$_undoRestoreRow(r2, e3[r2]);
      }
      t3._fireRefresh();
    }
  }, e2;
}(Xi);
var yo = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, o2) || this;
    if (r2._iconIndex = -1, r2._hasChildren = false, r2._parent = null, r2._values = null, r2._orgValues = null, r2._state = St.NONE, e3 && i2) {
      var n2 = e3.fieldCount;
      r2._values = new Array(n2);
      for (var s2 = 0, a2 = Math.min(i2.length, n2); s2 < a2; s2++) r2._values[s2] = e3.getField(s2).readValue(i2[s2]);
    }
    return r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._values = null, this._orgValues = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._parent && this._parent.provider;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._parent ? this._parent.indexOf(this) : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this._parent ? this._parent.level + 1 : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasChildren", { get: function() {
    return this._hasChildren;
  }, set: function(t3) {
    if (t3 != this._hasChildren) {
      this._hasChildren = t3;
      var e3 = this.provider;
      e3 && e3._hasChildrenChanged(this);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconIndex", { get: function() {
    return this._iconIndex;
  }, set: function(t3) {
    if (isNaN(t3) && (t3 = -1), t3 != this._iconIndex) {
      this._iconIndex = t3;
      var e3 = this.provider;
      e3 && e3._iconIndexChanged(this);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowState", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values && this._values.slice();
  }, enumerable: false, configurable: true }), e2.prototype._attach = function(t3) {
    t3._parent = this;
  }, e2.prototype._detach = function(t3) {
    t3._parent === this && (t3._parent = null);
  }, e2.prototype._changeRowState = function(t3, e3, i2) {
    var o2 = this.provider;
    if (o2 && t3 != this._state) {
      var r2 = this._state;
      return this._state = t3, t3 == St.UPDATED && o2._needOrgValues ? this._orgValues = this._values.concat() : r2 == St.UPDATED && this._orgValues && (this._orgValues = null), e3 && o2._stateChanged(this, i2), true;
    }
    return false;
  }, e2.prototype.getValue = function(t3) {
    if (this.provider) {
      if (this._checkFieldIndex(t3), this._values) return this._values[t3];
      throw new Error("Row data is not loaded");
    }
  }, e2.prototype.setValue = function(t3, e3, i2) {
    var o2 = this.provider;
    return !!o2 && (o2.undoable ? o2._commands.execute(new so(o2, this, t3, e3)) : this.$_setValue(t3, e3, i2));
  }, e2.prototype.getObject = function() {
    var t3 = this.provider;
    if (t3) {
      for (var e3 = t3.fieldCount, i2 = {}, o2 = 0; o2 < e3; o2++) {
        i2[t3.getOrgFieldName(o2)] = this._values[o2];
      }
      return i2;
    }
    return null;
  }, e2.prototype.copy = function() {
    var t3 = new e2(null, null, true);
    t3._rowId = this._rowId, t3._iconIndex = this._iconIndex, t3._hasChildren = this._hasChildren, t3._state = this._state, t3._values = this._values ? this._values.concat() : null;
    for (var i2 = 0, o2 = this.count; i2 < o2; i2++) {
      var r2 = this.getChild(i2).copy();
      t3._addChild(r2, true, true);
    }
    return t3;
  }, e2.prototype.update = function(t3, e3) {
    var i2 = this.provider;
    return !!i2 && (i2.undoable ? i2._commands.execute(new Ji(i2, this, t3, e3)) : this.$_update(i2, t3, e3, false));
  }, e2.prototype._keepRow = function(t3, e3) {
    var i2 = {};
    return i2.values = this._values && this._values.slice(), i2.state = this._state, i2.orgValues = this._orgValues && this._orgValues.slice(), i2.index = this.index, i2.hasChildren = this.hasChildren, i2.rowId = this.rowId, e3 && (i2.parentId = this.parent.rowId), i2.outer = t3._keepCommandStates(this), i2;
  }, e2.prototype._yieldRow = function(t3, e3, i2) {
    this._values = e3.values && e3.values.slice(), this._state = e3.state, this._orgValues = e3.orgValues && e3.orgValues.slice(), i2 && (this._rowId = e3.rowId, this.hasChildren = e3.hasChildren), t3._yieldCommandStates(this, e3.outer);
  }, e2.prototype._keepStates = function(t3) {
    var e3 = {};
    return e3.rowId = this.rowId, e3.state = this.rowState, e3;
  }, e2.prototype._yieldStates = function(t3, e3) {
    this._state = e3.state, e3.orgValues && (this._orgValues = e3.orgValues.slice());
  }, e2.prototype._keepState = function() {
    return this._state;
  }, e2.prototype._yieldState = function(t3) {
    this._state = t3;
  }, e2.prototype.$_setValue = function(t3, e3, i2) {
    var o2 = this.provider;
    if (o2) {
      if (!o2._checkClientState()) return;
      if (o2.refreshFieldFormats(), this._checkFieldIndex(t3), this._values) {
        if (e3 != this._values[t3]) {
          var r2 = null, n2 = o2.getField(t3), s2 = o2.checkStates && (this._state == St.NONE || !this._state);
          !i2 && s2 && o2._needOrgValues && (r2 = this._values.concat()), this._values[t3] = n2.readValue(e3), o2._internalCalculateValues(this._values, this.rowId), !i2 && s2 ? (o2._needOrgValues && (this._orgValues = r2), this._state = St.UPDATED, o2._stateChanged(this, false)) : o2._needRestore && this.$_restoreState(o2), o2._valueChanged(this, t3);
        }
        return true;
      }
      throw new Error("Row data is not loaded");
    }
  }, e2.prototype.$_update = function(t3, e3, i2, o2) {
    if (!o2) {
      if (!t3._checkClientState()) return;
      t3.refreshFieldFormats();
    }
    var r2 = this._values.slice();
    if (Ot.isArray(e3)) for (var n2 = 0; n2 < e3.length; n2++) r2[n2] = e3[n2];
    else if (Ot.isObject(e3)) for (var s2 in e3) {
      r2[this.provider.getFieldIndex(s2)] = e3[s2];
    }
    return !(!e3 || !o2 && !t3._rowUpdating(this, r2, this._values.slice())) && (this.$_internalUpdate(e3, i2, true), t3._rowUpdated(this), true);
  }, e2.prototype._clearOrgValues = function() {
    this._orgValues && (this._orgValues.length = 0, this._orgValues = null), t2.prototype._clearOrgValues.call(this);
  }, e2.prototype._restoreState = function(e3, i2) {
    var o2 = this.$_restoreState(this.provider);
    return o2 && i2 && i2.push(this), t2.prototype._restoreState.call(this, e3, i2), o2;
  }, e2.prototype.$_restoreRow = function(e3, i2, o2) {
    var r2 = false;
    if (this._state === St.UPDATED) {
      var n2 = this._orgValues;
      if (n2) {
        var s2 = this._values;
        o2 && (o2[this.rowId] = { values: this.values.slice(), state: this._state });
        for (var a2 = 0, l2 = Math.min(n2.length, this.provider.fieldCount); a2 < l2; a2++) s2[a2] = n2[a2];
        this._state = St.NONE, i2 && i2.push(this), r2 = true;
      }
    }
    return t2.prototype.$_restoreRow.call(this, e3, i2, o2), r2;
  }, e2.prototype.$_restoreState = function(t3) {
    if (this._state == St.UPDATED && this._orgValues) {
      for (var e3 = this._orgValues, i2 = this._values, o2 = this.provider, r2 = o2.strictRestore, n2 = 0, s2 = o2.fieldCount; n2 < s2; n2++) {
        var a2 = i2.length > n2 ? i2[n2] : void 0, l2 = e3.length > n2 ? e3[n2] : void 0;
        if (r2) {
          if (!o2.getField(n2).equalValues(a2, l2)) return false;
        } else if (!o2.getField(n2).sameValues(a2, l2)) return false;
      }
      return this._state = St.NONE, true;
    }
    return false;
  }, e2.prototype.$_getUpdatedCells = function() {
    var t3 = this._orgValues, e3 = this._values, i2 = this.provider, o2 = i2.strictRestore, r2 = [];
    if (!t3 || t3.length <= 0) return null;
    for (var n2 = 0, s2 = i2.fieldCount; n2 < s2; n2++) {
      var a2 = e3.length > n2 ? e3[n2] : void 0, l2 = t3.length > n2 ? t3[n2] : void 0, h2 = i2.getField(n2);
      h2.calculated || (o2 ? h2.equalValues(a2, l2) || r2.push({ fieldName: i2.getOrgFieldName(n2), oldValue: t3[n2], newValue: e3[n2] }) : h2.sameValues(a2, l2) || r2.push({ fieldName: i2.getOrgFieldName(n2), oldValue: t3[n2], newValue: e3[n2] }));
    }
    return r2;
  }, e2.prototype.$_setHasChildren = function(t3) {
    this._hasChildren = t3;
  }, e2.prototype.$_setIconIndex = function(t3) {
    this._iconIndex = isNaN(t3) ? -1 : t3;
  }, e2.prototype.$_internalUpdate = function(t3, e3, i2) {
    var o2 = false, r2 = Array.isArray(t3), n2 = this.provider;
    if (n2) {
      var s2 = Math.min(n2.fieldCount, r2 ? t3.length : n2.fieldCount), a2 = n2.checkStates && (this._state == St.NONE || !this._state), l2 = null;
      a2 && n2._needOrgValues && (l2 = this._values.concat());
      for (var h2 = 0; h2 < s2; h2++) {
        var u2 = n2.getField(h2);
        if (r2 || t3.hasOwnProperty(u2.orgFieldName)) {
          var c2 = r2 ? t3[h2] : t3[u2.orgFieldName];
          e3 && void 0 === c2 || (o2 = !n2._needRestore || (o2 || (e3 ? !u2.equalValues(this._values[h2], u2.readValue(c2)) : !u2.sameValues(this._values[h2], u2.readValue(c2)))), this._values[h2] = n2.getField(h2).readValue(c2));
        }
      }
      n2._internalCalculateValues(this._values, this.rowId), a2 && o2 ? (l2 && (this._orgValues = l2), this._state = St.UPDATED, i2 && n2._stateChanged(this, false)) : n2._needRestore && this.$_restoreState(n2);
    }
  }, e2;
}(eo);
var mo = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._countDirty = false, o2._tagLock = false, o2._points = [], o2._nextPoint = 0, o2._rowMap = [], o2._needOrgValues = false, o2._needRestore = false, o2._checkParentProc = null, o2._hiddenRows = [], o2.$_handler = i2, e3 && (o2._undoable = e3, o2._commands = new Zi(o2)), o2._rootRow = new io(o2), o2._tags = new Fi(o2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._commands = this._commands && this._commands.dispose(), this._points = this._rowMap = this._hiddenRows = [], this._rootRow.clearChildren(), this._tags = this._tags && this._tags.dispose(), t2.prototype._doDispose.call(this), this._rootRow = null;
  }, Object.defineProperty(e2.prototype, "rootRow", { get: function() {
    return this._rootRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parentCallback", { get: function() {
    return this._parentCallback;
  }, set: function(t3) {
    this._parentCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "needOrgValues", { get: function() {
    return this._needOrgValues;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "needRestore", { get: function() {
    return this._needRestore;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoable", { get: function() {
    return this._undoable && !!this._commands;
  }, set: function(t3) {
    t3 != this.undoable && (this._undoable = t3, this._commands && this._commands.flush());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "treeField", { get: function() {
    return this._treeField;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "handler", { get: function() {
    return this.$_handler;
  }, enumerable: false, configurable: true }), e2.prototype.addTag = function(t3) {
    this._tags && this._tags.add(t3);
  }, e2.prototype.removeTag = function(t3) {
    this._tags && this._tags.remove(t3);
  }, e2.prototype.setRows = function(t3, e3, i2, o2, r2) {
    if (!this._checkClientState()) return -1;
    var n2 = 0, s2 = this.getFieldIndex(e3);
    if (this._treeField = e3, this._firePrepareRemain(), s2 >= 0) {
      this.beginUpdate();
      try {
        this._clearRows(), this.refreshFieldFormats();
        var a2 = new Yi(this, this._rootRow);
        a2.parentCallback = this._parentCallback, n2 = a2.load(null, t3, s2, i2, this.getFieldIndex(o2), this.getFieldIndex(r2)), this._checkSum(n2), this.$_prepareMap();
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), n2;
  }, e2.prototype.setCsvRows = function(t3, e3, i2, o2, r2) {
    if (!this._checkClientState()) return -1;
    var n2 = 0, s2 = this.getFieldIndex(e3);
    if (this._treeField = e3, this._firePrepareRemain(), s2 >= 0) {
      this.beginUpdate();
      try {
        this._clearRows(), this.refreshFieldFormats();
        var a2 = new zi(this, this._rootRow);
        a2.parentCallback = this._parentCallback, n2 = a2.load(null, t3, s2, i2, this.getFieldIndex(o2), this.getFieldIndex(r2)), this._checkSum(n2), this.$_prepareMap();
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), n2;
  }, e2.prototype.setXmlRows = function(t3, e3, i2, o2) {
    if (!this._checkClientState()) return -1;
    var r2 = 0;
    if (t3) {
      this.beginUpdate();
      try {
        this._clearRows(), this.refreshFieldFormats(), r2 = new Ki(this, this._rootRow).load(null, t3, e3, this.getFieldIndex(i2), this.getFieldIndex(o2)), this._checkSum(r2), this.$_prepareMap();
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), r2;
  }, e2.prototype.setJsonRows = function(t3, e3, i2, o2) {
    if (!this._checkClientState()) return -1;
    if (t3) {
      this.beginUpdate();
      try {
        this._clearRows(), this.refreshFieldFormats();
        var r2 = new qi(this, this._rootRow);
        this._rowCount = r2.load(null, t3, e3, this.getFieldIndex(i2), this.getFieldIndex(o2)), this.$_prepareMap();
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), this.rowCount;
  }, e2.prototype.setJsonRows2 = function(t3, e3, i2, o2, r2) {
    if (!this._checkClientState()) return -1;
    if (t3) {
      this.beginUpdate();
      try {
        this._clearRows(), this.refreshFieldFormats();
        var n2 = new qi(this, this._rootRow);
        this._rowCount = n2.load2(null, t3, e3, i2, o2, r2), this.$_prepareMap();
      } finally {
        this.endUpdate(false), this.clearCommandStack();
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), this.rowCount;
  }, e2.prototype.appendDataRows = function(t3, e3, i2, o2, r2, n2) {
    if (!this._checkClientState()) return -1;
    var s2 = 0, a2 = this.getFieldIndex(i2);
    if (a2 >= 0) {
      var l2 = new Yi(this, this._rootRow);
      l2.parentCallback = this._parentCallback, this.beginUpdate();
      try {
        this.refreshFieldFormats(), s2 = l2.load(t3, e3, a2, o2, this.getFieldIndex(r2), this.getFieldIndex(n2));
      } finally {
        if (this.endUpdate(false), s2 > 0) {
          var h2 = l2.insertedRows;
          h2 && (s2 = h2.length) > 0 && this._rowsAdded(t3, h2);
        }
      }
    }
    return s2;
  }, e2.prototype.appendCsvRows = function(t3, e3, i2, o2, r2, n2) {
    if (!this._checkClientState()) return -1;
    var s2 = 0, a2 = this.getFieldIndex(i2);
    if (a2 >= 0) {
      this.beginUpdate();
      try {
        this.refreshFieldFormats();
        var l2 = new zi(this, this._rootRow);
        l2.parentCallback = this._parentCallback, s2 = l2.load(t3, e3, a2, o2, this.getFieldIndex(r2), this.getFieldIndex(n2));
      } finally {
        this.endUpdate(false);
      }
    }
    return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), s2;
  }, e2.prototype.appendXmlRows = function(t3, e3, i2, o2, r2) {
    if (!this._checkClientState()) return -1;
    var n2 = 0;
    if (e3) {
      var s2 = new Ki(this, this._rootRow);
      this.beginUpdate();
      try {
        this.refreshFieldFormats(), n2 = s2.load(t3, e3, i2, this.getFieldIndex(o2), this.getFieldIndex(r2));
      } finally {
        if (this.endUpdate(false), n2 > 0) {
          var a2 = s2.insertedRows;
          a2 && (n2 = a2.length) > 0 && this._rowsAdded(t3, a2);
        }
      }
    }
    return this._fireRowCountChanged(), n2;
  }, e2.prototype.appendJsonRows = function(t3, e3, i2, o2, r2) {
    if (!this._checkClientState()) return -1;
    var n2 = 0;
    if (e3) {
      var s2 = new qi(this, this._rootRow);
      this.beginUpdate();
      try {
        this.refreshFieldFormats(), n2 = s2.load(t3, e3, i2, this.getFieldIndex(o2), this.getFieldIndex(r2));
      } finally {
        if (this.endUpdate(false), n2 > 0) {
          var a2 = s2.insertedRows;
          a2 && (n2 = a2.length) > 0 && this._rowsAdded(t3, a2);
        }
      }
    }
    return this._fireRowCountChanged(), n2;
  }, e2.prototype.setIconIndex = function(t3, e3) {
    return t3.iconIndex != e3 && (t3.$_setIconIndex(e3), true);
  }, e2.prototype.setHasChildren = function(t3, e3) {
    return e3 != t3.hasChildren && (t3.$_setHasChildren(e3), true);
  }, e2.prototype.getChildCount = function(t3) {
    return (t3 || this._rootRow).count;
  }, e2.prototype.getRows = function(t3) {
    return (t3 || this._rootRow).children;
  }, e2.prototype.getDescendantCount = function(t3) {
    return (t3 || this._rootRow).descendantCount;
  }, e2.prototype.getDescendants = function(t3, e3) {
    function i2(t4, e4, o3) {
      for (var r3 = 0, n2 = t4.count; r3 < n2; r3++) {
        var s2;
        e4.push(s2 = t4.getChild(r3)), o3 > s2.level && i2(s2, e4, o3);
      }
    }
    e3 = arguments.length > 1 ? e3 : 0;
    var o2 = t3 || this._rootRow;
    if (e3 <= 0) return o2.descendants;
    if (e3 > o2.level) {
      var r2 = [];
      return i2(o2, r2, e3), r2;
    }
    return null;
  }, e2.prototype.getChild = function(t3, e3) {
    return (t3 || this._rootRow).getChild(e3);
  }, e2.prototype.hasData = function(t3) {
    return null != this.rowById(t3);
  }, e2.prototype.rowById = function(t3) {
    var e3 = this._rowMap[t3];
    return e3 && e3.rowId === t3 || (e3 = this._findRowById(t3)) && (this._rowMap[t3] = e3), e3 || this.rootRow.rowId !== t3 ? e3 : this.rootRow;
  }, e2.prototype.getDataRow = function(t3) {
    var e3 = this._rowMap[t3];
    return null == e3 && (e3 = this._findRowById(t3)), null != e3 ? t3 : -1;
  }, e2.prototype.rowsByIds = function(t3, e3) {
    if (t3) {
      for (var i2 = [], o2 = 0, r2 = t3; o2 < r2.length; o2++) {
        var n2 = r2[o2], s2 = this.rowById(n2);
        (s2 || e3) && i2.push(s2);
      }
      return i2;
    }
    return null;
  }, e2.prototype.createRow = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = true);
    var r2 = null;
    if (o2 && this.refreshFieldFormats(), Array.isArray(t3)) r2 = new yo(this, t3);
    else if (t3) {
      var n2 = new Array(this.fieldCount);
      for (var s2 in t3) {
        var a2 = this.getFieldIndex(s2);
        a2 >= 0 && (n2[a2] = t3[s2]);
      }
      r2 = new yo(this, n2);
    }
    return r2 && (this._internalCalculateValues(r2._values, r2.rowId), r2._iconIndex = e3, r2._hasChildren = i2), r2;
  }, e2.prototype.createTemp = function() {
    return new yo(this, null, true);
  }, e2.prototype.clearRows = function() {
    this._checkClientState() && (this._clearRows(), this.clearCommandStack(), this._eventLock <= 0 && (this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated()));
  }, e2.prototype.$_removeRows = function(t3, e3, i2) {
    if (this.softDeleting && this.checkStates) {
      for (var o2 = [], r2 = t3.length - 1; r2 >= 0; r2--) {
        var n2 = t3[r2], s2 = oo.findSave(n2.rowId, i2), a2 = false;
        switch (n2.rowState) {
          case St.CREATED:
            this.deleteCreated || (a2 = n2._changeRowState(St.CREATE_AND_DELETED, false, false), s2 && (s2.changeState = St.CREATE_AND_DELETED, s2.run = "state"), t3.splice(r2, 1));
            break;
          case St.DELETED:
          case St.CREATE_AND_DELETED:
            t3.splice(r2, 1), s2 && (s2.run = "state");
            break;
          default:
            a2 = n2._changeRowState(St.DELETED, true, false), t3.splice(r2, 1), s2 && (s2.run = "state", s2.changeState = St.DELETED);
        }
        if (a2 && o2.push(n2), e3 && n2.count > 0) for (var l2 = n2.count; l2--; ) n2._removeChild(n2.children[l2], false, e3, s2 && s2.children);
      }
      o2.length > 0 && this._fireRowStatesChanged(o2);
    }
    return this.deleteRows(t3), true;
  }, e2.prototype.removeRows = function(t3, e3) {
    for (var i2 = [], o2 = t3.length; o2--; ) {
      var r2 = this.rowById(t3[o2]);
      r2 && i2.push(r2);
    }
    function n2(t4, e4) {
      for (var o3 = e4; o3 >= 0; o3--) if (i2[o3].isAncestorOf(t4)) return false;
      return true;
    }
    if (this._checkClientState() && i2 && !(i2.length < 1)) {
      i2.sort(function(t4, e4) {
        return t4.level - e4.level;
      });
      for (o2 = i2.length; o2--; ) i2[o2].level > 1 && !n2(i2[o2], o2 - 1) && i2.splice(o2, 1);
      return !(i2.length < 1 || !this._rowsRemoving(i2)) && (this.undoable ? void this._commands.execute(new ao(this, i2, e3)) : this.$_removeRows(i2, e3, null));
    }
  }, e2.prototype.$_changeRowIndex = function(t3, e3) {
    if (0 == e3) return false;
    if (!this._checkClientState()) return false;
    var i2 = t3.parent, o2 = i2.children.length, r2 = t3.index, n2 = Math.min(Math.max(r2 + e3, 0), o2 - 1);
    return 0 != (e3 = n2 - r2) && (!!this._fireRowSiblingMoving(t3, e3) && (i2._moveChild(r2, n2), this._fireRowSiblingMoved(t3, e3), true));
  }, e2.prototype.changeRowIndex = function(t3, e3) {
    return this.undoable ? this._commands.execute(new co(this, t3, e3)) : this.$_changeRowIndex(t3, e3);
  }, e2.prototype.$_changeRowsIndex = function(t3, e3) {
    if (0 == e3) return false;
    if (!this._checkClientState()) return false;
    var i2 = t3[0].parent, o2 = i2.children.length, r2 = t3[0].index, n2 = Math.min(Math.max(r2 + e3, 0), o2 - 1);
    if (0 == (e3 = n2 - r2)) return false;
    for (var s2 = [], a2 = 0, l2 = t3; a2 < l2.length; a2++) {
      var h2 = l2[a2];
      s2.push(h2.index);
    }
    return !!this._fireRowsSiblingMoving(t3, e3) && (i2._moveChildren(s2, n2), this._fireRowsSiblingMoved(t3, e3), true);
  }, e2.prototype.changeRowsIndex = function(t3, e3) {
    return this.undoable ? this._commands.execute(new fo(this, t3, e3)) : this.$_changeRowsIndex(t3, e3);
  }, e2.prototype.$_changeRowParent = function(t3, e3, i2) {
    if (t3 === e3) throw new Error("Parent must not be self.");
    if (t3.isAncestorOf(e3)) throw new Error("Can`t move to child of a descendant.");
    var o2 = t3.parent;
    if (o2 === e3 && i2 == t3.index) return false;
    if (!this._checkClientState()) return false;
    e3._children || (e3._children = []);
    var r2 = e3._children.length;
    return i2 = Math.min(Math.max(i2, 0), r2), !!this._fireRowParentChanging(t3, e3, i2) && (t3._changeParent(e3, i2), e3 instanceof io || this.setHasChildren(e3, true), o2 instanceof io || 0 != o2.count || this.setHasChildren(o2, false), this._fireRowParentChanged(t3, e3, i2), true);
  }, e2.prototype.changeRowParent = function(t3, e3, i2) {
    return this.undoable ? this._commands.execute(new po(this, t3, e3, i2)) : this.$_changeRowParent(t3, e3, i2);
  }, e2.prototype.moveRows = function(t3, e3) {
    return this.changeRowsIndex(t3, e3.index - t3[0].index);
  }, e2.prototype.toTreeString = function() {
    return this._rootRow.toTreeString();
  }, e2.prototype.beginUpdate = function() {
    this._checkClientState(), this._eventLock++;
  }, e2.prototype.endUpdate = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = true), this._checkClientState(), this._eventLock = Math.max(0, this._eventLock - 1), 0 == this._eventLock && (t3 && (this._resetLock > 0 ? this._fireReset(e3) : this._fireRefresh(), this._countDirty && this._fireRowCountChanged()), this._resetLock = 0, this._countDirty = false);
  }, e2.prototype.$_extractTreeRowIds = function(t3) {
    if (t3) {
      for (var e3 = t3.length, i2 = new Array(e3), o2 = 0; o2 < e3; o2++) i2[o2] = t3[o2].rowId;
      return i2;
    }
    return null;
  }, e2.prototype.$_searchDataRow = function(t3, e3, i2, o2, r2, n2) {
    var s2 = t3.length;
    if (s2 < 1) return -1;
    var l2 = Math.min(e3.length, i2.length);
    if (l2 < 1) return -1;
    for (var h2 = o2.allFields, u2 = o2.caseSensitive, c2 = o2.partialMatch, d2 = null, p2 = [], f2 = o2.compareCallback || Ot.compareTextValue, _2 = o2.reverse, g2 = 0; g2 < l2; g2++) p2[g2] = this.getField(e3[g2]).dataType;
    r2 = Math.max(0, r2), n2 = Math.min(s2 - 1, n2);
    for (var y2 = r2; _2 ? y2 >= n2 : y2 <= n2; _2 ? y2-- : y2++) {
      var m2 = true;
      if (m2) for (g2 = 0; g2 < l2; g2++) {
        var b2 = this.rowById(t3[y2]).getValue(e3[g2]), v2 = this.getOrgFieldName(e3[g2]);
        switch (p2[g2]) {
          case a.DATETIME:
          case a.DATE:
            if (i2[g2] instanceof Date) m2 = f2.call(this.$_handler, i2[g2], b2, u2, c2, t3[y2], v2);
            else {
              if (!d2) {
                var w2 = /[.]/.test(i2[g2]) ? "yyyy.MM.dd" : /[/]/.test(i2[g2]) ? "yyyy/MM/dd" : /[-]/.test(i2[g2]) ? "yyyy-MM-dd" : "yyyyMMdd";
                d2 = new He(w2);
              }
              m2 = f2.call(this.$_handler, i2[g2], b2 ? d2.getText(b2) : b2, u2, c2, t3[y2], v2);
            }
            break;
          default:
            m2 = f2.call(this.$_handler, i2[g2], b2, u2, c2, t3[y2], v2);
        }
        if (m2 && !h2) return t3[y2];
        if (!m2 && h2) break;
      }
      if (m2) return t3[y2];
    }
    return -1;
  }, e2.prototype.searchDataRow = function(t3, e3) {
    var i2;
    if (void 0 === e3 && (e3 = null), null != e3) {
      var o2 = this.rowById(e3);
      if (!o2) return -1;
      i2 = this.$_extractTreeRowIds(o2.descendants);
    } else i2 = this.$_extractTreeRowIds(this._rootRow.descendants);
    if (!Array.isArray(i2) || i2.length <= 0) return -1;
    t3 instanceof si || (t3.reverse && !t3.hasOwnProperty("startIndex") && (t3.startIndex = i2.length - 1), t3 = new si(t3));
    var r2 = t3.reverse, n2 = i2.length, s2 = Math.max(0, i2.indexOf(t3.startIndex)), a2 = t3.fields, l2 = t3.values, h2 = -1;
    if (a2 && a2.length > 0 && l2 && l2.length > 0) {
      for (var u2 = a2.length, c2 = [], d2 = 0; d2 < u2; d2++) {
        var p2 = a2[d2];
        if (Ot.isNumber(p2)) c2.push(p2);
        else {
          var f2 = this.getFieldIndex(a2[d2]);
          f2 >= 0 && c2.push(f2);
        }
      }
      c2.length > 0 && (h2 = (r2 ? s2 > 0 : s2 < n2) ? this.$_searchDataRow(i2, c2, l2, t3, s2, r2 ? 0 : n2 - 1) : -1) < 0 && t3.wrap && (r2 ? s2 < n2 - 1 : s2 > 0) && (h2 = this.$_searchDataRow(i2, c2, l2, t3, r2 ? n2 - 1 : 0, r2 ? s2 + 1 : s2 - 1));
    }
    return h2;
  }, e2.prototype.$_searchData = function(t3, e3, i2, o2, r2, n2, s2) {
    var l2 = this.rowCount;
    if (l2 < 1) return null;
    for (var h2 = o2 && o2.caseSensitive, u2 = o2 && o2.partialMatch, c2 = this.fieldCount, d2 = e3.length, p2 = null, f2 = [], _2 = o2.reverse, g2 = o2.compareCallback || Ot.compareTextValue, y2 = 0; y2 < c2; y2++) f2[y2] = this.getField(y2).dataType;
    r2 = Math.max(0, r2), n2 = Math.min(l2 - 1, n2), s2 = Math.max(0, s2), o2.reverse ? s2 < 0 && (r2--, s2 = e3.length - 1) : s2 >= e3.length && (r2++, s2 = 0);
    for (var m2 = r2; _2 ? m2 >= n2 : m2 <= n2; _2 ? m2-- : m2++) for (y2 = _2 ? m2 < r2 ? d2 - 1 : s2 : m2 > r2 ? 0 : s2; _2 ? y2 >= 0 : y2 < d2; _2 ? y2-- : y2++) {
      var b2 = false, v2 = e3[y2], w2 = this.getOrgFieldName(e3[y2]);
      if (v2 >= 0 && v2 < c2) {
        var C2 = this.rowById(t3[m2]).getValue(v2);
        switch (f2[v2]) {
          case a.DATETIME:
          case a.DATE:
            if (i2 instanceof Date) b2 = g2.call(this.$_handler, i2, C2, h2, u2, t3[m2], w2);
            else {
              if (!p2) {
                var x2 = /[.]/.test(i2) ? "yyyy.MM.dd" : /[/]/.test(i2) ? "yyyy/MM/dd" : /[-]/.test(i2) ? "yyyy-MM-dd" : "yyyyMMdd";
                p2 = new He(x2);
              }
              b2 = g2.call(this.$_handler, i2, C2 ? p2.getText(C2) : C2, h2, u2, t3[m2], w2);
            }
            break;
          default:
            b2 = g2.call(this.$_handler, i2, C2, h2, u2, t3[m2], w2);
        }
        if (b2) return { dataRow: t3[m2], fieldIndex: v2, searchFieldIndex: y2, fieldName: w2 };
      }
    }
    return null;
  }, e2.prototype.searchData = function(t3, e3) {
    var i2, o2 = this;
    if (void 0 === e3 && (e3 = -1), e3 >= 0) {
      var r2 = this.rowById(e3);
      if (!r2) return null;
      i2 = this.$_extractTreeRowIds(r2.descendants);
    } else i2 = this.$_extractTreeRowIds(this._rootRow.descendants);
    if (!Array.isArray(i2) || i2.length <= 0) return null;
    var n2 = i2.length, s2 = null, a2 = Ot.makeArray(t3.fields) || this.getOrgFieldNames();
    a2 && a2.length || (a2 = this.getOrgFieldNames());
    var l2 = [];
    a2.forEach(function(t4) {
      return l2.push(o2.getFieldIndex(t4));
    }), t3 instanceof ai || (t3.reverse && (t3.hasOwnProperty("startIndex") || (t3.startIndex = n2 - 1), t3.hasOwnProperty("startFieldIndex") || (t3.startFieldIndex = l2.length - 1)), t3 = new ai(t3));
    var h2 = t3.reverse, u2 = l2.length, c2 = t3.value, d2 = i2.indexOf(t3.startIndex) < 0 ? h2 ? n2 - 1 : 0 : i2.indexOf(t3.startIndex), p2 = h2 ? 0 : n2 - 1, f2 = Math.max(0, Math.min(u2 - 1, t3.startFieldIndex)), _2 = h2 ? d2 >= 0 && f2 > 0 : d2 < n2 && f2 < u2, g2 = h2 ? d2 < n2 - 1 || f2 < u2 - 1 : d2 > 0 || f2 > 0;
    return null != c2 && l2.length > 0 && !(s2 = _2 ? this.$_searchData(i2, l2, c2, t3, d2, p2, f2) : null) && t3.wrap && g2 && (s2 = this.$_searchData(i2, l2, c2, t3, h2 ? n2 - 1 : 0, d2 - 1, h2 ? f2 : 0)), s2;
  }, e2.prototype.$_hideDataRows = function(t3, e3) {
    if (null != t3) {
      for (var i2 = Ot.isArray(t3) ? t3 : [t3], o2 = this._hiddenRows.length, r2 = [], n2 = 0, s2 = i2.length; n2 < s2; n2++) {
        var a2 = i2[n2];
        if (null != this._findRowById(a2)) if (r2.push(a2), e3) this._hiddenRows.indexOf(a2) < 0 && this._hiddenRows.push(a2);
        else {
          var l2 = this._hiddenRows.indexOf(a2);
          l2 >= 0 && this._hiddenRows.splice(l2, 1);
        }
      }
      this._hiddenRows.length !== o2 && this._fireRowsHiddenChanged(r2, e3);
    }
  }, e2.prototype.hideRows = function(t3) {
    this.$_hideDataRows(t3, true);
  }, e2.prototype.showRows = function(t3) {
    this.$_hideDataRows(t3, false);
  }, e2.prototype.clearHiddenRows = function() {
    if (this._hiddenRows.length > 0) {
      var t3 = this._hiddenRows.concat();
      this._hiddenRows = [], this._fireRowsHiddenChanged(t3, false);
    }
  }, e2.prototype.getHiddenRows = function() {
    var t3 = this._hiddenRows.concat();
    return t3.sort(function(t4, e3) {
      return t4 - e3;
    }), t3;
  }, e2.prototype.isHiddenRow = function(t3) {
    return !!this.rowById(t3) && this._hiddenRows.indexOf(t3) >= 0;
  }, Object.defineProperty(e2.prototype, "hiddenCount", { get: function() {
    return this._hiddenRows.length;
  }, enumerable: false, configurable: true }), e2.prototype.summarize = function(t3, e3) {
    if (null == t3) return false;
    t3.clear();
    var i2 = this.rowCount;
    if (i2 < 1) return false;
    if (t3.count = i2, t3.sum = 0, t3.min = null, t3.max = null, t3.dataCount = 0, this.$_summarizeChildren(this._rootRow, t3), t3.avg = t3.sum / t3.count, t3.dataAvg = 0 === t3.dataCount ? NaN : t3.sum / t3.dataCount, e3) {
      var o2 = this.$_summarizeVars(this._rootRow, t3);
      t3.varsp = o2 / t3.count, t3.vars = o2 / (t3.count - 1);
    }
    return true;
  }, e2.prototype.summarizeRange = function(t3, e3, i2) {
    if (null == t3 || null == e3) return false;
    t3.clear();
    var o2 = e3.length;
    if (o2 < 1) return false;
    for (var r2 = 0, n2 = t3.field, s2 = this.getField(n2).dataType === a.NUMBER, l2 = null, h2 = null, u2 = null, c2 = 0; c2 < o2; ) {
      null == (_2 = e3[c2++].getValue(n2)) || s2 && (!s2 || isNaN(_2)) || (s2 && (l2 = r2 ? l2 + _2 : _2), (s2 || "" != _2) && r2++, (null == h2 || _2 < h2) && (h2 = _2), (null == u2 || _2 > u2) && (u2 = _2));
    }
    if (t3.count = o2, r2 > 0 && (l2 = null != l2 ? l2 : s2 ? NaN : null, h2 = null != h2 ? h2 : s2 ? NaN : null, u2 = null != u2 ? u2 : s2 ? NaN : null, t3.sum = l2, t3.min = h2, t3.max = u2, t3.avg = l2 / o2, t3.dataCount = r2, t3.dataAvg = 0 === t3.dataCount ? NaN : t3.sum / t3.dataCount, i2)) if (o2 > 1) {
      for (var d2 = 0, p2 = t3.avg, f2 = 0; f2 < o2; f2++) {
        var _2 = e3[f2].getValue(n2);
        isNaN(_2) || (d2 += Math.pow(_2 - p2, 2));
      }
      t3.varsp = d2 / o2, t3.vars = d2 / (o2 - 1);
    } else t3.varsp = 0, t3.vars = 0;
    return true;
  }, Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._rootRow.descendantCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._commands && this._commands.canUndo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._commands && this._commands.canRedo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._commands && this._commands.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._commands && this._commands.redoing;
  }, enumerable: false, configurable: true }), e2.prototype.getRow = function(t3) {
    return this.rowById(t3).values;
  }, e2.prototype.deleteRows = function(t3) {
    if (this._checkClientState() && t3 && t3.length > 0) {
      var e3 = this._softDeleting;
      this.beginUpdate();
      try {
        this._softDeleting = false, this._tagLock = true;
        try {
          for (var i2 = t3.length - 1; i2 >= 0; i2--) {
            var o2 = t3[i2], r2 = o2 && o2.parent;
            r2 && r2._removeChild(o2, true, false, null);
          }
        } finally {
          this._tagLock = false;
        }
      } finally {
        this._softDeleting = e3, this.endUpdate(false);
      }
      this._rowsRemoved(t3);
    }
  }, e2.prototype.equalValues = function(t3, e3, i2) {
    if (e3 !== i2) {
      var o2 = this._fields[t3], r2 = e3.getValue(t3), n2 = i2.getValue(t3);
      return o2.equalValues(r2, n2);
    }
    return true;
  }, e2.prototype.sameValues = function(t3, e3, i2, o2) {
    if (e3 !== i2) {
      var r2 = this._fields[t3], n2 = e3.getValue(t3), s2 = i2.getValue(t3);
      return o2 ? String(n2).toLowerCase() == String(s2).toLowerCase() : r2.sameValues(n2, s2);
    }
    return true;
  }, e2.prototype.equalTexts = function(t3, e3, i2) {
    return this.sameValues(t3, e3, i2, true);
  }, e2.prototype.compareValues = function(t3, e3, i2, o2, r2) {
    if (e3 !== i2) {
      var n2 = e3.getValue(t3), s2 = i2.getValue(t3);
      return -1 === o2 && (n2 = "" == n2 ? null : n2, s2 = "" == s2 ? null : s2), null == n2 ? null == s2 ? 0 : -1 * o2 : null == s2 ? 1 * o2 : (n2 = r2 ? String(n2).toLowerCase() : n2) > (s2 = r2 ? String(s2).toLowerCase() : s2) ? 1 : n2 < s2 ? -1 : 0;
    }
    return 0;
  }, e2.prototype.compareTexts = function(t3, e3, i2, o2) {
    return this.compareValues(t3, e3, i2, o2, true);
  }, e2.prototype.compareNumbers = function(t3, e3, i2, o2) {
    if (e3 !== i2) {
      var r2 = e3.getValue(t3), n2 = i2.getValue(t3);
      return isNaN(r2) ? isNaN(n2) ? 0 : -1 * o2 : isNaN(n2) ? 1 * o2 : r2 > n2 ? 1 : r2 < n2 ? -1 : 0;
    }
    return 0;
  }, e2.prototype.compareBools = function(t3, e3, i2, o2) {
    if (e3 !== i2) {
      var r2 = e3.getValue(t3), n2 = i2.getValue(t3);
      return r2 && !n2 ? 1 : !r2 && n2 ? -1 : 0;
    }
    return 0;
  }, e2.prototype.compareObjects = function(t3, e3, i2, o2) {
    var r2 = e3.values, n2 = i2.values;
    if (r2 === n2) return 0;
    var s2 = r2 ? r2[t3] : null, a2 = n2 ? n2[t3] : null;
    return s2 ? a2 ? this.getField(t3).$_compareObject(s2, a2, e3.rowId, i2.rowId) : 1 * o2 : a2 ? -1 * o2 : 0;
  }, e2.prototype.getDistinctValues = function(t3, e3, i2) {
    if (void 0 === e3 && (e3 = -1), void 0 === i2 && (i2 = l.ASCENDING), this._checkFieldIndex(t3), e3 < 0 && (e3 = this.getDescendantCount(this._rootRow)), e3 > 0) {
      for (var o2 = this.getDescendants(this._rootRow, 0), r2 = this.getField(t3).dataType, n2 = [], s2 = void 0, h2 = 0, u2 = o2.length; h2 < u2; h2++) switch (s2 = o2[h2].values[t3], r2) {
        case a.NUMBER:
          null != s2 && isNaN(s2) || n2.push(s2);
          break;
        case a.DATE:
        case a.DATETIME:
          n2.push(s2 ? s2.getTime() : s2);
          break;
        case a.OBJECT:
        default:
          n2.push(s2);
      }
      return n2 = Qe.getUniqueValues(n2, r2), i2 !== l.NONE && (n2 = Ot.included(r2, a.DATETIME, a.DATE) ? n2.sort(function(t4, e4) {
        return t4 - e4;
      }) : n2.sort(), i2 === l.DESCENDING && (n2 = n2.reverse())), n2.slice(0, e3);
    }
    return null;
  }, e2.prototype._doFieldsReset = function() {
    this._fireReset(true);
  }, e2.prototype.refreshClients = function() {
    this._fireRefreshClient();
  }, e2.prototype.savePoint = function(t3) {
    if (void 0 === t3 && (t3 = true), this._checkClientState()) {
      if (this.fieldCount > 0 && this._rootRow.count > 0) {
        var e3 = this._rootRow.copy(), i2 = this._nextPoint++;
        return t3 || e3.clearRowStates(false, false), this._points.push({ id: i2, nextRowId: this._nextRowId, data: e3 }), i2;
      }
      return -1;
    }
  }, e2.prototype.rollback = function(t3) {
    if (void 0 === t3 && (t3 = 0), this._checkClientState()) for (var e3 = this._points.length - 1; e3 >= 0; e3--) {
      var i2 = this._points[e3];
      if (i2.id == t3) {
        this.$_removeSavePoints(e3 + 1), this._rowMap = [], this._rootRow.set(i2.data), this._nextRowId = i2.nextRowId, this.$_prepareMap(), this._fireRefresh();
        break;
      }
    }
  }, e2.prototype.$_removeSavePoints = function(t3) {
    for (var e3 = this._points, i2 = e3.length - 1; i2 >= t3; i2--) {
      e3[i2].data = null, e3.pop();
    }
  }, e2.prototype.clearSavePoints = function() {
    this.$_removeSavePoints(0);
  }, e2.prototype.getSavePoints = function() {
    for (var t3 = [], e3 = 0, i2 = this._points.length; e3 < i2; e3++) t3.push(this._points[e3].id);
    return t3;
  }, e2.prototype._doCheckStatesChanged = function() {
    this.$_resetOrgValues();
  }, e2.prototype._doRestoreModeChanged = function() {
    this.$_resetOrgValues();
  }, e2.prototype._hasChildrenChanged = function(t3) {
    this._fireHasChildrenChanged(t3);
  }, e2.prototype._iconIndexChanged = function(t3) {
    this._fireIconIndexChanged(t3);
  }, e2.prototype._stateChanged = function(t3, e3) {
    this._fireRowStateChanged(t3, e3);
  }, e2.prototype._statesChanged = function(t3) {
    this._fireRowStatesChanged(t3);
  }, e2.prototype._valueChanged = function(t3, e3) {
    this._fireValueChanged(t3, e3);
  }, e2.prototype._rowAdding = function(t3, e3, i2) {
    return this._fireRowAdding(t3, e3, i2);
  }, e2.prototype._rowAdded = function(t3) {
    this._tagLock || this._tags.addRow(t3), this._eventLock <= 0 && (this._fireRowAdded(t3), this._fireRowCountChanged());
  }, e2.prototype._rowsAdding = function(t3, e3, i2) {
    return this._fireRowsAdding(t3, e3, i2);
  }, e2.prototype._rowsAdded = function(t3, e3) {
    this._tagLock || this._tags.addRows(e3), this._eventLock <= 0 && (this._fireRowsAdded(t3, e3), this._fireRowCountChanged());
  }, e2.prototype._rowRemoving = function(t3) {
    return this._fireRowRemoving(t3);
  }, e2.prototype._rowRemoved = function(t3) {
    this._tagLock || this._tags.removeRow(t3), this._eventLock <= 0 && (this._fireRowRemoved(t3), this._fireRowCountChanged()), this.$_removeMap(t3);
  }, e2.prototype._rowsRemoving = function(t3) {
    return this._fireRowsRemoving(t3);
  }, e2.prototype._rowsRemoved = function(t3) {
    this._tagLock || this._tags.removeRows(t3), this._eventLock <= 0 && (this._fireRowsRemoved(t3), this._fireRowCountChanged()), this.$_removeMap(t3);
  }, e2.prototype._rowCleared = function(t3) {
    if (t3) {
      var e3 = t3.children;
      this._tags.removeRows(e3), this._eventLock <= 0 && (this._fireRowsRemoved(e3), this._fireRowCountChanged());
    }
  }, e2.prototype._rowUpdating = function(t3, e3, i2) {
    return this._fireRowUpdating(t3, e3, i2);
  }, e2.prototype._rowUpdated = function(t3) {
    this._tags.updateRow(t3), this._eventLock <= 0 && this._fireRowUpdated(t3);
  }, e2.prototype._rowsUpdating = function(t3) {
    return this._fireRowsUpdating(t3);
  }, e2.prototype._rowsUpdated = function(t3) {
    this._tags.updateRows(t3), this._eventLock <= 0 && this._fireRowsUpdated(t3);
  }, e2.prototype.$_internalInsertField = function(e3, i2) {
    return e3 = t2.prototype.$_internalInsertField.call(this, e3, i2), function t3(e4, i3) {
      if (e4.children && e4.children.length > 0) for (var o2 = 0, r2 = e4.children; o2 < r2.length; o2++) {
        t3(r2[o2], i3);
      }
      e4._values && e4._values.splice(i3, 0, void 0), e4._orgValues && e4._orgValues.splice(i3, 0, void 0);
    }(this._rootRow, e3), e3;
  }, e2.prototype.$_internalRemoveField = function(e3) {
    return function t3(e4, i2) {
      if (e4.children && e4.children.length > 0) for (var o2 = 0, r2 = e4.children; o2 < r2.length; o2++) {
        t3(r2[o2], i2);
      }
      e4._values && e4._values.splice(i2, 1), e4._orgValues && e4._orgValues.splice(i2, 1);
    }(this._rootRow, e3.index), t2.prototype.$_internalRemoveField.call(this, e3);
  }, e2.prototype.getRowId = function(t3) {
    return t3;
  }, e2.prototype.getValue = function(t3, e3) {
    var i2 = this.rowById(t3);
    if (i2) return i2.getValue(e3);
  }, e2.prototype.setValue = function(t3, e3, i2) {
    var o2 = this.rowById(t3);
    if (o2) return o2.setValue(e3, i2, false);
  }, e2.prototype.getRowObject = function(t3) {
    var e3 = this.rowById(t3), i2 = this.fieldCount, o2 = {}, r2 = e3._values;
    if (r2) for (var n2 = 0; n2 < i2; n2++) {
      o2[this.getOrgFieldName(n2)] = r2[n2];
    }
    return o2;
  }, e2.prototype.getRowState = function(t3) {
    var e3 = this.rowById(t3);
    return e3 ? e3.rowState : St.NONE;
  }, e2.prototype.setRowState = function(t3, e3, i2) {
    var o2 = this.rowById(t3);
    if (o2 && (this.checkStates || i2)) {
      var r2 = o2.rowState;
      if (e3 != r2) {
        if (this._undoable) return this._commands.execute(new ho(this, o2, e3));
        o2._changeRowState(e3, true, !!Pt(r2) || void 0);
      }
    }
  }, e2.prototype.changeRowStates = function(t3, e3) {
    for (var i2 = t3.length, o2 = [], r2 = 0; r2 < i2; r2++) {
      var n2 = t3[r2];
      n2._changeRowState(e3, false, false) && o2.push(n2);
    }
    o2.length > 0 && this._fireRowStatesChanged(o2);
  }, e2.prototype.$_clearRowStates = function(t3, e3) {
    this._checkClientState() && this._rootRow.clearRowStates(t3, e3);
  }, e2.prototype.clearRowStates = function(t3, e3) {
    this._undoable ? this._commands.execute(new _o(this, t3, e3)) : this.$_clearRowStates(t3, e3);
  }, e2.prototype.$_collectStateRows = function(t3, e3, i2) {
    for (var o2 = 0, r2 = t3.count; o2 < r2; o2++) {
      var n2 = t3.getChild(o2);
      n2.rowState == e3 && i2.push(n2.rowId), this.$_collectStateRows(n2, e3, i2);
    }
  }, e2.prototype.getStateRows = function(t3) {
    var e3 = [];
    return this.$_collectStateRows(this._rootRow, t3, e3), e3;
  }, e2.prototype.$_collectAllStateRows = function(t3, e3) {
    for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = t3.getChild(i2);
      switch (r2.rowState) {
        case St.CREATED:
        case St.UPDATED:
        case St.DELETED:
        case St.CREATE_AND_DELETED:
          e3[r2.rowState].push(r2.rowId);
      }
      this.$_collectAllStateRows(r2, e3);
    }
  }, e2.prototype.getAllStateRows = function() {
    var t3 = {};
    return t3[St.CREATED] = [], t3[St.UPDATED] = [], t3[St.DELETED] = [], t3[St.CREATE_AND_DELETED] = [], this.$_collectAllStateRows(this._rootRow, t3), t3;
  }, e2.prototype.$_setRowStates = function(t3, e3, i2, o2) {
    var r2 = [];
    if (this.checkStates || i2) for (var n2 = 0, s2 = t3.length; n2 < s2; n2++) {
      var a2 = this.rowById(t3[n2]);
      a2 && a2._changeRowState(e3, o2, false) && r2.push(a2);
    }
    !o2 && r2.length > 0 && this._fireRowStatesChanged(r2);
  }, e2.prototype.setRowStates = function(t3, e3, i2, o2) {
    this._checkClientState() && (this.undoable ? this._commands.execute(new uo(this, t3, e3, i2, o2)) : this.$_setRowStates(t3, e3, i2, o2));
  }, e2.prototype.$_getRowStateCount = function(t3, e3) {
    for (var i2 = 0, o2 = 0, r2 = t3.count; o2 < r2; o2++) {
      var n2 = t3.getChild(o2);
      e3.indexOf(n2.rowState) >= 0 && i2++, i2 += this.$_getRowStateCount(n2, e3);
    }
    return i2;
  }, e2.prototype.getRowStateCount = function(t3) {
    return this.$_getRowStateCount(this._rootRow, t3);
  }, e2.prototype.restoreUpdatedStates = function(t3) {
    this.restoreUpdatedRows(t3);
  }, e2.prototype.restoreUpdatedRows = function(t3) {
    this.undoable ? this._commands.execute(new go(this, t3)) : this.$_restoreUpdatedRows(t3, null, false);
  }, e2.prototype.$_restoreUpdatedRows = function(t3, e3, i2) {
    if (this._checkClientState()) {
      var o2 = [];
      if (null == t3) this._rootRow.$_restoreRow(true, o2, e3);
      else for (var r2 = t3.length; r2--; ) {
        var n2 = this.rowById(t3[r2]);
        n2 && n2.$_restoreRow(false, o2, e3);
      }
      e3 && (e3.rows = o2.map(function(t4) {
        return t4.rowId;
      })), 1 == o2.length ? this._fireRowStateChanged(o2[0], false) : o2.length > 1 && this._fireRowStatesChanged(o2);
    }
  }, e2.prototype.$_undoRestoreRow = function(t3, e3) {
    var i2 = this.rowById(t3);
    if (e3) {
      for (var o2 = 0, r2 = Math.min(i2.values.length, e3.values.length); o2 < r2; o2++) i2._values[o2] = e3.values[o2];
      i2._state = e3.state;
    }
  }, e2.prototype._reCalculateFields = function(t3) {
    var e3 = this;
    this.getDescendants(this._rootRow, -1).forEach(function(i2) {
      e3._internalCalculateValues(i2._values, i2.rowId, t3);
    });
  }, e2.prototype.getUpdatedCells = function(t3) {
    var e3 = this.restoreMode;
    if (e3 != Yt.AUTO && e3 != Yt.EXPLICIT) return null;
    if (null == t3) t3 = this.getStateRows(St.UPDATED);
    else if (!Array.isArray(t3)) {
      if ("number" != typeof t3) return null;
      t3 = [t3];
    }
    if (!Array.isArray(t3)) return null;
    for (var i2 = [], o2 = 0, r2 = t3.length; o2 < r2; o2++) {
      var n2 = this.rowById(t3[o2]);
      if (n2) {
        var s2 = n2.$_getUpdatedCells();
        s2 && s2.length > 0 && i2.push({ __rowId: n2.rowId, updatedCells: s2 });
      }
    }
    return i2;
  }, e2.prototype.canUpdateRow = function(t3) {
    return true;
  }, e2.prototype.canInsertRow = function(t3) {
    return true;
  }, e2.prototype.canDeleteRow = function(t3) {
    return true;
  }, e2.prototype.isDataChanged = function(t3, e3) {
    if (t3 < 0) return false;
    var i2 = this.rowById(t3);
    !i2 && Ot.isDebugging();
    var o2 = i2._orgValues;
    if (i2.rowState !== St.UPDATED || !o2) return false;
    if (o2) {
      var r2 = o2[e3], n2 = i2._values[e3], s2 = this._fields[e3];
      return s2 && !s2.sameValues(r2, n2);
    }
    return false;
  }, e2.prototype.$_createFrom = function(t3, e3) {
    var i2 = t3.getObject();
    e3 && (i2 = this._convertValues(i2, e3));
    for (var o2 = this.objectToRow(i2), r2 = new yo(this, o2), n2 = 0; n2 < t3.count; n2++) {
      var s2 = this.$_createFrom(t3.getChild(n2), e3);
      r2.addChild(s2, false);
    }
    return r2;
  }, e2.prototype.$_insertRowsFrom = function(t3, e3, i2, o2) {
    for (var r2 = [], n2 = 0, s2 = t3.rowsByIds(i2, false); n2 < s2.length; n2++) {
      var a2 = s2[n2];
      r2.push(this.$_createFrom(a2, e3));
    }
    var l2 = o2 >= 0 ? this.rowById(o2) : null, h2 = l2 ? l2.parent : this.rootRow;
    if (o2 >= 0) {
      var u2 = h2.indexOf(l2);
      h2.insertChildren(u2, r2, false);
    } else h2.insertChildren(h2.count, r2, false);
  }, e2.prototype.$_insertChildNode = function(t3, e3, i2, o2, r2, n2) {
    var s2 = Ot.getNumber(i2[r2], -1), a2 = i2[o2], l2 = this.createRow(i2, s2, a2 && a2.length > 0);
    if (e3 >= 0 ? t3._insertChild(e3, l2, false, n2) : t3._addChild(l2, false, n2), a2) for (var h2 = 0; h2 < a2.length; h2++) this.$_insertChildNode(l2, -1, a2[h2], o2, r2, n2);
    return l2 ? l2.rowId : -1;
  }, e2.prototype.insertChildNode = function(t3, e3, i2, o2, r2, n2) {
    return this.undoable ? this._commands.execute(new lo(this, t3, e3, i2, o2, r2, n2)) : this.$_insertChildNode(t3, e3, i2, o2, r2, n2);
  }, e2.prototype.insertRowsFrom = function(t3, e3, i2, o2) {
    this.$_insertRowsFrom(t3, e3, i2, o2);
  }, e2.prototype.appendRowsFrom = function(t3, e3, i2) {
    this.$_insertRowsFrom(t3, e3, i2, -1);
  }, e2.prototype.fillValue = function(t3, e3) {
    Object.keys(t3).length && (this.undoable ? this._commands.execute(new ro(this, t3, e3)) : this.$_fillValue(t3, e3));
  }, e2.prototype.updateRows = function(t3, e3, i2) {
    if (t3 && 0 != t3.length) {
      for (var o2 = [], r2 = 0; r2 < t3.length; r2++) {
        var n2 = this.rowById(t3[r2]);
        n2 ? o2.push(n2) : e3.splice(r2, 1);
      }
      this.undoable ? this._commands.execute(new no(this, o2, e3, i2)) : this.$_updateRows(o2, e3, i2);
    }
  }, e2.prototype._findRowById = function(t3) {
    return this._rootRow.findById(t3);
  }, e2.prototype._checkSum = function(t3) {
    if (t3 != this.rowCount) throw new Error("Invalid row count: " + t3 + " <> " + this.rowCount);
  }, e2.prototype._clearRows = function() {
    this._rootRow._removeChildren(), this._rowMap = [], this._rootRow && this._rootRow.descendantCount > 0 || (this._nextRowId = 1), this._tags.clearRows(), this._checkSum(0);
  }, e2.prototype.$_prepareMap = function() {
    var t3 = this;
    !function e3(i2) {
      var o2 = i2.children;
      o2 && o2.forEach(function(i3) {
        t3._rowMap[i3.rowId] = i3, e3(i3);
      });
    }(this._rootRow);
  }, e2.prototype.$_removeMap = function(t3) {
    var e3 = this;
    (t3 = Ot.makeArray(t3, true)).forEach(function(t4) {
      e3._rowMap[t4.rowId] = void 0, e3.$_removeMap(t4.children), t4.dispose();
    });
  }, e2.prototype.$_fillValue = function(t3, e3) {
    if (this._checkClientState()) {
      var i2 = Object.keys(t3);
      if (i2 && i2.length) {
        this.refreshFieldFormats();
        var o2 = [], r2 = [];
        for (var n2 in t3) {
          var s2 = this.rowById(+n2);
          r2.push(s2), s2.rowState == St.NONE && o2.push(s2);
          for (var a2 = s2.values, l2 = t3[n2], h2 = 0; h2 < l2.length; h2++) a2[l2[h2]] = e3;
          s2.$_internalUpdate(a2, false, false);
        }
        o2.length > 0 && this._fireRowStatesChanged(o2), this._tags.updateRows(r2), this._fireRowsUpdated(r2);
      }
    }
  }, e2.prototype.$_updateRows = function(t3, e3, i2) {
    if (this._checkClientState() && t3 && e3) {
      var o2 = Math.min(t3.length, e3.length);
      if (!(o2 < 1)) {
        this.refreshFieldFormats();
        for (var r2 = [], n2 = 0; n2 < o2; n2++) {
          var s2 = t3[n2];
          s2.rowState == St.NONE && r2.push(s2), s2.$_internalUpdate(e3[n2], i2, false);
        }
        r2.length > 0 && this._fireRowStatesChanged(r2), this._tags.updateRows(t3), this._fireRowsUpdated(t3);
      }
    }
  }, e2.prototype.findRow = function(t3, e3) {
    return t3 && t3.length > 0 && e3 && e3.length >= t3.length ? this._rootRow.findChild(t3, e3) : null;
  }, e2.prototype.$_resetOrgValues = function() {
    this._needOrgValues = this.checkStates && this.restoreMode != Yt.NONE, this._needRestore = this._needOrgValues && this.restoreMode == Yt.AUTO, this._rootRow._clearOrgValues();
  }, e2.prototype.$_summarizeChildren = function(t3, e3) {
    for (var i2 = e3.field, o2 = t3.count, r2 = this.getField(e3.field).dataType === a.NUMBER, n2 = 0; n2 < o2; n2++) {
      var s2 = t3.getChild(n2), l2 = s2.getValue(i2);
      null == l2 || r2 && (!r2 || isNaN(l2)) || (r2 && (e3.sum = e3.dataCount ? e3.sum + l2 : l2), (r2 || "" != l2) && e3.dataCount++, (null == e3.min || l2 < e3.min) && (e3.min = l2), (null == e3.max || l2 > e3.max) && (e3.max = l2)), this.$_summarizeChildren(s2, e3);
    }
  }, e2.prototype.$_summarizeVars = function(t3, e3) {
    for (var i2 = e3.field, o2 = e3.avg, r2 = t3.count, n2 = 0, s2 = 0; s2 < r2; s2++) {
      var a2 = t3.getChild(s2), l2 = a2.getValue(i2);
      isNaN(l2) || (n2 += Math.pow(l2 - o2, 2)), n2 += this.$_summarizeVars(a2, e3);
    }
    return n2;
  }, e2.prototype._fireDisposed = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderDisposed");
  }, e2.prototype._fireReset = function(t3) {
    this._eventLock <= 0 ? this.fireEvent("onTreeDataProviderReset", t3) : this._resetLock++;
  }, e2.prototype._fireRefresh = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRefresh");
  }, e2.prototype._fireRefreshClient = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRefreshClient");
  }, e2.prototype._firePrepareRemain = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderPrepareRemain");
  }, e2.prototype._fireCleared = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderCleared");
  }, e2.prototype._fireRowCountChanged = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowCountChanged", this.rowCount);
  }, e2.prototype._fireRowAdding = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowAdding", t3, e3, i2);
  }, e2.prototype._fireRowAdded = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowAdded", t3);
  }, e2.prototype._fireRowsAdding = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsAdding", t3, e3, i2);
  }, e2.prototype._fireRowsAdded = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsAdded", t3, e3);
  }, e2.prototype._fireRowRemoving = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowRemoving", t3);
  }, e2.prototype._fireRowRemoved = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowRemoved", t3);
  }, e2.prototype._fireRowsRemoving = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsRemoving", t3);
  }, e2.prototype._fireRowsRemoved = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsRemoved", t3);
  }, e2.prototype._fireRowUpdating = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowUpdating", t3, e3, i2);
  }, e2.prototype._fireRowUpdated = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowUpdated", t3);
  }, e2.prototype._fireRowsUpdating = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsUpdating", t3);
  }, e2.prototype._fireRowsUpdated = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsUpdated", t3);
  }, e2.prototype._fireValueChanging = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderValueChanging", t3, e3, i2);
  }, e2.prototype._fireValueChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderValueChanged", t3, e3);
  }, e2.prototype._fireIconIndexChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderIconIndexChanged", t3);
  }, e2.prototype._fireHasChildrenChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderHasChildrenChanged", t3);
  }, e2.prototype._fireRowStateChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowStateChanged", t3, e3);
  }, e2.prototype._fireRowStatesChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowStatesChanged", t3);
  }, e2.prototype._fireRowSiblingMoving = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowSiblingMoving", t3, e3);
  }, e2.prototype._fireRowSiblingMoved = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowSiblingMoved", t3, e3);
  }, e2.prototype._fireRowsSiblingMoving = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsSiblingMoving", t3, e3);
  }, e2.prototype._fireRowsSiblingMoved = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsSiblingMoved", t3, e3);
  }, e2.prototype._fireRowParentChanging = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowParentChanging", t3, e3, i2);
  }, e2.prototype._fireRowParentChanged = function(t3, e3, i2) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowParentChanged", t3, e3, i2);
  }, e2.prototype._fireRowsParentChanging = function(t3, e3, i2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsParentChanging", t3, e3, i2);
  }, e2.prototype._fireRowsParentChanged = function(t3, e3, i2) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsParentChanged", t3, e3, i2);
  }, e2.prototype._fireRowsHiddenChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsHideChanged", t3, e3);
  }, e2.prototype.fireDataLoadComplated = function() {
    this._eventLock <= 0 && this.fireEvent("onTreeDataProviderDataLoadComplated");
  }, e2.prototype.undo = function() {
    this.canUndo && this._commands.undo();
  }, e2.prototype.redo = function() {
    this.canRedo && this._commands.redo(true);
  }, e2.prototype.clearCommandStack = function() {
    this._commands && this._commands.flush();
  }, e2;
}(oo);
var bo = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._ds = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.load = function(t3, e3, i2) {
    var o2 = new Hi(i2);
    if (this.$_checkEmpty(e3, o2)) return 0;
    switch (this.$_prepareLoad(o2), t3 = t3 && t3.toLowerCase()) {
      case "json":
        return this.$_loadJson(e3, o2);
      case "xml":
        return this.$_loadXml(e3, o2);
      case "csv":
        return this.$_loadCsv(e3, o2);
    }
    return 0;
  }, e2.prototype.$_loadJson = function(t3, e3) {
    if ("string" == typeof t3 && (t3 = JSON.parse(t3)), t3) {
      var i2 = e3.childrenField, o2 = e3.iconField;
      if (e3.fillMode == $i.APPEND) {
        var r2 = this._ds.rowById(e3.parentId);
        return this._ds.appendJsonRows(r2, t3, e3.rows, i2, o2);
      }
      return this._ds.setJsonRows(t3, e3.rows, i2, o2);
    }
    return 0;
  }, e2.prototype.$_loadXml = function(t3, e3) {
    if ("string" == typeof t3 && (t3 = Li.parseXml(t3)), t3 && t3.documentElement) {
      var i2 = e3.childrenField, o2 = e3.iconField;
      if (e3.fillMode == $i.APPEND) {
        var r2 = this._ds.rowById(e3.parentId);
        return this._ds.appendXmlRows(r2, t3, e3.rows, i2, o2);
      }
      return this._ds.setXmlRows(t3, e3.rows, i2, o2);
    }
    return 0;
  }, e2.prototype.$_loadCsv = function(t3, e3) {
    var i2 = e3.start, o2 = e3.count, r2 = e3.quoted, n2 = e3.delimiter, s2 = Ii.csvToArray(this._ds, t3, i2, o2, r2, n2);
    if (s2 && (o2 = s2.length) > 0) {
      var a2 = e3.treeField, l2 = e3.childrenField, h2 = e3.iconField, u2 = e3.needSorting;
      if (e3.fillMode == $i.APPEND) {
        var c2 = this._ds.rowById(e3.parentId);
        this._ds.appendDataRows(c2, s2, a2, u2, l2, h2);
      } else this._ds.setRows(s2, a2, u2, l2, h2);
      return s2.length;
    }
    return 0;
  }, e2.prototype.$_fillEmpty = function(t3) {
    t3.fillMode === $i.SET && this._ds.setRows(null, null, false, null, null);
  }, e2.prototype.$_checkEmpty = function(t3, e3) {
    return !t3 && (this.$_fillEmpty(e3), true);
  }, e2.prototype.$_prepareLoad = function(t3) {
  }, e2;
}(Ft);
!function(t2) {
  t2.EXCEL = "excel", t2.CSV = "csv";
}(Bi || (Bi = {})), function(t2) {
  t2.LOCAL = "local", t2.REMOTE = "remote", t2.STREAM = "stream";
}(Vi || (Vi = {})), function(t2) {
  t2.DEFLATE = "DEFLATE", t2.STORE = "STORE";
}(ji || (ji = {}));
var vo;
var wo = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.datetimeCallback = null, i2.numberCallback = null, i2.booleanCallback = null, i2.objectCallback = null, i2.textCallback = null, i2.start = 0, i2.count = -1, i2.replaceCrText = null, i2.replaceLfText = null, i2.seperator = null, i2.assignFrom(e3), i2.extend(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormat", { get: function() {
    return this._numberFormat;
  }, set: function(t3) {
    t3 != this._numberFormat && (this._numberFormat = t3);
  }, enumerable: false, configurable: true }), e2;
}(function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._type = Bi.EXCEL, i2._target = Vi.LOCAL, i2.url = void 0, i2.done = null, i2.showProgress = false, i2.prepareProgress = 10, i2.progressCallback = null, i2.params = null, i2.compression = ji.DEFLATE, i2.streamFiles = true, i2.compressionLevel = 6, i2.coreProperties = void 0, i2.assignFrom(e3), i2.extend(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._type;
  }, set: function(t3) {
    t3 && Ot.valueIn(t3, Bi) && (this._type = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "target", { get: function() {
    return this._target;
  }, set: function(t3) {
    t3 && Ot.valueIn(t3, Vi) && (this._target = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "zip", { get: function() {
    return this._zip;
  }, set: function(t3) {
    this._zip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "progressMessage", { get: function() {
    return this._progressMessage || Ge.messages.exportProgressMessage;
  }, set: function(t3) {
    this._progressMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fileName", { get: function() {
    if (this._fileName) {
      if (this._fileName.indexOf(".") < 0) {
        var t3 = this.type === Bi.CSV ? ".csv" : ".xlsx";
        return this._fileName + t3;
      }
      return this._fileName;
    }
    return this.type === Bi.CSV ? "realgrid.csv" : "realgrid.xlsx";
  }, set: function(t3) {
    t3 != this._fileName && (this._fileName = t3 ? t3.trim() : null);
  }, enumerable: false, configurable: true }), e2;
}(Ft));
var Co = function() {
  function t2() {
  }
  return t2.prototype.dispose = function() {
    return null;
  }, t2.prototype.saveLocal = function(t3, e2, i2) {
    var o2 = Et(i2), r2 = e2 instanceof Blob ? e2 : new Blob([e2], { type: "text/csv charset=UTF-8" });
    if (o2.navigator.msSaveOrOpenBlob) o2.navigator.msSaveOrOpenBlob(r2, t3);
    else if (o2.navigator.msSaveOrOpenBlob) o2.navigator.msSaveOrOpenBlob(r2, t3);
    else {
      var n2 = i2.createElement("a");
      i2.body.appendChild(n2);
      var s2 = window.URL.createObjectURL(r2);
      n2.href = s2, n2.download = t3, n2.click(), setTimeout(function() {
        i2.body.removeChild(n2);
      }, 100);
    }
  }, t2.prototype.saveServer = function(t3, e2, i2, o2, r2) {
    var n2 = '<form name="tempForm" action="' + i2 + '" method="post">';
    if (n2 += '<input type="hidden" name="fileName" value = "' + t3 + '"/>', n2 += '<input type="hidden" name="data" value = "' + e2 + '"/>', n2 += '<input id="submitBtn" type="submit"/>', r2) for (var s2 in r2) n2 += '<input type="hidden" name="' + s2 + '" value = "' + r2[s2] + '"/>';
    n2 += "</form>";
    var a2 = o2.createElement("div");
    a2.innerHTML = n2, o2.body.appendChild(a2), o2.getElementById("submitBtn").click(), setTimeout(function() {
      o2.body.removeChild(a2);
    }, 100);
  }, t2;
}();
var xo = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.exportFields = null, i2.hideFields = null, i2.includeFieldNames = false, i2.extend(e3), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "type", { get: function() {
    return Bi.CSV;
  }, enumerable: false, configurable: true }), e2;
}(wo);
var Io = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return t2.prototype.dispose.call(this), null;
  }, e2.prototype.export = function(t3, e3) {
    this._dataSource = t3, this._exportOptions = e3 instanceof xo ? e3 : new xo(e3), this._exportFields = this.$_prepareFields(t3, e3.exportFields, e3.hideFields), this._rows = [], t3 instanceof mo ? this.$_buildTreeBook(function() {
      this.save();
    }) : t3 instanceof Mi && this.$_buildBook(function() {
      this.save();
    });
  }, e2.prototype.$_prepareFields = function(t3, e3, i2) {
    var o2 = t3.getFields();
    return e3 ? e3.map(function(e4) {
      return t3.fieldByName(e4);
    }).filter(function(t4) {
      return t4;
    }) : i2 ? o2.filter(function(t4) {
      return i2.indexOf(t4.orgFieldName) < 0;
    }) : o2;
  }, e2.prototype.addQuatation = function(t3, e3) {
    return Ot.addQuatation(t3, e3 === a.TEXT, this._exportOptions.replaceLfText, this._exportOptions.replaceCrText);
  }, e2.prototype.$_buildFieldName = function() {
    return this._exportFields.map(function(t3) {
      return t3.orgFieldName;
    }).join(this._exportOptions.seperator || ",");
  }, e2.prototype.$_buildBook = function(t3) {
    var e3 = this._exportOptions, i2 = this._dataSource.rowCount, o2 = Math.max(0, e3.start), r2 = -1 == e3.count ? i2 : Math.min(Math.max(e3.count, 0), i2), n2 = Math.min(i2, o2 + r2);
    e3.includeFieldNames && this._rows.push(this.$_buildFieldName());
    for (var s2 = o2; s2 < n2; s2++) this._rows.push(this.$_buildItem(s2));
    if (e3.target === Vi.STREAM) {
      var a2 = this._rows.join("\n");
      e3.done && "function" == typeof e3.done && e3.done(a2);
    } else e3.done && "function" == typeof e3.done && e3.done(), t3.call(this);
  }, e2.prototype.$_buildTreeBook = function(t3) {
    for (var e3 = this._exportOptions, i2 = this._dataSource.getDescendants(null, 0), o2 = 0; o2 < i2.length; o2++) this._rows.push(this.$_buildItem(i2[o2]));
    if (e3.target === Vi.STREAM) {
      var r2 = this._rows.join("\n");
      e3.done && "function" == typeof e3.done && e3.done(r2);
    } else e3.done && "function" == typeof e3.done && e3.done(), t3.call(this);
  }, e2.prototype.$_buildItem = function(t3) {
    var e3, i2, o2, r2 = this._dataSource, n2 = this._exportFields;
    r2 instanceof mo ? (i2 = t3 ? t3.values : [], o2 = t3.rowId) : (i2 = r2.getRow(t3), o2 = t3);
    for (var s2, l2, h2 = [], u2 = n2.length, c2 = this._exportOptions, d2 = c2.seperator, p2 = 0; p2 < u2; p2++) {
      if (l2 = void 0, e3 = n2[p2]) switch (s2 = i2[e3.index], e3.dataType) {
        case a.NUMBER:
          l2 = isNaN(s2) || null == s2 ? "" : c2.numberCallback ? null != (l2 = c2.numberCallback(o2, e3.orgFieldName, s2, r2.$_handler)) ? String(l2) : l2 : c2.numberFormat ? ze.getFormatter(c2.numberFormat).getText(s2) : String(s2);
          break;
        case a.BOOLEAN:
          null != s2 && (c2.booleanCallback ? s2 = null != (s2 = c2.booleanCallback(o2, e3.orgFieldName, s2, r2.$_handler)) ? String(s2) : s2 : c2.booleanFormat && (s2 = We.getFormatter(c2.booleanFormat).formatValue(s2)), l2 = String(s2));
          break;
        case a.DATE:
        case a.DATETIME:
          s2 && (l2 = c2.datetimeCallback ? (s2 = c2.datetimeCallback(o2, e3.orgFieldName, s2, r2.$_handler)) instanceof Date ? He.Default.getText(s2) : s2 : c2.datetimeFormat ? He.getFormatter(c2.datetimeFormat).getText(s2) : He.Default.getText(s2));
          break;
        case a.OBJECT:
          s2 && (l2 = "object" == typeof (s2 = c2.objectCallback ? c2.objectCallback(o2, e3.orgFieldName, s2, r2.$_handler) : s2) ? JSON.stringify(s2) : String(s2));
          break;
        default:
          l2 = null != (s2 = c2.textCallback ? c2.textCallback(o2, e3.orgFieldName, s2, r2.$_handler) : s2) ? String(s2) : "";
      }
      h2[h2.length] = this.addQuatation(l2, e3 && e3.dataType);
    }
    return h2.join(d2 || ",");
  }, e2.prototype.save = function() {
    var t3 = this._exportOptions, e3 = t3.fileName, i2 = "\uFEFF" + this._rows.join("\n");
    t3.target == Vi.LOCAL ? this.saveLocal(e3, i2, document) : this.saveServer(e3, Rt.encode(i2), t3.url, document, t3.params);
  }, e2;
}(Co);
var Eo = function() {
  function t2() {
  }
  return t2.getFieldIndex = function(t3, e2) {
    return "string" == typeof e2 ? t3.getFieldIndex(e2) : e2;
  }, t2.fillData = function(t3, e2, i2, o2) {
    var r2 = new Wi(t3);
    try {
      r2.load(e2, i2, o2);
    } finally {
      r2.dispose();
    }
  }, t2.fillTreeData = function(t3, e2, i2, o2) {
    var r2 = new bo(t3);
    try {
      r2.load(e2, i2, o2);
    } finally {
      r2.dispose();
    }
  }, t2.extractTreeRows = function(t3) {
    if (t3) {
      for (var e2 = t3.length, i2 = new Array(e2), o2 = 0; o2 < e2; o2++) i2[o2] = t3[o2].rowId;
      return i2;
    }
    return null;
  }, t2;
}();
var So = function() {
};
var Oo = function() {
  function t2(t3) {
    this._dp = this._createProvider(t3), this._listener = this._createListener(this._dp);
  }
  return t2.prototype.dispose = function() {
    return this._dp.dispose(), this._dp = null;
  }, Object.defineProperty(t2.prototype, "subTypeEnabled", { get: function() {
    return this._dp.subTypeEnabled;
  }, set: function(t3) {
    this._dp.subTypeEnabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "undoable", { get: function() {
    return this._dp.undoable;
  }, set: function(t3) {
    this._dp.undoable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "insertable", { get: function() {
    return this._dp.insertable;
  }, set: function(t3) {
    this._dp.insertable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "updatable", { get: function() {
    return this._dp.updatable;
  }, set: function(t3) {
    this._dp.updatable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "deletable", { get: function() {
    return this._dp.deletable;
  }, set: function(t3) {
    this._dp.deletable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "softDeleting", { get: function() {
    return this._dp.softDeleting;
  }, set: function(t3) {
    this._dp.softDeleting = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "deleteCreated", { get: function() {
    return this._dp.deleteCreated;
  }, set: function(t3) {
    this._dp.deleteCreated = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "checkStates", { get: function() {
    return this._dp.checkStates;
  }, set: function(t3) {
    this._dp.checkStates = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "restoreMode", { get: function() {
    return this._dp.restoreMode;
  }, set: function(t3) {
    this._dp.restoreMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "strictRestore", { get: function() {
    return this._dp.strictRestore;
  }, set: function(t3) {
    this._dp.strictRestore = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "booleanFormat", { get: function() {
    return this._dp.booleanFormat;
  }, set: function(t3) {
    this._dp.booleanFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "datetimeFormat", { get: function() {
    return this._dp.datetimeFormat;
  }, set: function(t3) {
    this._dp.datetimeFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "baseYear", { get: function() {
    return this._dp.baseYear;
  }, set: function(t3) {
    this._dp.baseYear = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "amText", { get: function() {
    return this._dp.amText;
  }, set: function(t3) {
    this._dp.amText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "pmText", { get: function() {
    return this._dp.pmText;
  }, set: function(t3) {
    this._dp.pmText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "commitBeforeDataEdit", { get: function() {
    return this._dp.commitBeforeDataEdit;
  }, set: function(t3) {
    this._dp.commitBeforeDataEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "valuesCallback", { get: function() {
    return this._dp.valuesCallback;
  }, set: function(t3) {
    this._dp.valuesCallback = t3;
  }, enumerable: false, configurable: true }), t2.prototype.getOptions = function() {
    var t3 = this._dp;
    return { subTypeEnabled: t3.subTypeEnabled, undoable: t3.undoable, insertable: t3.insertable, updatable: t3.updatable, deletable: t3.deletable, softDeleting: t3.softDeleting, deleteCreated: t3.deleteCreated, checkStates: t3.checkStates, restoreMode: t3.restoreMode.toString(), strictRestore: t3.strictRestore, booleanFormat: t3.booleanFormat, datetimeFormat: t3.datetimeFormat, baseYear: t3.baseYear, amText: t3.amText, pmText: t3.pmText, commitBeforeDataEdit: t3.commitBeforeDataEdit };
  }, t2.prototype.setOptions = function(t3) {
    this._dp.assignFrom(t3);
  }, t2.prototype.beginUpdate = function() {
    this._dp.beginUpdate();
  }, t2.prototype.endUpdate = function(t3) {
    void 0 === t3 && (t3 = true), this._dp.endUpdate(t3);
  }, t2.prototype.getFields = function() {
    return this._dp.getFields();
  }, t2.prototype.setFields = function(t3) {
    Ot.isArray(t3) && this._dp.setFields(t3);
  }, t2.prototype.addField = function(t3, e2, i2) {
    return this._dp.addField(t3, e2, i2);
  }, t2.prototype.removeField = function(t3, e2) {
    void 0 === e2 && (e2 = true), this._dp.removeField(t3, e2);
  }, t2.prototype.getFieldCount = function() {
    return this._dp.fieldCount;
  }, t2.prototype.fieldByName = function(t3) {
    return this._dp.fieldByName(t3);
  }, t2.prototype.getFieldNames = function() {
    return this._dp.getFieldNames();
  }, t2.prototype.getOrgFieldNames = function() {
    return this._dp.getOrgFieldNames();
  }, t2.prototype.getFieldName = function(t3) {
    return this._dp.getFieldName(t3);
  }, t2.prototype.getOrgFieldName = function(t3) {
    return this._dp.getOrgFieldName(t3);
  }, t2.prototype.getFieldIndex = function(t3) {
    return this._dp.getFieldIndex(t3);
  }, t2.prototype.hasData = function(t3) {
    return this._dp.hasData(t3);
  }, t2.prototype.getValues = function(t3) {
    return this._dp.getRow(t3);
  }, t2.prototype.checkRowStates = function(t3) {
    this._dp.checkStates = t3;
  }, t2.prototype.getRowState = function(t3) {
    return this._dp.getRowState(t3);
  }, t2.prototype.getStateRows = function(t3) {
    return void 0 === t3 && (t3 = St.NONE), this._dp.getStateRows(t3);
  }, t2.prototype.getAllStateRows = function() {
    return this._dp.getAllStateRows();
  }, t2.prototype.clearRowStates = function(t3, e2) {
    void 0 === e2 && (e2 = false), this._dp.clearRowStates(t3, e2);
  }, t2.prototype.setRowState = function(t3, e2, i2) {
    void 0 === e2 && (e2 = St.NONE), void 0 === i2 && (i2 = false), this._dp.setRowState(t3, e2, i2);
  }, t2.prototype.setRowStates = function(t3, e2, i2, o2) {
    void 0 === e2 && (e2 = St.NONE), void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = false), this._dp.setRowStates(t3, e2, i2, o2);
  }, t2.prototype.getRowStateCount = function(t3) {
    if (!t3) return 0;
    var e2 = [];
    if ("*" == t3 || "all" == t3) e2.push(St.CREATED, St.UPDATED, St.DELETED, St.CREATE_AND_DELETED);
    else for (var i2 = Array.isArray(t3) ? t3 : [t3], o2 = 0, r2 = i2.length; o2 < r2; o2++) e2.push(i2[o2]);
    return e2.length > 0 ? this._dp.getRowStateCount(e2) : void 0;
  }, t2.prototype.restoreUpdatedStates = function(t3) {
    return this._dp.restoreUpdatedStates(t3);
  }, t2.prototype.restoreUpdatedRows = function(t3) {
    return this._dp.restoreUpdatedRows(Ot.makeArray(t3));
  }, t2.prototype.getUpdatedCells = function(t3) {
    return this._dp.getUpdatedCells(t3);
  }, t2.prototype.getDistinctValues = function(t3, e2, i2) {
    void 0 === e2 && (e2 = -1), void 0 === i2 && (i2 = l.ASCENDING);
    var o2 = i2 || l.ASCENDING, r2 = "string" == typeof t3 ? this._dp.getFieldIndex(t3) : t3;
    return this._dp.getDistinctValues(r2, e2, o2);
  }, t2.prototype.savePoint = function(t3) {
    return void 0 === t3 && (t3 = true), this._dp.savePoint(t3);
  }, t2.prototype.rollback = function(t3) {
    void 0 === t3 && (t3 = 0), this._dp.rollback(t3);
  }, t2.prototype.clearSavePoints = function() {
    this._dp.clearSavePoints();
  }, t2.prototype.getSavePoints = function() {
    return this._dp.getSavePoints();
  }, t2.prototype.setDataComparer = function(t3, e2) {
    var i2 = "string" == typeof t3 ? this._dp.getFieldIndex(t3) : t3;
    this._dp.setDataComparer(i2, e2);
  }, t2.prototype.exportToCsv = function(t3) {
    new Io().export(this._dp, t3);
  }, t2.prototype.destroy = function() {
    return this.dispose();
  }, t2.prototype.undo = function() {
    this._dp.undo();
  }, t2.prototype.redo = function() {
    this._dp.redo();
  }, t2.prototype.clearCommandStack = function() {
    this._dp.clearCommandStack();
  }, t2.prototype.getDataRowId = function(t3) {
    return this._dp.getRowId(t3);
  }, t2.prototype.getProvider = function() {
    return this._dp;
  }, t2;
}();
var Ro = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3.onRowCountChanged = null, e3.onRowUpdating = null, e3.onRowUpdated = null, e3.onRowsUpdated = null, e3.onRowListUpdated = null, e3.onRowInserting = null, e3.onRowInserted = null, e3.onRowsInserted = null, e3.onRowDeleting = null, e3.onRowDeleted = null, e3.onRowsDeleted = null, e3.onRowMoving = null, e3.onRowMoved = null, e3.onRowsMoving = null, e3.onRowsMoved = null, e3.onRowListMoving = null, e3.onRowListMoved = null, e3.onValueChanged = null, e3.onDataChanged = null, e3.onRowStateChanged = null, e3.onRowStatesChanged = null, e3.onRowStatesCleared = null, e3.onRestoreRows = null, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._dp.rowCount;
  }, set: function(t3) {
    this._dp.setRowCount(t3);
  }, enumerable: false, configurable: true }), e2.prototype.getRowCount = function() {
    return this._dp.rowCount;
  }, e2.prototype.setRowCount = function(t3, e3, i2, o2) {
    return void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = null), void 0 === o2 && (o2 = St.NONE), this._dp.setRowCount(t3, e3, i2, o2);
  }, e2.prototype.setFilterMode = function(t3) {
    void 0 === t3 && (t3 = "and"), this._dp.setFilterMode(t3);
  }, e2.prototype.setFilters = function(t3, e3) {
    void 0 === e3 && (e3 = "and"), this._dp.setFilters(t3, e3);
  }, e2.prototype.fillJsonData = function(t3, e3) {
    var i2 = e3 instanceof Hi ? e3 : new Hi(e3);
    Eo.fillData(this._dp, "json", t3, i2);
  }, e2.prototype.fillXmlData = function(t3, e3) {
    var i2 = e3 instanceof Hi ? e3 : new Hi(e3);
    Eo.fillData(this._dp, "xml", t3, i2);
  }, e2.prototype.fillCsvData = function(t3, e3) {
    var i2 = e3 instanceof Hi ? e3 : new Hi(e3);
    Eo.fillData(this._dp, "csv", t3, i2);
  }, e2.prototype.setRows = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), this._dp.setRows(t3, e3, i2);
  }, e2.prototype.addRows = function(t3, e3, i2, o2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), void 0 === o2 && (o2 = false), this._dp.appendRows(t3, e3, i2, o2);
  }, e2.prototype.insertRows = function(t3, e3, i2, o2, r2) {
    void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false), this._dp.insertRows(t3, e3, i2, o2, r2);
  }, e2.prototype.updateRows = function(t3, e3, i2, o2, r2, n2) {
    void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false), void 0 === n2 && (n2 = false), this._dp.updateRows(t3, e3, i2, o2, r2, n2);
  }, e2.prototype.updateRowsByDataRow = function(t3, e3, i2) {
    this._dp.updateRows2(t3, e3, i2);
  }, e2.prototype.clearRows = function() {
    this._dp.clearRows();
  }, e2.prototype.updateRow = function(t3, e3, i2) {
    void 0 === i2 && (i2 = false), this._dp.updateRow(t3, e3, i2);
  }, e2.prototype.hideRows = function(t3) {
    this._dp.hideRows(t3);
  }, e2.prototype.showHiddenRows = function(t3) {
    this._dp.showRows(t3);
  }, e2.prototype.getHiddenRows = function() {
    return this._dp.getHiddenRows();
  }, e2.prototype.isHiddenRow = function(t3) {
    return this._dp.isHiddenRow(t3);
  }, e2.prototype.resetHiddenRows = function() {
    this._dp.clearHiddenRows();
  }, e2.prototype.addRow = function(t3) {
    return this._dp.appendRow(t3);
  }, e2.prototype.insertRow = function(t3, e3) {
    return this._dp.insertRow(t3, e3);
  }, e2.prototype.removeRow = function(t3) {
    this._dp.removeRow(t3);
  }, e2.prototype.removeRows = function(t3, e3) {
    void 0 === e3 && (e3 = false), this._dp.removeRows(t3, e3);
  }, e2.prototype.moveRow = function(t3, e3) {
    this._dp.moveRow(t3, e3);
  }, e2.prototype.moveRows = function(t3, e3, i2) {
    this._dp.moveRows(t3, e3, i2);
  }, e2.prototype.getValue = function(t3, e3) {
    var i2 = Eo.getFieldIndex(this._dp, e3);
    return this._dp.getValue(t3, i2);
  }, e2.prototype.setValue = function(t3, e3, i2) {
    var o2 = Eo.getFieldIndex(this._dp, e3);
    this._dp.setValue(t3, o2, i2);
  }, e2.prototype.getRows = function(t3, e3) {
    return void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = -1), this._dp.getRows(t3, e3);
  }, e2.prototype.getJsonRow = function(t3, e3) {
    return this._dp.getRowObject(t3, e3);
  }, e2.prototype.getJsonRows = function(t3, e3, i2) {
    return void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = -1), void 0 === i2 && (i2 = false), this._dp.getRowObjects(t3, e3, i2);
  }, e2.prototype.getOutputRow = function(t3, e3) {
    return this._dp.getOutputObject(t3, e3);
  }, e2.prototype.getOutputRows = function(t3, e3, i2) {
    return void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1), this._dp.getOutputObjects(t3, e3, i2);
  }, e2.prototype.getFieldValues = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = -1);
    var o2 = Eo.getFieldIndex(this._dp, t3);
    return this._dp.getFieldValues(o2, e3, i2);
  }, e2.prototype.searchDataRow = function(t3) {
    return t3 ? this._dp.searchDataRow(t3) : -1;
  }, e2.prototype.searchData = function(t3) {
    return t3 ? this._dp.searchData(t3) : null;
  }, e2.prototype._createProvider = function(t3) {
    return new Mi(t3, this);
  }, e2.prototype._createListener = function(t3) {
    return new ko(this, t3);
  }, e2;
}(Oo);
var Po = function(t2) {
  function e2(e3) {
    void 0 === e3 && (e3 = false);
    var i2 = t2.call(this, e3) || this;
    return i2.onRowCountChanged = null, i2.onRowAdding = null, i2.onRowAdded = null, i2.onRowsAdded = null, i2.onRowDeleting = null, i2.onRowDeleted = null, i2.onRowsDeleted = null, i2.onRowUpdating = null, i2.onRowUpdated = null, i2.onRowsUpdating = null, i2.onRowsUpdated = null, i2.onValueChanged = null, i2.onDataChanged = null, i2.onRowStateChanged = null, i2.onRowStatesChanged = null, i2.onRowSiblingMoving = null, i2.onRowSiblingMoved = null, i2.onRowsSiblingMoving = null, i2.onRowsSiblingMoved = null, i2.onRowParentChanging = null, i2.onRowParentChanged = null, i2;
  }
  return i(e2, t2), e2.prototype.getRowCount = function() {
    return this._dp.rowCount;
  }, e2.prototype.setRows = function(t3, e3, i2, o2, r2) {
    void 0 === i2 && (i2 = false), this._dp.setRows(t3, e3, i2, o2, r2);
  }, e2.prototype.setCsvRows = function(t3, e3, i2, o2, r2) {
    this._dp.setCsvRows(t3, e3, i2, o2, r2);
  }, e2.prototype.setXmlRows = function(t3, e3, i2, o2) {
    this._dp.setXmlRows(t3, e3, i2, o2);
  }, e2.prototype.setObjectRows = function(t3, e3, i2, o2) {
    this._dp.setJsonRows(t3, e3, i2, o2);
  }, e2.prototype.setNestedRows = function(t3, e3, i2, o2, r2) {
    this._dp.setJsonRows2(t3, e3, i2, o2, r2);
  }, e2.prototype.fillJsonData = function(t3, e3) {
    var i2 = new Hi(e3);
    try {
      Eo.fillTreeData(this._dp, "json", t3, i2);
    } finally {
      i2.dispose(), i2 = null;
    }
  }, e2.prototype.fillXmlData = function(t3, e3) {
    var i2 = new Hi(e3);
    try {
      Eo.fillTreeData(this._dp, "xml", t3, i2);
    } finally {
      i2.dispose(), i2 = null;
    }
  }, e2.prototype.fillCsvData = function(t3, e3) {
    var i2 = new Hi(e3);
    try {
      Eo.fillTreeData(this._dp, "csv", t3, i2);
    } finally {
      i2.dispose(), i2 = null;
    }
  }, e2.prototype.getIconIndex = function(t3) {
    return this._dp.rowById(t3).iconIndex;
  }, e2.prototype.setIconIndex = function(t3, e3) {
    this._dp.rowById(t3).iconIndex = e3;
  }, e2.prototype.getParent = function(t3) {
    var e3 = this._dp.rowById(t3);
    return e3 && e3.parent ? e3.parent.rowId : -1;
  }, e2.prototype.getLevel = function(t3) {
    return this._dp.rowById(t3).level;
  }, e2.prototype.getChildCount = function(t3) {
    var e3 = this._dp;
    if (null == t3 || -1 == t3) return e3.getChildCount(null);
    var i2 = e3.rowById(t3);
    return i2 && i2.children ? i2.children.length : 0;
  }, e2.prototype.getChildren = function(t3) {
    var e3, i2 = this._dp;
    null == t3 || -1 == t3 ? e3 = i2.getRows(null) : e3 = i2.rowById(t3).children;
    return Eo.extractTreeRows(e3);
  }, e2.prototype.getDescendantCount = function(t3) {
    var e3 = this._dp;
    return null == t3 || -1 == t3 ? e3.getDescendantCount(null) : e3.rowById(t3).descendantCount;
  }, e2.prototype.getDescendants = function(t3, e3) {
    void 0 === e3 && (e3 = -1);
    var i2 = null, o2 = this._dp;
    null != t3 && -1 != t3 && (i2 = o2.rowById(t3));
    var r2 = o2.getDescendants(i2, e3);
    return Eo.extractTreeRows(r2);
  }, e2.prototype.getAncestors = function(t3) {
    var e3 = this._dp.rowById(t3);
    return e3 && e3.ancestors ? Eo.extractTreeRows(e3.ancestors) : null;
  }, e2.prototype.getJsonRow = function(t3, e3, i2, o2, r2, n2) {
    void 0 === o2 && (o2 = "rows"), void 0 === r2 && (r2 = "iconIndex"), void 0 === n2 && (n2 = -1);
    var s2 = this._dp, a2 = null == t3 || t3 < 0 ? s2.rootRow : s2.rowById(t3);
    if (a2) {
      var l2 = a2.getObject() || {};
      return e3 && (l2.__rowState = a2.rowState), i2 && 0 !== n2 && (l2[o2] = a2.getChildObjects(i2, o2, r2, false, e3, n2 - 1)), l2;
    }
    return null;
  }, e2.prototype.getJsonRows = function(t3, e3, i2, o2, r2) {
    void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = "rows"), void 0 === o2 && (o2 = "iconIndex");
    var n2 = this._dp, s2 = null == t3 || t3 <= -1 ? n2.rootRow : n2.rowById(t3);
    return s2 ? s2.getChildObjects(e3, i2, o2, true, r2) : null;
  }, e2.prototype.getOutputRow = function(t3, e3, i2) {
    void 0 === i2 && (i2 = "iconIndex");
    var o2, r2 = new qe(t3);
    try {
      var n2 = this._dp, s2 = null == e3 || e3 < 0 ? n2.rootRow : n2.rowById(e3);
      o2 = s2 ? s2.getOutput(r2, i2) : null;
    } finally {
      r2.dispose();
    }
    return o2;
  }, e2.prototype.getOutputRows = function(t3, e3, i2, o2, r2) {
    void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = "rows"), void 0 === r2 && (r2 = "iconIndex");
    var n2, s2 = new qe(t3);
    try {
      var a2 = this._dp, l2 = null == e3 || e3 <= -1 ? a2.rootRow : a2.rowById(e3);
      n2 = l2 ? l2.getChildOutputObjects(s2, i2, o2, r2) : null;
    } finally {
      s2.dispose();
    }
    return n2;
  }, e2.prototype.addChildRow = function(t3, e3, i2, o2) {
    void 0 === i2 && (i2 = -1), void 0 === o2 && (o2 = false);
    var r2 = this._dp, n2 = r2.rowById(t3) || r2.rootRow, s2 = r2.createRow(e3, i2, o2);
    return n2.addChild(s2, false) ? s2.rowId : -1;
  }, e2.prototype.insertChildRow = function(t3, e3, i2, o2, r2) {
    void 0 === o2 && (o2 = -1), void 0 === r2 && (r2 = false);
    var n2 = this._dp, s2 = n2.rowById(t3) || n2.rootRow, a2 = n2.createRow(i2, o2, r2);
    return s2.insertChild(e3, a2, false) ? a2.rowId : -1;
  }, e2.prototype.insertChildNode = function(t3, e3, i2, o2, r2, n2) {
    void 0 === o2 && (o2 = "rows"), void 0 === r2 && (r2 = "iconField"), void 0 === n2 && (n2 = false);
    var s2 = this._dp, a2 = null == t3 || t3 < 0 ? s2.rootRow : s2.rowById(t3);
    if (a2) return s2.insertChildNode(a2, e3, i2, o2, r2, n2);
  }, e2.prototype.updateRow = function(t3, e3, i2) {
    var o2 = this._dp.rowById(t3);
    return !!o2 && o2.update(e3, i2);
  }, e2.prototype.updateRows = function(t3, e3, i2) {
    this._dp.updateRows(t3, e3, i2);
  }, e2.prototype.removeRow = function(t3, e3) {
    var i2 = this._dp.rowById(t3);
    return !(!i2 || !i2.parent) && i2.parent.removeChild(i2, e3);
  }, e2.prototype.removeRows = function(t3, e3) {
    return !!(t3 && t3.length > 0) && this._dp.removeRows(t3, e3);
  }, e2.prototype.clearRows = function() {
    this._dp.clearRows();
  }, e2.prototype.hideRows = function(t3) {
    this._dp.hideRows(t3);
  }, e2.prototype.showHiddenRows = function(t3) {
    this._dp.showRows(t3);
  }, e2.prototype.getHiddenRows = function() {
    return this._dp.getHiddenRows();
  }, e2.prototype.isHiddenRow = function(t3) {
    return this._dp.isHiddenRow(t3);
  }, e2.prototype.resetHiddenRows = function() {
    this._dp.clearHiddenRows();
  }, e2.prototype.getValue = function(t3, e3) {
    var i2 = this._dp, o2 = i2.rowById(t3), r2 = Eo.getFieldIndex(i2, e3);
    return o2 ? o2.getValue(r2) : null;
  }, e2.prototype.setValue = function(t3, e3, i2) {
    var o2 = this._dp, r2 = o2.rowById(t3), n2 = Eo.getFieldIndex(o2, e3);
    r2 && r2.setValue(n2, i2, false);
  }, e2.prototype.moveRowSibling = function(t3, e3) {
    var i2 = this._dp, o2 = i2.rowById(t3);
    return !!o2 && i2.changeRowIndex(o2, e3);
  }, e2.prototype.changeRowParent = function(t3, e3, i2) {
    var o2 = this._dp, r2 = o2.rowById(t3), n2 = e3 < 0 ? o2.rootRow : o2.rowById(e3);
    return !(!r2 || !n2) && o2.changeRowParent(r2, n2, i2);
  }, e2.prototype.searchDataRow = function(t3) {
    return t3 ? this._dp.searchDataRow(t3, t3.parentId) : -1;
  }, e2.prototype.searchData = function(t3) {
    return t3 ? this._dp.searchData(t3, t3.parentId) : null;
  }, e2.prototype._createProvider = function(t3) {
    return new mo(t3, this);
  }, e2.prototype._createListener = function(t3) {
    return new Do(this, t3);
  }, e2;
}(Oo);
var ko = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._del = e3, o2._provider = i2, o2._provider.addListener(o2), o2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return this._del = null, this._provider.removeListener(this), this._provider = null;
  }, e2.prototype.onDataProviderRowCountChanged = function(t3) {
    this._del.onRowCountChanged ? this._del.onRowCountChanged(this._del, t3.rowCount) : Ot.log("onRowCountChanged: " + t3.rowCount);
  }, e2.prototype.onDataProviderRowUpdating = function(t3, e3, i2, o2) {
    return this._del.onRowUpdating ? this._del.onRowUpdating(this._del, e3, o2, i2) : (Ot.log("onRowUpdating: " + e3), true);
  }, e2.prototype.onDataProviderRowUpdated = function(t3, e3) {
    this._del.onRowUpdated ? this._del.onRowUpdated(this._del, e3) : Ot.log("onRowUpdated: " + e3);
  }, e2.prototype.onDataProviderRowsUpdated = function(t3, e3, i2) {
    this._del.onRowsUpdated ? this._del.onRowsUpdated(this._del, e3, i2) : Ot.log("onRowsUpdated: " + e3 + ", " + i2);
  }, e2.prototype.onDataProviderRowListUpdated = function(t3, e3) {
    this._del.onRowListUpdated ? this._del.onRowListUpdated(this._del, e3) : Ot.log("onRowListUpdated: " + e3);
  }, e2.prototype.onDataProviderRowInserting = function(t3, e3, i2) {
    return this._del.onRowInserting ? this._del.onRowInserting(this._del, e3, i2) : (Ot.log("onRowInserting: " + e3), true);
  }, e2.prototype.onDataProviderRowInserted = function(t3, e3) {
    this._del.onRowInserted ? this._del.onRowInserted(this._del, e3) : Ot.log("onRowInserted: " + e3);
  }, e2.prototype.onDataProviderRowsInserted = function(t3, e3, i2) {
    this._del.onRowsInserted ? this._del.onRowsInserted(this._del, e3, i2) : Ot.log("onRowsInserted: " + e3 + ", " + i2);
  }, e2.prototype.onDataProviderRowRemoving = function(t3, e3) {
    return this._del.onRowDeleting ? this._del.onRowDeleting(this._del, e3) : (Ot.log("onRowDeleting: " + e3), true);
  }, e2.prototype.onDataProviderRowRemoved = function(t3, e3) {
    this._del.onRowDeleted ? this._del.onRowDeleted(this._del, e3) : Ot.log("onRowDeleted: " + e3);
  }, e2.prototype.onDataProviderRowsRemoving = function(t3, e3) {
    return true;
  }, e2.prototype.onDataProviderRowsRemoved = function(t3, e3) {
    this._del.onRowsDeleted ? this._del.onRowsDeleted(this._del, e3) : Ot.log("onRowsDeleted: ", e3);
  }, e2.prototype.onDataProviderRowMoving = function(t3, e3, i2) {
    return this._del.onRowMoving ? this._del.onRowMoving(this._del, e3, i2) : (Ot.log("onRowMoving: " + e3 + ", " + i2), true);
  }, e2.prototype.onDataProviderRowMoved = function(t3, e3, i2) {
    this._del.onRowMoved ? this._del.onRowMoved(this._del, e3, i2) : Ot.log("onRowMoved: " + e3 + ", " + i2);
  }, e2.prototype.onDataProviderRowsMoving = function(t3, e3, i2, o2) {
    return this._del.onRowsMoving ? this._del.onRowsMoving(this._del, e3, i2, o2) : (Ot.log("onRowsMoving: " + e3 + ", " + i2 + ", " + o2), true);
  }, e2.prototype.onDataProviderRowsMoved = function(t3, e3, i2, o2) {
    this._del.onRowsMoved ? this._del.onRowsMoved(this._del, e3, i2, o2) : Ot.log("onRowsMoved: " + e3 + ", " + i2 + ", " + o2);
  }, e2.prototype.onDataProviderRowListMoving = function(t3, e3, i2) {
    return this._del.onRowListMoving ? this._del.onRowListMoving(this._del, e3, i2) : (Ot.log("onRowListMoving: ", e3, ", ", i2), true);
  }, e2.prototype.onDataProviderRowListMoved = function(t3, e3, i2) {
    this._del.onRowListMoved ? this._del.onRowListMoved(this._del, e3, i2) : Ot.log("onRowListMoved: ", e3, i2);
  }, e2.prototype.onDataProviderValueChanged = function(t3, e3, i2) {
    this._del.onValueChanged ? this._del.onValueChanged(this._del, e3, i2) : Ot.log("onValueChanged:" + e3 + ", " + i2);
  }, e2.prototype.onDataProviderDataChanged = function(t3) {
    this._del.onDataChanged ? this._del.onDataChanged(this._del) : Ot.log("onDataChanged");
  }, e2.prototype.onDataProviderStateChanged = function(t3, e3) {
    this._del.onRowStateChanged ? this._del.onRowStateChanged(this._del, e3) : Ot.log("onRowStateChanged: " + e3);
  }, e2.prototype.onDataProviderStatesChanged = function(t3, e3) {
    this._del.onRowStatesChanged ? this._del.onRowStatesChanged(this._del, e3) : Ot.log("onRowStatesChanged", e3);
  }, e2.prototype.onDataProviderStatesCleared = function(t3) {
    this._del.onRowStatesCleared ? this._del.onRowStatesCleared(this._del) : Ot.log("onRowStatesCleared");
  }, e2.prototype.onDataProviderRestoreRows = function(t3, e3) {
    this._del.onRestoreRows ? this._del.onRestoreRows(this._del, e3) : Ot.log("onRestoreRows", e3);
  }, e2;
}(So);
var Do = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._del = e3, o2._provider = i2, o2._provider.addListener(o2), o2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return this._del = null, this._provider.removeListener(this), this._provider = null;
  }, e2.prototype.onTreeDataProviderRowCountChanged = function(t3) {
    this._del.onRowCountChanged ? this._del.onRowCountChanged(this._del, t3.rowCount) : Ot.log("onRowCountChanged: " + t3.rowCount);
  }, e2.prototype.onTreeDataProviderRowAdding = function(t3, e3, i2, o2) {
    return this._del.onRowAdding ? this._del.onRowAdding(this._del, e3.rowId, i2, o2._values) : (Ot.log("onRowAdding: " + e3.rowId + ", " + i2, o2._values), true);
  }, e2.prototype.onTreeDataProviderRowAdded = function(t3, e3) {
    this._del.onRowAdded ? this._del.onRowAdded(this._del, e3.rowId) : Ot.log("onRowAdded: " + e3.rowId);
  }, e2.prototype.onTreeDataProviderRowsAdded = function(t3, e3, i2) {
    var o2 = Eo.extractTreeRows(i2);
    this._del.onRowsAdded ? this._del.onRowsAdded(this._del, e3.rowId, o2) : Ot.log("onRowsAdded: " + e3.rowId, o2);
  }, e2.prototype.onTreeDataProviderRowRemoving = function(t3, e3) {
    return this._del.onRowDeleting ? this._del.onRowDeleting(this._del, e3.rowId) : (Ot.log("onRowDeleting: " + e3.rowId), true);
  }, e2.prototype.onTreeDataProviderRowRemoved = function(t3, e3) {
    this._del.onRowDeleted ? this._del.onRowDeleted(this._del, e3.rowId) : Ot.log("onRowDeleted: " + e3.rowId);
  }, e2.prototype.onTreeDataProviderRowsRemoved = function(t3, e3) {
    var i2 = Eo.extractTreeRows(e3);
    this._del.onRowsDeleted ? this._del.onRowsDeleted(this._del, i2) : Ot.log("onRowsDeleted: ", i2);
  }, e2.prototype.onTreeDataProviderRowUpdating = function(t3, e3, i2, o2) {
    return this._del.onRowUpdating ? this._del.onRowUpdating(this._del, e3.rowId, o2, i2) : (Ot.log("onRowUpdating:" + e3.rowId), true);
  }, e2.prototype.onTreeDataProviderRowUpdated = function(t3, e3) {
    this._del.onRowUpdated ? this._del.onRowUpdated(this._del, e3.rowId) : Ot.log("onRowUpdated: " + e3.rowId);
  }, e2.prototype.onTreeDataProviderRowsUpdating = function(t3, e3) {
    return this._del.onRowsUpdating ? this._del.onRowsUpdating(this._del, eo.getRowIds(e3)) : (Ot.log("onRowUpdating:" + e3.length), true);
  }, e2.prototype.onTreeDataProviderRowsUpdated = function(t3, e3) {
    this._del.onRowsUpdated ? this._del.onRowsUpdated(this._del, eo.getRowIds(e3)) : Ot.log("onRowsUpdated: " + e3.length);
  }, e2.prototype.onTreeDataProviderValueChanged = function(t3, e3, i2) {
    this._del.onValueChanged ? this._del.onValueChanged(this._del, e3.rowId, i2) : Ot.log("onValueChanged: " + e3.rowId + ", " + i2);
  }, e2.prototype.onTreeDataProviderRowStateChanged = function(t3, e3) {
    this._del.onRowStateChanged ? this._del.onRowStateChanged(this._del, e3.rowId) : Ot.log("onRowStateChanged: " + e3.rowId);
  }, e2.prototype.onTreeDataProviderRowStatesChanged = function(t3, e3) {
    var i2 = Eo.extractTreeRows(e3);
    this._del.onRowStatesChanged ? this._del.onRowStatesChanged(this._del, i2) : Ot.log("onRowStatesChanged: ", i2);
  }, e2.prototype.onTreeDataProviderRowSiblingMoving = function(t3, e3, i2) {
    return this._del.onRowSiblingMoving ? this._del.onRowSiblingMoving(this._del, e3.rowId, i2) : (Ot.log("onRowSiblingMoveing: " + e3.rowId + ", " + i2), true);
  }, e2.prototype.onTreeDataProviderRowSiblingMoved = function(t3, e3, i2) {
    this._del.onRowSiblingMoved ? this._del.onRowSiblingMoved(this._del, e3.rowId, i2) : Ot.log("onSiblingMoved: " + e3.rowId + ", " + i2);
  }, e2.prototype.onTreeDataProviderRowsSiblingMoving = function(t3, e3, i2) {
    return this._del.onRowsSiblingMoving ? this._del.onRowsSiblingMoving(this._del, eo.getRowIds(e3), i2) : (Ot.log("onRowSiblingMoveing: ", e3, i2), true);
  }, e2.prototype.onTreeDataProviderRowsSiblingMoved = function(t3, e3, i2) {
    this._del.onRowsSiblingMoved ? this._del.onRowsSiblingMoved(this._del, eo.getRowIds(e3), i2) : Ot.log("onSiblingMoved: ", e3, i2);
  }, e2.prototype.onTreeDataProviderRowParentChanging = function(t3, e3, i2, o2) {
    if (this._del.onRowParentChanging) return this._del.onRowParentChanging(this._del, e3.rowId, i2.rowId, o2);
    Ot.log("onRowParentChanging: " + e3.rowId + ", " + i2.rowId + ", " + o2);
  }, e2.prototype.onTreeDataProviderRowParentChanged = function(t3, e3, i2, o2) {
    this._del.onRowParentChanged ? this._del.onRowParentChanged(this._del, e3.rowId, i2.rowId, o2) : Ot.log("onRowParentChanged: " + e3.rowId + ", " + i2.rowId + ", " + o2);
  }, e2;
}(So);
var To = function() {
  function t2(t3) {
    this.field = t3, this.count = 0, this.sum = NaN, this.max = NaN, this.min = NaN, this.avg = NaN, this.vars = NaN, this.varsp = NaN, this.dataCount = 0, this.dataAvg = NaN;
  }
  return t2.prototype.clear = function() {
    this.count = this.dataCount = 0, this.sum = this.dataAvg = this.max = this.min = this.avg = this.vars = this.varsp = NaN;
  }, t2;
}();
var Mo = 65536;
var Fo = 131072;
var Lo = 196608;
var No = 4294705152;
!function(t2) {
  t2.NORMAL = "normal", t2.FOCUSED = "focused", t2.UPDATING = "updating", t2.INSERTING = "inserting", t2.APPENDING = "appending", t2.DUMMY = "dummy";
}(vo || (vo = {}));
var $o = function(t2) {
  return t2 == vo.UPDATING || t2 == vo.INSERTING || t2 == vo.APPENDING;
};
var Ao = function(t2) {
  return t2 == vo.INSERTING || t2 == vo.APPENDING;
};
var Bo = function(t2, e2) {
  return t2 == vo.INSERTING || t2 == vo.APPENDING || e2 == St.CREATED;
};
var Vo = function() {
  function t2() {
  }
  return t2.prototype.clear = function() {
    return this.styleName = this.readOnly = this.editable = this.style = void 0, this;
  }, t2.prototype.assign = function(t3) {
    "string" == typeof t3 ? this.styleName = t3 : (null != t3.readOnly && (this.readOnly = t3.readOnly), null != t3.editable && (this.editable = t3.editable), null != t3.styleName && (this.styleName = t3.styleName.trim()), null != t3.style && (this.style = t3.style), null != t3.exportStyleName && (this.exportStyleName = t3.exportStyleName));
  }, t2;
}();
var jo = function() {
  function t2() {
    this._id = t2.$$_grid_item_id++, this._index = -1;
  }
  return t2.prototype.dispose = function() {
    this._parent = null;
  }, Object.defineProperty(t2.prototype, "id", { get: function() {
    return this._id;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "itemIndex", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "parent", { get: function() {
    return this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "parentIndex", { get: function() {
    return this._parent ? this._parent._index : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "root", { get: function() {
    for (var t3 = this._parent; t3 && t3.level > 1; ) t3 = t3._parent;
    return t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "childIndex", { get: function() {
    return this._parent ? this._parent.indexOf(this) : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "level", { get: function() {
    return this._parent ? this._parent.level + 1 : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "isData", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "isDataRow", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "visible", { get: function() {
    return this._parent && this._index >= 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "displayLevel", { get: function() {
    return this.level;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "provider", { get: function() {
    return this._parent && this._parent.provider;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataSource", { get: function() {
    return this._parent && this._parent.dataSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataRow", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataId", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataRowId", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "rowState", { get: function() {
    var t3 = this.dataRow;
    if (t3 >= 0) {
      var e2 = this.dataSource;
      return e2 ? e2.getRowState(t3) : St.NONE;
    }
    return St.NONE;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "itemState", { get: function() {
    return vo.NORMAL;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "indeterminate", { get: function() {
    return 0 != (2 & this._getExtents());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "checked", { get: function() {
    var t3 = 0 != (1 & this._getExtents());
    return this.provider.getItemChecked(this, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "checkable", { get: function() {
    return 0 == (4 & this._getExtents());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "editable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "resizable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "merged", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "height", { get: function() {
    var t3 = this._getExtents();
    return t3 & Lo ? (t3 & No) >>> 18 : NaN;
  }, enumerable: false, configurable: true }), t2.prototype.$_setHeight = function(t3, e2) {
    var i2 = this._getExtents();
    if (t3 = Math.round(t3), isNaN(t3)) {
      if (i2 & Lo) return this._setExtents(-196609 & i2), true;
    } else {
      if (t3 != (i2 & No) >>> 18) return t3 = Math.max(0, Math.min(53247, t3)) << 18, i2 = e2 ? -196609 & i2 | Fo : -196609 & i2 | Mo, this._setExtents(262143 & i2 | t3), true;
      if (e2) {
        if (0 == (i2 & Fo)) return i2 = -196609 & i2 | Fo, this._setExtents(i2), true;
      } else if (0 == (i2 & Mo)) return i2 = -196609 & i2 | Mo, this._setExtents(i2), true;
    }
  }, t2.prototype.$_clearHeight = function(t3) {
    t3 ? this._setExtents(-196609 & this._getExtents()) : this._setExtents(-65537 & this._getExtents()), this.heights = null, 0 == this.index && Ot.log("HEIGHT", this.height);
  }, Object.defineProperty(t2.prototype, "heights", { get: function() {
    return this._heights;
  }, set: function(t3) {
    this._heights = t3;
  }, enumerable: false, configurable: true }), t2.prototype.getShadowRow = function() {
    return this.dataRow;
  }, t2.prototype.getHeight = function(t3) {
    return this._heights[t3];
  }, t2.prototype.setChecked = function(t3, e2) {
    var i2 = this.provider;
    i2 && i2.checkItem(this, t3, void 0, e2);
  }, t2.prototype.setCheckable = function(t3) {
    var e2 = this.provider;
    e2 && e2.setCheckable(this, t3);
  }, t2.prototype.getAncestor = function(t3) {
    if (t3 < this.level) {
      for (var e2 = this._parent; e2.level > t3; ) e2 = e2._parent;
      return e2;
    }
    return this instanceof Wo ? this : null;
  }, t2.prototype.getVisibleAncestor = function() {
    var t3 = this._parent;
    do {
      if (t3.visible) return t3;
      t3 = t3._parent;
    } while (t3);
  }, t2.prototype.getAncestors = function() {
    var t3 = null, e2 = this._parent;
    if (e2) {
      t3 = [];
      do {
        t3.push(e2), e2 = e2._parent;
      } while (e2);
    }
    return t3;
  }, t2.prototype.isDescendantOf = function(t3) {
    if (t3) {
      for (var e2 = this._parent; e2 && e2 != t3; ) e2 = e2._parent;
      return e2 === t3;
    }
    return false;
  }, t2.prototype.getData = function(t3) {
    var e2 = this.dataSource;
    t3 = e2.getFieldIndex(t3);
    var i2 = this.getShadowRow();
    return e2 && i2 >= 0 ? e2.getValue(i2, t3) : void 0;
  }, t2.prototype.setData = function(t3, e2) {
    var i2 = this.dataSource;
    t3 = i2.getFieldIndex(t3), i2 && i2.setValue(this.dataRow, t3, e2);
  }, t2.prototype.getRowData = function() {
    var t3 = this.dataRow;
    if (t3 >= 0) {
      var e2 = this.dataSource;
      if (e2) return e2.getRow(t3);
    }
    return null;
  }, t2.prototype.getRowObject = function() {
    var t3 = this.dataRow;
    if (t3 >= 0) {
      var e2 = this.dataSource;
      if (e2) return e2.getRowObject(t3);
    }
    return null;
  }, t2.prototype.isChanged = function(t3) {
    var e2 = this.dataSource;
    return e2 ? e2.isDataChanged(this.dataRow, t3) : void 0;
  }, t2.prototype.canEdit = function() {
    return false;
  }, t2.prototype._setIndex = function(t3) {
    this._index = t3;
  }, t2.prototype._setChecked = function(t3) {
    this.provider.setItemChecked(this, t3) || (null === t3 ? (this._setExtents(2 | this._getExtents()), this._setExtents(-2 & this._getExtents())) : (this._setExtents(t3 ? 1 | this._getExtents() : -2 & this._getExtents()), this._setExtents(-3 & this._getExtents())));
  }, t2.prototype._setCheckable = function(t3) {
    this._setExtents(t3 ? -5 & this._getExtents() : 4 | this._getExtents());
  }, t2.PARENT = "_parent", t2.$$_grid_item_id = 0, t2;
}();
var Ho = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._displayLevel = -1, i2._extents = 0, i2._dataRow = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "dataRowId", { get: function() {
    return this._dataRowId;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, enumerable: false, configurable: true }), e2.prototype.setEditable = function(t3, e3) {
    this._editable = t3, this._readOnly = e3;
  }, e2.prototype._getExtents = function() {
    return this._extents;
  }, e2.prototype._setExtents = function(t3) {
    this._extents = t3;
  }, Object.defineProperty(e2.prototype, "isData", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isDataRow", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRow", { get: function() {
    return this._dataRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataId", { get: function() {
    return this.dataSource.getRowId(this._dataRow);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayLevel", { get: function() {
    return this._displayLevel >= 0 ? this._displayLevel : this.level;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return B.ROW;
  }, enumerable: false, configurable: true }), e2.prototype.canEdit = function() {
    return true;
  }, e2.prototype.getShadowRow = function() {
    return this._dataRow;
  }, e2.prototype.$_setDisplayLevel = function(t3) {
    this._displayLevel = t3;
  }, e2;
}(jo);
var Wo = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._children = [], e3._expanded = false, e3._descendantCount = 0, e3._summaries = null, e3._rows = null, e3;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._children = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return this._expanded;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsed", { get: function() {
    return !this.expanded;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._children.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "children", { get: function() {
    return this._children.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "allFooterCount", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return !this._rows && this.$_collectRows(this, this._rows = []), this._rows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "first", { get: function() {
    return this._children.length > 0 ? this._children[0] : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "last", { get: function() {
    var t3 = this._children.length;
    return t3 > 0 ? this._children[t3 - 1] : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstItem", { get: function() {
    if (this._children.length > 0) {
      var t3 = this._children[0];
      return t3 instanceof e2 ? t3.firstItem : t3;
    }
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstDataItem", { get: function() {
    if (this._children.length > 0) for (var t3 = 0, i2 = this._children.length; t3 < i2; t3++) {
      if (this._children[t3] instanceof e2) return this._children[t3].firstDataItem;
      if (this._children[t3] instanceof Ho) return this._children[t3];
    }
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.getFirstVisibleItem = function(t3) {
    return this;
  }, e2.prototype.getLastItem = function(t3) {
    var i2;
    if (this._children.length > 0) {
      for (var o2 = this._children.length; o2 && (i2 = this._children[o2 - 1], t3 && i2 instanceof Uo); o2--) ;
      return i2 instanceof e2 ? i2.getLastItem(t3) : i2;
    }
    return null;
  }, Object.defineProperty(e2.prototype, "lastDataItem", { get: function() {
    var t3 = this._children.length;
    if (t3 > 0) for (; t3 > 0; t3--) {
      var i2 = this._children[t3 - 1];
      if (i2 instanceof e2) return i2.lastDataItem;
      if (i2 instanceof Ho) return i2;
    }
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "descendantCount", { get: function() {
    return this._descendantCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.getItem = function(t3) {
    if (t3 < 0 || t3 >= this._children.length) throw new RangeError("index is invalid: " + t3);
    return this._children[t3];
  }, e2.prototype.getRows = function() {
    var t3 = [];
    return this.$_collectRows(this, t3), t3;
  }, e2.prototype.getFooterIndex = function(t3) {
    return 0;
  }, e2.prototype.itemOfRow = function(t3) {
    for (var e3 = this._children.length; e3--; ) if (this._children[e3].dataRow == t3) return this._children[e3];
    return null;
  }, e2.prototype.indexOf = function(t3) {
    return this._children.indexOf(t3);
  }, e2.prototype.isDescendant = function(t3) {
    if (t3 && t3 !== this) {
      for (var e3 = t3._parent; e3 && e3 !== this; ) e3 = e3._parent;
      return e3 === this;
    }
    return false;
  }, e2.prototype.getDescendants = function(t3) {
    if ((!t3 || this._expanded) && this._children && this._children.length > 0) {
      var i2 = [];
      return function i3(o2, r2) {
        for (var n2 = o2.count, s2 = 0; s2 < n2; s2++) {
          var a2 = o2.getItem(s2);
          r2.push(a2), a2 instanceof e2 && (!t3 || a2.expanded) && i3(a2, r2);
        }
      }(this, i2), i2;
    }
    return null;
  }, e2.prototype.clear = function() {
    this._summaries = null, this._children.length = 0, this._descendantCount = 0;
  }, e2.prototype.insert = function(t3, e3) {
    this._addChild(e3, t3);
  }, e2.prototype.add = function(t3) {
    this._addChild(t3, -1);
  }, e2.prototype.addAll = function(t3) {
    var e3 = this, i2 = t3.map(function(t4) {
      return t4[jo.PARENT] = e3, t4;
    });
    this._children = this._children.concat(i2);
  }, e2.prototype.remove = function(t3) {
    var e3 = this.indexOf(t3);
    e3 >= 0 && (this._children.splice(e3, 1), t3 instanceof jo && (t3[jo.PARENT] = null));
  }, e2.prototype.setItem = function(t3, e3) {
    if (t3 && e3 && t3 !== e3) {
      var i2 = this._removeChild(t3);
      this._insertChild(i2, e3), e3._index = t3.index;
    }
  }, e2.prototype.setExpanded = function(t3, e3, i2) {
    (t3 != this._expanded || i2) && (t3 ? this.provider.expand(this, e3, i2, 0) : this.provider.collapse(this, e3, i2));
  }, e2.prototype.getNumber = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 instanceof To ? e3.count : e3 ? e3.length : this._descendantCount;
  }, e2.prototype.getDataCount = function(t3) {
    var e3 = this.$_getSummary(t3);
    if (e3 instanceof To) return e3.dataCount;
    if (e3) {
      var i2 = this.dataSource, o2 = e3.length, r2 = 0;
      if (o2 > 0) {
        for (var n2 = 0; n2 < o2; n2++) {
          var s2 = i2.getValue(e3[n2], t3);
          null != s2 && "" !== s2 && r2++;
        }
        return r2;
      }
    }
    return 0;
  }, e2.prototype.getDataAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    if (e3 instanceof To) return e3.dataAvg;
    if (e3) {
      for (var i2 = this.dataSource, o2 = e3.length, r2 = 0, n2 = 0, s2 = 0; s2 < o2; s2++) {
        var a2 = i2.getValue(e3[s2], t3);
        isNaN(a2) || (r2 += a2, n2++);
      }
      return n2 > 0 && !isNaN(r2) ? r2 / n2 : NaN;
    }
    return NaN;
  }, e2.prototype.getSum = function(t3) {
    var e3 = this.$_getSummary(t3);
    if (e3 instanceof To) return e3.sum;
    if (e3) {
      for (var i2 = this.dataSource, o2 = e3.length, r2 = void 0, n2 = 0; n2 < o2; n2++) {
        var s2 = i2.getValue(e3[n2], t3);
        isNaN(s2) || (r2 = (isNaN(r2) ? 0 : r2) + s2);
      }
      return r2;
    }
    return NaN;
  }, e2.prototype.getMax = function(t3) {
    var e3 = this.$_getSummary(t3), i2 = this.dataSource, o2 = i2.getField(t3).dataType === a.NUMBER;
    if (e3 instanceof To) return e3.max;
    if (e3) {
      for (var r2 = e3.length, n2 = void 0, s2 = 0, l2 = null; s2 < r2; ) null != (n2 = i2.getValue(e3[s2++], t3)) && (!o2 || !isNaN(n2)) && (l2 = null == l2 || n2 > l2 ? n2 : l2);
      return l2;
    }
    return o2 ? NaN : null;
  }, e2.prototype.getMin = function(t3) {
    var e3 = this.$_getSummary(t3), i2 = this.dataSource, o2 = i2.getField(t3).dataType === a.NUMBER;
    if (e3 instanceof To) return e3.min;
    if (e3) {
      for (var r2 = e3.length, n2 = void 0, s2 = 0, l2 = null; s2 < r2; ) null != (n2 = i2.getValue(e3[s2++], t3)) && (!o2 || !isNaN(n2)) && (l2 = null == l2 || n2 < l2 ? n2 : l2);
      return l2;
    }
    return o2 ? NaN : null;
  }, e2.prototype.getAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    if (e3 instanceof To) return e3.avg;
    if (e3) {
      var i2 = this.getSum(t3);
      if (!isNaN(i2)) return i2 / e3.length;
    }
    return NaN;
  }, e2.prototype.getVar = function(t3, e3) {
    void 0 === e3 && (e3 = 0);
    var i2 = this.$_getSummary(t3);
    if (i2 instanceof To) return 0 === e3 ? i2.varsp : i2.vars;
    if (i2 && this.provider.summaryMode == x.STATISTICAL) {
      var o2 = this.dataSource, r2 = i2.length;
      if (r2 > 1) {
        for (var n2 = 0, s2 = 0; s2 < r2; s2++) n2 += o2.getValue(i2[s2], t3);
        var a2 = n2 / r2;
        n2 = 0;
        for (s2 = 0; s2 < r2; s2++) n2 += Math.pow(o2.getValue(i2[s2], t3) - a2, 2);
        return n2 /= r2 - e3;
      }
      if (1 == r2) return 0;
    }
    return NaN;
  }, e2.prototype.getStdev = function(t3, e3) {
    void 0 === e3 && (e3 = 0);
    var i2 = this.$_getSummary(t3);
    if (i2 instanceof To) return 0 == e3 ? Math.sqrt(i2.varsp) : Math.sqrt(i2.vars);
    if (i2 && this.provider.summaryMode == x.STATISTICAL) {
      var o2 = this.dataSource, r2 = i2.length;
      if ("string" == typeof t3 && (t3 = o2.getFieldIndex(t3)), r2 > 1) {
        for (var n2 = 0, s2 = 0; s2 < r2; s2++) n2 += o2.getValue(i2[s2], t3);
        var a2 = n2 / r2;
        n2 = 0;
        for (s2 = 0; s2 < r2; s2++) n2 += Math.pow(o2.getValue(i2[s2], t3) - a2, 2);
        return n2 = Math.sqrt(n2 / (r2 - e3));
      }
      if (1 == r2) return 0;
    }
    return NaN;
  }, e2.prototype.getStdevp = function(t3) {
    return this.getStdev(t3, 1);
  }, Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2.prototype._setExpanded = function(t3) {
    this._expanded = t3;
  }, e2.prototype._incDescendants = function(t3) {
    void 0 === t3 && (t3 = 1), this._descendantCount += t3;
  }, e2.prototype._insertChild = function(t3, e3) {
    this._children.splice(t3, 0, e3), e3 instanceof jo && (e3[jo.PARENT] = this);
  }, e2.prototype._addChild = function(t3, e3) {
    t3 && this.indexOf(t3) < 0 && (e3 < 0 ? this._children.push(t3) : this._children.splice(e3, 0, t3), t3[jo.PARENT] = this);
  }, e2.prototype._addChildren = function(t3) {
    var e3;
    if (t3 && (e3 = t3.length) > 0) for (var i2 = 0; i2 < e3; i2++) {
      var o2 = t3[i2];
      o2 && this.indexOf(o2) < 0 && (o2[jo.PARENT] = this, this._children.push(o2));
    }
  }, e2.prototype._removeChild = function(t3) {
    var e3 = this.indexOf(t3);
    return e3 >= 0 && (this._children.splice(e3, 1), t3 instanceof jo && (t3[jo.PARENT] = null)), e3;
  }, e2.prototype._exchangeItems = function(t3, e3) {
    if (t3 < 0 || t3 >= this._children.length) throw new RangeError("index1 is out of range: " + t3);
    if (e3 < 0 || e3 >= this._children.length) throw new RangeError("index2 is out of range: " + e3);
    if (t3 !== e3) {
      var i2 = this._children[t3];
      this._children[t3] = this._children[e3], this._children[e3] = i2;
    }
  }, e2.prototype._moveChild = function(t3, e3) {
    var i2 = this._children.length;
    if (t3 < 0 || t3 >= i2) throw new RangeError("index is out of range: " + t3);
    var o2 = Math.min(Math.max(t3 + e3, 0), i2 - 1), r2 = this._children[t3];
    if (e3 < 0) for (var n2 = t3; n2 > o2; n2--) this._children[n2] = this._children[n2 - 1];
    else for (n2 = t3; n2 < o2; n2++) this._children[n2] = this._children[n2 + 1];
    this._children[o2] = r2;
  }, e2.prototype.$_collectRows = function(t3, i2) {
    for (var o2 = t3.count, r2 = 0; r2 < o2; r2++) {
      var n2 = t3.getItem(r2);
      n2 instanceof e2 ? this.$_collectRows(n2, i2) : n2.isDataRow && i2.push(n2.dataRow);
    }
  }, e2.prototype.$_getSummary = function(t3) {
    var e3 = this.dataSource;
    if (!(e3 instanceof ni)) return null;
    null == this._summaries && (this._summaries = {}), "string" == typeof t3 && (t3 = e3.getFieldIndex(t3));
    var i2 = this._summaries ? this._summaries[t3] : null;
    return i2 || e3.canSummarize(t3) && (i2 = this.$_summarize(t3, e3)) && (this._summaries[t3] = i2), i2;
  }, e2.prototype.$_summarize = function(t3, e3) {
    var i2 = this.provider.summaryMode;
    if (i2 != x.NONE) {
      if (null == this._rows && (this._rows = [], this.$_collectRows(this, this._rows)), this._rows.length > 3 && e3.canSummarize(t3)) {
        var o2 = new To(t3);
        return e3.summarizeRange(o2, this._rows, i2 == x.STATISTICAL), o2;
      }
      return this._rows;
    }
    return null;
  }, e2.prototype._saveExpanded = function() {
    this._setExtents(this.expanded ? 16 | this._getExtents() : -17 & this._getExtents());
  }, e2.prototype._restoreExpanded = function(t3) {
    if (void 0 === t3 && (t3 = false), this._setExpanded(0 != (16 & this._getExtents())), t3) for (var i2 = this.count - 1; i2 >= 0; i2--) {
      var o2 = this.getItem(i2);
      o2 instanceof e2 && o2._restoreExpanded(true);
    }
  }, e2;
}(jo);
var Go = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._footers = 0, i2._extents = 0, i2._allFooters = [], i2._groupField = e3, i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._allFooters = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "groupField", { get: function() {
    return this._groupField;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupValue", { get: function() {
    return this._groupValue;
  }, set: function(t3) {
    this._groupValue = t3;
  }, enumerable: false, configurable: true }), e2.prototype._getExtents = function() {
    return this._extents;
  }, e2.prototype._setExtents = function(t3) {
    this._extents = t3;
  }, Object.defineProperty(e2.prototype, "footer", { get: function() {
    return this._footer;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return B.GROUP;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerCount", { get: function() {
    return this._footers;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "allFooterCount", { get: function() {
    return this._allFooters.length;
  }, enumerable: false, configurable: true }), e2.prototype.getHiddenFooterCount = function() {
    for (var t3 = 0, e3 = 0; e3 < this.children.length; e3++) this.children[e3].hiddenFooter && t3++;
    return t3;
  }, e2.prototype.getFooter = function(t3) {
    return t3 = this.indexOf(this._footer) + t3, this._children[t3];
  }, e2.prototype.getFooterIndex = function(t3) {
    return t3.$_footerIndex;
  }, e2.prototype.isFooter = function(t3) {
    if (t3 === this._footer) return true;
    if (this._footers > 1) for (var e3 = this._children, i2 = e3.length - 1; i2 >= 0; i2--) {
      if (e3[i2] === t3) return true;
      if (e3[i2] === this._footer) break;
    }
    return false;
  }, e2.prototype._addChild = function(e3, i2) {
    e3 instanceof Uo ? (this._allFooters.push(e3), e3[jo.PARENT] = this, e3.hiddenFooter || (t2.prototype._addChild.call(this, e3, i2), this._footer = this._footer || e3, this._footers++)) : t2.prototype._addChild.call(this, e3, i2);
  }, e2.prototype.getFirstVisibleItem = function(t3) {
    if (this.visible) return this;
    for (var e3 = 0, i2 = this.children.length; e3 < i2; e3++) {
      var o2 = this.children[e3];
      if (t3 && this.footer && this.footer.visible) return this.footer;
      if (o2 instanceof Wo) {
        var r2 = o2.getFirstVisibleItem(t3);
        if (r2) return r2;
      } else if (o2.visible) return o2;
    }
    return null;
  }, e2;
}(Wo);
var Uo = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3.$_footerIndex = 0, e3._hiddenFooter = false, e3._extents = 0, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "footerIndex", { get: function() {
    return this.$_footerIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vindex", { get: function() {
    return this.$_vindex > -1 ? this.$_vindex : this.$_footerIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hiddenFooter", { get: function() {
    return this._hiddenFooter;
  }, set: function(t3) {
    this._hiddenFooter = t3;
  }, enumerable: false, configurable: true }), e2.prototype._getExtents = function() {
    return this._extents;
  }, e2.prototype._setExtents = function(t3) {
    this._extents = t3;
  }, Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isData", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayLevel", { get: function() {
    return this.level;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return B.FOOTER;
  }, enumerable: false, configurable: true }), e2;
}(jo);
var Yo = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, -1) || this;
    return i2._provider = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._provider;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._provider.dataSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2;
}(Go);
var zo = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._hideDeleted = false, i2._eventLock = 0, i2._rowHeighted = false, i2._explicitHeighted = false, i2._indexing = e3, i2._rootItem = i2._createRootItem(), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return this._rootItem.dispose(), null;
  }, Object.defineProperty(e2.prototype, "hideDeleted", { get: function() {
    return this._hideDeleted;
  }, set: function(t3) {
    t3 != this._hideDeleted && (this._hideDeleted = t3, this._hideDeletedChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return x.AGGREGATE;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortMode", { get: function() {
    return c.AUTO;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCount", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxItemCount", { get: function() {
    return 0;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), e2.prototype.isFiltered = function(t3) {
    return false;
  }, e2.prototype.getMovable = function(t3) {
    return false;
  }, e2.prototype.setFixed = function(t3, e3, i2, o2) {
  }, e2.prototype.attachItem = function(t3) {
    t3._parent = this._rootItem;
  }, e2.prototype.getItemsByIndices = function(t3) {
    var e3 = [];
    if (t3) for (var i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = this.getItem(t3[i2]);
      r2 && e3.push(r2);
    }
    return e3;
  }, e2.prototype.getIndexOfRow = function(t3, e3) {
    var i2 = this.getItemOfRow(t3, e3);
    return i2 ? i2.index : -1;
  }, e2.prototype.getIndicesOfRows = function(t3, e3) {
    var i2 = [], o2 = t3 ? t3.length : 0;
    if (o2) for (var r2 = 0; r2 < o2; r2++) {
      var n2 = this.getItemOfRow(t3[r2], e3);
      i2.push(n2 ? n2.index : -1);
    }
    return i2;
  }, e2.prototype.getItemsByRows = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    for (var i2 = [], o2 = t3 ? t3.length : 0, r2 = 0; r2 < o2; r2++) {
      var n2 = this.getItemOfRow(t3[r2], e3);
      n2 && i2.push(n2);
    }
    return i2;
  }, e2.prototype.exchange = function(t3, e3) {
  }, e2.prototype.moveItem = function(t3, e3) {
  }, e2.prototype.setCheckable = function(t3, e3) {
    t3 && e3 != t3.checkable && (t3._setCheckable(e3), this._fireCheckableChanged(t3));
  }, e2.prototype.setGroupCheckable = function(t3, e3) {
  }, e2.prototype.setSortingOptions = function(t3) {
  }, e2.prototype.setInditerminateItem = function(t3, e3) {
    var i2 = t3.indeterminate;
    t3 && e3 != i2 && (this._setIndeterminated(t3, e3), this._fireRefreshClient());
  }, e2.prototype.checkItem = function(t3, e3, i2, o2) {
    if (t3) {
      var r2 = t3.checked, n2 = t3.indeterminate;
      i2 ? (this._clearChecked(), e3 && this._setChecked(t3, true), e3 != r2 && o2 && this._fireItemChecked(t3), this._fireRefreshClient()) : (e3 != r2 || n2) && (this._setChecked(t3, e3), o2 ? this._fireItemChecked(t3) : this._fireRefreshClient()), this._fireItemCheckChanged([t3], e3);
    }
  }, e2.prototype.checkItems = function(t3, e3, i2) {
    if (t3 && t3.length > 0) {
      for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) {
        var n2 = t3[o2];
        n2 instanceof jo && this._setChecked(n2, e3);
      }
      i2 ? 1 === t3.length ? this._fireItemChecked(t3[0]) : this._fireItemsChecked(t3, e3) : this._fireRefreshClient();
    }
    this._fireItemCheckChanged(t3, e3);
  }, e2.prototype.checkAll = function(t3, e3, i2, o2, r2) {
    var n2 = this.itemCount;
    if (i2) for (var s2 = 0; s2 < n2; s2++) {
      var a2 = this.getItem(s2);
      a2.checkable && this._setChecked(a2, t3);
    }
    else for (s2 = 0; s2 < n2; s2++) this._setChecked(this.getItem(s2), t3);
    o2 ? this._fireItemAllChecked(t3) : this._fireRefreshClient(), this._fireItemCheckChanged(null, t3);
  }, e2.prototype._setCheckItem = function(t3, e3) {
    t3._setChecked(e3);
  }, e2.prototype._clearDisplayLevels = function() {
  }, e2.prototype.canUpdate = function(t3, e3) {
    if (t3) {
      var i2 = this.dataSource;
      if (!i2) return false;
      var o2 = t3.dataRow;
      if (!i2.canUpdateField(o2, e3)) return false;
      var r2 = t3.itemState, n2 = Ao(r2) || r2 === vo.DUMMY;
      return (o2 >= 0 || n2) && (n2 || i2.canUpdateRow(o2));
    }
    return false;
  }, e2.prototype.canAppend = function() {
    var t3 = this.dataSource;
    return t3 && t3.canAppendRow();
  }, e2.prototype.canInsert = function(t3) {
    if (t3) {
      var e3 = t3.dataRow, i2 = this.dataSource;
      return i2 && i2.canInsertRow(e3);
    }
    return false;
  }, e2.prototype.canDelete = function(t3) {
    if (t3) {
      var e3 = t3.dataRow, i2 = this.dataSource;
      return e3 >= 0 && i2 && i2.canDeleteRow(e3);
    }
    return false;
  }, e2.prototype.appendDummy = function() {
  }, e2.prototype.cancelDummy = function() {
  }, e2.prototype.findItem = function(t3, e3, i2, o2, r2) {
    return -1;
  }, e2.prototype.findCell = function(t3, e3, i2, o2, r2, n2) {
    return null;
  }, e2.prototype.getNumber = function(t3) {
    return NaN;
  }, e2.prototype.getSum = function(t3) {
    return NaN;
  }, e2.prototype.getMax = function(t3) {
    return NaN;
  }, e2.prototype.getMin = function(t3) {
    return NaN;
  }, e2.prototype.getAvg = function(t3) {
    return NaN;
  }, e2.prototype.getVar = function(t3) {
    return NaN;
  }, e2.prototype.getVarp = function(t3) {
    return NaN;
  }, e2.prototype.getStdev = function(t3) {
    return NaN;
  }, e2.prototype.getStdevp = function(t3) {
    return NaN;
  }, e2.prototype.getDataCount = function(t3) {
    return NaN;
  }, e2.prototype.getDataAvg = function(t3) {
    return NaN;
  }, Object.defineProperty(e2.prototype, "isIndexing", { get: function() {
    return this._indexing;
  }, enumerable: false, configurable: true }), e2.prototype.setRowHeight = function(t3, e3, i2) {
    t3.$_setHeight(e3, i2) && (isNaN(e3) || (i2 ? this._explicitHeighted = true : this._rowHeighted = true));
  }, e2.prototype.clearRowHeights = function(t3) {
    if (t3 || this._rowHeighted) {
      for (var e3 = false, i2 = this.itemCount - 1; i2 >= 0; i2--) {
        var o2 = this.getItem(i2);
        isNaN(o2.height) && !o2.heights || (o2.$_clearHeight(t3), o2.heights = null, e3 = true);
      }
      return this._rowHeighted = false, t3 && (this._explicitHeighted = false), e3;
    }
  }, e2.prototype.isRowHeighted = function(t3) {
    return void 0 === t3 && (t3 = true), this._rowHeighted || t3 && this._explicitHeighted;
  }, e2.prototype.setCheckFieldIndex = function(t3) {
    this._checkFieldIndex = t3;
  }, e2.prototype.getItemChecked = function(t3, e3) {
    return this._checkFieldIndex > -1 ? this.dataSource.getField(this._checkFieldIndex).readBooleanValue(t3.getData(this._checkFieldIndex)) : e3;
  }, e2.prototype.setItemChecked = function(t3, e3) {
    if (this._checkFieldIndex > -1) {
      var i2 = this.dataSource.getField(this._checkFieldIndex), o2 = i2.readBooleanValue(t3.getData(this._checkFieldIndex));
      return !!o2 != e3 && (o2 = (i2._boolParser || i2._ownerBoolParser).toText(e3), t3.setData(this._checkFieldIndex, o2)), true;
    }
    return false;
  }, Object.defineProperty(e2.prototype, "rootItem", { get: function() {
    return this._rootItem;
  }, enumerable: false, configurable: true }), e2.prototype._createRootItem = function() {
    return new Yo(this);
  }, e2.prototype._hideDeletedChanged = function() {
  }, e2.prototype.$_canFire = function() {
    return this._eventLock <= 0;
  }, e2.prototype._setChecked = function(t3, e3) {
    t3._setChecked(e3);
  }, e2.prototype._setIndeterminated = function(t3, e3) {
    t3._setChecked(!!e3 && null);
  }, e2.prototype._clearChecked = function() {
    for (var t3 = 0, e3 = this.itemCount; t3 < e3; t3++) this._setChecked(this.getItem(t3), false);
  }, e2.prototype._resetItemIndicies = function(t3) {
    if (this._indexing) for (var e3 = t3, i2 = this.itemCount; e3 < i2; e3++) this.getItem(e3)._index = e3;
  }, e2.prototype._setExpanded = function(t3, e3) {
    t3._setExpanded(e3);
  }, e2.prototype._resetItemIndex = function(t3) {
    var e3 = this.getItem(t3);
    e3 && (e3._index = t3);
  }, e2.prototype._incDescendents = function(t3, e3) {
    t3._descendantCount += e3, t3.parent && this._incDescendents(t3.parent, e3);
  }, e2.prototype._copyExtents = function(t3, e3) {
    t3 instanceof jo && e3 instanceof jo && e3._setExtents(t3._getExtents());
  }, e2.prototype._fireReset = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderReset", t3);
  }, e2.prototype._fireRefresh = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderRefresh", t3);
  }, e2.prototype._fireRefreshClient = function() {
    this._eventLock <= 0 && this.fireEvent("onItemProviderRefreshClient");
  }, e2.prototype._fireItemInserted = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemInserted", t3);
  }, e2.prototype._fireItemDeleted = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemDeleted", t3);
  }, e2.prototype._fireItemUpdated = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemUpdated", t3);
  }, e2.prototype._fireCheckableChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderCheckableChanged", t3);
  }, e2.prototype._fireItemChecked = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemChecked", t3);
  }, e2.prototype._fireItemsChecked = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemsChecked", t3, e3);
  }, e2.prototype._fireItemAllChecked = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderItemAllChecked", t3);
  }, e2.prototype._fireItemCheckChanged = function(t3, e3) {
    this.fireEvent("onItemProviderItemCheckChanged", t3, e3);
  }, e2.prototype._fireRowStateChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderRowStateChanged", t3);
  }, e2.prototype._fireRowStatesChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderRowStatesChanged", t3);
  }, e2.prototype._fireRowStatesCleared = function() {
    this._eventLock <= 0 && this.fireEvent("onItemProviderRowStatesCleared");
  }, e2.prototype._fireSort = function(t3, e3, i2) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderSort", t3, e3, i2);
  }, e2.prototype._fireSorted = function() {
    this._eventLock <= 0 && this.fireEvent("onItemProviderSorted");
  }, e2.prototype._fireFiltered = function(t3, e3, i2) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderFiltered", t3, e3, i2);
  }, e2.prototype._fireCommandStackChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent("onItemProviderCommandStackChanged", t3, e3);
  }, e2.prototype._fireDataLoadComplated = function() {
    this._eventLock <= 0 && this.fireEvent("onItemProviderDataLoadComplated");
  }, e2.prototype._fireOuterSort = function(t3, e3, i2) {
    return this.fireObjectEvent("onItemProviderOuterSort", t3, e3, i2);
  }, e2.prototype.canGrouping = function(t3) {
    return false;
  }, e2;
}(Oe);
var qo = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._initialize(), o2.source = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "source", { get: function() {
    return this._source;
  }, set: function(t3) {
    t3 != this._source && (this._source && this._source.removeListener(this), this._clearItems(), this._source = t3, this._source && (this._populateItems(), this._source.addListener(this)));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._source && this._source.dataSource;
  }, set: function(t3) {
    this._source && (this._source.dataSource = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._source ? this._source.rowCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCount", { get: function() {
    return this._source ? this._source.fixedCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxItemCount", { get: function() {
    return this._source ? this._source.maxItemCount : 0;
  }, set: function(t3) {
    this._source && (this._source.maxItemCount = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorted", { get: function() {
    return this._source && this._source.sorted;
  }, enumerable: false, configurable: true }), e2.prototype.setFixed = function(t3, e3, i2, o2) {
    this._source && this._source.setFixed(t3, e3, i2, o2);
  }, e2.prototype.getIndexOfRow = function(t3) {
    return this._source ? this._source.getIndexOfRow(t3, false) : -1;
  }, e2.prototype.getItemOfRow = function(t3, e3) {
    return this._source ? this._source.getItemOfRow(t3, e3) : null;
  }, e2.prototype._refreshItems = function() {
    this._source && this._source._refreshItems();
  }, e2.prototype._clearDisplayLevels = function() {
    this._source && this._source._clearDisplayLevels();
  }, e2.prototype._initialize = function() {
  }, e2.prototype._clearItems = function() {
  }, e2.prototype._populateItems = function() {
    this._resetItemIndicies(0);
  }, e2.prototype.onItemProviderReset = function(t3, e3) {
    this._populateItems(), this._fireReset(e3);
  }, e2.prototype.onItemProviderRefresh = function(t3, e3) {
    this._populateItems(), this._fireRefresh(e3);
  }, e2.prototype.onItemProviderRefreshClient = function(t3) {
    this._fireRefreshClient();
  }, e2.prototype.onItemProviderItemInserted = function(t3, e3) {
    this._resetItemIndicies(0), this._fireItemInserted(e3);
  }, e2.prototype.onItemProviderItemDeleted = function(t3, e3) {
    this._resetItemIndicies(0), this._fireItemDeleted(e3);
  }, e2.prototype.onItemProviderItemUpdated = function(t3, e3) {
    this._resetItemIndicies(0), this._fireItemUpdated(e3);
  }, e2.prototype.onItemProviderCheckableChanged = function(t3, e3) {
    this._fireCheckableChanged(e3);
  }, e2.prototype.onItemProviderItemChecked = function(t3, e3) {
    this._fireItemChecked(e3);
  }, e2.prototype.onItemProviderItemsChecked = function(t3, e3, i2) {
    this._fireItemsChecked(e3, i2);
  }, e2.prototype.onItemProviderItemAllChecked = function(t3, e3) {
    this._fireItemAllChecked(e3);
  }, e2.prototype.onItemProviderItemCheckChanged = function(t3, e3, i2) {
    this._fireItemCheckChanged(e3, i2);
  }, e2.prototype.onItemProviderRowStateChanged = function(t3, e3) {
    this._fireRowStateChanged(e3);
  }, e2.prototype.onItemProviderRowStatesChanged = function(t3, e3) {
    this._fireRowStatesChanged(e3);
  }, e2.prototype.onItemProviderRowStatesCleared = function(t3) {
    this._fireRowStatesCleared();
  }, e2.prototype.onItemProviderFiltered = function(t3, e3, i2, o2) {
    this._fireFiltered(e3, i2, o2);
  }, e2.prototype.onItemProviderSort = function(t3, e3, i2) {
    this._fireSort(e3, i2, null);
  }, e2.prototype.onItemProviderSorted = function(t3) {
    this._fireSorted();
  }, e2.prototype.onItemProviderOuterSort = function(t3, e3, i2, o2) {
    return this._fireOuterSort(e3, i2, o2);
  }, e2.prototype.onItemProviderCommandStackChanged = function(t3, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, e2.prototype.onItemProviderDataLoadComplated = function(t3) {
    this._fireDataLoadComplated();
  }, e2;
}(zo);
var Ko = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, r2) || this;
    return s2._started = false, s2._checkDiff = false, s2._strictDiff = false, s2._target = i2, e3.attachItem(s2), s2._setIndex(o2), s2._state = n2, s2.$_setDisplayLevel(i2 ? i2.displayLevel : 0), s2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "values", { get: function() {
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), e2.prototype.beginEdit = function(t3, e3) {
    this.$_clearHeight(true);
  }, e2.prototype.setValue = function(t3, e3) {
  }, Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemState", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.getData = function(t3) {
    return null;
  }, e2.prototype.setData = function(t3, e3) {
  }, e2.prototype.getRowData = function() {
    return null;
  }, e2.prototype.getRowObject = function() {
    return null;
  }, e2.prototype._clearDisplayLevels = function() {
  }, e2;
}(Ho);
var Xo = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, r2) || this;
    return s2._values = [], s2._changeValues = [], s2._started = false, s2._checkDiff = false, s2._strictDiff = false, s2._invalidFields = [], s2._target = i2, e3.attachItem(s2), s2._setIndex(o2), s2._state = n2, s2.$_setDisplayLevel(i2 ? i2.displayLevel : 0), s2._invalidFields = [], s2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values.concat();
  }, set: function(t3) {
    var e3 = this.provider, i2 = this.dataSource, o2 = i2.fieldCount;
    if (t3 instanceof Array) {
      o2 = Math.min(o2, t3.length);
      for (var r2 = 0; r2 < o2; r2++) {
        var n2 = i2.getField(r2), s2 = this._values[r2], a2 = n2.readValue(t3[r2]);
        this._values[r2] = a2, this._started && !n2.equalValues(s2, a2) && e3._editItemCellUpdated(this, r2, s2, a2);
      }
    } else if (t3) for (r2 = 0; r2 < o2; r2++) {
      var l2 = i2.getOrgFieldName(r2);
      if (t3.hasOwnProperty(l2)) {
        n2 = i2.getField(r2), s2 = this._values[r2], a2 = n2.readValue(t3[l2]);
        this._values[r2] = a2, this._started && !n2.equalValues(s2, a2) && e3._editItemCellUpdated(this, r2, s2, a2);
      }
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "invalidFields", { get: function() {
    return this._invalidFields;
  }, enumerable: false, configurable: true }), e2.prototype.beginEdit = function(t3, e3) {
    Ao(this._state) && this.$_clearHeight(true), this._started = true, this._checkDiff = t3, this._strictDiff = e3;
  }, e2.prototype.setValue = function(t3, e3) {
    var i2 = this.dataSource;
    if (t3 < 0 && t3 >= i2.fieldCount) throw new Ze(Ge.messages.fieldIndexOutOfBounds + t3);
    var o2 = i2.getField(t3), r2 = this._values[t3];
    e3 = o2.readValue(e3), this._values[t3] = e3, this._started && !o2.equalValues(r2, e3) && this.provider._editItemCellUpdated(this, t3, r2, e3), this.$_clearHeight(false);
  }, Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemState", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this._target ? this._target.level : 1;
  }, enumerable: false, configurable: true }), e2.prototype.getData = function(t3) {
    if ((t3 = this.dataSource.getFieldIndex(t3)) < 0 && t3 >= this.dataSource.fieldCount) throw new RangeError("field index is out of bounds: " + t3);
    return this._values[t3];
  }, e2.prototype.setData = function(t3, e3) {
    var i2 = this.dataSource;
    if (t3 < 0 && t3 >= i2.fieldCount) throw new RangeError("field index is out of bounds: " + t3);
    var o2 = i2.getField(t3), r2 = this._values[t3], n2 = !this._checkDiff;
    e3 = o2.readValue(e3), n2 || (n2 = this._strictDiff ? !o2.equalValues(r2, e3) : !o2.sameValues(r2, e3)), n2 && (this._values[t3] = e3, this._changeValues[t3] = true, this.provider._editItemCellUpdated(this, t3, r2, e3), this.provider._editItemCellEdited(this, t3)), this.$_clearHeight(false);
  }, e2.prototype.getRowData = function() {
    return this._values.concat();
  }, e2.prototype.getRowObject = function() {
    var t3 = this.dataSource;
    if (t3) {
      for (var e3 = {}, i2 = 0, o2 = t3.fieldCount; i2 < o2; i2++) {
        e3[t3.getOrgFieldName(i2)] = this._values[i2];
      }
      return e3;
    }
    return null;
  }, e2.prototype.isEdited = function(t3) {
    return this._changeValues[t3];
  }, e2.prototype._setChecked = function(t3) {
    this.provider.setItemChecked(this, t3) || this._setExtents(t3 ? 1 | this._getExtents() : -2 & this._getExtents());
  }, e2.prototype._clearDisplayLevels = function() {
  }, e2;
}(Ho);
var Zo = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._checkDiff = false, o2._checkCellDiff = false, o2._strictDiff = false, o2._undoable = false, o2._cancelWhenLastUndo = false, o2._orgItem = null, o2._editingItem = null, o2._dummyEditItem = null, o2._editingState = vo.NORMAL, o2._insertMode = 0, o2._modified = false, o2._commiting = false, o2._saveDs = null, o2._commands = new hi(o2), e3 && (o2._saveDs = e3.dataSource) && o2._saveDs.registerClient(o2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._saveDs = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.isDataEditing = function() {
    return this.isEditing();
  }, e2.prototype.cancelDataEditing = function() {
    this.isEditing() && this.fireCancelRequest();
  }, e2.prototype.commitDataEditing = function() {
    this.isEditing() && this.fireCommitRequest();
  }, e2.prototype.editCommandStackChanged = function(t3, e3, i2) {
    var o2 = this._saveDs;
    o2 ? this._fireCommandStackChanged(e3 || o2.canUndo, i2 || o2.canRedo) : this._fireCommandStackChanged(e3, i2);
  }, Object.defineProperty(e2.prototype, "isCheckDiff", { get: function() {
    return this._checkDiff;
  }, set: function(t3) {
    this._checkDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isCheckCellDiff", { get: function() {
    return this._checkCellDiff;
  }, set: function(t3) {
    this._checkCellDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isStrictDiff", { get: function() {
    return this._strictDiff;
  }, set: function(t3) {
    this._strictDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editingItem", { get: function() {
    return this._commiting || this.isEditing() ? this._editingItem : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isUpdating", { get: function() {
    return this._editingState == vo.UPDATING;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isInserting", { get: function() {
    return this._editingState == vo.INSERTING;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isAppending", { get: function() {
    return this._editingState == vo.APPENDING;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoable", { get: function() {
    return this._undoable && this._saveDs && this._saveDs.undoable;
  }, set: function(t3) {
    t3 != this._undoable && (this._undoable = t3, this._commands.flush(), this._saveDs.undoable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cancelWhenLastUndo", { get: function() {
    return this._cancelWhenLastUndo;
  }, set: function(t3) {
    this._cancelWhenLastUndo = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._commands.canUndo || this._saveDs && this._saveDs.canUndo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._commands.canRedo || this._saveDs && this._saveDs.canRedo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._commands.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._commands.redoing;
  }, enumerable: false, configurable: true }), e2.prototype.isEditing = function(t3) {
    return $o(this._editingState) && (!t3 || t3 === this._editingItem);
  }, e2.prototype.isEdited = function(t3) {
    return $o(this._editingState) && (!t3 || t3 === this._editingItem) && this._modified;
  }, e2.prototype.setDiffs = function(t3, e3, i2) {
    this._checkDiff = t3, this._checkCellDiff = e3, this._strictDiff = i2;
  }, e2.prototype.edit = function(t3) {
    if (this.isEditing()) return true;
    if (t3) try {
      return this._beginUpdate(t3), true;
    } catch (t4) {
      throw this.cancel(), t4;
    }
    return false;
  }, e2.prototype.editData = function(t3, e3, i2) {
    var o2;
    if (t3 && (o2 = this.dataSource) && e3 >= 0 && e3 < o2.fieldCount) {
      if (!this.isEditing()) try {
        return this._beginUpdate(t3), true;
      } catch (t4) {
        throw this.cancel(), t4;
      }
      this._editingItem.setData(e3, i2);
    }
    return false;
  }, e2.prototype.appendDummy = function() {
    if (!this.isEditing()) try {
      this._beginAppendDummy();
    } catch (t3) {
      this.cancelDummy();
    }
  }, e2.prototype.append = function(t3) {
    if (!this.isEditing()) try {
      return this._beginAppend(t3);
    } catch (t4) {
      throw this.cancel(), t4;
    }
    return -1;
  }, e2.prototype.insert = function(t3, e3, i2, o2) {
    if (!this.isEditing()) try {
      return this._beginInsert(t3, e3, i2, o2);
    } catch (t4) {
      throw this.cancel(), t4;
    }
    return -1;
  }, e2.prototype.cancelDummy = function() {
    this._dummyEditItem && this._cancelDummyEdit();
  }, e2.prototype.cancel = function() {
    this.isEditing() && this._cancelEdit();
  }, e2.prototype.commit = function(t3) {
    if (this.isEditing()) {
      this._commiting = true;
      try {
        var e3 = this.dataSource;
        if (e3) {
          if (this._editingState == vo.UPDATING && this.isCheckDiff) {
            for (var i2 = this._editingItem.values, o2 = i2.length, r2 = this.isStrictDiff, n2 = false, s2 = 0; s2 < o2; s2++) if (r2) {
              if (!e3.getField(s2).equalValues(this._orgItem.getData(s2), i2[s2])) {
                n2 = true;
                break;
              }
            } else if (!e3.getField(s2).sameValues(this._orgItem.getData(s2), i2[s2])) {
              n2 = true;
              break;
            }
            if (!n2) return this._cancelEdit(), true;
          }
          return this._commitEdit(t3);
        }
      } finally {
        this._commiting = false;
      }
    }
    return true;
  }, e2.prototype.execute = function(t3) {
    t3 && (this.undoable ? this._commands.execute(t3) : t3.execute());
  }, e2.prototype.undo = function() {
    this.isEditing() ? (this._commands.undo(), !this._commands.canUndo && this._cancelWhenLastUndo && this.cancel()) : this._saveDs && this._saveDs.undo();
  }, e2.prototype.redo = function() {
    this.isEditing() ? this._commands.redo() : this._saveDs && this._saveDs.redo();
  }, e2.prototype.clearCommandStack = function(t3) {
    void 0 === t3 && (t3 = true), this._commands.flush(), t3 && this._saveDs && this._saveDs.clearCommandStack();
  }, e2.prototype.revert = function(t3) {
  }, e2.prototype.revertAll = function(t3) {
  }, e2.prototype._checkEditing = function() {
    if (!this.isEditing()) throw new Error("itemProvider is not editing");
  }, e2.prototype._checkNotEditing = function() {
    if (this.isEditing()) throw new Error("itemProvider is already editing");
  }, e2.prototype._beginUpdate = function(t3) {
    if (!t3) throw new Error("item is null");
    this._checkNotEditing(), this._modified = false, this._editingItem = this._doBeginUpdate(t3), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem && (this._orgItem = t3, this._editingState = vo.UPDATING, this._commands.flush(), this.fireUpdateStarted(this._editingItem));
  }, e2.prototype._doBeginUpdate = function(t3) {
    return null;
  }, e2.prototype._beginAppendDummy = function() {
    this._dummyEditItem = this._doBeginAppendDummy();
  }, e2.prototype._doBeginAppendDummy = function() {
    return null;
  }, e2.prototype._beginAppend = function(t3) {
    return this._checkNotEditing(), this._modified = false, this._editingItem = this._doBeginAppend(t3), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem ? (this._editingState = vo.APPENDING, this._commands.flush(), this.fireAppendStarted(this._editingItem), this._editingItem.index) : -1;
  }, e2.prototype._doBeginAppend = function(t3) {
    return null;
  }, e2.prototype._beginInsert = function(t3, e3, i2, o2) {
    return void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = false), this._checkNotEditing(), this._modified = false, this._editingItem = this._doBeginInsert(t3, e3, i2, o2), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem ? (this._editingState = vo.INSERTING, this._resetItemIndicies(0), this._commands.flush(), this.fireInsertStarted(this._editingItem), this._editingItem.index) : -1;
  }, e2.prototype._doBeginInsert = function(t3, e3, i2, o2) {
    return null;
  }, e2.prototype._updateEditingRow = function(t3) {
    return false;
  }, e2.prototype._insertEditingRow = function(t3) {
    return false;
  }, e2.prototype._cancelDummyEdit = function() {
    this._dummyEditItem = null, this._doCancelDummyEdit();
  }, e2.prototype._cancelEdit = function() {
    this._checkEditing();
    var t3 = this._editingState;
    try {
      this._editingState = vo.NORMAL, this._doCancelEdit(t3, this._orgItem);
    } catch (e3) {
      throw this._editingState = t3, e3;
    }
    this._modified = false, this._commands.flush(), this.fireCanceled();
  }, e2.prototype._doCancelDummyEdit = function() {
  }, e2.prototype._doCancelEdit = function(t3, e3) {
    t3 == vo.INSERTING && this._resetItemIndicies(0);
  }, e2.prototype._commitEdit = function(t3) {
    if (this._checkEditing(), !this.dataSource) throw new Error("data provier is null");
    try {
      this.fireItemCommitting(this._editingItem);
    } catch (t4) {
      alert(t4.message);
    }
    var e3 = this._editingState, i2 = false;
    if (this.isUpdating) try {
      this._editingState = vo.NORMAL, i2 = this._doCompleteUpdate(this._orgItem, t3);
    } catch (t4) {
      throw this._editingState = e3, t4;
    }
    else try {
      this._editingState = vo.NORMAL, i2 = this._doCompleteInsert(e3 == vo.APPENDING);
    } catch (t4) {
      throw this._editingState = e3, t4;
    }
    return i2 ? (this._modified = false, this._doCommitEdit(e3, this._orgItem), this._commands.flush(), this.fireCommitted(this._editingItem)) : this._editingState = e3, i2;
  }, e2.prototype._doCommitEdit = function(t3, e3) {
    return false;
  }, e2.prototype._editItemCellEdited = function(t3, e3) {
    t3 && this.isEditing(t3) && (this._modified = true, this.fireItemCellEdited(t3, e3));
  }, e2.prototype._editItemCellUpdated = function(t3, e3, i2, o2) {
    this.isEditing(t3) && (this._modified = true, this.fireItemCellUpdated(t3, e3, i2, o2));
  }, e2.prototype.$_editingItem = function() {
    return this._editingItem;
  }, e2.prototype.$_dummyItem = function() {
    return this._dummyEditItem;
  }, e2.prototype.fireUpdateStarted = function(t3) {
    this.$_canFire() && this.fireEvent(e2.UPDATE_STARTED, t3);
  }, e2.prototype.fireAppendStarted = function(t3) {
    this.$_canFire() && this.fireEvent(e2.APPEND_STARTED, t3);
  }, e2.prototype.fireInsertStarted = function(t3) {
    this.$_canFire() && this.fireEvent(e2.INSERT_STARTED, t3);
  }, e2.prototype.fireItemCellEdited = function(t3, i2) {
    this.$_canFire() && this.fireEvent(e2.CELL_EDITED, t3, i2);
  }, e2.prototype.fireItemCellUpdated = function(t3, i2, o2, r2) {
    this.$_canFire() && this.fireEvent(e2.CELL_UPDATED, t3, i2, o2, r2);
  }, e2.prototype.fireItemCommitting = function(t3) {
    this.$_canFire() && this.fireEvent(e2.COMMITTING, t3);
  }, e2.prototype.fireCommitted = function(t3) {
    this.$_canFire() && this.fireEvent(e2.COMMITTED, t3);
  }, e2.prototype.fireCanceled = function() {
    this.$_canFire() && this.fireEvent(e2.CANCELED);
  }, e2.prototype.fireCommitRequest = function() {
    this.$_canFire() && this.fireEvent(e2.COMMIT_REQUEST);
  }, e2.prototype.fireCancelRequest = function() {
    this.$_canFire() && this.fireEvent(e2.CANCEL_REQUEST);
  }, e2.prototype.onItemProviderReset = function(e3, i2) {
    t2.prototype.onItemProviderReset.call(this, e3, i2);
    var o2 = this.dataSource;
    o2 != this._saveDs && (this._saveDs && !this._saveDs.disposing && this._saveDs.unregisterClient(this), this._saveDs = o2, this._saveDs && this._saveDs.registerClient(this));
  }, e2.prototype.onItemProviderRefresh = function(e3, i2) {
    t2.prototype.onItemProviderRefresh.call(this, e3, i2);
  }, e2.prototype.onItemProviderRefreshClient = function(e3) {
    t2.prototype.onItemProviderRefreshClient.call(this, e3);
  }, e2.prototype.onItemProviderItemInserted = function(e3, i2) {
    t2.prototype.onItemProviderItemInserted.call(this, e3, i2);
  }, e2.prototype.onItemProviderItemDeleted = function(e3, i2) {
    t2.prototype.onItemProviderItemDeleted.call(this, e3, i2);
  }, e2.prototype.onItemProviderItemUpdated = function(e3, i2) {
    t2.prototype.onItemProviderItemUpdated.call(this, e3, i2);
  }, e2.prototype.onItemProviderCommandStackChanged = function(t3, e3, i2) {
    var o2 = this._commands;
    this._fireCommandStackChanged(e3 || o2.canUndo, i2 || o2.canRedo);
  }, e2.UPDATE_STARTED = "onItemEditUpdateStarted", e2.APPEND_STARTED = "onItemEditAppendStarted", e2.INSERT_STARTED = "onItemEditInsertStarted", e2.CELL_EDITED = "onItemEditCellEdited", e2.CELL_UPDATED = "onItemEditCellUpdated", e2.COMMITTING = "onItemEditCommitting", e2.COMMITTED = "onItemEditCommitted", e2.CANCELED = "onItemEditCanceled", e2.COMMIT_REQUEST = "onItemEditCommitRequest", e2.CANCEL_REQUEST = "onItemEditCancelRequest", e2;
}(qo);
var Jo = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._insertRow = -1, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    var t3 = this.source.itemCount;
    return t3 += this.isInserting || this.isAppending ? 1 : 0, t3 += this.$_dummyItem() ? 1 : 0;
  }, enumerable: false, configurable: true }), e2.prototype.getItem = function(t3, e3) {
    var i2 = this.source;
    if (e3) return i2.getItem(t3, e3);
    var o2, r2 = this.$_editingItem(), n2 = this.$_dummyItem();
    return this.isEditing() && r2.index == t3 ? r2 : (this.isInserting ? o2 = t3 > r2.index ? i2.getItem(t3 - 1) : i2.getItem(t3) : t3 < i2.itemCount && (o2 = i2.getItem(t3)), o2 || (n2 && t3 == this.itemCount - 1 ? n2 : null));
  }, e2.prototype.getItems = function(t3, e3) {
    return this.source.getItems(t3, e3);
  }, e2.prototype._doBeginUpdate = function(t3) {
    return this._createEditItem(t3, vo.UPDATING, null, false, false);
  }, e2.prototype._doBeginAppendDummy = function() {
    return this.$_dummyItem() || this._createDummyEditItem();
  }, e2.prototype._doBeginAppend = function(t3) {
    return this._createEditItem(null, vo.APPENDING, t3, false, false);
  }, e2.prototype._doBeginInsert = function(t3, e3, i2, o2) {
    return this._createEditItem(t3, vo.INSERTING, e3, i2, o2);
  }, e2.prototype._doCompleteUpdate = function(t3, e3) {
    var i2 = this.dataSource;
    if (i2 instanceof ni) {
      var o2 = this.$_editingItem();
      return this._copyExtents(o2, t3), e3 || i2.updateRow(o2.dataRow, o2.values, false);
    }
    return false;
  }, e2.prototype._doCompleteInsert = function(t3) {
    var e3 = this.dataSource, i2 = false;
    if (e3) {
      var o2 = this.$_editingItem(), r2 = t3 ? e3.rowCount : Math.max(0, this._insertRow), n2 = o2.values;
      if (i2 = e3.insertRow(r2, n2, o2._index2)) {
        var s2 = this.getItemOfRow(r2, true);
        o2._dataRow = r2, s2 && (o2._setCheckable(s2.checkable), this._copyExtents(o2, s2), o2.heights && (s2.heights = o2.heights.slice())), s2.index >= 0 && null != o2._index2 && this.moveItem(s2, o2._index2);
      }
    }
    return i2;
  }, e2.prototype.remove = function(t3, e3) {
    var i2 = this.dataSource;
    if (t3 && !this.isEditing(t3) && i2) {
      var o2 = t3.dataRow;
      o2 >= 0 && i2.removeRow(o2, e3);
    }
  }, e2.prototype.revert = function(t3) {
    if (t3 instanceof jo || (t3 = this.getItem(t3)), t3) {
      var e3 = this.dataSource;
      if (e3) {
        var i2 = t3.dataRow, o2 = e3.getRowState(i2);
        o2 == St.DELETED ? e3.setRowState(i2, St.NONE, false) : o2 == St.CREATE_AND_DELETED && e3.setRowState(i2, St.CREATED, false);
      }
    }
  }, e2.prototype.revertAll = function(t3) {
    if (t3 && 0 != t3.length) {
      var e3 = this.dataSource;
      if (e3) for (var i2 = t3.length; i2--; ) {
        var o2 = this.getItem(t3[i2]);
        if (o2) {
          var r2 = o2.dataRow, n2 = e3.getRowState(r2);
          n2 == St.DELETED ? e3.setRowState(r2, St.NONE, false) : n2 == St.CREATE_AND_DELETED && e3.setRowState(r2, St.CREATED, false);
        }
      }
    }
  }, e2.prototype.getRemovableRows = function(t3) {
    if (!t3 || 0 == t3.length) return null;
    for (var e3 = [], i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = this.getItem(t3[i2]).dataRow;
      r2 >= 0 && e3.push(r2);
    }
    return e3;
  }, e2.prototype.removeRows = function(t3, e3) {
    t3 && (t3.length > 1 ? this.dataSource.removeRows(t3, false, e3) : this.dataSource.removeRow(t3[0], e3));
  }, e2.prototype.updateRows2 = function(t3) {
    this.dataSource.updateRows2(t3, false, false);
  }, e2.prototype._createDummyEditItem = function() {
    return new Ko(this, null, this.itemCount, -1, vo.DUMMY);
  }, e2.prototype._createEditItem = function(t3, e3, i2, o2, r2) {
    var n2 = this.dataSource;
    if (!n2) return null;
    var s2 = null, a2 = n2.fieldCount;
    switch (e3) {
      case vo.UPDATING:
        s2 = new Xo(this, t3, t3.index, t3.dataRow, e3);
        for (var l2 = 0; l2 < a2; l2++) s2.setValue(l2, t3.getData(l2));
        this._copyExtents(t3, s2), t3.heights && (s2._heights = t3.heights.slice());
        break;
      case vo.INSERTING:
      case vo.APPENDING:
        var h2 = this._rs, u2 = e3 == vo.INSERTING && t3 ? o2 ? t3.index + 1 : t3.index : this.itemCount;
        if (s2 = new Xo(this, t3, u2, -1, e3), e3 == vo.INSERTING) {
          var c2 = t3.dataRow, d2 = t3;
          if (c2 <= -1) {
            for (var p2 = this.source._visibleItems; (d2 = p2.getNext(d2)) && !(d2 instanceof Ho); ) ;
            this._insertRow = d2 ? d2.dataRow : n2.rowCount;
          } else this._insertRow = o2 ? Math.min(n2.rowCount, c2 + 1) : c2;
          if (t3 instanceof Ho && o2 && h2) {
            var f2 = h2._pubItems.indexOf(d2);
            f2++ >= 0 && f2 <= h2._pubItems.length && (s2._index2 = f2);
          }
        }
        if (i2) for (l2 = 0; l2 < a2; l2++) i2.length > l2 && s2.setValue(l2, i2[l2]);
    }
    return s2;
  }, e2;
}(Zo);
!function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2.message = e3, o2.tokenPos = i2, o2;
  }
  i(e2, t2);
}(Error);
var Qo;
var tr = function() {
  function t2(t3) {
    this.literal = t3;
  }
  return t2.prototype.evaluate = function(t3) {
    return this.literal;
  }, t2;
}();
var er = function() {
  function t2(t3, e2) {
    void 0 === e2 && (e2 = -1), this.ident = t3, this.idKey = e2;
  }
  return t2.prototype.evaluate = function(t3) {
    return this.idKey < 0 && (this.idKey = t3.isIdentifier(this.ident)), t3.evaluateIdentifier(this.idKey);
  }, t2;
}();
var ir = function() {
  function t2(t3, e2, i2) {
    void 0 === e2 && (e2 = -1), void 0 === i2 && (i2 = false), this.ident = t3, this.idKey = e2, this.capital = i2;
  }
  return t2.prototype.evaluate = function(t3) {
    var e2 = this.ident, i2 = e2.indexOf("["), o2 = e2.indexOf("]");
    if (i2 < o2) {
      var r2 = e2.substr(0, i2).trim(), n2 = e2.substring(i2 + 1, o2).replace(/['|"]/g, "").trim();
      return this.idKey < 0 && (this.idKey = t3.isIdentifier(r2)), t3.evaluateIndexerS(this.idKey, n2, this.capital);
    }
  }, t2;
}();
var or = function() {
  function t2(t3, e2) {
    void 0 === e2 && (e2 = false), this._silentError = false, this._tokens = [], this._source = t3, this._silentError = e2, t3 && this._parse(t3);
  }
  return Object.defineProperty(t2.prototype, "source", { get: function() {
    return this._source;
  }, set: function(t3) {
    t3 != this._source && (this._source = t3, this._parse(t3));
  }, enumerable: false, configurable: true }), t2.prototype.evaluate = function(t3) {
    try {
      for (var e2 = this._tokens, i2 = "", o2 = 0, r2 = e2.length; o2 < r2; o2++) {
        i2 += e2[o2].evaluate(t3) || "";
      }
      return i2;
    } catch (t4) {
      if (!this._silentError) throw new t4();
    }
    return null;
  }, t2.prototype._parse = function(t3) {
    if (this._tokens = [], t3) for (var e2, i2 = t3.length, o2 = 0; o2 < i2; ) {
      var r2 = t3.indexOf("${", o2);
      if (r2 >= 0) {
        var n2 = t3.indexOf("}", r2 + 2);
        if (n2 >= 0) {
          if (r2 > o2) {
            var s2 = t3.substring(o2, r2);
            e2 = new tr(s2), this._tokens.push(e2);
          }
          if (h2 = t3.substring(r2 + 2, n2).trim()) {
            var a2, l2 = void 0;
            e2 = (a2 = h2.indexOf("[")) && (l2 = h2.indexOf("]")) && a2 < l2 ? new ir(h2) : new er(h2), this._tokens.push(e2);
          }
          o2 = n2 + 1;
        } else r2 = -1;
      }
      if (r2 < 0) {
        var h2 = t3.substr(o2, i2);
        e2 = new tr(h2), this._tokens.push(e2);
        break;
      }
    }
  }, t2;
}();
!function(t2) {
  t2.ACTIVE = "active", t2.UNACTIVE = "unactive", t2.INDETERMINATE = "indeterminate";
}(Qo || (Qo = {}));
var rr;
var nr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._active = false, i2._visible = true, i2._level = 0, i2._category = null, i2.criteria = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._criteria = null, this._category = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, set: function(t3) {
    this._name = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "criteria", { get: function() {
    return this._criteria;
  }, set: function(t3) {
    this._criteria = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "callback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    this._callback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, set: function(t3) {
    this._text = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "description", { get: function() {
    return this._description;
  }, set: function(t3) {
    this._description = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, set: function(t3) {
    t3 != this._active && (this._active = t3, this.changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    this._visible = t3, this.changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tag", { get: function() {
    return this._tag;
  }, set: function(t3) {
    this._tag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "category", { get: function() {
    return this._category;
  }, set: function(t3) {
    this._category = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this._level;
  }, set: function(t3) {
    this._level = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterValue", { get: function() {
    return this._filterValue;
  }, set: function(t3) {
    this._filterValue = t3;
  }, enumerable: false, configurable: true }), e2.prototype.toString = function() {
    return this._text || this._name;
  }, e2.prototype.changed = function() {
    this.fireEvent(e2.CHANGED);
  }, e2.CHANGED = "onColumnFilterChanged", e2;
}(Oe);
var sr = function(t2) {
  function e2() {
    var e3 = t2.call(this, null) || this;
    return e3._childs = [], e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "active", { get: function() {
    for (var t3 = this._childs.length; t3--; ) if (!this._childs[t3].active) return false;
    return true;
  }, set: function(t3) {
    for (var e3 = this._childs.length; e3--; ) this._childs[e3].active = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._childs.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "activeState", { get: function() {
    for (var t3 = void 0, e3 = 0, i2 = this._childs.length; e3 < i2; e3++) {
      if (null != t3 && this._childs[e3].active != t3) return Qo.INDETERMINATE;
      t3 = this._childs[e3].active;
    }
    return t3 ? Qo.ACTIVE : Qo.UNACTIVE;
  }, enumerable: false, configurable: true }), e2.prototype._doDispose = function() {
    this.clear(), t2.prototype._doDispose.call(this);
  }, e2.prototype.clear = function() {
    this._childs = [];
  }, e2.prototype.addChild = function(t3) {
    t3.level = this.level + 1, t3.category = this, this._childs.push(t3);
  }, e2.prototype.getChild = function(t3) {
    return this._childs[t3];
  }, e2;
}(nr);
var ar = function() {
  function t2(t3) {
    this._model = t3, this.parse();
  }
  return t2.prototype._doDispose = function() {
    this._exprNode = null, this._model = null;
  }, Object.defineProperty(t2.prototype, "model", { get: function() {
    return this._model;
  }, enumerable: false, configurable: true }), t2.prototype.prepare = function(t3, e2) {
    t3.setDataSource(e2);
  }, t2.prototype.select = function(t3, e2, i2) {
    var o2, r2 = this._model, n2 = r2.callback;
    return n2 && (o2 = n2.call(this, t3._ds.handler, e2.dataRow, e2.level, i2, r2, e2.getData(i2))), "boolean" == typeof o2 ? o2 : !this._exprNode || (t3.setData(e2, i2, r2), this._exprNode.evaluate(t3));
  }, t2.prototype.parse = function() {
    this._model.criteria ? this._exprNode = xe.Default.parse(this._model.criteria, null) : this._exprNode = null;
  }, t2;
}();
var lr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._items = [], i2._names = {}, i2._updating = false, i2._nextId = 1, i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "activeCount", { get: function() {
    for (var t3 = 0, e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      i2[e3].active && t3++;
    }
    return t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isVisible", { get: function() {
    for (var t3 = 0, e3 = this._items; t3 < e3.length; t3++) {
      if (e3[t3].visible) return true;
    }
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.getOwner = function() {
    return this._owner;
  }, e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.indexOf = function(t3) {
    for (var e3 = this._items.length - 1; e3 >= 0; e3--) if (this._items[e3].name == t3) return e3;
    return -1;
  }, e2.prototype.getActiveItems = function(t3) {
    for (var e3 = [], i2 = this._items.length - 1; i2 >= 0; i2--) this._items[i2].active == t3 && e3.push(this._items[i2]);
    return e3;
  }, e2.prototype.assignFrom = function(t3) {
    if (t3 !== this) {
      var e3 = this.activeCount;
      if (this.clear(false), t3) {
        for (var i2 = t3 instanceof Array ? t3 : [t3], o2 = i2.length, r2 = 0; r2 < o2; r2++) if ((t3 = i2[r2]) && t3.name) {
          this.$_checkName(t3.name);
          var n2 = new nr(null);
          n2.assignFrom(t3), this._items.push(n2), this._names[t3.name] = n2, n2.addListener(this);
        }
      }
      this.changed(null, false, !(e3 || this.activeCount));
    }
  }, e2.prototype.clear = function(t3) {
    void 0 === t3 && (t3 = true);
    var e3 = this._items.length, i2 = this.activeCount;
    if (e3 > 0) {
      for (var o2 = 0; o2 < e3; o2++) this._items[o2].removeListener(this);
      return this._items.length = 0, this._names = {}, i2 && t3 && this.changed(null), true;
    }
    return false;
  }, e2.prototype.add = function(t3, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = Ot.cast(t3, nr);
    i2 ? this._items.indexOf(i2) < 0 && i2.name && this.$_checkName(i2.name) : t3 && t3.name && (this.$_checkName(t3.name), (i2 = new nr(null)).assignFrom(t3)), i2 && (this._items.push(i2), i2._owner = this, this._names[i2.name] = i2, i2.addListener(this), this.changed(null, false, !(i2.active && e3)));
  }, e2.prototype.addAll = function(t3, e3, i2) {
    if (void 0 === i2 && (i2 = true), t3 instanceof Array || !t3 || (t3 = [t3]), (t3 = Ot.makeArray(t3, true)).length > 0) {
      for (var o2 = 0, r2 = t3.length, n2 = 0; n2 < r2; n2++) {
        var s2 = Ot.cast(t3[n2], nr);
        if (s2 ? this._items.indexOf(s2) < 0 && s2.name && (e3 || this.$_checkName(s2.name)) : t3[n2] && t3[n2].name && (e3 || this.$_checkName(t3[n2].name), (s2 = new nr(null)).assignFrom(t3[n2])), s2) {
          var a2 = this.indexOf(s2.name);
          a2 >= 0 ? (this._items[a2] && this._items[a2].removeListener(this), this._items[a2] = s2) : this._items.push(s2), s2.addListener(this), this._names[s2.name] = s2, s2.active && o2++;
        }
      }
      this.changed(null, false, !(o2 > 0 && i2));
    }
  }, e2.prototype.removeItems = function(t3) {
    if (t3) {
      for (var e3 = 0, i2 = t3.length - 1; i2 >= 0; i2--) {
        var o2 = this.indexOf(t3[i2]);
        if (o2 >= 0) {
          var r2 = this._items[o2];
          this._items.splice(o2, 1), delete this._names[r2.name], r2.removeListener(this), r2.active && e3++;
        }
      }
      this.changed(null, false, !e3);
    }
  }, e2.prototype.$_activateItems = function(t3, e3, i2, o2, r2) {
    var n2 = o2;
    this._updating = true;
    try {
      t3.forEach(function(t4) {
        t4.active != e3 && (t4._active = e3, n2 = true);
      });
    } finally {
      this._updating = false;
    }
    i2 && n2 && this.changed(null, r2);
  }, e2.prototype.activateItems = function(t3, e3, i2) {
    var o2 = this;
    if (void 0 === i2 && (i2 = true), t3) {
      var r2 = t3.filter(function(t4) {
        return t4 && o2._names[t4];
      }).map(function(t4) {
        return o2._names[t4];
      });
      this.$_activateItems(r2, e3, i2);
    }
  }, e2.prototype.activateAll = function(t3, e3, i2, o2) {
    this.$_activateItems(this._items, t3, e3, i2, o2);
  }, e2.prototype.$_hideFilters = function(t3, e3) {
    t3.forEach(function(t4) {
      t4 && (t4.visible = !e3);
    });
  }, e2.prototype.hideFilters = function(t3, e3) {
    var i2 = this;
    t3 && this.$_hideFilters(t3.filter(function(t4) {
      return i2._names[t4];
    }).map(function(t4) {
      return i2._names[t4];
    }), e3);
  }, e2.prototype.hideAllFilters = function(t3) {
    this.$_hideFilters(this._items, t3);
  }, e2.prototype.$_toggleItems = function(t3) {
    var e3 = false;
    this._updating = true;
    try {
      t3.forEach(function(t4) {
        t4._active = !t4.active, e3 = true;
      });
    } finally {
      this._updating = false;
    }
    e3 && this.changed(null);
  }, e2.prototype.toggleItems = function(t3) {
    var e3 = this;
    t3 && this.$_toggleItems(t3.filter(function(t4) {
      return e3._names[t4];
    }).map(function(t4) {
      return e3._names[t4];
    }));
  }, e2.prototype.toggleAll = function() {
    this.$_toggleItems(this._items);
  }, e2.prototype.changed = function(t3, e3, i2) {
    this._updating || this.fireEvent(nr.CHANGED, t3, e3, i2);
  }, e2.prototype.$_checkName = function(t3) {
    if (this._names.hasOwnProperty(t3)) throw new Error("Column filter already existes: " + t3);
  }, e2.prototype.onColumnFilterChanged = function(t3) {
    this.changed(t3);
  }, e2;
}(Oe);
var hr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._field = -1, e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = this._ds = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setDataSource = function(t3) {
    this._ds = t3, this._fieldCount = this._ds ? this._ds.fieldCount : 0;
  }, e2.prototype.setData = function(t3, e3, i2) {
    this._item = t3, this._field = e3, this._model = i2;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.$_getLookupText = function(t3) {
    var e3 = t3._owner._owner;
    if (e3.lookupDisplay) {
      var i2 = e3.lookupSource;
      if (i2) {
        for (var o2 = e3.lookupKeyFieldIds, r2 = o2.length, n2 = [], s2 = 0; s2 < r2; s2++) n2.push(this._item.getData(o2[s2]));
        return i2.lookup(n2, e3.valueSeparator);
      }
      var a2 = e3.labelFieldIndex;
      return a2 >= 0 ? this._item.getData(a2) : e3.getLookupLabel(this._item.getData(e3.fieldName), false);
    }
    return "";
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_VALUE:
        return this._item.getData(this._field);
      case e2.ID_TEXT:
        return this.$_getLookupText(this._model);
      case e2.ID_STATE:
        switch (this._item.rowState) {
          case St.CREATED:
            return "c";
          case St.UPDATED:
            return "u";
          case St.DELETED:
            return "d";
          case St.CREATE_AND_DELETED:
            return "x";
        }
        return;
      case e2.ID_CHANGED_CELL:
        var i2 = this._item.dataRow, o2 = this._field;
        return o2 >= 0 && this._item.rowState == St.UPDATED && this._ds.isDataChanged(i2, o2);
      case e2.ID_FIELD:
        return this._field;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._item) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        return this._item.getData(i2);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._ds) {
      var r2 = o2 ? this._ds.getFieldIndexC(i2) : this._ds.getFieldIndex(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      return this._item.getData(r2);
    }
  }, e2.ID_VALUE = 0, e2.ID_FIELD = 1, e2.ID_VALUES = 2, e2.ID_STATE = 3, e2.ID_CHANGED_CELL = 4, e2.ID_TEXT = 5, e2.IDENTS = { value: e2.ID_VALUE, field: e2.ID_FIELD, values: e2.ID_VALUES, state: e2.ID_STATE, changedcell: e2.ID_CHANGED_CELL, text: e2.ID_TEXT }, e2;
}(Wt);
var ur = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._dirty = false, i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dirty", { get: function() {
    return this._dirty;
  }, set: function(t3) {
    t3 !== this._dirty && (this._dirty = t3, this.invalidate());
  }, enumerable: false, configurable: true }), e2.prototype.clean = function() {
    this._dirty && (this._dirty = false);
  }, e2.prototype.invalidate = function() {
    this._grid && this._grid.invalidate();
  }, e2.prototype.refreshOwner = function() {
    this._grid && this._grid.refreshView();
  }, e2.prototype._changed = function() {
    this._doChanged(), this._dirty || (this._dirty = true, this.refreshOwner());
  }, e2.prototype._doChanged = function() {
  }, e2;
}(Oe);
var cr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._visible = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    t3 != this._visible && (this._visible = t3, this._visibleChanged());
  }, enumerable: false, configurable: true }), e2.prototype._doChanged = function() {
    this._grid && this._grid._visualObjectChanged(this);
  }, e2.prototype._visibleChanged = function() {
    this._changed();
  }, e2;
}(ur);
var dr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._item = null, e3._group = null, e3._dataSource = null, e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, this._group = null, this._dataSource = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._item.index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, enumerable: false, configurable: true }), e2.prototype.setDataSource = function(t3) {
    this._dataSource = t3, this._fieldCount = t3 ? t3.fieldCount : 0;
  }, e2.prototype.setItem = function(t3) {
    this._item = t3, this._group = Ot.cast(t3, Wo);
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_ROW:
        return this._item.index;
      case e2.ID_DATAROW:
        return this._item.dataRow;
      case e2.ID_CHECKED:
        return this._item.checked;
      case e2.ID_STATE:
        switch (this._item.rowState) {
          case St.CREATED:
            return "c";
          case St.UPDATED:
            return "u";
          case St.DELETED:
            return "d";
          case St.CREATE_AND_DELETED:
            return "x";
        }
        return;
      case e2.ID_COUNT:
        return this._group ? this._group.count : 0;
      case e2.ID_DCOUNT:
        return this._group ? this._group.descendantCount : 0;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._item) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        return this._item.getData(i2);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._dataSource) {
      var r2 = o2 ? this._dataSource.getFieldIndexC(i2) : this._dataSource.getFieldIndex(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      return this._item.getData(r2);
    }
  }, e2.ID_ROW = 0, e2.ID_DATAROW = 1, e2.ID_CHECKED = 2, e2.ID_VALUE = 3, e2.ID_VALUES = 4, e2.ID_STATE = 5, e2.ID_COUNT = 6, e2.ID_DCOUNT = 7, e2.IDENTS = { row: e2.ID_ROW, datarow: e2.ID_DATAROW, checked: e2.ID_CHECKED, value: e2.ID_VALUE, values: e2.ID_VALUES, state: e2.ID_STATE, count: e2.ID_COUNT, dcount: e2.ID_DCOUNT }, e2;
}(Wt);
var pr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cell = null, this._item = null, this._ds = null, this._grid = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setDataArguments = function(t3, e3, i2) {
    this._ds = t3, this._fieldCount = t3 ? t3.fieldCount : 0, this._cell = e3, this._item = i2, this._grid = e3 && e3.index.column.grid;
  }, e2.prototype.setItem = function(t3) {
    this._item = t3;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    var i2;
    switch (t3) {
      case e2.ID_VALUE:
        return this._item.getData(this._cell.index.dataField);
      case e2.ID_BASE:
        return (i2 = this._cell.index.dataColumn.baseIndex) >= 0 ? this._item.getData(i2) : void 0;
      case e2.ID_PREV_VALUES:
        var o2 = this._cell.index.column, r2 = this._grid.getDataColumns();
        i2 = r2.indexOf(o2);
        var n2 = [];
        if (r2.length || i2 < 0) return;
        for (var s2 = 0, a2 = Math.min(i2, r2.length); s2 < a2; s2++) n2.push(this._item.getData(r2[s2].dataIndex));
        return n2.join("`");
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._item) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        return this._item.getData(i2);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._ds) {
      var r2 = o2 ? this._ds.getFieldIndexC(i2) : this._ds.getFieldIndex(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      return this._item.getData(r2);
    }
  }, e2.ID_VALUE = 0, e2.ID_VALUES = 1, e2.ID_BASE = 2, e2.ID_PREV_VALUES = 3, e2.IDENTS = { value: e2.ID_VALUE, values: e2.ID_VALUES, base: e2.ID_BASE, prevvalues: e2.ID_PREV_VALUES }, e2;
}(Wt);
var fr = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.setGrid = function(t3) {
    this._grid = t3;
  }, e2.prototype.setGroup = function(t3) {
    this._group = t3;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    var i2, o2, r2 = this._group;
    switch (t3) {
      case e2.ID_GROUP_FIELD:
        return (i2 = r2.dataSource.getField(r2.groupField)) ? i2.fieldName : "";
      case e2.ID_FIELD_HEADER:
        return (i2 = r2.dataSource.getField(r2.groupField)) ? i2.header : "";
      case e2.ID_GROUP_COLUMN:
        return (o2 = this._grid ? this._grid.columnByField(r2.groupField) : null) ? o2.displayText : r2.dataSource.getFieldName(r2.groupField);
      case e2.ID_COLUMN_HEADER:
        return (o2 = this._grid ? this._grid.columnByField(r2.groupField) : null) ? o2.header.text || o2.displayText : r2.dataSource.getFieldName(r2.groupField);
      case e2.ID_COLUMN_FOOTER:
        return (o2 = this._grid ? this._grid.columnByField(r2.groupField) : null) ? o2.footer.text || o2.displayText : r2.dataSource.getFieldName(r2.groupField);
      case e2.ID_GROUP_VALUE:
        return r2 ? r2.groupValue : void 0;
      case e2.ID_ROW_COUNT:
        return r2.descendantCount;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    switch (t3) {
      case e2.ID_SUM:
      case e2.ID_MAX:
      case e2.ID_MIN:
      case e2.ID_AVG:
      case e2.ID_DATA_COUNT:
      case e2.ID_DATA_AVG:
        if (isNaN(i2) || i2 < 0) return;
        var o2 = void 0;
        switch (t3) {
          case e2.ID_SUM:
            o2 = this._group.getSum(i2);
            break;
          case e2.ID_MAX:
            o2 = this._group.getMax(i2);
            break;
          case e2.ID_MIN:
            o2 = this._group.getMin(i2);
            break;
          case e2.ID_AVG:
            o2 = this._group.getAvg(i2);
            break;
          case e2.ID_DATA_COUNT:
            o2 = this._group.getDataCount(i2);
            break;
          case e2.ID_DATA_AVG:
            o2 = this._group.getDataAvg(i2);
        }
        return isNaN(o2) ? "" : String(o2);
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, e3, i2) {
    var o2 = this._group.dataSource, r2 = e3 ? o2 ? o2.getFieldIndex(e3) : -1 : this._group.groupField;
    return this.evaluateIndexerI(t3, r2);
  }, e2.ID_GROUP_FIELD = 0, e2.ID_FIELD_HEADER = 1, e2.ID_GROUP_COLUMN = 2, e2.ID_COLUMN_HEADER = 3, e2.ID_COLUMN_FOOTER = 4, e2.ID_GROUP_VALUE = 5, e2.ID_ROW_COUNT = 6, e2.ID_SUM = 7, e2.ID_MAX = 8, e2.ID_MIN = 9, e2.ID_AVG = 10, e2.ID_DATA_COUNT = 11, e2.ID_DATA_AVG = 12, e2.IDENTS = { groupfield: e2.ID_GROUP_FIELD, fieldheader: e2.ID_FIELD_HEADER, groupcolumn: e2.ID_GROUP_COLUMN, columnheader: e2.ID_COLUMN_HEADER, columnfooter: e2.ID_COLUMN_FOOTER, groupvalue: e2.ID_GROUP_VALUE, rowcount: e2.ID_ROW_COUNT, sum: e2.ID_SUM, max: e2.ID_MAX, min: e2.ID_MIN, avg: e2.ID_AVG, datacount: e2.ID_DATA_COUNT, dataavg: e2.ID_DATA_AVG }, e2;
}(Wt);
var _r = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._index = new Ts(), i2._name = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._index && this._index.dispose(), this._index = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._index.item;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueColumn", { get: function() {
    return this._index.valueColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataColumn", { get: function() {
    return this._index.dataColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), e2.prototype.setIndex = function(t3) {
    this._index.assignFrom(t3);
  }, e2.prototype.setIndex2 = function(t3, e3, i2) {
    this._index._grid = t3, this._index.set(e3, i2);
  }, e2.prototype.setLayout = function(t3) {
    this._index.layout = t3;
  }, e2.ERROR = "<<ERROR>>", e2;
}(Ft);
var gr = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this, i2) || this;
    return o2._model = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "model", { get: function() {
    return this._model;
  }, set: function(t3) {
    this._model = t3;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var yr = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.getBlankState = function(t3) {
    return E.NONE;
  }, e2.prototype.isValueChanged = function() {
    return false;
  }, e2;
}(_r);
var mr = function(t2) {
  function e2(e3) {
    return void 0 === e3 && (e3 = null), t2.call(this, e3 || "dataCell") || this;
  }
  return i(e2, t2), e2.getText = function(t3, i2) {
    var o2 = i2.dataIndex >= 0 ? t3.getData(i2.dataIndex) : void 0;
    return e2._getText(t3, i2, o2);
  }, e2._getText = function(t3, e3, i2) {
    var o2, r2 = e3, n2 = function() {
      var e4 = r2.labelFieldIndex;
      return e4 >= 0 ? t3.getData(e4) : r2.getLookupLabel(i2, true);
    };
    if (r2.lookupDisplay) {
      var s2 = r2.lookupSource;
      if (s2) {
        for (var l2 = r2.lookupKeyFieldIds, h2 = l2.length, u2 = [], c2 = 0; c2 < h2; c2++) u2.push(t3.getData(l2[c2]));
        o2 = !s2.exists(u2) && r2.labelFieldIndex >= 0 ? n2() : s2.lookup(u2, r2.valueSeparator, r2.textOfInvalid);
      } else o2 = n2();
    } else {
      var d2, p2 = void 0;
      if (o2 = i2, r2.valueType == a.NUMBER && null != (d2 = r2.nanText) && isNaN(o2)) o2 = d2;
      else if (p2 = r2.displayCallback) {
        o2 = p2(r2.grid.handler, Ms.tempItem(r2.grid, t3, e3).proxy(), o2);
      } else null != o2 && "object" == typeof o2 && (o2 = JSON.stringify(o2));
    }
    return null == o2 ? "" : String(o2);
  }, e2._getDisplayText = function(t3, i2, o2, r2, n2) {
    var s2, l2 = t3.formatOptions, h2 = n2.textFormatter || void 0 === o2.textFormat && l2.textFormatter, u2 = n2.numberFormatter || void 0 === o2.numberFormat && l2.numberFormatter, c2 = n2.booleanFormatter || void 0 === o2.booleanFormat && l2.boolFormatter, d2 = n2.datetimeWriter || void 0 === o2.datetimeFormat && l2.datetimeWriter;
    if (null != n2.text) return n2.text;
    if (o2) {
      switch (o2.valueType) {
        case a.TEXT:
          s2 = r2 && h2 ? h2.getText(r2) : e2._getText(i2, o2, r2);
          break;
        case a.NUMBER:
          var p2 = Number(r2);
          s2 = (isNaN(p2) || null == p2) && o2.nanText ? o2.nanText : 0 == p2 && null != o2.zeroText ? o2.zeroText : u2 ? u2.getText(p2, o2.displayMinusZero) : e2._getText(i2, o2, r2);
          break;
        case a.DATETIME:
          s2 = r2 instanceof Date && d2 ? d2.getText(r2) : e2._getText(i2, o2, r2);
          break;
        case a.BOOLEAN:
          s2 = c2 ? c2.formatValue(r2) : e2._getText(i2, o2, r2);
          break;
        case a.OBJECT:
          var f2 = o2.getField(), _2 = i2.dataRow, g2 = o2.objectKey || f2.objectKey, y2 = o2.objectCallback || f2.objectCallback;
          if (r2) {
            var m2 = y2 && "function" == typeof y2 ? y2(f2.orgFieldName, _2, r2) : g2 ? r2[g2] : e2._getText(i2, o2, r2);
            switch (typeof m2) {
              case "string":
                s2 = e2._getText(i2, o2, m2);
                break;
              case "number":
                s2 = u2 ? u2.getText(m2, o2.displayMinusZero) : String(m2);
                break;
              case "boolean":
                s2 = c2 ? c2.formatValue(m2) : String(m2);
                break;
              default:
                s2 = m2 instanceof Date && d2 ? d2.getText(m2) : m2 ? String(m2) : "";
            }
          }
          break;
        default:
          s2 = e2._getText(i2, o2, r2);
      }
      if (s2) {
        var b2 = n2.prefix;
        b2 && (s2 = b2 + s2), (b2 = n2.suffix) && (s2 += b2);
      }
    }
    return s2;
  }, e2.equalBlankRuntime = function() {
    return this._equalBlankRuntime || (this._equalBlankRuntime = new pr()), this._equalBlankRuntime;
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.getValue = function() {
    var t3 = this.dataColumn.dataIndex;
    if (t3 >= 0) return this.item.getData(t3);
  }, e2.prototype.getDisplayText = function(t3, i2) {
    return e2._getDisplayText(t3, this.index.item, this.index.dataColumn, this.getValue(), i2);
  }, Object.defineProperty(e2.prototype, "value", { get: function() {
    return this.getValue();
  }, enumerable: false, configurable: true }), e2.prototype.getBlankState = function(t3) {
    var i2 = function(t4, e3) {
      return t4 instanceof Date && e3 instanceof Date ? +t4 == +e3 : t4 == e3;
    }, o2 = function(t4) {
      return c2 && c2 instanceof Gt ? (d2.setItem(t4), c2.evaluate(d2)) : t4.getData(h2.dataIndex);
    }, r2 = function(t4, e3, i3) {
      var o3 = function(e4) {
        for (var i4 = e4; i4.level > t4; ) i4 = i4.parent;
        return i4;
      };
      return o3(e3) === o3(i3);
    }, n2 = function(e3, n3, a3) {
      if (e3 >= n3 && e3 < a3) {
        var l3 = o2(u2), c3 = e3 === n3 ? null : p2.getItem(e3 - 1), d3 = e3 === a3 - 1 ? null : p2.getItem(e3 + 1);
        if (s2 = c3 instanceof Ho && i2(l3, o2(c3)) && (!t3 || r2(h2.groupLevel, u2, c3)) ? E.BODY : E.HEAD, !(d3 instanceof Ho) || !i2(l3, o2(d3)) || t3 && !r2(h2.groupLevel, u2, d3)) switch (s2) {
          case E.BODY:
            s2 = E.TAIL;
            break;
          case E.HEAD:
            s2 = E.NONE;
        }
      }
      return s2;
    }, s2 = E.NONE, a2 = this.index, l2 = a2.layout, h2 = this.dataColumn, u2 = this.item, c2 = l2.equalBlankNode || t3, d2 = c2 && e2.equalBlankRuntime(), p2 = l2.grid, f2 = p2.fixedOptions.rowCount, _2 = p2.layoutManager.topIndex, g2 = p2.fixedOptions.blankRows;
    if (l2 && (l2.blanked || t3) && l2.dataRoot && u2.dataRow >= 0) {
      var y2 = a2.itemIndex;
      return c2 && d2 && d2.setDataArguments(u2.dataSource, this, u2), s2 = y2 < f2 && g2 ? n2(y2, 0, f2) : n2(y2, f2 + _2, p2.itemCount);
    }
    return s2;
  }, e2.prototype.isValueChanged = function() {
    var t3 = this.dataColumn.dataIndex;
    return t3 >= 0 && this.item.isChanged(t3);
  }, e2;
}(yr);
var br = function(t2) {
  function e2(e3) {
    return t2.call(this, e3 || "hiddenDataCell") || this;
  }
  return i(e2, t2), e2.prototype.setItem = function(t3) {
    this.$_item = t3;
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this.$_item;
  }, enumerable: false, configurable: true }), e2;
}(mr);
var vr = function(t2) {
  function e2(e3) {
    return void 0 === e3 && (e3 = null), t2.call(this, e3 || "literalCell") || this;
  }
  return i(e2, t2), e2.getDisplayText = function(t3, e3, i2, o2, r2) {
    var n2 = r2.prefix || "", s2 = r2.suffix || "", a2 = null != r2.text ? r2.text : o2;
    return a2 ? n2 + a2 + s2 : "";
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "text", { get: function() {
    return this.index.literalColumn.value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this.index.column.value;
  }, enumerable: false, configurable: true }), e2.prototype.getDisplayText = function(t3, i2) {
    return e2.getDisplayText(t3, this.index.item, this.index.column, this.value, i2);
  }, e2;
}(yr);
var wr = function(t2) {
  function e2(e3) {
    return void 0 === e3 && (e3 = null), t2.call(this, e3 || "seriesCell") || this;
  }
  return i(e2, t2), e2.getText = function(t3, e3) {
    return void 0 === e3 && (e3 = ","), t3 ? t3.join(e3) : "";
  }, e2.getValue = function(t3) {
    var e3 = t3.column;
    if (e3 instanceof hs) {
      var i2 = e3.fields, o2 = i2 ? i2.length : 0;
      if (o2 > 0) {
        for (var r2 = t3.item, n2 = new Array(o2), s2 = 0; s2 < o2; s2++) i2[s2] >= 0 && (n2[s2] = r2.getData(i2[s2]));
        return n2;
      }
    }
    return [];
  }, e2._getDisplayText = function(t3, i2) {
    void 0 === i2 && (i2 = ",");
    var o2 = e2.getValue(t3);
    return o2 ? o2.join(i2) : "";
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.getDisplayText = function(t3, e3) {
    var i2 = this.value;
    return this.index.seriesColumn.actualTarget && (i2 = i2.reverse()), i2 ? i2.join(e3) : "";
  }, Object.defineProperty(e2.prototype, "getText", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return e2.getValue(this.index);
  }, enumerable: false, configurable: true }), e2;
}(yr);
var Cr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3.minBarWidth = 1, e3.maxBarWidth = 0, e3.barWidth = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doRender = function(t3, e3, i2) {
    var o2 = this._getBarLength();
    if (!(o2 < 1)) {
      var r2 = this.barWidth;
      r2 <= 0 && (r2 = Math.floor(e3.width / o2), r2 = Math.max(this.minBarWidth, r2), this.maxBarWidth > 0 && (r2 = Math.min(this.maxBarWidth, r2))), o2 *= r2, e3.x += (e3.width - o2) / 2, e3.x = Math.floor(e3.x), this._drawBars(t3, this.barStyle, i2, e3.x, e3.y, r2, e3.height);
    }
  }, e2;
}(function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, set: function(t3) {
    if (t3 != this._value) {
      this._value = t3;
      try {
        this._error = null, this._parse(t3);
      } catch (t4) {
        this._error = t4;
      }
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "error", { get: function() {
    return this._error;
  }, enumerable: false, configurable: true }), e2.prototype.render = function(t3, e3) {
    this._doRender(t3, e3, false);
  }, e2.prototype.renders = function(t3, e3) {
    this._doRender(t3, e3, true);
  }, e2;
}(Ft));
var xr = [2171426, 2236706, 2236961, 1184291, 1184546, 1249826, 1188371, 1188626, 1253906, 2232851, 2233106, 2298386, 1122866, 1188146, 1188401, 1126946, 1192226, 1192481, 2241041, 2232626, 2232881, 2175506, 2240786, 3219761, 3215906, 3281186, 3281441, 3219986, 3285266, 3285521, 2171171, 2171681, 2302241, 1119011, 1249571, 1250081, 1123091, 1253651, 1254161, 2167571, 2298131, 2298641, 1122611, 1123121, 1253681, 1126691, 1127201, 1257761, 3223841, 2167601, 2298161, 2175251, 2175761, 2175281, 3215651, 3216161, 3346721, 3219731, 3220241, 3350801, 3227921, 2233361, 4395281, 1118756, 1119266, 1184036, 1184801, 1315106, 1315361, 1122836, 1123346, 1188116, 1188881, 1319186, 1319441, 2363921, 2232596, 4272401, 2363666, 1261841, 1118786, 1184066, 1184321, 1131026, 1196306, 1196561, 4264466, 4329746, 4330001, 2171201, 2179361, 4268321, 1118531, 1119041, 1249601, 1130771, 1131281, 4264211, 4264721, 1126721, 1130801, 3215681, 4264241, 2167826, 2167316, 2167346, 36901138];
var Ir = [103, 104, 105];
var Er = [251658240, 15728640, 983040, 61440, 3840, 240, 15];
var Sr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3.quietZoneWidth = 10, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._parse = function(t3) {
    this._weights = [];
    var e3 = t3 ? t3.length : 0;
    if (!(e3 < 1)) {
      var i2 = this.$_detectType(t3), o2 = Ir[i2], r2 = xr[o2], n2 = o2;
      if (this._weights.push(r2), 2 == i2) for (var s2 = 0; s2 < e3; s2 += 2) {
        var a2 = t3.substr(s2, 2);
        o2 = parseInt(a2), o2 = this.$_convert(i2, o2), r2 = xr[o2], this._weights.push(r2), n2 += o2 * (Math.floor(s2 / 2) + 1);
      }
      else for (s2 = 0; s2 < e3; s2++) o2 = t3.charCodeAt(s2), o2 = this.$_convert(i2, o2), r2 = xr[o2], this._weights.push(r2), n2 += o2 * (s2 + 1);
      n2 %= 103, this._weights.push(xr[n2]), this._weights.push(xr[106]);
    }
  }, e2.prototype._getBarLength = function() {
    return this.quietZoneWidth + 11 * (this._weights.length - 1) + 13 + this.quietZoneWidth;
  }, e2.prototype._drawBars = function(t3, e3, i2, o2, r2, n2, s2) {
    o2 += 10 * n2;
    for (var a2, l2 = this._weights.length - 1, h2 = 0; h2 < l2; h2++) {
      a2 = this._weights[h2];
      for (var u2 = 0; u2 < 6; u2++) {
        var c2 = (a2 & Er[u2 + 1]) >> 4 * (5 - u2);
        c2 *= n2, u2 % 2 == 0 && (i2 ? t3.sbounds(e3, o2 + "", r2 + "%", c2 + "", s2 + "%") : t3.bounds(e3, o2, r2, c2, s2)), o2 += c2;
      }
    }
    a2 = this._weights[l2];
    for (u2 = 0; u2 < 7; u2++) {
      c2 = (a2 & Er[u2]) >> 4 * (6 - u2);
      c2 *= n2, u2 % 2 == 0 && (i2 ? t3.sbounds(e3, o2 + "", r2 + "%", c2 + "", s2 + "%") : t3.bounds(e3, o2, r2, c2, s2)), o2 += c2;
    }
  }, e2.prototype.$_convert = function(t3, e3) {
    switch (t3) {
      case 0:
        if (e3 >= 0 && e3 < 32) return e3 + 64;
        if (e3 >= 32 && e3 < 96) return e3 - 32;
        break;
      case 1:
        if (e3 >= 32 && e3 < 128) return e3 - 32;
        break;
      case 2:
        if (e3 >= 0 && e3 <= 99) return e3;
    }
    throw new Error("Invalid code128 charactor: " + e3);
  }, e2.prototype.$_detectType = function(t3) {
    return t3.length % 2 == 0 && /^\d+$/.test(t3) ? 2 : /[a-z]/.test(t3) ? 1 : 0;
  }, e2;
}(Cr);
var Or = { 0: "nnnwwnwnn", 1: "wnnwnnnnw", 2: "nnwwnnnnw", 3: "wnwwnnnnn", 4: "nnnwwnnnw", 5: "wnnwwnnnn", 6: "nnwwwnnnn", 7: "nnnwnnwnw", 8: "wnnwnnwnn", 9: "nnwwnnwnn", A: "wnnnnwnnw", B: "nnwnnwnnw", C: "wnwnnwnnn", D: "nnnnwwnnw", E: "wnnnwwnnn", F: "nnwnwwnnn", G: "nnnnnwwnw", H: "wnnnnwwnn", I: "nnwnnwwnn", J: "nnnnwwwnn", K: "wnnnnnnww", L: "nnwnnnnww", M: "wnwnnnnwn", N: "nnnnwnnww", O: "wnnnwnnwn", P: "nnwnwnnwn", Q: "nnnnnnwww", R: "wnnnnnwwn", S: "nnwnnnwwn", T: "nnnnwnwwn", U: "wwnnnnnnw", V: "nwwnnnnnw", W: "wwwnnnnnn", X: "nwnnwnnnw", Y: "wwnnwnnnn", Z: "nwwnwnnnn", "-": "nwnnnnwnw", ".": "wwnnnnwnn", " ": "nwwnnnwnn", $: "nwnwnwnnn", "/": "nwnwnnnwn", "+": "nwnnnwnwn", "%": "nnnwnwnwn", "*": "nwnnwnwnn" };
var Rr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._wideWidth = 3, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._parse = function(t3) {
    if (this._codes = [], t3) {
      var e3 = t3.length;
      this._codes.push(Or["*"]);
      for (var i2 = 0; i2 < e3; i2++) {
        var o2 = t3.charAt(i2), r2 = Or[o2];
        if (!r2) throw new Error("Invalid Code39 character: " + o2);
        this._codes.push(r2);
      }
      this._codes.push(Or["*"]);
    }
  }, e2.prototype._getBarLength = function() {
    var t3 = this._codes.length;
    return t3 * (3 * this._wideWidth + 6) + (t3 - 1);
  }, e2.prototype._drawBars = function(t3, e3, i2, o2, r2, n2, s2) {
    var a2 = this._codes.length;
    if (a2 > 2) for (var l2 = 0; l2 < a2; l2++) {
      for (var h2 = this._codes[l2], u2 = 0; u2 < 9; u2++) {
        var c2 = "n" == h2.charAt(u2) ? 1 : this._wideWidth;
        c2 *= n2, u2 % 2 == 0 && (i2 ? t3.sbounds(e3, o2 + "", r2 + "%", c2 + "", s2 + "%") : t3.bounds(e3, o2, r2, c2, s2)), o2 += c2;
      }
      l2 < a2 - 1 && (o2 += n2);
    }
  }, e2;
}(Cr);
var Pr = "http://www.w3.org/2000/svg";
var kr = 0;
var Dr = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._transforms = [], o2._defs = e3, o2._element = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this.clear(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "doc", { get: function() {
    return It(this._element) || document;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3) {
    return this._defs = t3, this._element = e3, this;
  }, e2.prototype.clear = function() {
    this._defs = null, this._element = null, this._transforms = null;
  }, e2.prototype.save = function() {
    this._transforms.push(this._trans), this._trans = "";
  }, e2.prototype.restore = function() {
    this._trans = this._transforms.pop();
  }, e2.prototype.translate = function(t3, e3) {
    this._trans += "translate(" + t3 + "," + e3 + ")";
  }, e2.prototype.rotate = function(t3) {
    this._trans += "rotate(" + 180 * t3 / Math.PI + ")";
  }, e2.prototype.rotateAt = function(t3, e3, i2) {
    this._trans += "rotate(" + 180 * t3 / Math.PI + "," + e3 + ",)";
  }, e2.prototype.scale = function(t3, e3) {
    this._trans += "scale(" + t3 + "," + e3 + ")";
  }, e2.prototype.clipRect = function(t3) {
    this.clip(t3.x, t3.y, t3.width, t3.height);
  }, e2.prototype.clip = function(t3, e3, i2, o2) {
    var r2 = this.doc, n2 = kr++, s2 = r2.createElementNS(Pr, "clipPath");
    s2.setAttributeNS(null, "id", "clip" + n2);
    var a2 = r2.createElementNS(Pr, "rect");
    a2.x.baseVal.value = t3, a2.y.baseVal.value = e3, a2.width.baseVal.value = i2, a2.height.baseVal.value = o2, s2.appendChild(a2), this._defs.appendChild(s2);
  }, e2.prototype.sline = function(t3, e3, i2, o2, r2) {
    var n2 = this.doc.createElementNS(Pr, "line");
    this._element.appendChild(n2), n2.x1.baseVal.valueAsString = e3, n2.y1.baseVal.valueAsString = i2, n2.x2.baseVal.valueAsString = o2, n2.y2.baseVal.valueAsString = r2, t3 && n2.setAttribute("class", t3);
  }, e2.prototype.polygon = function(t3, e3) {
    if (!(null == e3 || e3.length < 4)) {
      var i2 = this.doc.createElementNS(Pr, "polygon");
      this._element.appendChild(i2);
      var o2 = [];
      o2.push(e3[0] + "," + e3[1]);
      for (var r2 = 2; r2 < e3.length; r2 += 2) o2.push(e3[r2] + "," + e3[r2 + 1]);
      this._trans && i2.setAttributeNS(null, "transform", this._trans), i2.setAttributeNS(null, "points", o2.join(" ")), t3 && i2.setAttribute("class", t3);
    }
  }, e2.prototype.bounds = function(t3, e3, i2, o2, r2) {
    var n2 = this.doc.createElementNS(Pr, "rect");
    this._element.appendChild(n2), n2.x.baseVal.value = e3, n2.y.baseVal.value = r2 < 0 ? i2 + r2 : i2, n2.width.baseVal.value = o2, n2.height.baseVal.value = Math.abs(r2), t3 && n2.setAttribute("class", t3);
  }, e2.prototype.pbounds = function(t3, e3, i2, o2, r2) {
    var n2 = this.doc.createElementNS(Pr, "rect");
    this._element.appendChild(n2), n2.x.baseVal.valueAsString = e3 + "%", n2.y.baseVal.valueAsString = (r2 < 0 ? i2 + r2 : i2) + "%", n2.width.baseVal.valueAsString = o2 + "%", n2.height.baseVal.valueAsString = Math.abs(r2) + "%", t3 && n2.setAttribute("class", t3);
  }, e2.prototype.sbounds = function(t3, e3, i2, o2, r2) {
    var n2 = this.doc.createElementNS(Pr, "rect");
    this._element.appendChild(n2), n2.x.baseVal.valueAsString = e3, n2.y.baseVal.valueAsString = i2, n2.width.baseVal.valueAsString = o2, n2.height.baseVal.valueAsString = r2, t3 && n2.setAttribute("class", t3);
  }, e2.prototype.scircle = function(t3, e3, i2, o2) {
    var r2 = this.doc.createElementNS(Pr, "circle");
    this._element.appendChild(r2), r2.cx.baseVal.valueAsString = e3, r2.cy.baseVal.valueAsString = i2, r2.r.baseVal.valueAsString = o2, t3 && r2.setAttribute("class", t3);
  }, e2.prototype.ellipse = function(t3, e3, i2, o2, r2) {
    var n2 = this.doc.createElementNS(Pr, "ellipse"), s2 = o2 / 2, a2 = r2 / 2;
    this._element.appendChild(n2), n2.cx.baseVal.value = e3 + s2, n2.cy.baseVal.value = i2 + a2, n2.rx.baseVal.value = s2, n2.ry.baseVal.value = a2, t3 && n2.setAttribute("class", t3);
  }, e2;
}(Ft);
var Tr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this, o2 = It(e3), r2 = i2._element = o2.createElementNS(Pr, "svg"), n2 = r2.style, s2 = i2._defs = o2.createElementNS(Pr, "defs");
    return r2.appendChild(s2), n2.background = "", n2.border = "none", n2.pointerEvents = "none", e3.appendChild(r2), i2._renderer = new Dr(i2._defs), i2;
  }
  return i(e2, t2), e2.createSVG = function(t3) {
    var e3 = It(t3), i2 = e3.createElementNS(Pr, "svg"), o2 = i2.style, r2 = e3.createElementNS(Pr, "defs");
    i2.appendChild(r2), o2.background = "", o2.border = "none", o2.pointerEvents = "none";
    var n2 = e3.createElementNS(Pr, "g");
    return i2.appendChild(n2), t3.appendChild(i2), i2;
  }, e2.renderSVG = function(t3, e3, i2) {
    var o2 = e3.lastElementChild, r2 = this._renderer.init(e3.firstChild, o2);
    o2.textContent = "", i2.call(t3, e3, r2, e3.clientWidth, e3.clientHeight), r2.clear();
  }, e2.renderSVG2 = function(t3, e3, i2, o2, r2) {
    var n2 = It(e3);
    e3.childElementCount > 1 && e3.removeChild(e3.lastElementChild);
    var s2 = n2.createElementNS(Pr, "g"), a2 = this._renderer.init(e3.firstChild, s2);
    e3.appendChild(s2), i2.call(t3, e3, a2, o2, r2), a2.clear();
  }, e2.prototype._doDispose = function() {
    this._renderer = this._renderer.dispose(), this._element.parentElement && this._element.parentElement.removeChild(this._element), this._element = this._defs = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "element", { get: function() {
    return this._element;
  }, enumerable: false, configurable: true }), e2.prototype.render = function(t3) {
    this._clear(), t3 ? t3.call(this, this._renderer, this._element.clientWidth, this._element.clientHeight) : this._doRender(this._renderer, this._element.clientWidth, this._element.clientHeight);
  }, e2.prototype._clear = function() {
    this._element.childElementCount > 1 && this._element.removeChild(this._element.lastElementChild);
    var t3 = It(this._element).createElementNS(Pr, "g");
    this._element.appendChild(t3), this._renderer._element = t3;
  }, e2.prototype._doRender = function(t3, e3, i2) {
  }, e2._renderer = new Dr(), e2;
}(Ft);
var Mr = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.draw = function(t3, e3, i2) {
    this._doDraw(t3, e3, i2);
  }, e2;
}(Ft);
var Fr = { rectangle: [0, 0, 1, 0, 1, 1, 0, 1], triangle: [0.5, 0, 0, 1, 1, 1], itriangle: [0, 0, 0.5, 1, 1, 0], diamond: [0.5, 0, 0, 0.5, 0.5, 1, 1, 0.5], uparrow: [0.5, 0, 0, 0.5, 0.3, 0.5, 0.3, 1, 0.7, 1, 0.7, 0.5, 1, 0.5], downarrow: [0.3, 0, 0.3, 0.5, 0, 0.5, 0.5, 1, 1, 0.5, 0.7, 0.5, 0.7, 0], leftarrow: [0, 0.5, 0.5, 1, 0.5, 0.7, 1, 0.7, 1, 0.3, 0.5, 0.3, 0.5, 0], rightarrow: [0, 0.3, 0, 0.7, 0.5, 0.7, 0.5, 1, 1, 0.5, 0.5, 0, 0.5, 0.3], plus: [0.3, 0, 0.3, 0.3, 0, 0.3, 0, 0.7, 0.3, 0.7, 0.3, 1, 0.7, 1, 0.7, 0.7, 1, 0.7, 1, 0.3, 0.7, 0.3, 0.7, 0], minus: [0, 0.3, 0, 0.7, 1, 0.7, 1, 0.3], star: [0.5, 0, 0.6122, 0.3454, 0.9755, 0.3454, 0.6816, 0.559, 0.7938, 0.9045, 0.5, 0.691, 0.2061, 0.9045, 0.3183, 0.559, 0.02447, 0.3454, 0.3877, 0.3454] };
var Lr = { equal: [[0, 0.2, 0, 0.4, 1, 0.4, 1, 0.2], [0, 0.6, 0, 0.8, 1, 0.8, 1, 0.6]] };
var Nr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._shape = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "shape", { get: function() {
    return this._shape;
  }, set: function(t3) {
    this._shape = t3 ? "inverted_triangle" === t3 ? e2.INVERTED_TRIANLGE : t3.toLowerCase() : null;
  }, enumerable: false, configurable: true }), e2.prototype._doDraw = function(t3, e3, i2) {
    var o2 = this._shape;
    if (Fr.hasOwnProperty(o2)) {
      if (h2 = Fr[o2]) {
        for (var r2 = 0, n2 = 0, s2 = 0, a2 = (h2 = h2.slice()).length / 2; s2 < a2; s2++) h2[2 * s2] = r2 + h2[2 * s2] * e3, h2[2 * s2 + 1] = n2 + h2[2 * s2 + 1] * i2;
        h2.push(h2[0], h2[1]), t3.polygon(null, h2);
      }
    } else if (Lr.hasOwnProperty(o2)) {
      var l2 = Lr[o2];
      if (l2) {
        var h2;
        for (r2 = 0, n2 = 0, s2 = 0, a2 = (h2 = l2[0].slice()).length / 2; s2 < a2; s2++) h2[2 * s2] = r2 + h2[2 * s2] * e3, h2[2 * s2 + 1] = n2 + h2[2 * s2 + 1] * i2;
        h2.push(h2[0], h2[1]), t3.polygon(null, h2);
        for (s2 = 0, a2 = (h2 = (h2 = l2[1]).slice()).length / 2; s2 < a2; s2++) h2[2 * s2] = r2 + h2[2 * s2] * e3, h2[2 * s2 + 1] = n2 + h2[2 * s2 + 1] * i2;
        h2.push(h2[0], h2[1]), t3.polygon(null, h2);
      }
    }
  }, e2.RECTANGLE = "rectangle", e2.TRIANLGE = "triangle", e2.INVERTED_TRIANLGE = "itriangle", e2.DIAMOND = "diamond", e2.UP_ARROW = "uparrow", e2.DOWN_ARROW = "downarrow", e2.LEFT_ARROW = "leftarrow", e2.RIGHT_ARROW = "rightarrow", e2.PLUS = "plus", e2.MINUS = "minus", e2.EQUAL = "equal", e2.STAR = "star", e2;
}(Mr);
var $r = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._doDraw = function(t3, e3, i2) {
    t3.ellipse(null, 0, 0, e3, i2);
  }, e2;
}(Mr);
var Ar = function() {
  function t2() {
  }
  return t2.layoutFlex = function(t3, e2, i2, o2, r2, n2) {
    var s2 = n2 === N.CENTER, a2 = Ot.included(n2, N.LEFT, N.LEFT_EDGE), l2 = Ot.included(n2, N.RIGHT, N.RIGHT_EDGE), h2 = Ot.included(n2, N.TOP, N.TOP_EDGE), u2 = Ot.included(n2, N.BOTTOM, N.BOTTOM_EDGE), c2 = Ot.included(n2, N.LEFT_EDGE, N.RIGHT_EDGE, N.TOP_EDGE, N.BOTTOM_EDGE), d2 = t3.style, p2 = s2 || a2 || l2 ? "row" : "column";
    p2 += l2 || u2 ? "-reverse" : "", d2.flexDirection = p2, d2.justifyContent = c2 ? "start" : "center", d2.alignItems = "center", (d2 = e2.style).paddingTop = h2 && c2 ? r2 + "px" : "", d2.paddingBottom = u2 && c2 ? r2 + "px" : "", (d2 = i2.style).display = s2 ? "none" : "", d2.paddingLeft = a2 ? o2 + "px" : "", d2.paddingRight = l2 ? o2 + "px" : "", d2.paddingTop = h2 ? o2 + "px" : "", d2.paddingBottom = u2 ? o2 + "px" : "", d2.flexGrow = c2 ? "1" : "";
  }, t2.clearFlex = function(t3) {
    var e2 = t3.style;
    e2.removeProperty("display"), e2.removeProperty("flex-direction"), e2.removeProperty("justify-content"), e2.removeProperty("align-items"), e2.removeProperty("flex-grow"), e2.removeProperty("flex-wrap"), e2.removeProperty("gap");
  }, t2;
}();
var Br = function(t2) {
  var e2 = t2.visible ? 1 : 0, i2 = t2.footerCount;
  if ((e2 += Math.max(t2.descendantCount, t2.count) - i2) > 1) return true;
  for (var o2 = 0; o2 < i2; o2++) if (t2.getFooter(o2).visible && ++e2 > 1) return true;
  return false;
};
var Vr = function(t2, e2) {
  return Br(t2) || t2.footerCount > 0 || C(e2);
};
var jr = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.getShadowRow = function() {
    var t3 = this.parent.firstDataItem;
    return t3 ? t3.dataRow : -1;
  }, e2;
}(Uo);
var Hr = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._level = 0, o2._level = e3, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "groupLevel", { get: function() {
    return this._level;
  }, enumerable: false, configurable: true }), e2.prototype.getShadowRow = function() {
    var t3 = this.firstDataItem;
    return t3 ? t3.dataRow : -1;
  }, Object.defineProperty(e2.prototype, "merged", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2;
}(Go);
var Wr = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._fixedCount = 0, i2._items = [], i2._rowCount = NaN, i2._rs = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._rs;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCount", { get: function() {
    return this._fixedCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    if (isNaN(this._rowCount)) {
      for (var t3 = this._items, e3 = 0, i2 = t3.length - 1; i2 >= 0; i2--) t3[i2] instanceof Ho && e3++;
      this._rowCount = e3;
    }
    return this._rowCount;
  }, enumerable: false, configurable: true }), e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.clear = function(t3) {
    void 0 === t3 && (t3 = null);
    for (var e3 = this._rs, i2 = 0, o2 = (t3 = t3 || this._items).length; i2 < o2; i2++) {
      var r2 = t3[i2];
      r2._parent = e3._rootItem, r2._index = -1, r2 instanceof Go && r2._children && this.clear(r2._children);
    }
    t3.length = 0, this.$_changed();
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    return this.$_expandItem(t3, e3, i2, o2), this.$_changed(), true;
  }, e2.prototype.collapse = function(t3, e3) {
    var i2, o2, r2 = this._rs, n2 = this._items;
    t3._expanded = false;
    var s2 = t3.index;
    s2 >= 0 ? (n2.splice(s2, 1), t3._index = -1) : (s2 = this.$_firstIndex(t3, r2.expandedAdornments == p.SUMMARY, true)) < 0 && (s2 = t3.firstItem.index);
    var a2 = 0;
    if (s2 >= 0) for (; s2 + a2 < n2.length; ) {
      var l2 = n2[s2 + a2];
      if (!l2 || !l2.isDescendantOf(t3)) break;
      if (a2++, l2._index = -1, e3 && (l2 instanceof Wo || l2 instanceof Uo)) {
        var h2 = l2 instanceof Wo ? l2 : l2 instanceof Uo && l2.parent._expanded ? l2.parent : null;
        h2 && (h2._expanded = false);
      }
    }
    switch (n2.splice(s2, a2), i2 = t3.footerCount, r2.collapsedAdornments) {
      case p.BOTH:
        t3._index = s2, n2.splice(s2++, 0, t3);
        for (var u2 = 0; u2 < i2; u2++) n2.splice(s2 + u2, 0, o2 = t3.getFooter(u2)), o2._index = s2 + u2;
        break;
      case p.FOOTER:
      case p.SUMMARY:
        if (i2) for (u2 = 0; u2 < i2; u2++) n2.splice(s2 + u2, 0, o2 = t3.getFooter(u2)), o2._index = s2 + u2;
        else for (u2 = 0; u2 < t3.allFooterCount; u2++) n2.splice(s2 + u2, 0, o2 = t3._allFooters[u2]), o2._index = s2 + u2;
        break;
      case p.HEADER:
      default:
        t3._index = s2, n2.splice(s2, 0, t3);
    }
    return this.$_changed(), true;
  }, e2.prototype.getNext = function(t3) {
    return null != t3 && t3.visible && t3.index < this.count - 1 ? this._items[t3.index + 1] : null;
  }, e2.prototype.getPrior = function(t3) {
    return null != t3 && t3.visible && t3.index > 0 ? this._items[t3.index - 1] : null;
  }, e2.prototype.$_changed = function() {
    this._rowCount = NaN;
  }, e2.prototype.$_collectChildren = function(t3, e3, i2, o2, r2) {
    var n2, s2 = this._rs, a2 = s2.expandedAdornments, l2 = s2.collapsedAdornments;
    if (o2 && t3 && t3._setExpanded(true), s2.mergeMode) {
      var h2 = void 0;
      if (!(t3 instanceof Yo)) {
        if (a2 == p.HEADER || a2 == p.BOTH) e3.push(t3);
        else if (a2 == p.SUMMARY) for (var u2 = 0, c2 = t3.footerCount; u2 < c2; u2++) h2 = t3.getFooter(u2), e3.push(h2);
      }
      for (var d2 = 0, f2 = t3.count; d2 < f2; d2++) {
        if ((y2 = t3.getItem(d2)) instanceof Wo) {
          var _2 = y2;
          if (i2 && (!r2 || _2.level <= r2) || _2.expanded) this.$_collectChildren(_2, e3, i2, o2, r2);
          else {
            var g2 = _2.footerCount;
            switch (l2) {
              case p.BOTH:
                e3.push(_2);
                for (u2 = 0; u2 < g2; u2++) h2 = _2.getFooter(u2), e3.push(h2);
                break;
              case p.SUMMARY:
              case p.FOOTER:
                if (g2) for (u2 = 0; u2 < g2; u2++) h2 = _2.getFooter(u2), e3.push(h2);
                else for (u2 = 0; u2 < _2.allFooterCount; u2++) h2 = _2._allFooters[u2], e3.push(h2);
                break;
              case p.HEADER:
              default:
                e3.push(_2);
            }
          }
        } else t3.isFooter(y2) || e3.push(y2);
      }
      if (!(t3 instanceof Yo) && t3.footer && (a2 == p.FOOTER || a2 == p.BOTH)) for (d2 = 0, f2 = t3.footerCount; d2 < f2; d2++) e3.push(t3.getFooter(d2));
    } else {
      if (!(t3 instanceof Yo)) if (a2 == p.SUMMARY) {
        h2 = t3.footer, g2 = t3.footerCount;
        if (h2) {
          u2 = t3.indexOf(h2);
          e3.push(h2);
          for (d2 = 1; d2 < g2; d2++) h2 = t3.getItem(u2 + d2), e3.push(h2);
        }
      } else C(a2) && e3.push(t3);
      for (d2 = 0, f2 = t3.count; d2 < f2; d2++) {
        var y2;
        if ((y2 = t3.getItem(d2)) instanceof Wo) {
          _2 = y2, h2 = void 0, g2 = void 0;
          if (i2 && (!r2 || _2.level <= r2) || _2.expanded) this.$_collectChildren(_2, e3, i2, o2, r2);
          else switch (l2) {
            case p.HEADER:
              e3.push(_2);
              break;
            case p.FOOTER:
            case p.SUMMARY:
              if (h2 = _2.footer) {
                if (g2 = _2.footerCount, e3.push(h2), g2 > 1) {
                  u2 = _2.indexOf(h2);
                  for (var m2 = 1; m2 < g2; m2++) h2 = _2.getItem(u2 + m2), e3.push(h2);
                }
              } else {
                g2 = _2.allFooterCount;
                for (m2 = 0; m2 < g2; m2++) h2 = _2._allFooters[m2], e3.push(h2);
              }
              break;
            case p.NONE:
              break;
            case p.BOTH:
            default:
              if (e3.push(_2), (h2 = _2.footer) && (g2 = _2.footerCount, e3.push(h2), g2 > 1)) for (u2 = _2.indexOf(h2), m2 = 1; m2 < g2; m2++) h2 = _2.getItem(u2 + m2), e3.push(h2);
          }
        } else y2 instanceof Uo || e3.push(y2);
      }
      if (!(t3 instanceof Yo)) {
        if ((n2 = a2) == p.BOTH || n2 == p.FOOTER) {
          if (h2 = t3.footer) {
            g2 = t3.footerCount;
            if (e3.push(h2), g2 > 1) for (u2 = t3.indexOf(h2), d2 = 1; d2 < g2; d2++) h2 = t3.getItem(u2 + d2), e3.push(h2);
          }
        }
      }
    }
  }, e2.prototype.$_expandItem = function(t3, e3, i2, o2) {
    var r2;
    if (t3 instanceof Yo) r2 = this._fixedCount;
    else {
      switch (this._rs.collapsedAdornments) {
        case p.BOTH:
          this._items.splice(r2 = t3.index, 1 + t3.footerCount);
          break;
        case p.FOOTER:
        case p.SUMMARY:
          var n2 = t3.footer;
          n2 ? this._items.splice(r2 = n2.index, t3.footerCount) : t3.allFooterCount > 0 && this._items.splice(r2 = t3._allFooters[0].index, t3.allFooterCount);
          break;
        case p.HEADER:
        default:
          this._items.splice(r2 = t3.index, 1);
      }
      i2 && (t3._index = -1);
    }
    var s2 = [];
    this.$_collectChildren(t3, s2, e3, i2, o2), this._items = this._items.splice(0, r2).concat(s2).concat(this._items);
  }, e2.prototype.$_firstIndex = function(t3, e3, i2) {
    var o2 = t3.index;
    if (o2 >= 0) return o2;
    for (var r2 = this._items, n2 = 0, s2 = r2.length; n2 < s2; n2++) {
      var a2 = r2[n2];
      if (t3.isDescendant(a2)) return a2.index;
    }
    return -1;
  }, e2.prototype.$_clearAndInit = function(t3, e3) {
    if (this.clear(), t3) {
      this._fixedCount = Math.min(e3, t3.itemCount);
      for (var i2 = 0; i2 < this._fixedCount; i2++) this._items.push(t3.getItem(i2));
    } else this._fixedCount = 0;
  }, e2.prototype.$_resetIndices = function(t3) {
    void 0 === t3 && (t3 = 0);
    for (var e3 = t3, i2 = this._items.length; e3 < i2; e3++) this._items[e3]._index = e3;
  }, e2;
}(Ft);
var Gr = function(t2, e2) {
  this.startIndex = t2, this.endIndex = e2, this.level = 0, this.children = [];
};
var Ur = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._expandedAdornments = p.BOTH, o2._collapsedAdornments = p.HEADER, o2._indentVisible = true, o2._expandWhenGrouping = false, o2._mergeMode = false, o2._groupSorting = true, o2._grouped = false, o2._groupCheckable = true, o2._footerCheckable = true, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._callbackOnwer = null, this._visibleItems = this._visibleItems.dispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype.groupfFooterCounterChanged = function(t3) {
    this.$_footerCounterChanged();
  }, e2.prototype.$_footerCounterChanged = function() {
    this._populateItems(), this._fireRefresh();
  }, Object.defineProperty(e2.prototype, "footerCounter", { get: function() {
    return this._footerCounter;
  }, set: function(t3) {
    t3 != this._footerCounter && (t3 && t3.setCounterAware(null), this._footerCounter = t3, t3 && t3.setCounterAware(this), this.$_footerCounterChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandedAdornments", { get: function() {
    return this._expandedAdornments;
  }, set: function(t3) {
    t3 != this._expandedAdornments && (this._expandedAdornments = t3, this.grouped && (this._populateItems(), this._fireRefresh()));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsedAdornments", { get: function() {
    return this._collapsedAdornments;
  }, set: function(t3) {
    t3 != this._collapsedAdornments && (this._collapsedAdornments = t3, this.grouped && (this._populateItems(), this._fireRefresh()));
  }, enumerable: false, configurable: true }), e2.prototype.resetAdornments = function(t3, e3, i2) {
    (i2 || e3.expandedAdornments != this._expandedAdornments || e3.collapsedAdornments != this._collapsedAdornments || e3.indentVisible != this._indentVisible) && (this._expandedAdornments = e3.expandedAdornments, this._collapsedAdornments = e3.collapsedAdornments, this._callbackOnwer = t3, this._footerCallback = e3.createFooterCallback, this._valueForGroupCallback = e3.valueForGroupCallback, this._indentVisible = e3.indentVisible, this.grouped && (this._populateItems(), this._fireRefresh()));
  }, Object.defineProperty(e2.prototype, "expandWhenGrouping", { get: function() {
    return this._expandWhenGrouping;
  }, set: function(t3) {
    this._expandWhenGrouping = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeMode", { get: function() {
    return this._mergeMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return this._summaryMode || Ke.groupSummaryMode || x.AGGREGATE;
  }, set: function(t3) {
    t3 != this._summaryMode && (this._summaryMode = t3, this._populateItems(), this._fireRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "grouped", { get: function() {
    return this._grouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupCount", { get: function() {
    return this._groupFields ? this._groupFields.length : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupSorting", { get: function() {
    return this._groupSorting;
  }, set: function(t3) {
    this._groupSorting != t3 && (this._groupSorting = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleRowCount", { get: function() {
    return this._visibleItems.rowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indentVisible", { get: function() {
    return this._indentVisible;
  }, enumerable: false, configurable: true }), e2.prototype.canGrouping = function(t3) {
    return this.fireGrouping(t3);
  }, e2.prototype.groupBy = function(t3) {
    this.groupByMode(t3, this._mergeMode);
  }, e2.prototype.groupByMode = function(t3, e3) {
    this._mergeMode = null != e3 ? e3 : this._mergeMode, this._groupFields = t3 ? t3.concat() : null, e3 || this._clearDisplayLevels(), this._populateItems();
    try {
      this._fireRefresh();
    } finally {
      this.fireGrouped(t3);
    }
  }, e2.prototype.isGroupedField = function(t3) {
    if (this._groupFields) {
      for (var e3 = this._groupFields.length; e3--; ) if (this._groupFields[e3] == t3) return true;
    }
    return false;
  }, e2.prototype.getGroupLevel = function(t3) {
    if (this._groupFields && t3 >= 0) {
      for (var e3 = this._groupFields.length; e3--; ) if (this._groupFields[e3] == t3) return e3 + 1;
    }
    return 0;
  }, Object.defineProperty(e2.prototype, "groupedFields", { get: function() {
    return this._groupFields ? this._groupFields.concat() : null;
  }, enumerable: false, configurable: true }), e2.prototype.expand = function(t3, e3, i2, o2) {
    if (t3 && (!t3.expanded || i2) && this.fireExpand(t3) && (t3.expanded && this._visibleItems.collapse(t3, false), this._visibleItems.expand(t3, e3, true, o2))) try {
      this._fireRefresh();
    } finally {
      this.fireExpanded(t3);
    }
  }, e2.prototype.$_collapseChild = function(t3, e3, i2) {
    for (var o2 = false, r2 = 0, n2 = t3.count; r2 < n2; r2++) {
      var s2 = t3.getItem(r2);
      if (s2 instanceof Go) {
        var a2 = Vr(s2, this.collapsedAdornments);
        t3.expanded ? a2 ? this._visibleItems.collapse(s2, e3) && (this._visibleItems.$_resetIndices(0), o2 = true) : this.$_collapseChild(s2, e3, i2) : a2 && (s2._expanded = false, this.$_collapseChild(s2, e3, i2));
      }
    }
    o2 && this._fireRefresh();
  }, e2.prototype.collapse = function(t3, e3, i2, o2) {
    var r2 = Vr(t3, this.collapsedAdornments);
    if (t3 && t3.expanded && r2) {
      if (this.fireCollapse(t3) && this._visibleItems.collapse(t3, e3)) {
        t3 && e3 && i2 && this.$_collapseChild(t3, e3, i2);
        try {
          this._fireRefresh();
        } finally {
          this.fireCollapsed(t3, o2);
        }
      }
    } else t3 && e3 && i2 && this.$_collapseChild(t3, e3, i2);
  }, e2.prototype.collapseAll = function(t3) {
    for (var e3 = 0; e3 < this._rootItem.count; e3++) {
      var i2 = this._rootItem.getItem(e3);
      i2 instanceof Wo && this.collapse(i2, t3, true, null);
    }
  }, e2.prototype.expandAll = function(t3, e3) {
    for (var i2 = 0; i2 < this._rootItem.count; i2++) {
      var o2 = this._rootItem.getItem(i2);
      o2 instanceof Wo && this.expand(o2, t3, true, e3);
    }
  }, e2.prototype.findItem = function(t3, e3, i2, o2, r2) {
    var n2 = this.dataSource;
    if (!n2) return -1;
    var s2 = this.itemCount;
    if (s2 < 1) return -1;
    var l2 = Math.min(t3.length, e3.length);
    if (l2 < 1) return -1;
    var h2 = !i2 || i2.allFields, u2 = i2 && i2.caseSensitive, c2 = i2 && i2.partialMatch, d2 = null, p2 = [], f2 = i2.reverse;
    o2 = Math.max(0, o2), r2 = Math.min(s2 - 1, r2);
    for (var _2 = 0; _2 < l2; _2++) p2[_2] = n2.getField(t3[_2]).dataType;
    var g2 = i2.compareCallback;
    g2 = "function" == typeof g2 ? g2 : Ot.compareTextValue;
    for (var y2 = o2; f2 ? y2 >= r2 : y2 <= r2; f2 ? y2-- : y2++) {
      var m2 = this.$_getItem(y2), b2 = m2.dataRow, v2 = b2 >= 0;
      if (v2) for (_2 = 0; _2 < l2; _2++) {
        var w2 = m2.getData(t3[_2]), C2 = n2.getOrgFieldName(t3[_2]);
        switch (p2[_2]) {
          case a.DATETIME:
          case a.DATE:
            if (e3[_2] instanceof Date) v2 = g2.call(n2.handler, e3[_2], w2, u2, c2, b2, C2);
            else {
              if (!d2) {
                var x2 = /[.]/.test(e3[_2]) ? "yyyy.MM.dd" : /[/]/.test(e3[_2]) ? "yyyy/MM/dd" : /[-]/.test(e3[_2]) ? "yyyy-MM-dd" : "yyyyMMdd";
                d2 = new He(x2);
              }
              v2 = g2.call(n2.handler, e3[_2], w2 ? d2.getText(w2) : w2, u2, c2, b2, C2);
            }
            break;
          default:
            v2 = g2.call(n2.handler, e3[_2], w2, u2, c2, b2, C2);
        }
        if (v2 && !h2) return y2;
        if (!v2 && h2) break;
      }
      if (v2) return y2;
    }
    return -1;
  }, e2.prototype.findCell = function(t3, e3, i2, o2, r2, n2) {
    var s2 = this.dataSource;
    if (!s2) return null;
    var l2 = this.itemCount;
    if (l2 < 1) return null;
    var h2 = i2.caseSensitive, u2 = i2.partialMatch, c2 = s2.fieldCount, d2 = t3.length, p2 = i2.reverse, f2 = null, _2 = [], g2 = i2.compareCallback;
    g2 = "function" == typeof g2 ? g2 : Ot.compareTextValue;
    for (var y2 = 0; y2 < c2; y2++) _2[y2] = s2.getField(y2).dataType;
    o2 = Math.max(0, o2), r2 = Math.min(l2 - 1, r2), n2 = Math.max(p2 ? -1 : 0, Math.min(n2, d2 - 1)), p2 ? n2 < 0 && (n2 = t3.length - 1, o2--) : n2 >= t3.length && (o2++, n2 = 0);
    for (var m2 = o2; p2 ? m2 >= r2 : m2 <= r2; p2 ? m2-- : m2++) {
      var b2 = this.$_getItem(m2), v2 = b2.dataRow;
      if (v2 >= 0) for (y2 = p2 ? m2 < o2 ? d2 - 1 : n2 : m2 > o2 ? 0 : n2; p2 ? y2 >= 0 : y2 < d2; p2 ? y2-- : y2++) {
        var w2 = t3[y2];
        if (w2 >= 0 && w2 < c2) {
          var C2 = b2.getData(w2), x2 = s2.getOrgFieldName(w2), I2 = false;
          switch (_2[w2]) {
            case a.DATETIME:
            case a.DATE:
              if (e3 instanceof Date) I2 = g2.call(s2.handler, e3, C2, h2, u2, v2, x2);
              else {
                if (!f2) {
                  var E2 = /[.]/.test(e3) ? "yyyy.MM.dd" : /[/]/.test(e3) ? "yyyy/MM/dd" : /[-]/.test(e3) ? "yyyy-MM-dd" : "yyyyMMdd";
                  f2 = new He(E2);
                }
                I2 = g2.call(s2.handler, e3, C2 ? f2.getText(C2) : C2, h2, u2, v2, x2);
              }
              break;
            default:
              I2 = g2.call(s2.handler, e3, C2, h2, u2, v2, x2);
          }
          if (I2) return { itemIndex: m2, fieldIndex: w2, searchFieldIndex: y2 };
        }
      }
    }
    return null;
  }, e2.prototype.getGroupItem = function(t3) {
    var e3 = function(i2) {
      for (var o2 = 0, r2 = i2.children.length; o2 < r2; o2++) {
        var n2 = i2.children[o2];
        if (n2.id === t3) return n2;
        if (n2 instanceof Go) {
          var s2 = e3(n2);
          if (s2) return s2;
        }
      }
    };
    return t3 === this._rootItem.id ? this._rootItem : e3(this._rootItem);
  }, Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return this._grouped ? this._visibleItems.count : this.source.itemCount;
  }, enumerable: false, configurable: true }), e2.prototype.getItem = function(t3, e3) {
    return this.grouped && !e3 ? t3 >= 0 && t3 < this._visibleItems.count ? this._visibleItems.getItem(t3) : null : this.source.getItem(t3, e3);
  }, e2.prototype.getItems = function(t3, e3) {
    if (this.grouped) {
      for (var i2 = this._visibleItems, o2 = [], r2 = Math.min(i2.count, t3 + e3 - 1), n2 = t3; n2 < r2; n2++) {
        var s2 = i2.getItem(n2);
        o2.push(s2);
      }
      return o2;
    }
    return this.source.getItems(t3, e3);
  }, e2.prototype.getAllItems = function() {
    if (this.grouped) {
      var t3 = new Wr(this);
      return t3.expand(this.rootItem, true, false, 0), t3.items;
    }
    return this.source ? this.source.getAllItems() : null;
  }, e2.prototype.getIndexOfRow = function(t3) {
    if (this.grouped) {
      for (var e3 = this._visibleItems, i2 = 0, o2 = e3.count; i2 < o2; i2++) if (e3.getItem(i2).dataRow == t3) return i2;
      return -1;
    }
    return this.source.getIndexOfRow(t3, false);
  }, e2.prototype.getItemOfRow = function(t3, e3) {
    if (this.grouped) {
      for (var i2 = this._visibleItems, o2 = 0, r2 = i2.count; o2 < r2; o2++) {
        var n2 = i2.getItem(o2);
        if (n2.dataRow == t3) return n2;
      }
      return null;
    }
    return this.source.getItemOfRow(t3, e3);
  }, e2.prototype._initialize = function() {
    t2.prototype._initialize.call(this), this._visibleItems = new Wr(this);
  }, e2.prototype._clearItems = function() {
    this._visibleItems.clear(), this.rootItem.clear();
  }, e2.prototype._populateItems = function() {
    this.$_populateItems(false);
  }, e2.prototype._clearChecked = function() {
    this.grouped ? this.$_checkChildren(this.rootItem, false, false, false) : t2.prototype._clearChecked.call(this), this._editItem && this._editItem._setChecked(false);
  }, e2.prototype.$_groupCheckable = function(t3, e3, i2) {
    for (var o2 = 0, r2 = t3.count; o2 < r2; o2++) {
      var n2 = t3.getItem(o2);
      n2 instanceof Uo && n2.setCheckable(i2), n2 instanceof Wo && (n2.setCheckable(e3), this.$_groupCheckable(n2, e3, i2));
    }
  }, e2.prototype.setGroupCheckable = function(t3, e3) {
    t3 == this._groupCheckable && e3 == this._footerCheckable || (this._groupCheckable = t3, this._footerCheckable = e3, this.$_groupCheckable(this.rootItem, t3, e3));
  }, e2.prototype.checkAll = function(e3, i2, o2, r2, n2) {
    var s2 = this.dataSource;
    if (s2) if (i2 || !this.grouped) t2.prototype.checkAll.call(this, e3, i2, o2, r2, n2);
    else {
      var a2 = this._visibleItems.fixedCount;
      if (a2 > 0) if (o2) for (var l2 = a2; l2--; ) {
        var h2 = this.getItem(l2);
        h2.checkable && h2._setChecked(e3);
      }
      else for (l2 = a2; l2--; ) this.getItem(l2)._setChecked(e3);
      var u2 = this.source._checkFieldIndex > -1;
      u2 && s2.beginUpdate();
      try {
        this.$_checkChildren(this.rootItem, e3, o2, n2);
      } finally {
        u2 && s2.endUpdate(false);
      }
      r2 ? this._fireItemAllChecked(e3) : this._fireRefreshClient(), this._fireItemCheckChanged(null, e3);
    }
  }, e2.prototype.getItemChecked = function(t3, e3) {
    return this.source.getItemChecked(t3, e3);
  }, e2.prototype.setItemChecked = function(t3, e3) {
    return this.source.setItemChecked(t3, e3);
  }, e2.prototype.getFirstRow = function() {
    for (var t3 = 0, e3 = this._visibleItems.count; t3 < e3; t3++) {
      var i2 = this._visibleItems.getItem(t3);
      if (i2 instanceof Ho) return i2;
    }
  }, e2.prototype.getLastRow = function() {
    for (var t3 = this._visibleItems.count - 1; t3 >= 0; t3--) {
      var e3 = this._visibleItems.getItem(t3);
      if (e3 instanceof Ho) return e3;
    }
  }, e2.prototype.getPrevRow = function(t3) {
    if (t3) {
      t3.visible || (t3 = t3.getVisibleAncestor());
      for (var e3 = t3.index - 1; e3 >= 0; e3--) if ((t3 = this._visibleItems.getItem(e3)) instanceof Ho) return t3;
    }
    return this.getFirstRow();
  }, e2.prototype.getNextRow = function(t3) {
    if (t3) {
      t3.visible || (t3 = t3.getVisibleAncestor());
      for (var e3 = t3.index + 1, i2 = this._visibleItems.count; e3 < i2; e3++) if ((t3 = this._visibleItems.getItem(e3)) instanceof Ho) return t3;
    }
    return this.getLastRow();
  }, e2.prototype.$_saveExpand = function(t3, e3) {
    if (this.dataSource) for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = t3.getItem(i2);
      if (r2 instanceof Go || r2 instanceof Hr) {
        var n2 = r2.firstItem._dataRowId, s2 = this.dataSource.getDataRow(n2), a2 = r2._groupField;
        s2 >= 0 && a2 >= 0 && (e3[n2] = { expanded: r2._expanded, children: [] }, this.$_saveExpand(r2, e3[n2].children));
      }
    }
  }, e2.prototype.$_restoreExpand = function(t3, e3) {
    if (this.dataSource) for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = t3.getItem(i2);
      if (r2 instanceof Go || r2 instanceof Hr) {
        var n2 = r2.firstItem._dataRowId, s2 = this.dataSource.getDataRow(n2), a2 = r2._groupField;
        s2 >= 0 && a2 >= 0 && e3[n2] && (r2._setExpanded(e3[n2].expanded), this.$_restoreExpand(r2, e3[n2].children));
      }
    }
  }, e2.prototype.$_populateItems = function(t3) {
    if (this.dataSource) {
      var e3 = {}, i2 = this.source.itemCount, o2 = this._rootItem;
      if (t3 && i2 > 0 && o2 && this.$_saveExpand(o2, e3), this._clearItems(), this.source) {
        if (this._groupFields) {
          for (var r2 = this.dataSource.fieldCount, n2 = this._groupFields.length - 1; n2 >= 0; n2--) this._groupFields[n2] >= r2 && this._groupFields.splice(n2, 1);
          this._grouped = this._groupFields.length > 0;
        } else this._grouped = false;
        this._grouped && i2 > 0 && (this.$_buildGroupItems(i2), t3 && this.$_restoreExpand(o2, e3), this.$_resetVisibleItems());
      }
    }
  }, e2.prototype.$_checkChildren = function(t3, e3, i2, o2) {
    for (var r2 = 0, n2 = t3.count; r2 < n2; r2++) {
      var s2 = t3.getItem(r2);
      s2 && (i2 ? (o2 || s2.isDataRow) && s2.checkable && s2._setChecked(e3) : s2._setChecked(e3)), s2 instanceof Wo && this.$_checkChildren(s2, e3, i2, o2);
    }
  }, e2.prototype.$_getItem = function(t3) {
    return this._grouped ? this._visibleItems.getItem(t3) : this.source.getItem(t3);
  }, e2.prototype.$_resetVisibleItems = function() {
    this._visibleItems.$_clearAndInit(this.source, this.fixedCount), this.source && this.source.itemCount > this._visibleItems.fixedCount && this._visibleItems.expand(this.rootItem, false, false, 0);
  }, e2.prototype.$_buildGroupItems = function(t3) {
    if (t3 > this.fixedCount) {
      var e3 = new Gr(this.fixedCount, t3 - 1);
      this.$_buildGroups(e3, this.source, this._groupFields), this.$_buildItems(this.rootItem, e3, this._groupFields), this.mergeMode && (this._clearDisplayLevels(), this.$_resetDisplayLevels(this.rootItem));
    }
  }, e2.prototype.$_resetDisplayLevels = function(t3) {
    for (var e3 = 0, i2 = t3.count; e3 < i2; e3++) {
      var o2 = Ot.cast(t3.getItem(e3), Wo);
      if (o2) {
        var r2 = Ot.cast(o2.firstItem, Ho);
        r2 && r2._displayLevel < 0 && (r2._displayLevel = o2.level), this.$_resetDisplayLevels(o2);
      }
    }
  }, e2.prototype.$_buildGroups = function(t3, e3, i2) {
    if (this.dataSource && !(i2.length <= t3.level)) {
      var o2 = t3.startIndex, r2 = t3.endIndex;
      if (!(r2 < o2)) {
        var n2 = t3.level + 1, s2 = i2[t3.level], a2 = this.dataSource.getField(s2), l2 = new Gr(o2, o2);
        l2.level = n2, t3.children.push(l2);
        var h2 = !this.mergeMode && this._valueForGroupCallback, u2 = e3.getItem(o2), c2 = u2.getData(s2);
        c2 = h2 ? h2.call(this._callbackOnwer, this._callbackOnwer, u2.dataRow, a2.orgFieldName, c2) : c2;
        for (var d2 = o2 + 1; d2 <= r2; d2++) {
          var p2 = (u2 = e3.getItem(d2)).getData(s2);
          p2 = h2 ? h2.call(this._callbackOnwer, this._callbackOnwer, u2.dataRow, a2.orgFieldName, p2) : p2, a2.equalValues(p2, c2) || (l2 && (l2.endIndex = d2 - 1, l2.groupValue = c2), (l2 = new Gr(d2, d2)).level = n2, t3.children.push(l2)), c2 = p2;
        }
        l2 && (l2.endIndex = r2, l2.groupValue = c2);
        d2 = 0;
        for (var f2 = t3.children.length; d2 < f2; d2++) this.$_buildGroups(t3.children[d2], e3, i2);
      }
    }
  }, e2.prototype.$_buildItems = function(t3, e3, i2) {
    var o2, r2 = this.mergeMode, n2 = e3.children.length;
    if (n2 > 0) {
      o2 = e3.level;
      for (var s2 = i2[e3.level], a2 = 0; a2 < n2; a2++) {
        var l2 = r2 ? new Hr(o2, s2) : new Go(s2);
        l2._setExpanded(this.expandWhenGrouping), t3.add(l2), l2._setCheckable(this._groupCheckable), l2.groupValue = e3.children[a2].groupValue, this.$_buildItems(l2, e3.children[a2], i2);
      }
    } else {
      var h2 = e3.endIndex - e3.startIndex + 1, u2 = this.source.getItems(e3.startIndex, h2);
      t3.addAll(u2), this._incDescendents(t3, h2);
    }
    if ((o2 = t3.level) > 0) {
      var c2 = this._callbackOnwer, d2 = this._footerCallback;
      if (this._footerCounter) for (var p2 = 0, f2 = (a2 = 0, this._footerCounter.getGroupFooterCount(t3)); a2 < f2; a2++) {
        var _2 = !(!d2 || d2(c2, t3, a2));
        (g2 = r2 ? new jr() : new Uo()).$_footerIndex = a2, g2.$_vindex = _2 ? -1 : p2++, g2.hiddenFooter = _2, t3.add(g2), g2._setCheckable(this._groupCheckable && this._footerCheckable);
      }
      else if (d2 || d2(c2, t3, 0)) {
        var g2 = r2 ? new jr() : new Uo();
        t3.add(g2);
      }
    }
  }, e2.prototype.$_setEditItem = function(t3) {
    this._editItem = t3;
  }, e2.prototype.$_setDummyEditItem = function(t3) {
    this._dummyEditItem = t3;
  }, e2.prototype.fireGrouping = function(t3) {
    return this.fireConfirmEvent(e2.GROUPING, t3);
  }, e2.prototype.fireGrouped = function(t3) {
    this.fireEvent(e2.GROUPED);
  }, e2.prototype.fireExpand = function(t3) {
    return this.fireConfirmEvent(e2.EXPAND, t3);
  }, e2.prototype.fireExpanded = function(t3) {
    this.fireEvent(e2.EXPANDED, t3);
  }, e2.prototype.fireCollapse = function(t3) {
    return this.fireConfirmEvent(e2.COLLAPSE, t3);
  }, e2.prototype.fireCollapsed = function(t3, i2) {
    this.fireEvent(e2.COLLAPSED, t3, i2);
  }, e2.prototype.onItemProviderRefresh = function(t3) {
    this._grouped && (this.$_populateItems(true), this._fireRefresh());
  }, e2.GROUPING = "onGroupedItemProviderGrouping", e2.GROUPED = "onGroupedItemProviderGrouped", e2.EXPAND = "onGroupedItemProviderExpand", e2.EXPANDED = "onGroupedItemProviderExpanded", e2.COLLAPSE = "onGroupedItemProviderCollapse", e2.COLLAPSED = "onGroupedItemProviderCollapsed", e2;
}(qo);
var Yr = function() {
  this.commit = true, this.value = void 0;
};
var zr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._refreshFocusChanged = false, e3._clickOnlyFocusedCell = true, e3._textProp = Ot.TextProp, e3._inited = false, e3._dirty = false, e3._className = "", e3._itemClickable = false, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._dom = null, this._index = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.clearAndDispose = function() {
    return this.clearContent(), this.dispose();
  }, e2.prototype.initContent = function(t3, e3, i2) {
    this._inited ? this._index.assign(t3) : (this._dom = e3, this._index = t3.clone(), e3.className = this._className = i2, e3 && (e3[Ot.TextProp] = ""), this._doInitContent(e3), this._inited = true);
  }, e2.prototype.clearContent = function() {
    this._inited ? (this._doClearContent(this._dom), this._dom.className = this._className = "", this._inited = false) : this._dom[this._textProp] = "";
  }, e2.prototype.checkClassName = function(t3) {
    return t3 != this._className;
  }, e2.prototype.initOptions = function() {
    this._doInitOptions();
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._index && this._index.grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return "rg-renderer";
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    this._showTooltip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    this._tooltipEllipsisOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ariaLabelCallback", { get: function() {
    return this._ariaLabelCallback;
  }, set: function(t3) {
    this._ariaLabelCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "refreshFocusChanged", { get: function() {
    return this._refreshFocusChanged;
  }, set: function(t3) {
    this._refreshFocusChanged = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickOnlyFocusedCell", { get: function() {
    return this._clickOnlyFocusedCell;
  }, set: function(t3) {
    this._clickOnlyFocusedCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemClickable", { get: function() {
    return this._itemClickable;
  }, enumerable: false, configurable: true }), e2.prototype.renderCell = function(t3, e3, i2) {
    if (t3.accessibility) {
      var o2 = this._ariaLabelCallback || t3.body.ariaLabelCallback, r2 = o2 && o2.call(this, t3.handler, e3);
      r2 ? i2.cell.setAttribute("aria-label", r2) : i2.cell.removeAttribute("aria-label");
    }
    this._doRenderCell(t3, e3, i2, i2.width - i2.$_errorWidth - i2.$_buttonWidth - i2.$_editWidth - 1, i2.height - 1);
  }, e2.prototype.tooltip = function(t3, e3) {
  }, e2.prototype.getTooltip = function(t3, e3) {
    var i2 = e3.grid, o2 = i2.body, r2 = e3.column, n2 = o2.getCellAt(t3.item, r2), s2 = this.tooltip(n2, e3);
    return (s2 = s2 || n2 && this._makeText(i2, n2, t3)) || void 0;
  }, e2.prototype.canShowInnerFocus = function() {
    return false;
  }, e2.prototype.canEdit = function() {
    return false;
  }, e2.prototype.canEditClickAt = function(t3) {
    return false;
  }, e2.prototype.preventDefaultEditClick = function(t3) {
    t3.preventDefault();
  }, e2.prototype.editClick = function(t3, e3) {
    var i2 = new Yr();
    if (this._doEditClick(t3, e3, i2)) return i2;
  }, e2.prototype._doEditClick = function(t3, e3, i2) {
    return false;
  }, e2.prototype.preventDefaultClick = function(t3) {
    t3.preventDefault();
  }, e2.prototype.canClick = function(t3) {
    return false;
  }, e2.prototype.canClickSpaceKey = function(t3) {
    return false;
  }, e2.prototype.click = function(t3, e3, i2) {
    return this._doClick(t3, e3, i2);
  }, e2.prototype.itemClick = function(t3) {
    this._doItemClick(t3);
  }, e2.prototype._doItemClick = function(t3) {
  }, e2.prototype._doClick = function(t3, e3, i2) {
  }, e2.prototype.canEditKey = function(t3) {
    return false;
  }, e2.prototype.editKey = function(t3, e3) {
    var i2 = new Yr();
    if (this._doEditKey(t3, e3, i2)) return i2;
  }, e2.prototype._doEditKey = function(t3, e3, i2) {
    return false;
  }, e2.prototype.moveClickElement = function(t3, e3) {
  }, e2.prototype._doInitContent = function(t3) {
  }, e2.prototype._doClearContent = function(t3) {
    t3 && (t3[this._textProp] = "");
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
  }, e2.prototype._changed = function() {
    this._dirty = true;
  }, e2.prototype._getValue = function(t3, e3, i2) {
    var o2 = e3.item.dataRow;
    if (o2 >= 0) {
      var r2 = t3.dataSource.getFieldIndex(i2);
      if (r2 >= 0) return t3.dataSource.getValue(o2, r2);
    }
  }, e2.prototype._makeText = function(t3, e3, i2) {
    var o2;
    return e3 instanceof mr ? o2 = e3.getDisplayText(t3, i2) || e3.dataColumn.placeHolder : e3 instanceof wr ? o2 = e3.getDisplayText(t3, this.index.seriesColumn.valueSeparator) : e3 instanceof vr && (o2 = e3.getDisplayText(t3, i2)), o2 || "";
  }, e2.prototype._clearHeight = function() {
    this._dom.style.height = "";
  }, e2.prototype._setHeight = function(t3) {
    this._dom.style.height = t3 >= 0 ? t3 + "px" : "";
  }, e2.prototype._isEmpty = function(t3) {
    return null == t3 || "" == t3 || "number" == typeof t3 && isNaN(t3);
  }, e2.prototype._doInitOptions = function() {
  }, e2;
}(Ft);
var qr = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    if (e3 instanceof yr) if (e3.index.itemIndex !== t3.layoutManager.topIndex) {
      var n2 = t3.blankGroupData() && t3.isGroupedColumn(e3.index.dataColumn);
      switch (e3.getBlankState(n2)) {
        case E.BODY:
        case E.TAIL:
          return this.$_setText(e3.dataColumn.equalBlankText);
        default:
          this.$_setText(this._makeText(t3, e3, i2));
      }
    } else this.$_setText(this._makeText(t3, e3, i2));
  }, e2.prototype.$_setText = function(t3) {
    this._dom[this._textProp] = t3 || "";
  }, e2.TYPE = "text", e2.Default = new e2(), e2;
}(zr);
!function(t2) {
  t2.DEFAULT = "default", t2.LEFT = "left", t2.RIGHT = "right", t2.TOP = "top", t2.BOTTOM = "bottom";
}(rr || (rr = {}));
var Kr;
var Xr = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._barStyle = e2.BAR_STYLE, i2._rightBarStyle = e2.BAR_RIGHT_STYLE, i2._topBarStyle = e2.BAR_TOP_STYLE, i2._bottomBarStyle = e2.BAR_BOTTOM_STYLE, i2._minimum = 0, i2._maximum = 100, i2._barWidth = "80%", i2._showLabel = true, i2._origin = rr.LEFT, i2._absoluteValue = false, i2._textOffset = 5, i2._negativeStyle = e2.BAR_NEGATIVE_STYLE, i2._percentShapeWidth = 80, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doInitOptions = function() {
    this._barStyle = e2.BAR_STYLE, this._rightBarStyle = e2.BAR_RIGHT_STYLE, this._topBarStyle = e2.BAR_TOP_STYLE, this._bottomBarStyle = e2.BAR_BOTTOM_STYLE, this._negativeStyle = e2.BAR_NEGATIVE_STYLE, this._origin = rr.LEFT, this._baseValue = void 0, this._minimum = 0, this._maximum = 100;
  }, Object.defineProperty(e2.prototype, "barStyle", { get: function() {
    return this._barStyle;
  }, set: function(t3) {
    this._barStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightBarStyle", { get: function() {
    return this._rightBarStyle;
  }, set: function(t3) {
    this._rightBarStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topBarStyle", { get: function() {
    return this._topBarStyle;
  }, set: function(t3) {
    this._topBarStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottomBarStyle", { get: function() {
    return this._bottomBarStyle;
  }, set: function(t3) {
    this._bottomBarStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minimum", { get: function() {
    return this._minimum;
  }, set: function(t3) {
    this._minimum = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maximum", { get: function() {
    return this._maximum;
  }, set: function(t3) {
    this._maximum = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showLabel", { get: function() {
    return this._showLabel;
  }, set: function(t3) {
    this._showLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "barWidth", { get: function() {
    return this._barWidth;
  }, set: function(t3) {
    t3 != this._barWidth && (this._barWidth = t3, "string" == typeof t3 && "%" == t3.charAt(t3.length - 1) ? this._percentShapeWidth = parseFloat(t3.substring(0, t3.length - 1)) : this._percentShapeWidth = NaN);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "origin", { get: function() {
    return this._origin;
  }, set: function(t3) {
    this._origin = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "absoluteValue", { get: function() {
    return this._absoluteValue;
  }, set: function(t3) {
    this._absoluteValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseValue", { get: function() {
    return this._baseValue;
  }, set: function(t3) {
    this._baseValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textOffset", { get: function() {
    return this._textOffset;
  }, set: function(t3) {
    this._textOffset = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "negativeStyle", { get: function() {
    return this._negativeStyle;
  }, set: function(t3) {
    this._negativeStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3, i2, o2 = It(t3);
    t3[this._textProp] = "", (e3 = this._div = o2.createElement("div")).style.position = "relative", t3.appendChild(e3);
    var r2 = (i2 = this._span = o2.createElement("span")).style;
    r2.display = "inline-block", r2.position = "absolute", t3.appendChild(i2);
  }, e2.prototype._doRenderCell = function(t3, i2, o2, r2, n2) {
    var s2, a2 = this._div, l2 = a2.style, h2 = this._minimum, u2 = this._maximum, c2 = Ot.included(this._origin, rr.LEFT, rr.BOTTOM) ? this._baseValue : NaN, d2 = Math.min(u2, Math.max(h2, i2.value));
    switch (isNaN(c2) && this._absoluteValue && (d2 = this._absoluteValue ? Math.abs(i2.value) : i2.value), isNaN(c2) ? (s2 = Math.min(1, (d2 - this._minimum) / (this._maximum - this._minimum)), this._middlePosition = NaN) : (s2 = Math.min(1, (d2 - c2) / (u2 - h2)), this._middlePosition = (c2 - h2) / (u2 - h2)), isNaN(s2) && (s2 = 0), this._origin) {
      case rr.RIGHT:
        this.$_renderBar(rr.RIGHT, l2, s2), a2.className = this.rightBarStyle || e2.BAR_RIGHT_STYLE;
        break;
      case rr.TOP:
        this.$_renderBar(rr.TOP, l2, s2), a2.className = this.topBarStyle || e2.BAR_TOP_STYLE;
        break;
      case rr.BOTTOM:
        this.$_renderBar(rr.BOTTOM, l2, s2), a2.className = !isNaN(c2) && d2 < c2 ? this.negativeStyle : this.bottomBarStyle || e2.BAR_BOTTOM_STYLE;
        break;
      case rr.LEFT:
      default:
        this.$_renderBar(rr.LEFT, l2, s2), a2.className = !isNaN(c2) && d2 < c2 ? this.negativeStyle : this.barStyle || e2.BAR_STYLE;
    }
    this.$_setText(this._showLabel ? this._makeText(t3, i2, o2) : "", r2, n2 / 2, s2);
  }, e2.prototype.$_renderBar = function(t3, e3, i2) {
    e3.removeProperty("transform"), e3.removeProperty("ms-transform");
    var o2 = this._middlePosition;
    if (t3 === rr.LEFT || t3 === rr.RIGHT) if (isNaN(o2) ? (e3.left = t3 === rr.LEFT ? "0px" : 100 * (1 - i2) + "%", e3.width = 100 * i2 + "%") : (e3.left = i2 < 0 ? 100 * (o2 + i2) + "%" : 100 * o2 + "%", e3.width = 100 * Math.abs(i2) + "%"), isNaN(this._percentShapeWidth)) {
      var r2 = this._barWidth;
      e3.top = "50%", e3.msTransform = e3.transform = "translate(0%,-50%)", e3.height = r2 + "px";
    } else e3.top = (100 - this._percentShapeWidth) / 2 + "%", e3.height = this._percentShapeWidth + "%";
    else if (isNaN(o2) ? (e3.top = t3 === rr.TOP ? "0px" : 100 * (1 - i2) + "%", e3.height = 100 * i2 + "%") : (e3.top = i2 < 0 ? 100 * o2 + "%" : 100 * (o2 - i2) + "%", e3.height = 100 * Math.abs(i2) + "%"), isNaN(this._percentShapeWidth)) {
      var n2 = this._barWidth;
      e3.left = "50%", e3.msTransform = e3.transform = "translate(-50%,0%)", e3.width = n2 + "px";
    } else e3.left = (100 - this._percentShapeWidth) / 2 + "%", e3.width = this._percentShapeWidth + "%";
  }, e2.prototype.$_setText = function(t3, e3, i2, o2) {
    if (this._span[this._textProp] = t3 || "", t3) {
      var r2 = this._span.style, n2 = this._middlePosition, s2 = this._textOffset;
      if (r2.removeProperty("right"), r2.removeProperty("left"), r2.removeProperty("top"), r2.removeProperty("bottom"), r2.transform = "translate(50%, -50%)", this.origin !== rr.LEFT || isNaN(n2) || 0 === this._textOffset) r2.right = "50%";
      else {
        var a2 = 4 * (2 * n2 - 1);
        o2 < 0 ? r2.left = "".concat(e3 * n2 + s2 - a2, "px") : r2.right = "".concat(e3 - e3 * n2 + s2 + a2, "px"), r2.transform = "translate(0px, -50%)";
      }
      if (this.origin !== rr.BOTTOM || isNaN(n2) || 0 === this._textOffset) r2.top = "50%";
      else {
        var l2 = i2 + this._textOffset + "px";
        o2 < 0 ? r2.bottom = l2 : r2.top = l2, r2.transform = "translate(50%, ".concat(o2 < 0 ? "" : "-", "100%)");
      }
    }
  }, e2.TYPE = "bar", e2.STYLE = "rg-bar-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.BAR_STYLE = "rg-bar-renderer-bar", e2.BAR_RIGHT_STYLE = "rg-bar-renderer-bar-right", e2.BAR_TOP_STYLE = "rg-bar-renderer-bar-top", e2.BAR_BOTTOM_STYLE = "rg-bar-renderer-bar-bottom", e2.BAR_NEGATIVE_STYLE = "rg-bar-renderer-bar-negative", e2;
}(zr);
var Zr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._spaceKey = false, e3._enterKey = false, e3._itemClickable = true, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "imageMap", { get: function() {
    return this._imageMap;
  }, set: function(t3) {
    t3 !== this._imageMap && (this._imageMap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "imageCallback", { get: function() {
    return this._imageCallback;
  }, set: function(t3) {
    t3 !== this._imageCallback && (this._imageCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "imageField", { get: function() {
    return this._imageField;
  }, set: function(t3) {
    t3 != this._imageField && (this._imageField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleField", { get: function() {
    return this._titleField;
  }, set: function(t3) {
    t3 != this._titleField && (this._titleField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleCallback", { get: function() {
    return this._titleCallback;
  }, set: function(t3) {
    t3 !== this._titleCallback && (this._titleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "imageHeight", { get: function() {
    return this._imageHeight;
  }, set: function(t3) {
    this._imageHeight = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "imageWidth", { get: function() {
    return this._imageWidth;
  }, set: function(t3) {
    this._imageWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spaceKey", { get: function() {
    return this._spaceKey;
  }, set: function(t3) {
    this._spaceKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterKey", { get: function() {
    return this._enterKey;
  }, set: function(t3) {
    this._enterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._img = It(t3).createElement("img");
    e3.style.verticalAlign = "middle", t3.appendChild(e3);
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._img, s2 = this.$_getImageUrl(t3, e3);
    if (s2) {
      n2.src = s2;
      var a2 = this.$_getTitle(t3, e3);
      n2.alt = a2 || "", isNaN(this._imageHeight) ? n2.style.removeProperty("height") : n2.style.height = this._imageHeight + "px", isNaN(this._imageWidth) ? n2.style.removeProperty("width") : n2.style.width = this._imageWidth + "px";
    } else n2.removeAttribute("src"), n2.alt = "";
  }, e2.prototype.canClick = function(t3) {
    return t3.target === this._img;
  }, e2.prototype._doClick = function(t3, e3, i2) {
    if (e3.target === this._img || "keydown" === e3.type) return { type: this.type, value: t3.value };
  }, e2.prototype._doItemClick = function() {
    this._img.click();
  }, e2.prototype.canClickSpaceKey = function(t3) {
    return (this.spaceKey && 32 == t3.keyCode || this.enterKey && 13 === t3.keyCode) && !Ot.specialKey(t3);
  }, e2.prototype._doInitOptions = function() {
    this._imageMap = this._imageCallback = this._imageField = this._titleField = this._titleCallback = this._imageHeight = void 0, this._imageWidth = void 0;
  }, e2.prototype.$_getImageUrl = function(t3, e3) {
    var i2 = "", o2 = this._imageCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), !i2 && this._imageMap && (i2 = this._imageMap[e3.value]), !i2 && this._imageField && (i2 = this._getValue(t3, e3, this._imageField)), i2 || "";
  }, e2.prototype.$_getTitle = function(t3, e3) {
    var i2 = "", o2 = this._titleCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), !i2 && this._titleField && (i2 = this._getValue(t3, e3, this._titleField)), i2 || "";
  }, e2.TYPE = "image", e2.STYLE = "rg-image-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(zr);
var Jr = function(t2) {
  function e2(e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = 0);
    var o2 = t2.call(this) || this;
    return o2._itemGap = 4, o2._verticalEdgePad = 2, o2._textVisible = true, o2._reversed = false, o2._splitted = false, o2._imgFixed = false, o2._imgMiddle = false, o2._imgCenter = false, o2._imgHeight = 16, o2._imgWidth = 16, o2._imgLeft = 0, o2._imgRight = 0, o2._imgTop = 0, o2._imgBottom = 0, o2._spanVis = void 0, o2._spanPadRight = 0, o2._spanPadLeft = 0, o2._spanCenter = false, o2._spanText = "", o2._imgWidth = e3, o2._imgHeight = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    t3 != this._itemGap && (this._itemGap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "verticalEdgePad", { get: function() {
    return this._verticalEdgePad;
  }, set: function(t3) {
    t3 != this._verticalEdgePad && (this._verticalEdgePad = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textVisible", { get: function() {
    return this._textVisible;
  }, set: function(t3) {
    t3 != this._textVisible && (this._textVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._doClearContent = function(e3) {
    t2.prototype._doClearContent.call(this, e3), this._reset();
  }, e2.prototype._reset = function() {
    this._oldLocation = void 0, this._imgHeight = this._imgWidth = this._imgLeft = this._imgRight = this._imgTop = this._imgBottom = this._spanPadRight = this._spanPadLeft = NaN, this._imgFixed = this._imgMiddle = this._imgCenter = this._spanVis = this._spanCenter = this._spanText = void 0, this._dom && (this._dom[Ot.TextProp] = "");
  }, e2.prototype.$_setImgFixed = function(t3, e3, i2) {
    (e3 != this._imgFixed || i2) && (this._imgFixed = e3, t3.style.position = e3 ? "absolute" : "");
  }, e2.prototype.$_setImgMiddle = function(t3, e3, i2) {
    (e3 != this._imgMiddle || i2) && (this._imgMiddle = e3, t3.style.verticalAlign = e3 ? "middle" : "");
  }, e2.prototype.$_setImgCenter = function(t3, e3, i2) {
    (e3 != this._imgCenter || i2) && (this._imgCenter = e3, t3.style.textAlign = e3 ? "center" : "");
  }, e2.prototype.$_setImgWidth = function(t3, e3, i2) {
    ((e3 = isNaN(e3) ? 0 : e3) != this._imgWidth || i2) && (this._imgWidth = e3, t3.style.width = e3 > 0 ? e3 + "px" : "");
  }, e2.prototype.$_setImgHeight = function(t3, e3, i2) {
    ((e3 = isNaN(e3) ? 0 : e3) != this._imgHeight || i2) && (this._imgHeight = e3, t3.style.height = e3 > 0 ? e3 + "px" : "");
  }, e2.prototype.$_setImgBounds = function(t3, e3, i2, o2, r2, n2) {
    (e3 != this._imgTop || n2) && (this._imgTop = e3, t3.style.top = e3 > 0 ? e3 + "px" : ""), (i2 != this._imgLeft || n2) && (this._imgLeft = i2, t3.style.left = i2 > 0 ? i2 + "px" : ""), (o2 != this._imgBottom || n2) && (this._imgBottom = o2, t3.style.bottom = o2 > 0 ? o2 + "px" : ""), (r2 != this._imgRight || n2) && (this._imgRight = r2, t3.style.right = r2 > 0 ? r2 + "px" : "");
  }, e2.prototype.$_clearImgBounds = function(t3, e3) {
    (this._imgTop > 0 || e3) && (this._imgTop = 0, t3.style.top = ""), (this._imgLeft > 0 || e3) && (this._imgLeft = 0, t3.style.left = ""), (this._imgBottom > 0 || e3) && (this._imgBottom = 0, t3.style.bottom = ""), (this._imgRight > 0 || e3) && (this._imgRight = 0, t3.style.right = "");
  }, e2.prototype.$_setSpanVis = function(t3) {
    t3 != this._spanVis && (this._spanVis = t3, this._span.style.display = t3 ? "" : "none", this.grid.accessibility && (t3 ? this._span.removeAttribute("aria-hidden") : this._span.setAttribute("aria-hidden", "true")));
  }, e2.prototype.$_setSpanPadLeft = function(t3) {
    t3 != this._spanPadLeft && (this._spanPadLeft = t3, this._span.style.paddingLeft = t3 > 0 ? t3 + "px" : "");
  }, e2.prototype.$_setSpanPadRight = function(t3) {
    t3 != this._spanPadRight && (this._spanPadRight = t3, this._span.style.paddingRight = t3 > 0 ? t3 + "px" : "");
  }, e2.prototype.$_setSpanCenter = function(t3, e3) {
    if (void 0 === e3 && (e3 = 0), t3 != this._spanCenter) {
      var i2 = this._span.style;
      this._spanCenter = t3, t3 ? (i2.left = "50%", i2.top = 50 + e3 + "%", i2.transform = "translate(-50%, -50%)", i2.position = "absolute") : (i2.left = "", i2.top = "", i2.transform = "", i2.position = "");
    }
  }, e2.prototype.$_setSpanText = function(t3) {
    if (t3 != this._spanText) {
      this._spanText = t3;
      var e3 = this._textVisible ? this._spanText : void 0;
      this._span[this._textProp] = e3;
    }
  }, e2.prototype.$_layoutLeft = function(t3, e3, i2, o2) {
    this._reversed && (t3.insertBefore(e3, i2), this._reversed = false), this._splitted && (t3.removeChild(this._br), this._splitted = false), this.$_setImgFixed(e3, false, o2), this.$_setImgMiddle(e3, true, o2), this.$_setImgCenter(e3, false, o2), this.$_clearImgBounds(e3, o2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(this._itemGap), this.$_setSpanPadRight(0);
  }, e2.prototype.$_layoutRight = function(t3, e3, i2, o2) {
    this._reversed || (t3.insertBefore(i2, e3), this._reversed = true), this._splitted && (t3.removeChild(this._br), this._splitted = false), this.$_setImgFixed(e3, false, o2), this.$_setImgMiddle(e3, true, o2), this.$_setImgCenter(e3, false, o2), this.$_clearImgBounds(e3, o2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(4);
  }, e2.prototype.$_layoutTop = function(t3, e3, i2, o2) {
    this._reversed && (t3.insertBefore(e3, i2), this._reversed = false), this._splitted || (t3.insertBefore(this._br, i2), this._splitted = true), this.$_setImgFixed(e3, false, o2), this.$_setImgMiddle(e3, false, o2), this.$_setImgCenter(e3, false, o2), this.$_clearImgBounds(e3, o2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
  }, e2.prototype.$_layoutBottom = function(t3, e3, i2, o2) {
    this._reversed || (t3.insertBefore(i2, e3), this._reversed = true), this._splitted || (t3.insertBefore(this._br, e3), this._splitted = true), this.$_setImgFixed(e3, false, o2), this.$_setImgMiddle(e3, false, o2), this.$_setImgCenter(e3, false, o2), this.$_clearImgBounds(e3, o2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
  }, e2.prototype.$_layoutLeftEdge = function(t3, e3, i2, o2, r2) {
    this._reversed && (t3.insertBefore(e3, i2), this._reversed = false), this._splitted && (t3.removeChild(this._br), this._splitted = false), this.$_setImgFixed(e3, true, r2), this.$_setImgMiddle(e3, true, r2), this.$_setImgCenter(e3, false, r2), this.$_setImgBounds(e3, 0, 2, 0, 0, r2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0), i2.style.marginLeft = isNaN(o2) ? "" : o2 + "px";
  }, e2.prototype.$_layoutRightEdge = function(t3, e3, i2, o2, r2) {
    this._reversed || (t3.insertBefore(i2, e3), this._reversed = true), this._splitted && (t3.removeChild(this._br), this._splitted = false), this.$_setImgFixed(e3, true, r2), this.$_setImgMiddle(e3, true, r2), this.$_setImgCenter(e3, false, r2), this.$_setImgBounds(e3, 0, 0, 0, 2, r2), this.$_setSpanVis(true), this.$_setSpanCenter(false), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(o2);
  }, e2.prototype.$_layoutTopEdge = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    this._reversed && (t3.insertBefore(e3, i2), this._reversed = false), this._splitted || (t3.insertBefore(this._br, i2), this._splitted = true), this.$_setImgFixed(e3, true, a2), this.$_setImgMiddle(e3, false, a2), this.$_setImgCenter(e3, false, a2), this.$_setImgBounds(e3, 2, (o2 - n2) / 2, 0, 0, a2), this.$_setSpanVis(true), this.$_setSpanCenter(true, s2 * ((r2 - s2) / r2)), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
  }, e2.prototype.$_layoutBottomEdge = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    this._reversed || (t3.insertBefore(i2, e3), this._reversed = true), this._splitted || (t3.insertBefore(this._br, e3), this._splitted = true), this.$_setImgFixed(e3, true, a2), this.$_setImgMiddle(e3, false, a2), this.$_setImgCenter(e3, true, a2), this.$_setImgBounds(e3, 0, (o2 - n2) / 2, 2, 0, a2), this.$_setSpanVis(true), this.$_setSpanCenter(true, (r2 - s2) / r2 * -s2), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
  }, e2.prototype.$_layoutCenter = function(t3, e3, i2, o2) {
    this._reversed && (t3.insertBefore(e3, i2), this._reversed = false), this._splitted && (t3.removeChild(this._br), this._splitted = false), this.$_setImgFixed(e3, false, o2), this.$_setImgMiddle(e3, true, o2), this.$_setImgCenter(e3, true, o2), this.$_clearImgBounds(e3, o2), this.$_setSpanVis(false), this.$_setSpanCenter(true), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
  }, e2;
}(zr);
var Qr = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._iconWidth = NaN, e3._iconHeight = NaN, e3._iconLocation = N.LEFT, e3._spaceKey = false, e3._enterKey = false, e3._imgSrc = "", e3._itemClickable = true, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "iconMap", { get: function() {
    return this._iconMap;
  }, set: function(t3) {
    t3 !== this._iconMap && (this._iconMap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconCallback", { get: function() {
    return this._iconCallback;
  }, set: function(t3) {
    t3 !== this._iconCallback && (this._iconCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleCallback", { get: function() {
    return this._titleCallback;
  }, set: function(t3) {
    this._titleCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconUrl", { get: function() {
    return this._iconUrl;
  }, set: function(t3) {
    this._iconUrl = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconField", { get: function() {
    return this._iconField;
  }, set: function(t3) {
    t3 != this._iconField && (this._iconField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconLocation", { get: function() {
    return this._iconLocation;
  }, set: function(t3) {
    t3 != this._iconLocation && (this._oldLocation = this._iconLocation, this._iconLocation = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconWidth", { get: function() {
    return this._iconWidth;
  }, set: function(t3) {
    t3 != this._iconWidth && (this._iconWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconHeight", { get: function() {
    return this._iconHeight;
  }, set: function(t3) {
    t3 != this._iconHeight && (this._iconHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spaceKey", { get: function() {
    return this._spaceKey;
  }, set: function(t3) {
    this._spaceKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterKey", { get: function() {
    return this._enterKey;
  }, set: function(t3) {
    this._enterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME + " rg-icon-" + this.$_getStyleName().toLowerCase();
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = this._img = e3.createElement("img");
    i2.alt = "", t3.appendChild(i2);
    var o2 = this._span = e3.createElement("span");
    t3.appendChild(o2), this._br = e3.createElement("br");
  }, e2.prototype._reset = function() {
    t2.prototype._reset.call(this), this._imgSrc = this._splitted = this._reversed = void 0;
  }, e2.prototype._doInitOptions = function() {
    this._iconMap = this._iconCallback = this._titleCallback = this._iconUrl = this._iconField = void 0, this._iconWidth = this._iconHeight = NaN, this._iconLocation = N.LEFT;
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._img, s2 = this._span;
    if (this.$_setImgWidth(n2, this._iconWidth, false), this.$_setImgHeight(n2, this._iconHeight, false), this.$_setImgSrc(this.$_getIconUrl(t3, e3), this.$_getTitle(t3, e3)), this.$_setSpanText(this._makeText(t3, e3, i2)), this._oldLocation != this._iconLocation) {
      switch (this._iconLocation) {
        case N.LEFT:
          this.$_layoutLeft(this._dom, n2, s2, false);
          break;
        case N.RIGHT:
          this.$_layoutRight(this._dom, n2, s2, false);
          break;
        case N.TOP:
          this.$_layoutTop(this._dom, n2, s2, false);
          break;
        case N.BOTTOM:
          this.$_layoutBottom(this._dom, n2, s2, false);
          break;
        case N.LEFT_EDGE:
          this.$_layoutLeftEdge(this._dom, n2, s2, this._iconWidth, false);
          break;
        case N.RIGHT_EDGE:
          this.$_layoutRightEdge(this._dom, n2, s2, this._iconWidth, false);
          break;
        case N.TOP_EDGE:
          this.$_layoutTopEdge(this._dom, n2, s2, o2, r2, this._iconWidth, this._iconHeight, false);
          break;
        case N.BOTTOM_EDGE:
          this.$_layoutBottomEdge(this._dom, n2, s2, o2, r2, this._iconWidth, this._iconHeight, false);
          break;
        case N.CENTER:
          this.$_layoutCenter(this._dom, n2, s2, false);
          break;
        default:
          this.$_layoutLeft(this._dom, n2, s2, false);
      }
      this._oldLocation = this._iconLocation;
    }
    this._iconLocation == N.TOP_EDGE || this._iconLocation == N.BOTTOM_EDGE ? this._setHeight(r2) : this._clearHeight();
  }, e2.prototype.canClick = function(t3) {
    return t3.target === this._img;
  }, e2.prototype.canClickSpaceKey = function(t3) {
    return (this.spaceKey && 32 == t3.keyCode || this.enterKey && 13 === t3.keyCode) && !Ot.specialKey(t3);
  }, e2.prototype._doClick = function(t3, e3, i2) {
    var o2 = {};
    if (e3.target === this._img || "keydown" === e3.type) return o2.type = this.type, o2.value = t3.value, o2;
  }, e2.prototype._doItemClick = function() {
    this._img.click();
  }, e2.prototype.$_getIconUrl = function(t3, e3) {
    var i2 = void 0, o2 = this._iconCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), void 0 === i2 && this._iconMap && (i2 = this._iconMap[e3.value]), void 0 === i2 && this._iconField && (i2 = this._getValue(t3, e3, this._iconField)), void 0 === i2 && (i2 = this._iconUrl), i2 || "";
  }, e2.prototype.$_getTitle = function(t3, e3) {
    var i2, o2 = this._titleCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), i2 || "";
  }, e2.prototype.$_setImgSrc = function(t3, e3) {
    t3 == this._imgSrc && e3 === this._img.alt || (this._imgSrc = t3, t3 ? (this._img.src = t3, this._img.alt = e3) : (this._img.removeAttribute("src"), this._img.alt = ""));
  }, e2.prototype.$_getStyleName = function() {
    return String(this._iconLocation) || String(N.LEFT);
  }, e2.prototype.preventDefaultClick = function(t3) {
    t3.target === this._img && (t3.preventDefault(), t3.stopImmediatePropagation());
  }, e2.TYPE = "icon", e2.STYLE = "rg-icon-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(Jr);
var tn = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._doInitContent = function(e3) {
    t2.prototype._doInitContent.call(this, e3), e3.style.setProperty("display", "flex", "important");
  }, e2.prototype._doClearContent = function(e3) {
    t2.prototype._doClearContent.call(this, e3), Ar.clearFlex(e3);
  }, e2.prototype.$_layoutLeft = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT);
  }, e2.prototype.$_layoutRight = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT);
  }, e2.prototype.$_layoutTop = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP);
  }, e2.prototype.$_layoutBottom = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM);
  }, e2.prototype.$_layoutLeftEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT_EDGE);
  }, e2.prototype.$_layoutRightEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT_EDGE);
  }, e2.prototype.$_layoutTopEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP_EDGE);
  }, e2.prototype.$_layoutBottomEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM_EDGE);
  }, e2.prototype.$_layoutCenter = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.CENTER);
  }, e2;
}(Qr);
var en = function(t2) {
  function e2() {
    var i2 = t2.call(this, 16, 16) || this;
    return i2._strictValue = false, i2._threeStates = false, i2._checkLocation = N.CENTER, i2._useImages = false, i2._checkedStyle = e2.CHECKED_STYLE, i2._uncheckedStyle = e2.UNCHECKED_STYLE, i2._intermediateStyle = e2.INTERMEDIATE_STYLE, i2._editable = true, i2._spaceKey = true, i2._enterKey = false, i2._showInnerFocus = false, i2._oldUsed = false, i2._useChanged = false, i2._values = {}, i2.refreshFocusChanged = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "getCheckedCallback", { get: function() {
    return this._getCheckedCallback;
  }, set: function(t3) {
    t3 !== this._getCheckedCallback && (this._getCheckedCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "setCheckedCallback", { get: function() {
    return this._setCheckedCallback;
  }, set: function(t3) {
    t3 !== this._setCheckedCallback && (this._setCheckedCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "trueValues", { get: function() {
    return this._trueValues;
  }, set: function(t3) {
    t3 !== this._trueValues && (this._trueValues = t3, this.$_resetValues(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "falseValues", { get: function() {
    return this._falseValues;
  }, set: function(t3) {
    t3 !== this._falseValues && (this._falseValues = t3, this.$_resetValues(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "strictValue", { get: function() {
    return this._strictValue;
  }, set: function(t3) {
    t3 != this._strictValue && (this._strictValue = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "threeStates", { get: function() {
    return this._threeStates;
  }, set: function(t3) {
    t3 != this._threeStates && (this._threeStates = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spaceKey", { get: function() {
    return this._spaceKey;
  }, set: function(t3) {
    this._spaceKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterKey", { get: function() {
    return this._enterKey;
  }, set: function(t3) {
    this._enterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkLocation", { get: function() {
    return this._checkLocation;
  }, set: function(t3) {
    t3 != this._checkLocation && (this._checkLocation = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useImages", { get: function() {
    return this._useImages;
  }, set: function(t3) {
    t3 != this._useImages && (this._useImages = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, set: function(t3) {
    this._editable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showInnerFocus", { get: function() {
    return this._showInnerFocus;
  }, set: function(t3) {
    this._showInnerFocus = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickOnlyFocusedCell", { get: function() {
    return !this.grid.editOptions.commitByCell || this._clickOnlyFocusedCell;
  }, set: function(t3) {
    this._clickOnlyFocusedCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "readOnlySetDisabled", { get: function() {
    return this._readOnlySetDisabled;
  }, set: function(t3) {
    t3 != this._readOnlySetDisabled && (this._readOnlySetDisabled = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype.canEdit = function() {
    var t3 = this.grid.editOptions;
    if (t3.columnEditableFirst) {
      if (!(null != this.editable ? this.editable : t3.editable)) return false;
    } else if (!t3.editable || !this.editable) return false;
    return this._editable;
  }, e2.prototype.canShowInnerFocus = function() {
    return this._showInnerFocus && this._editable;
  }, e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = this._check = e3.createElement("input");
    i2.type = "checkbox", i2.tabIndex = -1, i2.style.display = "inline-block";
    var o2 = this._span = e3.createElement("label");
    t3.appendChild(i2), t3.appendChild(o2);
    var r2 = this._image = e3.createElement("span");
    r2.className = this._checkedStyle, r2.role = "checkbox", r2.ariaChecked = "false", r2.tabIndex = -1, r2.style.display = "inline-block", this._br = e3.createElement("br");
  }, e2.prototype._reset = function() {
    t2.prototype._reset.call(this), this._splitted = this._reversed = void 0, this._oldUsed = false;
  }, e2.prototype._doRenderCell = function(t3, i2, o2, r2, n2) {
    var s2 = this._check, a2 = this._image, l2 = this._span, h2 = this._dom, u2 = s2;
    this._imgWidth = t3.container.measureCheckWidth(), this._imgHeight = t3.container.measureCheckHeight();
    var c2 = this.$_getChecked(t3, i2.value, i2.index, this._getCheckedCallback), d2 = s2.id = "".concat(e2.FOR_ID, "-").concat(i2.dataColumn.$_hash, "-").concat(i2.item.index);
    if (l2.setAttribute("for", d2), s2.checked = c2, s2.indeterminate = this._threeStates && void 0 === c2, s2.disabled = this._readOnlySetDisabled && !this.canEdit(), this._useChanged = this._useImages !== this._oldUsed, this._useChanged && (this._oldUsed ? (h2.removeChild(a2), this._check.style.display = "inline-block") : (h2.insertBefore(a2, this._check), this._check.style.display = "none")), this._oldUsed = this._useImages, this._useImages && (c2 ? (a2.className = this._checkedStyle, a2.ariaChecked = "true") : void 0 === c2 && this.threeStates ? (a2.className = this._intermediateStyle, a2.ariaChecked = "mixed") : (a2.className = this._uncheckedStyle, a2.ariaChecked = "false"), this._readOnlySetDisabled && !this.canEdit() ? (a2.className += " disabled", a2.ariaDisabled = "true") : a2.removeAttribute("aria-disabled"), u2 = a2), o2.merged && this.canEdit() && !Ot.included(this.checkLocation, N.TOP_EDGE, N.BOTTOM_EDGE) && o2.focused || h2.style.removeProperty("top"), this.$_setSpanText(this._makeText(t3, i2, o2)), this._oldLocation != this._checkLocation) {
      switch (this._checkLocation) {
        case N.LEFT:
          this.$_layoutLeft(h2, u2, l2);
          break;
        case N.RIGHT:
          this.$_layoutRight(h2, u2, l2);
          break;
        case N.TOP:
          this.$_layoutTop(h2, u2, l2);
          break;
        case N.BOTTOM:
          this.$_layoutBottom(h2, u2, l2);
          break;
        case N.LEFT_EDGE:
          this.$_layoutLeftEdge(h2, u2, l2);
          break;
        case N.RIGHT_EDGE:
          this.$_layoutRightEdge(h2, u2, l2);
          break;
        case N.TOP_EDGE:
          this.$_layoutTopEdge(h2, u2, l2, r2, n2);
          break;
        case N.BOTTOM_EDGE:
          this.$_layoutBottomEdge(h2, u2, l2, r2, n2);
          break;
        case N.CENTER:
          this.$_layoutCenter(h2, u2, l2);
          break;
        default:
          this.$_layoutLeft(h2, u2, l2);
      }
      this._oldLocation = this._checkLocation;
    }
    this._checkLocation == N.TOP_EDGE || this._checkLocation == N.BOTTOM_EDGE ? this._setHeight(n2) : this._clearHeight();
  }, e2.prototype.canEditClickAt = function(t3) {
    return this.preventDefaultEditClick(t3), t3.target === this._check || t3.target === this._image;
  }, e2.prototype.preventDefaultEditClick = function(t3) {
    t3.target === this._check && t3.preventDefault();
  }, e2.prototype._doEditClick = function(t3, e3, i2) {
    if (e3.target === this._check || e3.target === this._image) return this.$_edit(t3, i2), true;
  }, e2.prototype.canEditKey = function(t3) {
    return (this.spaceKey && 32 == t3.keyCode || this.enterKey && 13 == t3.keyCode) && !Ot.specialKey(t3);
  }, e2.prototype._doEditKey = function(t3, e3, i2) {
    return this.$_edit(t3, i2), true;
  }, e2.prototype._doItemClick = function() {
    this._check.click();
  }, e2.prototype.moveClickElement = function(t3, e3) {
    var i2 = this._dom;
    e3 || !this.canEdit() || Ot.included(N.TOP_EDGE, N.BOTTOM_EDGE) || (i2.style.top = t3 + "px");
  }, e2.prototype.$_resetValues = function() {
    var t3;
    if (this._values = {}, this._falseValues) if (t3 = this._falseValues.split(",")) {
      var e3 = void 0;
      this._falseValue = (e3 = t3.length) > 0 ? t3[0] : void 0;
      for (var i2 = 0; i2 < e3; i2++) this._values[t3[i2]] = false;
    } else this._falseValue = void 0;
    if (this._trueValues) if (t3 = this._trueValues.split(",")) {
      e3 = void 0;
      this._trueValue = (e3 = t3.length) > 0 ? t3[0] : void 0;
      for (i2 = 0; i2 < e3; i2++) this._values[t3[i2]] = true;
    } else this._trueValue = void 0;
  }, e2.prototype.$_getChecked = function(t3, e3, i2, o2) {
    if (o2) return o2(t3.handler, i2.itemIndex, i2.dataColumn, e3);
    var r2 = i2.dataColumn;
    if (r2 && r2.valueType === a.OBJECT) {
      var n2 = r2.getField(), s2 = r2.objectKey || n2.objectKey;
      e3 = null == e3 ? void 0 : e3[s2];
    }
    if ("boolean" == typeof e3) return e3;
    var l2 = String(e3);
    return this._values.hasOwnProperty(l2) ? this._values[l2] : this._threeStates && (this._strictValue || "" == e3 || null == e3) ? void 0 : Boolean(e3);
  }, e2.prototype.$_edit = function(t3, e3) {
    var i2, o2 = t3.grid, r2 = t3.dataColumn, n2 = t3.value, s2 = this.$_getChecked(o2, t3.value, t3, this._getCheckedCallback);
    i2 = !s2 && (void 0 === s2 || (!this._threeStates || void 0));
    var l2 = this._setCheckedCallback;
    if (l2 ? i2 = l2(o2.handler, t3.itemIndex, t3.dataColumn, n2, i2) : void 0 !== this._trueValue && i2 ? i2 = this._trueValue : void 0 !== this._falseValue && false === i2 && (i2 = this._falseValue), r2 && r2.valueType === a.OBJECT) {
      var h2 = r2.getField(), u2 = n2 || {};
      u2[r2.objectKey || h2.objectKey] = i2, e3.value = u2;
    } else e3.value = i2;
  }, e2.prototype.$_layoutLeft = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutLeft.call(this, e3, n2, o2, r2);
  }, e2.prototype.$_layoutRight = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutRight.call(this, e3, n2, o2, r2);
  }, e2.prototype.$_layoutTop = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutTop.call(this, e3, n2, o2, r2);
  }, e2.prototype.$_layoutBottom = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutBottom.call(this, e3, n2, o2, r2);
  }, e2.prototype.$_layoutLeftEdge = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutLeftEdge.call(this, e3, n2, o2, this._imgWidth, r2);
  }, e2.prototype.$_layoutRightEdge = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutRightEdge.call(this, e3, n2, o2, this._imgWidth, r2);
  }, e2.prototype.$_layoutTopEdge = function(e3, i2, o2, r2, n2) {
    var s2 = this._useImages, a2 = s2 ? this._image : i2;
    t2.prototype.$_layoutTopEdge.call(this, e3, a2, o2, r2, n2, this._imgWidth, this._imgHeight, s2);
  }, e2.prototype.$_layoutBottomEdge = function(e3, i2, o2, r2, n2) {
    var s2 = this._useImages, a2 = s2 ? this._image : i2;
    t2.prototype.$_layoutBottomEdge.call(this, e3, a2, o2, r2, n2, this._imgWidth, this._imgHeight, s2);
  }, e2.prototype.$_layoutCenter = function(e3, i2, o2) {
    var r2 = this._useImages, n2 = r2 ? this._image : i2;
    t2.prototype.$_layoutCenter.call(this, e3, n2, o2, r2);
  }, e2.prototype.$_setImageMiddle = function(t3, e3, i2) {
    (e3 != this._imgMiddle || i2) && (this._imgMiddle = e3);
  }, e2.prototype.$_getStyleName = function() {
    return String(this._checkLocation) || String(N.LEFT);
  }, e2.TYPE = "check", e2.STYLE = "rg-check-renderer", e2.FOR_ID = "$$-check-cell-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.CHECKED_STYLE = "rg-check-renderer-checked", e2.UNCHECKED_STYLE = "rg-check-renderer-unchecked", e2.INTERMEDIATE_STYLE = "rg-check-renderer-intermediate", e2;
}(Jr);
var on = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._radioLocation = N.LEFT, e3._direction = J.HORIZONTAL, e3._itemDirection = J.HORIZONTAL, e3._itemReverse = false, e3._useCtrlNumber = false, e3._wrap = false, e3._editable = true, e3._multiSelect = true, e3._useImages = false, e3._views = null, e3.refreshFocusChanged = true, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values || this.index.dataColumn.values;
  }, set: function(t3) {
    t3 && Array.isArray(t3) ? this._values = t3.concat() : this._values = void 0, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labels", { get: function() {
    return this._labels || this.index.dataColumn.labels;
  }, set: function(t3) {
    t3 && Array.isArray(t3) ? this._labels = t3.concat() : this._labels = void 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "direction", { get: function() {
    return this._direction;
  }, set: function(t3) {
    this._direction = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemDirection", { get: function() {
    return this._itemDirection;
  }, set: function(t3) {
    this._itemDirection = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemReverse", { get: function() {
    return this._itemReverse;
  }, set: function(t3) {
    this._itemReverse = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useCtrlNumber", { get: function() {
    return this._useCtrlNumber;
  }, set: function(t3) {
    this._useCtrlNumber = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    this._itemGap = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "gap", { get: function() {
    return this._gap;
  }, set: function(t3) {
    this._gap = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wrap", { get: function() {
    return this._wrap;
  }, set: function(t3) {
    this._wrap = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, set: function(t3) {
    this._editable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "multiSelect", { get: function() {
    return this._multiSelect;
  }, set: function(t3) {
    this._multiSelect = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useImages", { get: function() {
    return this._useImages;
  }, set: function(t3) {
    this._useImages = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "disabledCallback", { get: function() {
    return this._disabledCallback;
  }, set: function(t3) {
    this._disabledCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "keyToValueCallback", { get: function() {
    return this._keyToValueCallback;
  }, set: function(t3) {
    this._keyToValueCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickOnlyFocusedCell", { get: function() {
    return !this.grid.editOptions.commitByCell || this._clickOnlyFocusedCell;
  }, set: function(t3) {
    this._clickOnlyFocusedCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueSeparator", { get: function() {
    var t3 = this.index && this.index.dataColumn;
    return t3 && t3.valueSeparator || ",";
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(i2) {
    t2.prototype._doInitContent.call(this, i2);
    var o2 = It(i2), r2 = this._container = o2.createElement("div");
    r2.className = e2.CONTAINER_STYLE;
    var n2 = r2.style;
    for (this._direction === J.VERTICAL && (n2.flexDirection = "column"), this._gap > 0 ? n2.gap = this._gap + "px" : n2.removeProperty("gap"), this._wrap ? n2.flexWrap = "wrap" : n2.removeProperty("flex-wrap"); this._views && this._views.length > 0; ) {
      var s2 = this._views.pop();
      s2 && this.$_removeView(s2);
    }
    i2.appendChild(r2);
  }, e2.prototype._doInitOptions = function() {
  }, e2.prototype._doRenderCell = function(t3, i2, o2, r2, n2) {
    var s2 = this._container;
    o2.merged && this.canEdit() && o2.focused || s2.style.removeProperty("top");
    var a2 = this.$_setItems(t3, i2.item);
    for (this._views || (this._views = []); this._views.length < a2; ) this._views.push(this.$_addView(s2));
    for (; this._views.length > a2; ) {
      (f2 = this._views.pop()) && this.$_removeView(f2);
    }
    for (var l2 = i2.value, h2 = this._multiSelect && l2 ? l2.split(this.valueSeparator) : [], u2 = this._items, c2 = u2.map(function(t4) {
      return t4.value;
    }), d2 = u2.map(function(t4) {
      return t4.label;
    }), p2 = 0; p2 < this._views.length; p2++) {
      var f2 = this._views[p2];
      this.$_setProps(f2), f2.label[this._textProp] = d2[p2] || c2[p2];
      var _2 = f2.radio.id = "".concat(e2.FOR_ID, "-").concat(i2.dataColumn.$_hash, "-").concat(i2.item.index, "-").concat(c2[p2]);
      f2.label.htmlFor = _2;
      var g2 = this._disabledCallback && this._disabledCallback.call(t3.handler, t3.handler, i2.index.itemIndex, i2.index.dataColumn, c2[p2]);
      f2.radio.disabled = g2, f2.image.className = e2.IMAGE_STYLE, this._multiSelect ? (Ot.addClassName(f2.image, "check"), (f2.radio.checked = h2.indexOf(c2[p2]) >= 0) ? Ot.addClassName(f2.image, "checked") : Ot.addClassName(f2.image, "unchecked")) : (Ot.addClassName(f2.image, "radio"), (f2.radio.checked = c2[p2] === l2) ? Ot.addClassName(f2.image, "checked") : Ot.addClassName(f2.image, "unchecked")), g2 ? (Ot.addClassName(f2.div, "disabled"), Ot.addClassName(f2.image, "disabled")) : (Ot.removeClassName(f2.div, "disabled"), Ot.removeClassName(f2.image, "disabled"));
    }
  }, Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doClearContent = function(e3) {
    Ar.clearFlex(e3), t2.prototype._doClearContent.call(this, e3);
  }, e2.prototype.canEdit = function() {
    var t3 = this.grid.editOptions, e3 = t3.columnEditableFirst, i2 = this.editable;
    if (e3) {
      if (!(null != i2 ? i2 : t3.editable)) return false;
    } else if (!t3.editable || !i2) return false;
    return i2;
  }, e2.prototype.canEditClickAt = function(t3) {
    return this.preventDefaultEditClick(t3), this.$_canClick(t3.target);
  }, e2.prototype.canEditKey = function(t3) {
    var e3, i2 = this._keyToValueCallback, o2 = this._items.map(function(t4) {
      return t4.value;
    });
    if (this._keyValue = null, i2) this._keyValue = e3 = this._keyToValueCallback.call(this.grid.handler, this.grid.handler, this.index.itemIndex, this.index.dataColumn, t3, o2);
    else if (this._useCtrlNumber && Ot.ctrlKey(t3) && !t3.shiftKey && !t3.altKey && /[0-9]/.test(t3.key)) {
      t3.preventDefault();
      var r2 = parseInt(t3.key);
      this._items && this._items.length > 0 && this._items.length >= r2 && (this._keyValue = e3 = this._items[r2 - 1].value);
    }
    return !!e3;
  }, e2.prototype._doItemClick = function(t3) {
    if (this._keyValue) for (var e3 = 0; e3 < this._items.length; e3++) this._items[e3].value === this._keyValue && this._views[e3].radio.click();
  }, e2.prototype._doEditClick = function(t3, e3, i2) {
    if (this.$_canClick(e3.target)) return this.$_edit(t3, i2, e3.target), true;
  }, e2.prototype.moveClickElement = function(t3, e3) {
    var i2 = this._dom;
    !e3 && this.canEdit() && (i2.style.top = t3 + "px");
  }, e2.prototype.$_setItems = function(t3, e3) {
    var i2 = [], o2 = [], r2 = this.index, n2 = r2.dataRow;
    if (e3 instanceof Hr && (t3.isItemEdited() || (n2 = e3.firstDataItem.dataRow)), this._values && this._values.length > 0) i2 = this._values, o2 = this._labels;
    else if (r2.dataColumn && r2.item && (n2 >= 0 || $o(e3.itemState))) {
      var s2 = r2.dataColumn;
      if (s2.lookupSource) {
        for (var a2 = s2.lookupKeyFieldIds, l2 = [], h2 = 0; h2 < a2.length - 1; h2++) l2.push(e3.getData(a2[h2]));
        var u2 = s2.lookupSource.getTextDomain(l2);
        u2 && u2.values && u2.values.length > 0 && (i2 = u2.keys, o2 = u2.values);
      } else s2.values && s2.values.length > 0 && (i2 = s2.values, o2 = s2.labels);
    }
    return this._items = i2.map(function(t4, e4) {
      return { value: t4, label: o2 && o2[e4] || i2[e4] };
    }), this._items ? this._items.length : 0;
  }, e2.prototype.$_setProps = function(t3) {
    var e3 = t3.div, i2 = t3.image, o2 = t3.radio;
    t3.label;
    var r2 = e3.style, n2 = this._itemDirection === J.VERTICAL ? "column" : "row";
    r2.flexDirection = n2 + "".concat(this._itemReverse ? "-reverse" : ""), this._itemGap > 0 ? r2.gap = this._itemGap + "px" : r2.removeProperty("gap"), o2.type = this._multiSelect ? "checkbox" : "radio", (r2 = o2.style).display = this._useImages ? "none" : "", (r2 = i2.style).display = this._useImages ? "" : "none";
  }, e2.prototype.$_addView = function(t3) {
    var i2 = It(t3), o2 = i2.createElement("div");
    o2.className = e2.ITEM_STYLE, o2.style;
    var r2 = i2.createElement("input");
    r2.tabIndex = -1;
    var n2 = i2.createElement("span"), s2 = i2.createElement("label");
    return s2.style, o2.appendChild(r2), o2.appendChild(n2), o2.appendChild(s2), t3.appendChild(o2), { div: o2, radio: r2, image: n2, label: s2 };
  }, e2.prototype.$_removeView = function(t3) {
    var e3 = t3.div;
    e3.removeChild(t3.radio), e3.removeChild(t3.image), e3.removeChild(t3.label), Ot.detach(e3);
  }, e2.prototype.$_canClick = function(t3) {
    for (var e3 = 0; this._views && e3 < this._views.length; e3++) {
      var i2 = this._views[e3];
      if (Ot.included(t3, i2.radio, i2.image, i2.label)) return true;
    }
    return false;
  }, e2.prototype.$_edit = function(t3, e3, i2) {
    for (var o2, r2 = t3.getValue(), n2 = this._multiSelect && r2 ? r2.split(this.valueSeparator) : [], s2 = this._items.map(function(t4) {
      return t4.value;
    }), a2 = [], l2 = 0; l2 < this._views.length; l2++) {
      var h2 = this._views[l2];
      if (Ot.included(i2, h2.radio, h2.image, h2.label)) {
        o2 = s2[l2];
        break;
      }
    }
    if (this._multiSelect) {
      if (n2.indexOf(o2) >= 0) n2.splice(n2.indexOf(o2), 1), a2 = n2;
      else for (l2 = 0; l2 < s2.length; l2++) n2.indexOf(s2[l2]) >= 0 ? a2.push(s2[l2]) : s2[l2] === o2 && a2.push(o2);
      o2 = a2.join(this.valueSeparator);
    }
    e3.value = o2;
  }, e2.TYPE = "multicheck", e2.STYLE = "rg-multicheck-renderer", e2.ITEM_STYLE = "rg-multicheck-renderer-item", e2.IMAGE_STYLE = "rg-multicheck-image", e2.CONTAINER_STYLE = "rg-multicheck-container", e2.FOR_ID = "$$-radio-cell-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(zr);
var rn = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._doInitContent = function(e3) {
    t2.prototype._doInitContent.call(this, e3), e3.style.setProperty("display", "flex", "important");
  }, e2.prototype._doClearContent = function(e3) {
    t2.prototype._doClearContent.call(this, e3), Ar.clearFlex(e3);
  }, e2.prototype.$_layoutLeft = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT);
  }, e2.prototype.$_layoutRight = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT);
  }, e2.prototype.$_layoutTop = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP);
  }, e2.prototype.$_layoutBottom = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM);
  }, e2.prototype.$_layoutLeftEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT_EDGE);
  }, e2.prototype.$_layoutRightEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT_EDGE);
  }, e2.prototype.$_layoutTopEdge = function(t3, e3, i2, o2, r2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP_EDGE);
  }, e2.prototype.$_layoutBottomEdge = function(t3, e3, i2, o2, r2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM_EDGE);
  }, e2.prototype.$_layoutCenter = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.CENTER);
  }, e2;
}(en);
var nn = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._buttonStyle = e2.BUTTON_STYLE, i2._hideWhenEmpty = true, i2._spaceKey = true, i2._enterKey = false, i2._itemClickable = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "buttonStyle", { get: function() {
    return this._buttonStyle;
  }, set: function(t3) {
    t3 != this._buttonStyle && (this._buttonStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideWhenEmpty", { get: function() {
    return this._hideWhenEmpty;
  }, set: function(t3) {
    t3 != this._hideWhenEmpty && (this._hideWhenEmpty = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spaceKey", { get: function() {
    return this._spaceKey;
  }, set: function(t3) {
    this._spaceKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterKey", { get: function() {
    return this._enterKey;
  }, set: function(t3) {
    this._enterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._button = It(t3).createElement("button");
    e3.type = "button", e3.tabIndex = -1, e3.style.display = "inline-block", t3.appendChild(e3);
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._button, s2 = n2[this._textProp] = this._makeText(t3, e3, i2);
    n2.setAttribute("class", this._buttonStyle), n2.style.visibility = this._hideWhenEmpty && this._isEmpty(s2) ? "hidden" : "";
  }, e2.prototype.canClick = function(t3) {
    return t3.target === this._button;
  }, e2.prototype.canClickSpaceKey = function(t3) {
    return (this.spaceKey && 32 == t3.keyCode || this.enterKey && 13 === t3.keyCode) && !Ot.specialKey(t3);
  }, e2.prototype._doClick = function(t3, e3, i2) {
    if (e3.target === this._button || "keydown" === e3.type) return { type: this.type, value: t3.value };
  }, e2.prototype._doItemClick = function() {
    this._button.click();
  }, e2.TYPE = "button", e2.STYLE = "rg-button-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.BUTTON_STYLE = "rg-button-renderer-button", e2;
}(zr);
var sn = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._spaceKey = true, e3._enterKey = false, e3._hideWhenEmpty = true, e3._itemClickable = true, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "baseUrl", { get: function() {
    return this._baseUrl;
  }, set: function(t3) {
    t3 != this._baseUrl && (this._baseUrl = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "linkField", { get: function() {
    return this._linkField;
  }, set: function(t3) {
    t3 != this._linkField && (this._linkField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "urlCallback", { get: function() {
    return this._urlCallback;
  }, set: function(t3) {
    t3 !== this._urlCallback && (this._urlCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleField", { get: function() {
    return this._titleField;
  }, set: function(t3) {
    t3 != this._titleField && (this._titleField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleCallback", { get: function() {
    return this._titleCallback;
  }, set: function(t3) {
    t3 !== this._titleCallback && (this._titleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spaceKey", { get: function() {
    return this._spaceKey;
  }, set: function(t3) {
    this._spaceKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterKey", { get: function() {
    return this._enterKey;
  }, set: function(t3) {
    this._enterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "classCallback", { get: function() {
    return this._classCallback;
  }, set: function(t3) {
    this._classCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "target", { get: function() {
    return this._target;
  }, set: function(t3) {
    this._target = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideWhenEmpty", { get: function() {
    return this._hideWhenEmpty;
  }, set: function(t3) {
    this._hideWhenEmpty = true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._anchor = It(t3).createElement("a");
    e3.tabIndex = -1, t3.appendChild(e3);
  }, e2.prototype._doInitOptions = function() {
    this._baseUrl = this._linkField = this._urlCallback = this._titleField = this._titleCallback = this._url = this._classCallback = void 0;
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._anchor, s2 = this._makeText(t3, e3, i2);
    n2[this._textProp] = s2, this._url = "", "#" === this._baseUrl ? (n2.removeAttribute("target"), n2.href = "#") : (this._url = this.$_getUrl(t3, e3), this._url && (n2.target = null == this.target ? "_blank" : this.target, n2.href = this._url));
    var a2 = this.$_getTitle(t3, e3);
    a2 ? n2.title = a2 : delete n2.title;
    var l2 = this.$_getStyle(t3, e3);
    l2 ? n2.className = l2 : n2.removeAttribute("class"), this.hideWhenEmpty && !s2 ? Ot.detach(n2) : Ot.addChild(this._dom, n2);
  }, e2.prototype.preventDefaultClick = function(t3) {
    t3.target === this._anchor && (t3.preventDefault(), t3.stopImmediatePropagation());
  }, e2.prototype.canClick = function(t3) {
    return t3.target === this._anchor;
  }, e2.prototype._doClick = function(t3, e3, i2) {
    if (e3.target === this._anchor || "keydown" === e3.type) return { type: this.type, url: this._url, value: t3.value };
  }, e2.prototype.canClickSpaceKey = function(t3) {
    return (this.spaceKey && 32 == t3.keyCode || this.enterKey && 13 === t3.keyCode) && !Ot.specialKey(t3);
  }, e2.prototype._doItemClick = function() {
    this._anchor.click();
  }, e2.prototype.$_getUrl = function(t3, e3) {
    var i2 = "", o2 = this._urlCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), i2 || (i2 = this._linkField ? this._getValue(t3, e3, this._linkField) : e3.value, this._baseUrl && (i2 = this._baseUrl + i2)), i2 || "";
  }, e2.prototype.$_getTitle = function(t3, e3) {
    var i2 = "", o2 = this._titleCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), !i2 && this._titleField && (i2 = this._getValue(t3, e3, this._titleField)), i2 || "";
  }, e2.prototype.$_getStyle = function(t3, e3) {
    var i2 = "", o2 = this._classCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), i2 || "";
  }, e2.TYPE = "link", e2.STYLE = "rg-link-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(zr);
var an = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._shapeStyle = e2.SHAPE_STYLE, i2._shape = Nr.STAR, i2._shapeWidth = 16, i2._shapeHeight = 16, i2._shapeLocation = N.LEFT, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "shapeStyle", { get: function() {
    return this._shapeStyle;
  }, set: function(t3) {
    t3 != this._shapeStyle && (this._shapeStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shape", { get: function() {
    return this._shape;
  }, set: function(t3) {
    t3 != this._shape && (this._shape = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shapeMap", { get: function() {
    return this._shapeMap;
  }, set: function(t3) {
    t3 !== this._shapeMap && (this._shapeMap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shapeCallback", { get: function() {
    return this._shapeCallback;
  }, set: function(t3) {
    t3 != this._shapeCallback && (this._shapeCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shapeWidth", { get: function() {
    return this._shapeWidth;
  }, set: function(t3) {
    this._shapeWidth !== t3 && (this._shapeWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shapeHeight", { get: function() {
    return this._shapeHeight;
  }, set: function(t3) {
    this._shapeHeight !== t3 && (this._shapeHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "shapeLocation", { get: function() {
    return this._shapeLocation;
  }, set: function(t3) {
    t3 != this._shapeLocation && (this._oldLocation = this._shapeLocation, this._shapeLocation = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = (this._svg = Tr.createSVG(t3)).style, o2 = isNaN(this._shapeWidth) || this._shapeWidth <= 0 ? 16 : this._shapeWidth, r2 = isNaN(this._shapeHeight) || this._shapeHeight <= 0 ? 16 : this._shapeHeight;
    i2.display = "inline-block", i2.width = o2 + "px", i2.height = r2 + "px";
    var n2 = this._span = e3.createElement("span");
    t3.appendChild(n2), this._br = e3.createElement("br");
  }, e2.prototype._reset = function() {
    t2.prototype._reset.call(this), this._splitted = this._reversed = void 0;
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg, s2 = this._span;
    if (this._runShape = this.$_getShape(t3, e3), n2.setAttribute("class", this._shapeStyle), Tr.renderSVG(t3, n2, this.$_render.bind(this)), this.$_setSpanText(this._makeText(t3, e3, i2)), this._oldLocation != this._shapeLocation) {
      switch (this._shapeLocation) {
        case N.LEFT:
          this.$_layoutLeft(this._dom, n2, s2, false);
          break;
        case N.RIGHT:
          this.$_layoutRight(this._dom, n2, s2, false);
          break;
        case N.TOP:
          this.$_layoutTop(this._dom, n2, s2, false);
          break;
        case N.BOTTOM:
          this.$_layoutBottom(this._dom, n2, s2, false);
          break;
        case N.LEFT_EDGE:
          this.$_layoutLeftEdge(this._dom, n2, s2, this._shapeWidth, false);
          break;
        case N.RIGHT_EDGE:
          this.$_layoutRightEdge(this._dom, n2, s2, this._shapeWidth, false);
          break;
        case N.TOP_EDGE:
          this.$_layoutTopEdge(this._dom, n2, s2, o2, r2, this._shapeWidth, this._shapeHeight, false);
          break;
        case N.BOTTOM_EDGE:
          this.$_layoutBottomEdge(this._dom, n2, s2, o2, r2, this._shapeWidth, this._shapeHeight, false);
          break;
        case N.CENTER:
          this.$_layoutCenter(this._dom, n2, s2, false);
          break;
        default:
          this.$_layoutLeft(this._dom, n2, s2, false);
      }
      this._oldLocation = this._shapeLocation;
    }
    this._shapeLocation == N.TOP_EDGE || this._shapeLocation == N.BOTTOM_EDGE ? this._setHeight(r2) : this._clearHeight();
  }, e2.prototype.$_getShape = function(t3, e3) {
    var i2 = void 0, o2 = this._shapeCallback;
    return o2 && (i2 = o2.call(this, t3.handler, e3)), null == i2 && this._shapeMap && (i2 = this._shapeMap[e3.value]), null == i2 && (i2 = this._shape), i2;
  }, e2.prototype.$_getDrawing = function(t3) {
    var e3;
    return t3 && ("ellipse" == (t3 = t3.toLowerCase()) ? e3 = this._ellipse ? this._ellipse : this._ellipse = new $r() : (e3 = this._polygon ? this._polygon : this._polygon = new Nr(t3), this._polygon.shape = t3)), e3;
  }, e2.prototype.$_render = function(t3, e3, i2, o2) {
    if (this._runShape) {
      var r2 = this.$_getDrawing(this._runShape);
      r2 && r2.draw(e3, i2, o2);
    }
  }, e2.TYPE = "shape", e2.STYLE = "rg-shape-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.SHAPE_STYLE = "rg-shape-renderer-shape", e2;
}(Jr);
var ln = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._doInitContent = function(e3) {
    e3.style.setProperty("display", "flex", "important"), t2.prototype._doInitContent.call(this, e3);
  }, e2.prototype._doClearContent = function(e3) {
    t2.prototype._doClearContent.call(this, e3), Ar.clearFlex(e3);
  }, e2.prototype.$_layoutLeft = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT);
  }, e2.prototype.$_layoutRight = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT);
  }, e2.prototype.$_layoutTop = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP);
  }, e2.prototype.$_layoutBottom = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM);
  }, e2.prototype.$_layoutLeftEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.LEFT_EDGE);
  }, e2.prototype.$_layoutRightEdge = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.RIGHT_EDGE);
  }, e2.prototype.$_layoutTopEdge = function(t3, e3, i2, o2, r2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.TOP_EDGE);
  }, e2.prototype.$_layoutBottomEdge = function(t3, e3, i2, o2, r2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.BOTTOM_EDGE);
  }, e2.prototype.$_layoutCenter = function(t3, e3, i2) {
    Ar.layoutFlex(t3, e3, i2, this._itemGap, this._verticalEdgePad, N.CENTER);
  }, e2;
}(an);
var hn = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._barStyle = e2.BAR_STYLE, i2._inactiveStyle = e2.INACTIVE_STYLE, i2._barCount = 10, i2._minimum = NaN, i2._maximum = NaN, i2._startRate = 50, i2._endRate = 100, i2._absoluteValue = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doInitOptions = function() {
    this._barStyle = e2.BAR_STYLE, this._inactiveStyle = e2.INACTIVE_STYLE, this._barCount = 10, this._minimum = NaN, this._maximum = NaN, this._startRate = 50, this._endRate = 100, this._absoluteValue = false;
  }, Object.defineProperty(e2.prototype, "barStyle", { get: function() {
    return this._barStyle;
  }, set: function(t3) {
    t3 != this._barStyle && (this._barStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "inactiveStyle", { get: function() {
    return this._inactiveStyle;
  }, set: function(t3) {
    t3 != this._inactiveStyle && (this._inactiveStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "barCount", { get: function() {
    return this._barCount;
  }, set: function(t3) {
    (t3 = Math.max(2, t3)) != this._barCount && (this._barCount = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minimum", { get: function() {
    return this._minimum;
  }, set: function(t3) {
    t3 != this._minimum && (this._minimum = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maximum", { get: function() {
    return this._maximum;
  }, set: function(t3) {
    t3 != this._maximum && (this._maximum = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startRate", { get: function() {
    return this._startRate;
  }, set: function(t3) {
    !isNaN(t3) && t3 >= 0 && t3 <= 100 && t3 !== this._startRate && (this._startRate = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endRate", { get: function() {
    return this._endRate;
  }, set: function(t3) {
    !isNaN(t3) && t3 >= 0 && t3 <= 100 && t3 !== this._endRate && (this._endRate = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "absoluteValue", { get: function() {
    return this._absoluteValue;
  }, set: function(t3) {
    t3 != this._absoluteValue && (this._absoluteValue = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._div = It(t3).createElement("div");
    e3.style.position = "relative", e3.style.height = "100%", t3.appendChild(e3);
    var i2 = (this._svg = Tr.createSVG(e3)).style;
    i2.position = "absolute", i2.left = "0px", i2.width = "100%", i2.top = (100 - Math.max(this._startRate, this._endRate)) / 2 + "%", i2.height = Math.max(this._startRate, this._endRate) + "%";
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg;
    this._value = parseFloat(e3.value), n2.setAttribute("class", this._barStyle), Tr.renderSVG2(t3, n2, this.$_render.bind(this));
  }, e2.prototype.$_render = function(t3, e3) {
    var i2 = this.absoluteValue ? Math.abs(this._value) : this._value;
    isNaN(this._minimum) || isNaN(this._maximum) || (i2 = this._barCount * (i2 - this._minimum) / (this._maximum - this._minimum));
    for (var o2 = 100 / Math.max(this._startRate, this._endRate), r2 = (100 - 2 * (this._barCount + 1)) / this._barCount, n2 = 0, s2 = this._startRate * o2, a2 = (this._endRate - this._startRate) / (this._barCount - 1), l2 = 0; l2 < this._barCount; l2++) {
      var h2 = l2 < i2 ? null : this._inactiveStyle;
      e3.sbounds(h2, n2 + "%", 100 - s2 + "%", r2 + "%", s2 + "%"), n2 += r2 + 2, s2 += a2;
    }
  }, e2.TYPE = "signalbar", e2.STYLE = "rg-signalbar-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.BAR_STYLE = "rg-signalbar-renderer-bar", e2.INACTIVE_STYLE = "rg-signalbar-renderer-inactive", e2;
}(zr);
var un = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._barStyle = e2.BAR_STYLE, i2._barcode = new Rr(), i2.$_render = (function(t3, e3, i3, o2) {
      this._value && (this._barcode.value = this._value, this._barcode.renders(e3, new it(0, 0, i3, 100)));
    }).bind(i2), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "barStyle", { get: function() {
    return this._barStyle;
  }, set: function(t3) {
    t3 != this._barStyle && (this._barStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._div = It(t3).createElement("div");
    e3.style.position = "relative", e3.style.height = "100%", t3.appendChild(e3);
    var i2 = (this._svg = Tr.createSVG(e3)).style;
    i2.position = "absolute", i2.left = "0px", i2.top = "0px", i2.width = "100%", i2.height = "100%";
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg;
    this._value = null == e3.value ? "" : String(e3.value), this._value && (this._value = this._value.toUpperCase()), n2.setAttribute("class", this._barStyle), Tr.renderSVG(t3, n2, this.$_render);
  }, e2.TYPE = "code39", e2.STYLE = "rg-code39-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.BAR_STYLE = "rg-code39-renderer-bar", e2;
}(zr);
var cn = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._barStyle = e2.BAR_STYLE, i2._barcode = new Sr(), i2.$_render = (function(t3, e3, i3, o2) {
      this._value && (this._barcode.value = this._value, this._barcode.renders(e3, new it(0, 0, i3, 100)));
    }).bind(i2), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "barStyle", { get: function() {
    return this._barStyle;
  }, set: function(t3) {
    t3 != this._barStyle && (this._barStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = this._div = It(t3).createElement("div");
    e3.style.position = "relative", e3.style.height = "100%", t3.appendChild(e3);
    var i2 = (this._svg = Tr.createSVG(e3)).style;
    i2.position = "absolute", i2.left = "0px", i2.top = "0px", i2.width = "100%", i2.height = "100%";
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg;
    this._value = null == e3.value ? "" : String(e3.value), n2.setAttribute("class", this._barStyle), Tr.renderSVG(t3, n2, this.$_render);
  }, e2.TYPE = "code128", e2.STYLE = "rg-code128-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2.BAR_STYLE = "rg-code128-renderer-bar", e2;
}(zr);
var dn = function(t2, e2) {
  var i2 = [];
  return e2 && e2.forEach(function(e3) {
    var o2 = e3.selector, r2 = t2.querySelectorAll(o2);
    Array.prototype.forEach.call(r2, function(t3) {
      var o3 = e3.event;
      if (o3) for (var r3 = 0, n2 = Object.keys(o3); r3 < n2.length; r3++) {
        var s2 = n2[r3];
        t3[s2] = o3[s2];
      }
      e3.renderCallback && i2.push({ elt: t3, callback: e3.renderCallback });
    });
  }), i2;
};
var pn = /\$\{[^{}]*\}/g;
var fn = function() {
  function t2() {
    this._template = "", this._tokens = [];
  }
  return Object.defineProperty(t2.prototype, "template", { get: function() {
    return this._template;
  }, set: function(t3) {
    this._template = t3, this.$_parse(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "pattern", { set: function(t3) {
    this._pattern = t3;
  }, enumerable: false, configurable: true }), t2.prototype.realize = function(t3, e2, i2, o2) {
    for (var r2 = "", n2 = 0, s2 = this._tokens; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      if ("string" == typeof a2) r2 += a2 || "";
      else if (1 == a2.type) r2 += e2.value || "";
      else if (2 == a2.type) r2 += e2.item.getData(t3.dataSource.getFieldIndex(a2.field)) || "";
      else if (4 === a2.type) {
        r2 += (e2 instanceof mr ? e2.getDisplayText(t3, i2) : e2.value) || "";
      } else if (5 === a2.type) {
        r2 += e2.item.index + "" || "";
      } else if (o2) {
        r2 += o2.call(this, t3.handler, e2, a2.field) || "";
      } else r2 += a2.field;
    }
    return r2;
  }, t2.prototype.realizeHeader = function(t3, e2, i2) {
    for (var o2, r2 = "", n2 = 0, s2 = this._tokens; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      if ("string" == typeof a2) r2 += a2;
      else if (1 == a2.type) r2 += t3.displayText;
      else if (null != (o2 = t3.getValue(a2.field))) r2 += String(o2);
      else if (e2) {
        r2 += e2.call(this, i2.handler, t3, a2.field) + "" || "";
      } else r2 += a2.field;
    }
    return r2;
  }, t2.prototype.realizeSummary = function(t3, e2, i2, o2) {
    for (var r2, n2 = this._tokens, s2 = "", a2 = t3.column, l2 = a2.grid, h2 = 0, u2 = n2; h2 < u2.length; h2++) {
      var c2 = u2[h2];
      "string" == typeof c2 ? s2 += c2 : 1 == c2.type ? s2 += e2.getDisplayText(i2) || "" : null != (r2 = t3.getValue(c2.field)) ? s2 += String(r2) : s2 += o2 ? (r2 = o2.call(this, l2.handler, a2, t3.summaryIndex, t3, c2.field)) || "" : c2.field;
    }
    return s2;
  }, t2.prototype.realizeGroupSummary = function(t3, e2, i2, o2) {
    for (var r2, n2 = this._tokens, s2 = "", a2 = t3.column, l2 = a2.grid, h2 = 0, u2 = n2; h2 < u2.length; h2++) {
      var c2 = u2[h2];
      "string" == typeof c2 ? s2 += c2 : 1 == c2.type ? s2 += e2.getDisplayText(i2) || "" : null != (r2 = t3.getValue(c2.field)) ? s2 += String(r2) : s2 += o2 ? (r2 = o2.call(this, l2.handler, a2, t3.summaryIndex, e2.index.item.parent, c2.field)) || "" : c2.field;
    }
    return s2;
  }, t2.prototype.$_parse = function(t3) {
    var e2 = this._tokens = [];
    if (t3) {
      for (var i2, o2 = t3.length, r2 = this._pattern || pn, n2 = 0; i2 = r2.exec(t3); ) {
        var s2 = i2[0], a2 = i2.index;
        a2 > n2 && (e2.push(t3.substring(n2, a2)), n2 = a2);
        var l2 = s2.substring(2, s2.length - 1), h2 = { type: "value" === l2 ? 1 : "text" === l2 ? 4 : 0 == l2.indexOf("value:") ? 2 : "itemindex" === l2 ? 5 : 3, field: l2 };
        2 == h2.type && (h2.field = h2.field.substring(6)), e2.push(h2), n2 += s2.length;
      }
      n2 < o2 && e2.push(t3.substring(n2, o2));
    }
  }, t2;
}();
var _n = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._output = void 0, e3._inputFocusable = false, e3._html = "", e3._parser = new fn(), e3.template = "<span>${value}</span>", e3._itemClickable = true, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "template", { get: function() {
    return this._parser.template;
  }, set: function(t3) {
    t3 != this._parser.template && (this._parser.template = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pattern", { set: function(t3) {
    t3 != this._pattern && (t3 instanceof RegExp ? this._pattern = t3 : this._pattern = t3 ? new RegExp(t3) : void 0, this._parser.pattern = this._pattern, this._parser.template = this.template);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "output", { get: function() {
    return this._output;
  }, set: function(t3) {
    this._output = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "callback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    t3 !== this._callback && (this._callback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueCallback", { get: function() {
    return this._valueCallback;
  }, set: function(t3) {
    t3 !== this._valueCallback && (this._valueCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "inputFocusable", { get: function() {
    return this._inputFocusable;
  }, set: function(t3) {
    this._inputFocusable !== t3 && (this._inputFocusable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateEvents", { get: function() {
    return this._templateEvents;
  }, set: function(t3) {
    this._templateEvents = Ot.makeArray(t3, true), this._changed();
  }, enumerable: false, configurable: true }), e2.prototype.clearAndAssignFrom = function(e3) {
    this.valueCallback = void 0, this.callback = void 0, this.pattern = void 0, this.template = "", t2.prototype.assignFrom.call(this, e3);
  }, Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), e2.prototype._doClearContent = function(e3) {
    t2.prototype._doClearContent.call(this, e3), this._html = null;
  }, e2.prototype.canClick = function(t3) {
    var e3 = xt(this._dom), i2 = t3.target;
    return !(i2 instanceof e3.HTMLTableCellElement && i2.className.indexOf("rg-") >= 0 || this._dom === i2);
  }, e2.prototype.click = function(t3, e3, i2) {
    return this._doClick(t3, e3, i2 || e3.target);
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._callback;
    n2 ? this.$_setHtml(n2.call(this, t3.handler, e3, o2, r2), this._templateEvents) : this.$_setHtml(this._parser.realize(t3, e3, i2, this._valueCallback), this._templateEvents);
  }, e2.prototype._doClick = function(t3, e3, i2) {
    return { type: this.type, target: e3.target, value: t3.value };
  }, e2.prototype.$_setHtml = function(t3, e3) {
    if (t3 != this._html) {
      var i2 = this._dom;
      this._html = t3, i2.innerHTML = t3, e3 && dn(i2, e3);
    }
  }, e2.TYPE = "html", e2;
}(zr);
var gn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._styleMap = {}, i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._styleMap = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return (this._styleMap[t3] || (this._styleMap[t3] = {}))[e3] = i2, true;
  }, e2.prototype.getCellStyle = function(t3, e3) {
    var i2 = this._styleMap[t3];
    return i2 && i2[e3];
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    if (null == t3) this._styleMap = {};
    else {
      var i2 = this._styleMap[t3];
      i2 && (e3 ? delete i2[e3] : delete this._styleMap[t3]);
    }
    return true;
  }, e2.prototype.connect = function(t3) {
    this._styleMap = {};
  }, e2.prototype.disconnect = function() {
    this._styleMap = {};
  }, e2.prototype.clearRows = function() {
    this._styleMap = {};
  }, e2.prototype.setRows = function() {
    this._styleMap = {};
  }, e2.prototype.removeRow = function(t3) {
    var e3 = this._owner.getItemOfRow(t3, true);
    e3 && delete this._styleMap[e3.dataRowId];
  }, e2.prototype.removeRows = function(t3) {
    var e3 = this;
    t3.forEach(function(t4) {
      var i2 = e3._owner.getItemOfRow(t4, true);
      i2 && delete e3._styleMap[i2.dataRowId];
    });
  }, e2;
}(ti);
var yn = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2;
}(dr);
var mn = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    return r2._runtime = new yn(), r2._owner = e3, r2._exprNode = xe.Default.parse(i2, ["value", "values"]), r2._runtime = new yn(), r2._callback = o2, r2;
  }
  return i(e2, t2), e2.clearCheckables = function(t3) {
    for (var e3 = t3.itemCount; e3--; ) t3.getItem(e3)._setCheckable(true);
  }, e2.prototype.connect = function(t3) {
    this._runtime.setDataSource(t3);
  }, e2.prototype.disconnect = function() {
  }, e2.prototype.clearRows = function() {
    e2.clearCheckables(this._owner);
  }, e2.prototype.setRows = function() {
    for (var t3 = this._owner._rows, e3 = t3.length; e3--; ) {
      var i2 = t3[e3];
      this.$_setCheckable(i2);
    }
  }, e2.prototype.insertRow = function(t3) {
    var e3 = this._owner.getItemOfRow(t3, true);
    this.$_setCheckable(e3);
  }, e2.prototype.insertRows = function(t3, e3) {
    for (var i2 = 0; i2 < e3; i2++) {
      var o2 = this._owner.getItemOfRow(t3 + i2, true);
      o2 instanceof jo && this.$_setCheckable(o2);
    }
  }, e2.prototype.updateRow = function(t3) {
    var e3 = this._owner.getItemOfRow(t3, true);
    this.$_setCheckable(e3);
  }, e2.prototype.updateRows = function(t3, e3) {
    for (var i2 = 0; i2 < e3; i2++) {
      var o2 = this._owner.getItemOfRow(t3 + i2, true);
      o2 instanceof jo && this.$_setCheckable(o2);
    }
  }, e2.prototype.updateRowList = function(t3) {
    for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
      var o2 = i2[e3], r2 = this._owner.getItemOfRow(o2, true);
      r2 instanceof jo && this.$_setCheckable(r2);
    }
  }, e2.prototype.changeStates = function(t3) {
    if (t3) for (var e3 = t3.length; e3--; ) {
      var i2 = this._owner.getItemOfRow(t3[e3], true);
      i2 instanceof jo && this.$_setCheckable(i2);
    }
  }, e2.prototype.$_setCheckable = function(t3) {
    var e3, i2 = this._callback;
    i2 ? e3 = i2.call(this, t3.dataSource.handler, t3) : (this._runtime.setItem(t3), e3 = this._exprNode.evaluate(this._runtime)), t3._setCheckable(e3);
  }, e2;
}(ti);
var bn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._checkableExpression = null, i2._rows = [], i2._filteredItems = [], i2._pageItems = [], i2._sortedItems = [], i2._pubItems = i2._rows, i2._items = i2._rows, i2._distinctRows = [], i2._rowCount = 0, i2._fixedCount = 0, i2._fixedSorting = false, i2._maxItemCount = 0, i2._itemCount = 0, i2._pubCount = 0, i2._filtered = false, i2._filtering = false, i2._filters = [], i2._filterRuntime = new hr(), i2._filterLock = 0, i2._fixedFiltering = false, i2._sorted = false, i2._sortFields = [], i2._sortDirections = [], i2._sortCases = [], i2._labelComparer = {}, i2._paging = false, i2._pagingSource = u.ROWS, i2._pageSize = 10, i2._pageCount = -1, i2._pageStartIndex = -1, i2._currPage = 0, i2._pageStart = 0, i2._summaryMap = null, i2._checkableTag = null, i2._cellStyleMapTag = new gn(i2), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    function e3(t3) {
      for (var e4 = 0, i2 = t3.length; e4 < i2; e4++) t3[e4] && t3[e4].dispose();
      t3.length = 0;
    }
    this.dataSource = null, e3(this._rows), e3(this._filteredItems), e3(this._pageItems), e3(this._sortedItems), e3(this._pubItems), e3(this._items), e3(this._distinctRows), this._filterRuntime && this._filterRuntime.dispose(), this._filterRuntime = null, this._sortFields.length = 0, this._labelComparer = null, this._summaryMap = null, this._checkableTag = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getCommandStates = function(t3) {
    var e3 = this._rows[t3];
    return e3 && e3._getExtents();
  }, e2.prototype.setCommandStates = function(t3, e3) {
    var i2 = this._rows[t3];
    null != e3 && i2 && i2._setExtents(e3);
  }, Object.defineProperty(e2.prototype, "isFilterOr", { get: function() {
    return void 0 === this._filterOr ? void 0 !== Ke.filterOr && Ke.filterOr : this._filterOr;
  }, set: function(t3) {
    t3 != this._filterOr && (this._filterOr = t3, this.$_buildItems(), this._fireRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isSorted", { get: function() {
    return this._sorted;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isPaging", { get: function() {
    return this._paging;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pageStartIndex", { get: function() {
    return this._pageStart;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return this._summaryMode || Ke.summaryMode || x.AGGREGATE;
  }, set: function(t3) {
    t3 != this._summaryMode && (this._summaryMode = t3, this.$_resetSummary(), this.$_buildItems(), this._fireRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortMode", { get: function() {
    return this._sortMode || Ke.sortMode || c.AUTO;
  }, set: function(t3) {
    this._sortMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterMode", { get: function() {
    return this._filterMode || Ke.filterMode || d.AUTO;
  }, set: function(t3) {
    this._filterMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "outerSort", { get: function() {
    return null != this._outerSort ? this._outerSort : Ke.sorting.outerSort;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortDataRow", { get: function() {
    return null != this._sortDataRow ? this._sortDataRow : Ke.sorting.sortDataRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableExpression", { get: function() {
    return this._checkableExpression;
  }, set: function(t3) {
    t3 != this._checkableExpression && (this._checkableExpression = t3, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), t3 && (this._checkableTag = new mn(this, t3), this._dataSource && this._checkableTag.connect(this._dataSource)));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableCallback", { set: function(t3) {
    this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), t3 && (this._checkableTag = new mn(this, null, t3), this._dataSource && this._checkableTag.connect(this._dataSource));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labelComparer", { get: function() {
    return this._labelComparer;
  }, set: function(t3) {
    this._labelComparer = t3 || {};
  }, enumerable: false, configurable: true }), e2.prototype.getFieldDomain = function(t3) {
    if (this._dataSource) {
      for (var e3 = this._rows.length, i2 = [], o2 = void 0, r2 = 0; r2 < e3; r2++) {
        var n2 = this._dataSource.getValue(r2, t3);
        n2 != o2 && i2.indexOf(n2) < 0 && i2.push(n2), o2 = n2;
      }
      return i2;
    }
  }, e2.prototype.beginFilter = function() {
    this._filterLock++;
  }, e2.prototype.endFilter = function(t3, e3, i2, o2) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = null), void 0 === i2 && (i2 = null), this._filterLock > 0 && (this._filterLock = Math.max(0, this._filterLock - 1), 0 == this._filterLock && t3 && this.applyFilters(true, e3, i2, o2));
  }, e2.prototype.hasFilter = function(t3) {
    var e3 = this._filters[t3];
    return e3 && e3.length > 0;
  }, e2.prototype.addFilter = function(t3, e3) {
    if (t3 >= 0) {
      var i2 = this._filters[t3];
      if (i2 || (i2 = [], this._filters[t3] = i2), e3.criteria || e3.callback) {
        var o2 = new ar(e3);
        return i2.push(o2), this.applyFilters(), o2;
      }
    }
  }, e2.prototype.clearAllFilters = function() {
    this._filtered && (this._filters = [], this.applyFilters());
  }, e2.prototype.hasFilters = function() {
    for (var t3 = this._filters.length, e3 = 0; e3 < t3; e3++) {
      var i2 = this._filters[e3];
      if (i2 && i2.length > 0) return true;
    }
    return false;
  }, e2.prototype.applyFilters = function(t3, e3, i2, o2) {
    if (void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = null), void 0 === i2 && (i2 = null), !(this._filterLock > 0)) {
      this.$_buildItems();
      try {
        t3 && this._fireRefresh();
      } finally {
        this._fireFiltered(e3, i2, o2);
      }
    }
  }, e2.prototype.orderBy = function(t3, e3, i2, o2) {
    var r2 = this;
    void 0 === t3 && (t3 = null), void 0 === e3 && (e3 = null), void 0 === i2 && (i2 = null), void 0 === o2 && (o2 = true), this._fireSort(t3, e3, i2), this._sortFields = [], this._sortDirections = [], this._sortCases = [];
    for (var n2 = t3 ? t3.length : 0, s2 = e3 ? e3.length : 0, a2 = i2 ? i2.length : 0, u2 = 0; u2 < s2; u2++) e3[u2] = e3[u2] == l.ASCENDING || e3[u2] == l.DESCENDING ? e3[u2] : l.ASCENDING;
    for (u2 = 0; u2 < n2; u2++) this._sortFields.push(t3[u2]), s2 > u2 ? this._sortDirections.push(e3[u2]) : s2 > 0 ? this._sortDirections.push(e3[s2 - 1]) : this._sortDirections.push(l.ASCENDING), a2 > u2 ? this._sortCases.push(i2[u2]) : a2 > 0 ? this._sortCases.push(i2[a2 - 1]) : this._sortCases.push(h.SENSITIVE);
    this._sorted = this.$_checkSorted(), this.$_buildItems();
    var c2 = this.outerSort;
    if (c2 && c2 instanceof Function) {
      var d2 = this._fireOuterSort(c2, this._sortFields, this._sortDirections);
      d2 instanceof Promise ? d2.then(function() {
        o2 && (r2._fireRefresh(), r2._fireSorted());
      }) : o2 && (this._fireRefresh(), this._fireSorted());
    } else o2 && (this._fireRefresh(), this._fireSorted());
  }, e2.prototype.getSortFields = function() {
    return this._sortFields.slice();
  }, e2.prototype.getSortDirections = function() {
    return this._sortDirections.slice();
  }, e2.prototype.getSortCases = function() {
    return this._sortCases.concat();
  }, e2.prototype.setPaging = function(t3, e3, i2, o2) {
    void 0 === e3 && (e3 = 10), void 0 === i2 && (i2 = -1), void 0 === o2 && (o2 = null), e3 = Math.max(e3, 1), i2 = Math.max(i2, -1), t3 == this._paging && e3 == this._pageSize && i2 == this._pageCount && o2 == this._pagingSource || (this._currPage = 0, this._paging = t3, this._pagingSource = o2, this._pageSize = e3, this._pageCount = i2, this.$_buildItems(), this._fireRefresh());
  }, Object.defineProperty(e2.prototype, "page", { get: function() {
    return this._paging ? this._currPage : -1;
  }, enumerable: false, configurable: true }), e2.prototype.setPage = function(t3, e3) {
    void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = -1), this._paging && (t3 = Math.max(0, Math.min(this.pageCount - 1, t3)), e3 = Math.max(-1, e3), t3 == this._currPage && e3 == this._pageStartIndex || (this._currPage = t3, this._pageStartIndex = e3, this.$_buildPage(), this._fireRefresh()));
  }, Object.defineProperty(e2.prototype, "pageCount", { get: function() {
    if (this._paging) {
      if (this._pageCount >= 0) return this._pageCount;
      var t3 = this.$_getPageItems();
      return Math.floor((t3.length + this._pageSize - 1) / this._pageSize);
    }
    return 0;
  }, set: function(t3) {
    this._paging && (t3 = Math.max(-1, t3)) != this._pageCount && (this._pageCount = t3, this.$_buildPage(), this._fireRefresh());
  }, enumerable: false, configurable: true }), e2.prototype.getPageOfDataRow = function(t3) {
    if (this._dataSource) {
      if (this._paging) {
        if (t3 < 0 || t3 >= this._dataSource.rowCount) return -1;
        var e3 = this.$_getPageItems();
        if (!e3 || !e3.length) return -1;
        for (var i2 = 0; i2 < e3.length; i2++) if (e3[i2].dataRow === t3) return Math.floor(i2 / this._pageSize);
        return -1;
      }
      return 0;
    }
  }, e2.prototype.getCheckedRows = function(t3) {
    if (this._dataSource) {
      for (var e3 = t3 ? this._dataSource.rowCount : this.itemCount, i2 = [], o2 = 0; o2 < e3; o2++) {
        var r2 = t3 ? this._rows[o2] : this._pubItems[o2];
        r2.checked && i2.push(r2.dataRow);
      }
      return i2;
    }
  }, e2.prototype.resetCheckables = function() {
    for (var t3 = this._rows.length; t3--; ) this._rows[t3]._setCheckable(true);
    this._fireRefresh();
  }, e2.prototype.applyCheckables = function() {
    this._checkableTag ? this._checkableTag.setRows() : mn.clearCheckables(this), this._fireRefresh();
  }, e2.prototype.setCheckFieldIndex = function(e3) {
    t2.prototype.setCheckFieldIndex.call(this, e3);
  }, e2.prototype.getJsonRows = function() {
    return this._pubItems.map(function(t3) {
      return t3.getRowObject();
    });
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return this._cellStyleMapTag.addCellStyle(t3, e3, i2);
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    return this._cellStyleMapTag.removeCellStyle(t3, e3);
  }, e2.prototype.getUserCellStyle = function(t3, e3) {
    return this._cellStyleMapTag.getCellStyle(t3, e3);
  }, Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._dataSource;
  }, set: function(t3) {
    if (t3 !== this._dataSource) {
      this.$_clearRows(true);
      var e3 = this._dataSource;
      e3 && (this._checkableTag && this._checkableTag.disconnect(), this._cellStyleMapTag.disconnect(), e3.disposing || (e3.removeTag(this._cellStyleMapTag), e3.removeListener(this), e3.unregisterCommandListener(this))), (e3 = this._dataSource = t3) && (this._checkableTag && this._checkableTag.connect(e3), this._cellStyleMapTag.connect(e3), e3.addTag(this._cellStyleMapTag), this.$_buildRows(), e3.addListener(this), e3.registerCommandListener(this)), this.disposing || (this.$_resetSummary(), this._fireReset(true));
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return this._pubCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._pubCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemLength", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCount", { get: function() {
    return this._fixedCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxItemCount", { get: function() {
    return this._maxItemCount;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._maxItemCount && (this._maxItemCount = t3, this._refreshItems());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorted", { get: function() {
    return this._sorted;
  }, enumerable: false, configurable: true }), e2.prototype.getMovable = function(t3) {
    return !this.sorted || t3 && this.sortMode === c.EXPLICIT;
  }, e2.prototype._hideDeletedChanged = function() {
    this.$_buildItems(), this._fireRefresh();
  }, e2.prototype.getItem = function(t3) {
    return t3 < 0 || t3 >= this._pubCount ? null : this._pubItems[t3];
  }, e2.prototype.getItems = function(t3, e3) {
    return this._pubItems.slice(t3, t3 + e3);
  }, e2.prototype.getIndexOfRow = function(t3) {
    if (t3 >= 0 && t3 < this._rows.length) {
      var e3 = this._rows[t3];
      return e3 && this._pubItems.indexOf(e3) >= 0 ? e3.index : -1;
    }
    return -1;
  }, e2.prototype.getItemOfRow = function(t3, e3) {
    if (t3 >= 0 && t3 < this._rows.length) {
      var i2 = this._rows[t3];
      return i2.index >= 0 || e3 ? i2 : null;
    }
    return null;
  }, e2.prototype._refreshItems = function() {
    var t3 = {};
    this.$_saveExtents(t3), this.$_clearRows(false), this.$_buildRows(t3), this._fireRefresh();
  }, e2.prototype.setFixed = function(t3, e3, i2, o2) {
    t3 = Math.max(0, t3), (o2 || t3 != this._fixedCount || e3 != this._fixedSorting || i2 != this._filtering) && (this._fixedCount = t3, this._fixedSorting = e3, this._fixedFiltering = i2, this.$_buildItems(), this._fireRefresh());
  }, e2.prototype.exchange = function(t3, e3) {
    if (t3 != e3 && !this._sorted && !this._filtered) {
      if (t3 < 0 || t3 >= this._rows.length) throw new Error("index1 is out of bounds: " + t3);
      if (e3 < 0 || e3 >= this._rows.length) throw new Error("index2 is out of bounds: " + t3);
      var i2 = this._rows[t3];
      this._rows[t3] = this._rows[e3], this._rows[e3] = i2;
    }
  }, e2.prototype.moveItem = function(t3, e3) {
    if (t3.index !== e3 && t3 instanceof Ho && !this.$_needBuildItems()) {
      var i2 = this._pubItems, o2 = t3.index;
      (o2 > e3 || o2 < e3) && (i2.splice(o2, 1), i2.splice(e3, 0, t3)), this._fireRefresh(false);
    }
  }, e2.prototype.clearDisplayLevels = function() {
    for (var t3 = this._rows, e3 = t3.length, i2 = 0; i2 < e3; i2++) t3[i2]._displayLevel = -1;
  }, e2.prototype.getAllItems = function() {
    return this._pubItems.slice();
  }, e2.prototype.getNumber = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.count : this.itemCount;
  }, e2.prototype.getSum = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.sum : NaN;
  }, e2.prototype.getMax = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.max : NaN;
  }, e2.prototype.getMin = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.min : NaN;
  }, e2.prototype.getAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.avg : NaN;
  }, e2.prototype.getVar = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.vars : NaN;
  }, e2.prototype.getVarp = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.varsp : NaN;
  }, e2.prototype.getStdev = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? Math.sqrt(e3.vars) : NaN;
  }, e2.prototype.getStdevp = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? Math.sqrt(e3.varsp) : NaN;
  }, e2.prototype.getDataCount = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.dataCount : 0;
  }, e2.prototype.getDataAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.dataAvg : NaN;
  }, e2.prototype.canGrouping = function(t3) {
    return this.fireGrouping(t3);
  }, e2.prototype.setSortingOptions = function(t3) {
    this._nullsOrder = t3.nullsOrder, this._sortDataRow = t3.sortDataRow, this._outerSort = t3.outerSort;
  }, e2.prototype.$_saveExtents = function(t3) {
    for (var e3 = 0, i2 = this._rows.length; e3 < i2; e3++) {
      var o2 = this._rows[e3];
      o2.dataRowId >= 0 && (t3[o2.dataRowId] = { exts: o2._extents, heights: o2.heights && o2.heights.slice() });
    }
  }, e2.prototype.$_clearRows = function(t3) {
    t3 && this.clearRowHeights(true), this._rows.length = this._filteredItems.length = this._sortedItems.length = this._pubCount = 0, this._filtered = false, this._sorted = false, this._pubItems = this._rows, this.$_clearDistincts();
  }, e2.prototype.$_clearIndicies = function() {
    for (var t3 = this._rows.length; t3--; ) this._rows[t3]._index = -1;
  }, e2.prototype.$_clearDistincts = function() {
    for (var t3 = this._distinctRows.length; t3--; ) this._distinctRows[t3] = null;
    this._distinctRows.length = 0;
  }, e2.prototype.$_buildRows = function(t3) {
    void 0 === t3 && (t3 = null);
    var e3 = this._dataSource;
    if (e3) {
      this._filtered = this.$_checkFiltered(), this._sorted = this.$_checkSorted(), this._rowCount = e3.rowCount, !this._filtered && !this._paging && this.maxItemCount > 0 && (this._rowCount = Math.min(this._rowCount, this.maxItemCount)), this._rows = new Array(this._rowCount);
      for (var i2 = 0, o2 = this._rowCount; i2 < o2; i2++) {
        var r2 = this._rows[i2] = this.$_createRow(i2);
        if (t3 && t3.hasOwnProperty(r2.dataId)) {
          var n2 = t3[r2.dataId];
          r2._extents = n2.exts, r2.heights = n2.heights && n2.heights.slice();
        }
      }
      this.$_buildItems(), this._checkableTag && this._checkableTag.setRows(), 0 == this._rowCount && this.clearRowHeights(true);
    }
  }, e2.prototype.$_resetCounts = function() {
    this._filtered ? this._pubCount = this._itemCount = this._items.length : this._pubCount = this._itemCount = this._rowCount = this._rows.length;
  }, e2.prototype.$_buildItems = function(t3, e3) {
    void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = false);
    var i2 = this._dataSource;
    if (i2) {
      var o2 = this.maxItemCount > 0 ? this.maxItemCount : this._rows.length;
      if (this._rowCount = this._rows.length, this._pubItems = this._items = this._rows, this._pubCount = this._itemCount = this._rows.length, this._filtered = this.$_checkFiltered(), this._sorted = this.$_checkSorted(), (this._filtered || this._paging) && this.$_clearIndicies(), this._filtered) {
        if (this._filteredItems.length = 0, this.hideDeleted || i2.hiddenCount > 0) for (var r2 = 0; r2 < this._rowCount; r2++) {
          var n2 = this._rows[r2], s2 = i2.getRowState(this._rows[r2].dataRow), a2 = i2.isHiddenRow(this._rows[r2].dataRow);
          this.hideDeleted && Pt(s2) || a2 ? n2._index = -1 : n2._index = 0;
        }
        else for (r2 = 0; r2 < this._rowCount; r2++) this._rows[r2]._index = 0;
        var l2 = this.fixedCount, h2 = l2 > 0 && !this._fixedFiltering, u2 = this._rows.length;
        if (!t3) {
          r2 = 0;
          for (var c2 = this._filters.length; r2 < c2; r2++) {
            if (y2 = this._filters[r2]) for (var d2 = 0; d2 < y2.length; d2++) y2[d2].prepare(this._filterRuntime, i2);
          }
        }
        this._paging || (u2 = Math.min(u2, o2));
        var p2 = 0;
        for (r2 = 0; r2 < this._rowCount && p2 < u2; r2++) {
          if ((n2 = this._rows[r2]).index >= 0) if (t3 || h2 && p2 < l2) this._filteredItems.push(n2), p2++;
          else {
            var f2 = !this._filterOr, _2 = 0, g2 = 0;
            for (c2 = this._filters.length; g2 < c2; g2++) {
              var y2;
              if ((y2 = this._filters[g2]) && _2++, this._filterOr) {
                if (y2 && this.$_select(y2, n2, g2)) {
                  f2 = true;
                  break;
                }
              } else if (y2 && !this.$_select(y2, n2, g2)) {
                f2 = false;
                break;
              }
            }
            f2 || 0 === _2 ? (this._filteredItems.push(n2), p2++) : n2._index = -1;
          }
        }
        this._pubItems = this._items = this._filteredItems, this._pubCount = this._itemCount = this._items.length;
      } else this._filteredItems.length = 0;
      if (this._sorted) {
        if (e3) {
          var m2 = this._sortedItems;
          for (r2 = m2.length; r2--; ) m2[r2].index < 0 && m2.splice(r2, 1);
        } else !this.outerSort && this.$_sortRows();
        this._pubItems = this.outerSort ? this._items : this._sortedItems;
      } else this._sortedItems.length = 0;
      this._paging && this.$_buildPageItems(), this.$_clearSummary();
    }
  }, e2.prototype.$_buildPageItems = function() {
    var t3 = this.$_getPageItems();
    this._pageItems.length = 0;
    for (var e3 = this._pageStart = this._pageStartIndex >= 0 ? this._pageStartIndex : this._currPage * this._pageSize, i2 = t3.length, o2 = this.maxItemCount > 0 ? this.maxItemCount : i2, r2 = Math.min(this._pageSize, o2); e3 < i2 && r2 > 0; e3++, r2--) this._pageItems.push(t3[e3]);
    this._pubItems = this._pageItems, this._pubCount = this._pubItems.length;
  }, e2.prototype.$_buildPage = function() {
    this.$_clearIndicies(), this.$_buildPageItems();
  }, e2.prototype.$_compareFuncs = function(t3, e3) {
    var i2 = {}, o2 = this._dataSource;
    if (o2) {
      for (var r2 = 0, n2 = t3.length; r2 < n2; r2++) {
        var s2 = o2.getField(t3[r2]);
        if (s2) {
          var l2 = o2.getDataComparer(s2.index) || this._labelComparer[s2.index], u2 = e3[r2] == h.INSENSITIVE;
          if (!l2) switch (s2.dataType) {
            case a.DATETIME:
            case a.NUMBER:
              l2 = o2.compareNumbers.bind(o2);
              break;
            case a.BOOLEAN:
              l2 = o2.compareBools.bind(o2);
              break;
            case a.OBJECT:
              l2 = o2.compareObjects.bind(o2);
              break;
            default:
              l2 = u2 ? o2.compareTexts.bind(o2) : o2.compareValues.bind(o2);
          }
          l2 && (i2[t3[r2]] = l2);
        }
      }
      return i2;
    }
  }, e2.prototype.$_sortRows = function(t3) {
    var e3 = this;
    void 0 === t3 && (t3 = null);
    var i2 = t3 || this._items.slice(), o2 = [];
    this._fixedCount > 0 && !this._fixedSorting && (o2 = i2.splice(0, this._fixedCount));
    var r2 = this.$_compareFuncs(this._sortFields, this._sortCases);
    i2.sort(function(t4, i3) {
      for (var o3, n2, s2, a2 = 0, h2 = e3._nullsOrder, u2 = 0, c2 = e3._sortFields.length; u2 < c2; u2++) {
        var d2 = !(s2 = e3._sortDirections[u2] === l.DESCENDING) && h2 === K.LAST || s2 && h2 === K.FIRST ? -1 : 1;
        if (n2 = e3._sortFields.length == u2 + 1, (o3 = r2[e3._sortFields[u2]]) && 0 !== (a2 = o3(e3._sortFields[u2], t4.dataRow, i3.dataRow, d2))) break;
      }
      return 0 === (a2 *= s2 ? -1 : 1) && n2 ? s2 && e3._sortDataRow ? i3.dataRow - t4.dataRow : t4.dataRow - i3.dataRow : a2;
    }), this._sortedItems = o2.concat(i2);
  }, e2.prototype.$_createRow = function(t3) {
    var e3 = new Ho(t3);
    return this.attachItem(e3), e3._dataRowId = e3.dataId, e3;
  }, e2.prototype.$_createAllRow = function() {
    for (var t3 = 0; t3 < this._rowCount; t3++) this._rows[t3] || (this._rows[t3] = this.$_createRow(t3));
  }, e2.prototype.$_resetSummary = function() {
    this._summaryMap = [];
  }, e2.prototype.$_clearSummary = function() {
    if (this._summaryMap) for (var t3 = this._summaryMap.length - 1; t3 >= 0; t3--) this._summaryMap[t3] && this._summaryMap[t3].clear();
  }, e2.prototype.$_getSummary = function(t3) {
    var e3 = this._summaryMap[t3];
    if (!e3) {
      var i2 = this._dataSource;
      i2 && i2.canSummarize(t3) && (e3 = new To(t3), this._summaryMap[t3] = e3);
    }
    return e3 && 0 == e3.count && this.itemCount > 0 && this.$_summarize(e3), e3;
  }, e2.prototype.$_summarize = function(t3) {
    var e3 = this._dataSource;
    if (e3) if (this._filtered) {
      for (var i2 = this._items.length, o2 = new Array(i2), r2 = 0; r2 < i2; r2++) o2[r2] = this._items[r2].dataRow;
      e3.summarizeRange(t3, o2, this._summaryMode == x.STATISTICAL);
    } else e3.summarize(t3, this._summaryMode == x.STATISTICAL);
  }, e2.prototype.$_needSort = function() {
    return this._sorted && this.sortMode == c.AUTO;
  }, e2.prototype.$_needFilter = function() {
    return this._filtered && this.filterMode == d.AUTO;
  }, e2.prototype.$_needBuildItems = function() {
    return this.$_needFilter() || this.$_needSort() || this._paging;
  }, e2.prototype.$_forceBuildItems = function() {
    try {
      return (this._filtered = this.$_checkFiltered()) && (!this._filteredItems || this._filteredItems.length <= 0) && (this._pubItems = this._filteredItems = this._items = this._items.slice()), this._sorted && ((!this._sortedItems || this._sortedItems.length <= 0) && (this._sortedItems = this._items.slice()), this._pubItems = this.outerSort ? this._items : this._sortedItems), !this._filtered && !this._sorted;
    } catch (t3) {
      return true;
    }
  }, e2.prototype.$_workItems = function() {
    var t3 = [];
    return this._filtered && t3.push(this._filteredItems), this._sorted && t3.push(this._sortedItems), t3;
  }, e2.prototype.$_checkFiltered = function() {
    if (this._dataSource) return this._filters.length = this._dataSource.fieldCount, this.hasFilters() || this.hideDeleted && this._dataSource.deletedCount > 0 || this._dataSource.hiddenCount > 0;
  }, e2.prototype.$_select = function(t3, e3, i2) {
    for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) if (t3[o2].select(this._filterRuntime, e3, i2)) return true;
  }, e2.prototype.$_checkSorted = function() {
    for (var t3 = this._sortFields.length - 1; t3 >= 0; t3--) {
      var e3 = this._dataSource ? this._dataSource.fieldCount : 0;
      this._sortFields[t3] > e3 && (this._sortFields.splice(t3, 1), this._sortDirections.splice(t3, 1), this._sortCases.splice(t3, 1));
    }
    return this._sortFields && this._sortFields.length > 0;
  }, e2.prototype.$_getPageItems = function() {
    return this._sorted ? this._sortedItems : this._filtered ? this._filteredItems : this._items;
  }, e2.prototype.fireGrouping = function(t3) {
    return this.fireConfirmEvent(Ur.GROUPING, t3);
  }, e2.prototype.onDataSourceCommandStackChanged = function(t3, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, e2.prototype.onDataProviderDisposed = function(t3) {
    this._checkableTag && this._checkableTag.disconnect(), this.$_clearRows(true), this.$_buildRows(), this.$_resetSummary(), this._fireReset(true), this.dataSource = null;
  }, e2.prototype.onDataProviderReset = function(t3, e3) {
    this.$_clearRows(true), this.$_buildRows(), this.$_resetSummary(), this._fireReset(e3);
  }, e2.prototype.onDataProviderRefresh = function(t3) {
    this._refreshItems();
  }, e2.prototype.onDataProviderRefreshClient = function(t3) {
    this._fireRefreshClient();
  }, e2.prototype.onDataProviderRowCountChanged = function(t3, e3) {
    this._fireRefreshClient();
  }, e2.prototype.onDataProviderDataLoadComplated = function() {
    this._fireDataLoadComplated();
  }, e2.prototype.$_silentInsertRow = function(t3) {
    return !!(t3 && t3.index >= 0 && t3.index < this._pubCount) && (this.$_workItems().forEach(function(e3) {
      var i2 = t3.index;
      e3.splice(i2, 0, t3);
    }), this.$_clearSummary(), this.$_resetCounts(), true);
  }, e2.prototype.$_silentInsertRows = function(t3) {
    var e3 = this;
    return !(!t3 || t3.length <= 0) && (!(t3 = t3.sort(function(t4, e4) {
      return t4.itemIndex - e4.itemIndex;
    })).reduce(function(t4, e4) {
      return t4 + (e4.index >= 0 ? 0 : 1);
    }, 0) && (t3.length > 0 && (this.$_workItems().forEach(function(i2) {
      for (var o2 = 0; o2 < t3.length; o2++) {
        var r2 = t3[o2];
        (!e3.hideDeleted || !Pt(r2.rowState)) && i2.indexOf(r2) < 0 && i2.splice(r2.index, 0, r2);
      }
    }), this.$_clearSummary(), this.$_resetCounts(), true)));
  }, e2.prototype.onDataProviderRowInserted = function(t3, e3, i2) {
    var o2 = this._rows, r2 = e3 < o2.length ? o2[e3] : null, n2 = this.$_createRow(e3);
    o2.splice(e3, 0, n2);
    for (var s2 = e3, a2 = o2.length; s2 < a2; s2++) o2[s2]._dataRow = s2;
    this.$_needBuildItems() ? this.$_buildItems() : (this.$_workItems().forEach(function(t4) {
      e3 = null != i2 ? i2 : Math.max(0, r2 ? t4.indexOf(r2) : t4.length), t4.splice(e3, 0, n2);
    }), this.$_clearSummary(), this.$_resetCounts()), this._checkableTag && this._checkableTag.insertRow(e3), this._fireItemInserted(n2), this._fireRefresh();
  }, e2.prototype.onDataProviderRowsInserted = function(t3, e3, i2, o2) {
    if (!(i2 < 0)) {
      for (var r2, n2 = this._rows, s2 = e3 < n2.length ? n2[e3] : null, a2 = [], l2 = 0; l2 < i2; l2++) a2.push(r2 = this.$_createRow(e3 + l2)), n2.splice(e3 + l2, 0, r2);
      var h2 = n2.length;
      for (l2 = e3; l2 < h2; l2++) n2[l2]._dataRow = l2;
      this.$_needBuildItems() ? this.$_buildItems() : (this.$_workItems().forEach(function(t4) {
        e3 = null != o2 ? o2 : Math.max(0, s2 ? t4.indexOf(s2) : t4.length);
        for (var i3 = 0; i3 < a2.length; i3++) t4.splice(e3 + i3, 0, a2[i3]);
      }), this.$_clearSummary(), this.$_resetCounts()), this._checkableTag && this._checkableTag.insertRows(e3, i2), this._fireRefresh();
    }
  }, e2.prototype.$_silentRemoveRow = function(t3) {
    this.$_workItems().forEach(function(e3) {
      var i2 = e3.indexOf(t3);
      i2 >= 0 && e3.splice(i2, 1);
    }), this.$_clearSummary(), this.$_resetCounts();
  }, e2.prototype.onDataProviderRowRemoved = function(t3, e3) {
    var i2 = this._rows, o2 = i2[e3];
    i2.splice(e3, 1);
    for (var r2 = i2.length - 1; r2 >= e3; r2--) i2[r2]._dataRow = r2;
    this.$_needBuildItems() ? this.$_buildItems() : this.$_silentRemoveRow(o2), 0 == i2.length && this.clearRowHeights(true), this._fireItemDeleted(o2), this._fireRefresh();
  }, e2.prototype.onDataProviderRowsRemoving = function(t3, e3) {
    return true;
  }, e2.prototype.$_silentRemoveRows = function(t3) {
    this.$_workItems().forEach(function(e3) {
      for (var i2 = 0; i2 < t3.length; i2++) {
        var o2 = t3[i2], r2 = e3.indexOf(o2);
        r2 >= 0 && e3.splice(r2, 1);
      }
    }), this.$_clearSummary(), this.$_resetCounts();
  }, e2.prototype.onDataProviderRowsRemoved = function(t3, e3) {
    if (e3 && !(e3.length < 1)) {
      e3.length > 1 && e3.sort(function(t4, e4) {
        return t4 - e4;
      });
      for (var i2 = this._rows, o2 = e3[0], r2 = [], n2 = e3.length - 1; n2 >= 0; n2--) r2.push(i2[e3[n2]]), i2.splice(e3[n2], 1);
      for (n2 = this._rows.length - 1; n2 >= o2; n2--) i2[n2]._dataRow = n2;
      this.$_needBuildItems() ? this.$_buildItems() : this.$_silentRemoveRows(r2), 0 == e3.length && this.clearRowHeights(true), this._fireRefresh();
    }
  }, e2.prototype.onDataProviderRowUpdating = function(t3, e3, i2) {
    return true;
  }, e2.prototype.onDataProviderRowUpdated = function(t3, e3) {
    this.$_needBuildItems() ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRow(e3), this._rows[e3] && this._fireItemUpdated(this._rows[e3]), this._fireRefresh();
  }, e2.prototype.onDataProviderRowsUpdated = function(t3, e3, i2) {
    this.$_needBuildItems() ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRows(e3, i2), this._fireRefresh();
  }, e2.prototype.onDataProviderRowListUpdated = function(t3, e3) {
    this.$_needBuildItems() ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRowList(e3), this._fireRefresh();
  }, e2.prototype.onDataProviderValueChanging = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype.onDataProviderValueChanged = function(t3, e3, i2) {
    this.$_needBuildItems() ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRow(e3), this._rows[e3] && this._fireItemUpdated(this._rows[e3]), this._fireRefresh();
  }, e2.prototype.onDataProviderRowMoving = function(t3, e3, i2) {
    return true;
  }, e2.prototype.onDataProviderRowMoved = function(t3, e3, i2) {
    var o2 = this._rows, r2 = o2.splice(e3, 1);
    o2.splice(i2, 0, r2[0]);
    for (var n2 = o2.length, s2 = e3 = Math.min(e3, i2); s2 < n2; s2++) o2[s2]._dataRow = s2;
    (this._sorted || this._paging || this.hideDeleted) && this.$_buildItems(), this._fireRefresh();
  }, e2.prototype.onDataProviderRowsMoving = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype.onDataProviderRowsMoved = function(t3, e3, i2, o2) {
    this._refreshItems();
  }, e2.prototype.onDataProviderRowListMoving = function(t3, e3, i2) {
    return true;
  }, e2.prototype.onDataProviderRowListMoved = function(t3, e3, i2) {
    this._refreshItems();
  }, e2.prototype.onDataProviderStateChanged = function(t3, e3, i2) {
    if (this.hideDeleted) {
      var o2 = this._rows[e3];
      (Pt(o2.rowState) || Pt(i2)) && (this.$_needBuildItems() || this.$_forceBuildItems() ? this.$_buildItems() : Pt(o2.rowState) ? this.$_silentRemoveRow(o2) : Pt(i2) && (this.$_silentInsertRow(o2) || this.$_buildItems()), this._fireRefresh());
    }
    this._checkableTag && this._checkableTag.updateRow(e3), this._fireRowStateChanged(this._rows[e3]);
  }, e2.prototype.onDataProviderRowHided = function(t3, e3, i2) {
    if (this._filtered = this.$_checkFiltered(), this.$_needBuildItems() || this.$_forceBuildItems() || !i2) this.$_buildItems();
    else {
      var o2 = this.getItemsByRows(e3);
      this.$_silentRemoveRows(o2);
    }
    this._fireRefresh();
  }, e2.prototype.onDataProviderStatesChanged = function(t3, e3, i2) {
    if (this.hideDeleted) {
      for (var o2 = false, r2 = 0, n2 = e3.length; r2 < n2; r2++) {
        var s2 = e3[r2], a2 = this._rows[s2];
        if (Pt(a2.rowState)) {
          o2 = true;
          break;
        }
      }
      if (this.$_needBuildItems() || this.$_forceBuildItems()) this.$_buildItems();
      else {
        var l2 = this.getItemsByRows(e3);
        o2 ? this.$_silentRemoveRows(l2) : i2 && this.$_silentInsertRows(l2) || this.$_buildItems();
      }
      this._fireRefresh();
    }
    this._checkableTag && this._checkableTag.changeStates(e3), this._fireRowStatesChanged(this.getItemsByRows(e3));
  }, e2.prototype.onDataProviderRestoreRows = function(t3, e3) {
    this.$_needBuildItems() ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.changeStates(e3), this._fireRowStatesChanged(this.getItemsByRows(e3)), this._fireRefresh();
  }, e2.prototype.onDataProviderStatesCleared = function(t3) {
    this._pubCount != t3.rowCount && this._refreshItems(), this._fireRowStatesCleared();
  }, e2;
}(zo);
var vn = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    return r2._owner = e3, r2._exprNode = xe.Default.parse(i2, ["value", "values"]), r2._runtime = new yn(), r2._callback = o2, r2;
  }
  return i(e2, t2), e2.clearCheckables = function(t3) {
    for (var e3 = function(t4) {
      if (t4) {
        t4.setCheckable(true);
        for (var i3 = t4.count; i3--; ) {
          var o3 = t4.getItem(i3);
          o3 instanceof In && e3(o3);
        }
      }
    }, i2 = t3.itemCount; i2--; ) {
      var o2 = t3.getItem(i2);
      o2 instanceof In && e3(o2);
    }
  }, e2.prototype.connect = function(t3) {
    this._runtime.setDataSource(t3);
  }, e2.prototype.disconnect = function() {
  }, e2.prototype.clearRows = function() {
    e2.clearCheckables(this._owner);
  }, e2.prototype.setRows = function() {
    for (var t3 = this._owner.itemCount; t3--; ) {
      var e3 = this._owner.getItem(t3);
      e3 instanceof In && this.$_setCheckable(e3, true);
    }
  }, e2.prototype.addRow = function(t3, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = this._owner.getItemOfRow(t3.rowId);
    i2 instanceof In && this.$_setCheckable(i2, e3);
  }, e2.prototype.addRows = function(t3) {
    for (var e3 = t3.length; e3--; ) {
      var i2 = this._owner.getItemOfRow(t3[e3].rowId);
      i2 instanceof In && this.$_setCheckable(i2, true);
    }
  }, e2.prototype.updateRow = function(t3) {
    var e3 = this._owner.getItemOfRow(t3.rowId);
    e3 instanceof In && this.$_setCheckable(e3, false);
  }, e2.prototype.updateRows = function(t3) {
    for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
      var o2 = i2[e3], r2 = this._owner.getItemOfRow(o2.rowId);
      r2 instanceof In && this.$_setCheckable(r2, false);
    }
  }, e2.prototype.changeStates = function(t3) {
    for (var e3 = t3.length; e3--; ) {
      var i2 = this._owner.getItemOfRow(t3[e3].rowId);
      i2 instanceof In && this.$_setCheckable(i2, false);
    }
  }, e2.prototype.$_setCheckable = function(t3, e3) {
    if (t3) {
      var i2 = this._callback, o2 = void 0;
      if (i2 ? o2 = i2.call(this, t3.dataSource.handler, t3) : (this._runtime.setItem(t3), o2 = this._exprNode.evaluate(this._runtime)), t3.setCheckable(o2), e3) for (var r2 = t3.count; r2--; ) {
        var n2 = t3.getItem(r2);
        n2 instanceof In && this.$_setCheckable(n2, true);
      }
    }
  }, e2;
}(Ft);
var wn = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3._extents = {}, e3;
  }
  return i(e2, t2), e2.prototype.connect = function(t3) {
    this._extents = {};
  }, e2.prototype.disconnect = function() {
    this._extents = {};
  }, e2.prototype.clearRows = function() {
    this._extents = {};
  }, e2.prototype.setRows = function() {
  }, e2.prototype.addRow = function(t3) {
    this._extents[t3.rowId] = 0;
    for (var e3 = t3.count - 1; e3 >= 0; e3--) this.addRow(t3.getChild(e3));
  }, e2.prototype.addRows = function(t3) {
    for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
      var o2 = i2[e3];
      this.addRow(o2);
    }
  }, e2.prototype.removeRow = function(t3) {
    delete this._extents[t3.rowId];
    for (var e3 = t3.count - 1; e3 >= 0; e3--) this.removeRow(t3.getChild(e3));
  }, e2.prototype.removeRows = function(t3) {
    for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
      var o2 = i2[e3];
      this.removeRow(o2);
    }
  }, e2.prototype.updateRow = function(t3) {
  }, e2.prototype.updateRows = function(t3) {
  }, e2.prototype.getExtents = function(t3) {
    var e3 = this._extents[t3.rowId];
    return void 0 === e3 ? this._extents[t3.rowId] = 0 : e3;
  }, e2.prototype.setExtents = function(t3, e3) {
    this._extents[t3.rowId] = e3;
  }, e2;
}(Ft);
var Cn = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3._styleMap = {}, e3;
  }
  return i(e2, t2), e2.prototype.connect = function(t3) {
    this._styleMap = {};
  }, e2.prototype.disconnect = function() {
    this._styleMap = {};
  }, e2.prototype.clearRows = function() {
    this._styleMap = {};
  }, e2.prototype.setRows = function() {
    this._styleMap = {};
  }, e2.prototype.addRow = function(t3) {
  }, e2.prototype.addRows = function(t3) {
  }, e2.prototype.removeRow = function(t3) {
    delete this._styleMap[t3.rowId];
  }, e2.prototype.removeRows = function(t3) {
    var e3 = this;
    t3.forEach(function(t4) {
      return delete e3._styleMap[t4.rowId];
    });
  }, e2.prototype.updateRow = function(t3) {
  }, e2.prototype.updateRows = function(t3) {
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return (this._styleMap[t3] || (this._styleMap[t3] = {}))[e3] = i2, true;
  }, e2.prototype.getCellStyle = function(t3, e3) {
    var i2 = this._styleMap[t3];
    return i2 && i2[e3];
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    if (null == t3) this._styleMap = {};
    else {
      var i2 = this._styleMap[t3];
      i2 && (i2[e3] && delete i2[e3], Object.keys(i2).length || this._styleMap[t3]);
    }
    return true;
  }, e2;
}(Ft);
var xn = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._extents = 0, e3;
  }
  return i(e2, t2), e2.prototype._getExtents = function() {
    return this._extents;
  }, e2.prototype._setExtents = function(t3) {
    this._extents = t3;
  }, Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
  }, enumerable: false, configurable: true }), e2;
}(jo);
var In = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._iconHeight = 0, i2._dataRow = e3, i2;
  }
  return i(e2, t2), e2.getTemp = function(t3, i2) {
    return e2.$_tempItem._dataRow = t3, e2.$_tempItem[jo.PARENT] = i2, e2.$_tempItem;
  }, e2.prototype.dispose = function() {
    this._dataRow = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "iconHeight", { get: function() {
    return this._iconHeight;
  }, set: function(t3) {
    this._iconHeight = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "row", { get: function() {
    return this._dataRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowId", { get: function() {
    return this._dataRow ? this._dataRow.rowId : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconIndex", { get: function() {
    return this._dataRow ? this._dataRow.iconIndex : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasChildren", { get: function() {
    return this.count > 0 || this._dataRow && this._dataRow.hasChildren;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rootItem", { get: function() {
    for (var t3 = this; t3.level > 1; ) t3 = t3.parent;
    return t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return x.AGGREGATE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, enumerable: false, configurable: true }), e2.prototype.setEditable = function(t3, e3) {
    this._editable = t3, this._readOnly = e3;
  }, e2.prototype._getExtents = function() {
    var t3 = this.provider;
    return t3 ? t3._extents.getExtents(this) : 0;
  }, e2.prototype._setExtents = function(t3) {
    var e3;
    null === (e3 = this.provider) || void 0 === e3 || e3._extents.setExtents(this, t3);
  }, Object.defineProperty(e2.prototype, "isData", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isDataRow", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footer", { get: function() {
    return this._footer;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerCount", { get: function() {
    return this._footer ? 1 : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRow", { get: function() {
    return this._dataRow ? this._dataRow.rowId : -1;
  }, enumerable: false, configurable: true }), e2.prototype.getShadowRow = function() {
    return this._dataRow ? this._dataRow.rowId : -1;
  }, Object.defineProperty(e2.prototype, "dataId", { get: function() {
    return this._dataRow ? this._dataRow.rowId : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRowId", { get: function() {
    return this.dataId;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "descendantCount", { get: function() {
    return this._dataRow.descendantCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowState", { get: function() {
    return this._dataRow.rowState;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return !this.hasChildren;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return B.TREE;
  }, enumerable: false, configurable: true }), e2.prototype.getFooter = function(t3) {
    return this._footer;
  }, e2.prototype.isFooter = function(t3) {
    return t3 === this._footer;
  }, e2.prototype.canEdit = function() {
    return true;
  }, e2.prototype.createFooter = function() {
    this._footer || (this._footer = new xn());
  }, e2.prototype.setExpanded = function(t3, e3, i2) {
    (t3 != this.expanded || i2) && (t3 ? this.provider.expand(this, e3, i2, 0) : this.provider.collapse(this, e3, i2));
  }, e2.prototype.getData = function(t3) {
    return t3 = this.dataSource ? this.dataSource.getFieldIndex(t3) : t3, this._dataRow.getValue(t3);
  }, e2.prototype.setData = function(t3, e3) {
    t3 = this.dataSource ? this.dataSource.getFieldIndex(t3) : t3, this._dataRow.setValue(t3, e3, false);
  }, e2.prototype.setItem = function(e3, i2) {
    t2.prototype.setItem.call(this, e3, i2), i2._addChildren(e3.children), e3.clear();
  }, e2.prototype.exchange = function(t3, e3) {
    this._exchangeItems(t3, e3);
  }, e2.prototype.moveChild = function(t3, e3) {
    var i2 = t3 + e3, o2 = this._children, r2 = o2[t3];
    if (e3 < 0) for (var n2 = t3; n2 > i2; n2--) o2[n2] = o2[n2 - 1];
    else for (n2 = t3; n2 < i2; n2++) o2[n2] = o2[n2 + 1];
    o2[i2] = r2;
  }, e2.prototype.moveChildren = function(t3, e3, i2) {
    for (var o2 = this._children, r2 = o2.splice(t3, e3), n2 = t3 + i2, s2 = 0; s2 < e3; s2++) o2.splice(n2 + s2, 0, r2[s2]);
  }, e2.prototype.changeParent = function(t3, e3) {
    this.parent.remove(this), t3 && t3.insert(e3, this);
  }, e2.prototype.getRowData = function() {
    return this._dataRow && this._dataRow._values.concat();
  }, e2.$_tempItem = new e2(null), e2;
}(Wo);
var En = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, null) || this;
    return i2._rs = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "id", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._rs;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.setExpanded = function(t3, e3, i2) {
  }, Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._rs.dataSource;
  }, enumerable: false, configurable: true }), e2;
}(In);
var Sn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._fixedCount = 0, i2._items = new Array(), i2._list = new Array(), i2._rs = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._rs;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCount", { get: function() {
    return this._fixedCount;
  }, enumerable: false, configurable: true }), e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.setItem = function(t3, e3) {
    this._items[t3] = e3;
  }, e2.prototype.indexOf = function(t3) {
    return this._items.indexOf(t3);
  }, e2.prototype.clear = function() {
    this._items.length = 0;
  }, e2.prototype.expand = function(t3, e3, i2) {
    void 0 === i2 && (i2 = 0), t3 && this.$_expandItem(t3, e3, i2);
  }, e2.prototype.collapse = function(t3) {
    if (t3) for (var e3 = this._rs, i2 = this._items, o2 = t3.index + 1; o2 < i2.length && i2[o2].level > t3.level; ) {
      if (i2[o2] == t3.footer) {
        e3.footerWhenCollapsed || (i2[o2]._index = -1, i2.splice(o2, 1));
        break;
      }
      i2[o2]._index = -1, i2.splice(o2, 1);
    }
  }, e2.prototype.getNext = function(t3) {
    return t3 && t3.visible && t3.index < this.count - 1 ? this._items[t3.index + 1] : null;
  }, e2.prototype.getPrior = function(t3) {
    return t3 && t3.visible && t3.index > 0 ? this._items[t3.index - 1] : null;
  }, e2.prototype.insert = function(t3, e3) {
    this._items.splice(e3, 0, t3);
  }, e2.prototype.remove = function(t3) {
    var e3 = this._items, i2 = e3.indexOf(t3);
    if (i2 >= 0 && (e3.splice(i2, 1), t3.expanded)) for (; i2 < e3.length && t3.isDescendant(e3[i2]); ) e3.splice(i2, 1);
  }, e2.prototype.$_collectChildren = function(t3, e3, i2, o2) {
    for (var r2 = 0, n2 = t3.count; r2 < n2; r2++) {
      var s2 = t3.getItem(r2);
      s2 && (e3.push(s2), (i2 && s2.level < o2 || s2.expanded) && this.$_collectChildren(s2, e3, i2, o2));
    }
    t3.footer && e3.push(t3.footer);
  }, e2.prototype.$_expandItem = function(t3, e3, i2) {
    var o2, r2 = this._items, n2 = this._list;
    if (o2 = t3 instanceof En ? this._fixedCount : t3.index + 1, i2 = Math.max(0, i2), n2.length = 0, this.$_collectChildren(t3, n2, e3, i2 > 0 ? t3.level + i2 : 1e6), e3) {
      for (var s2 = o2, a2 = r2.length; s2 < a2 && !(r2[s2].level <= t3.level); s2++) ;
      r2.splice(o2, s2 - o2);
    }
    for (s2 = 0, a2 = n2.length; s2 < a2; s2++) r2.splice(o2 + s2, 0, n2[s2]);
  }, e2.prototype._clearAndInit = function(t3) {
    this.clear(), this._fixedCount = Math.min(t3, this._rs.itemCount);
    for (var e3 = 0; e3 < this._fixedCount; e3++) this._items.push(this._rs.getItem(e3));
  }, e2;
}(Ft);
var On = function(t2) {
  function e2() {
    var e3 = t2.call(this, null) || this;
    return e3._sortMode = c.AUTO, e3._expandWhenGrouping = true, e3._footerWhenExpanded = true, e3._footerWhenCollapsed = true, e3._labelComparer = {}, e3._checkableExpression = null, e3._checkableCallback = null, e3._extents = new wn(), e3._filters = {}, e3._filterRuntime = new hr(), e3._filtered = false, e3._sortFields = [], e3._sortDirections = [], e3._sortCases = [], e3._visibleItems = new Sn(e3), e3._itemMap = [], e3._itemCount = 0, e3._summaryMap = null, e3._filterLock = 0, e3._includeParentItem = true, e3._cellStyleMap = new Cn(), e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._filters = null, this._filterRuntime = null, this._sortFields = null, this._sortDirections = null, this._sortCases = null, this._visibleItems = null, this._itemMap = null, this._summaryMap = null, this._checkableExpression = null, this._checkableCallback = null, this._checkableTag = null, this._labelComparer = null;
    var e3 = this.dataSource;
    e3 && !e3.disposing && (e3.removeTag(this._extents), e3.removeTag(this._cellStyleMap), e3.removeListener(this), e3.unregisterCommandListener(this)), t2.prototype._doDispose.call(this);
  }, e2.prototype.getCommandStates = function(t3) {
    var e3 = this._itemMap[t3.rowId];
    return e3 && e3._getExtents();
  }, e2.prototype.setCommandStates = function(t3, e3) {
    var i2 = t3 && this._itemMap[t3.rowId];
    null != e3 && i2 && i2._setExtents(e3);
  }, Object.defineProperty(e2.prototype, "expandWhenGrouping", { get: function() {
    return this._expandWhenGrouping;
  }, set: function(t3) {
    t3 != this._expandWhenGrouping && (this._expandWhenGrouping = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerWhenExpanded", { get: function() {
    return this._footerWhenExpanded;
  }, set: function(t3) {
    t3 != this._footerWhenExpanded && (this._footerWhenExpanded = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerWhenCollapsed", { get: function() {
    return this._footerWhenCollapsed;
  }, set: function(t3) {
    t3 != this._footerWhenCollapsed && (this._footerWhenCollapsed = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labelComparer", { get: function() {
    return this._labelComparer;
  }, set: function(t3) {
    this._labelComparer = t3 || {};
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return this._summaryMode || Ke.summaryMode || x.AGGREGATE;
  }, set: function(t3) {
    t3 != this._summaryMode && (this._summaryMode = t3, this.$_resetSummary(), this._fireRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupSummaryMode", { get: function() {
    return this._groupSummaryMode || Ke.groupSummaryMode || x.AGGREGATE;
  }, set: function(t3) {
    t3 != this._groupSummaryMode && (this._groupSummaryMode = t3, this.$_resetGroupSummary(), this._fireRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideDeleted", { get: function() {
    return this._hideDeleted;
  }, set: function(t3) {
    t3 != this._hideDeleted && (this._hideDeleted = t3, this._saveAndRefresh());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableExpression", { get: function() {
    return this._checkableExpression;
  }, set: function(t3) {
    t3 != this._checkableExpression && (this._checkableExpression = t3, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), t3 && (this._checkableTag = new vn(this, t3), this.dataSource && this._checkableTag.connect(this.dataSource)));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableCallback", { get: function() {
    return this._checkableCallback;
  }, set: function(t3) {
    t3 != this._checkableCallback && (this._checkableCallback = t3, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), t3 && (this._checkableTag = new vn(this, null, t3), this.dataSource && this._checkableTag.connect(this.dataSource)));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortMode", { get: function() {
    return this._sortMode;
  }, set: function(t3) {
    t3 != this._sortMode && (this._sortMode = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "includeParentItem", { get: function() {
    return this._includeParentItem;
  }, set: function(t3) {
    this._includeParentItem = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "outerSort", { get: function() {
    return null != this._outerSort ? this._outerSort : Ke.sorting.outerSort;
  }, enumerable: false, configurable: true }), e2.prototype.$_needSort = function() {
    return this._sortFields && this._sortFields.length > 0 && this._sortMode == c.AUTO;
  }, e2.prototype.insertItem = function(t3, e3, i2, o2) {
    var r2 = this._visibleItems;
    t3.collapsed && r2.expand(t3, false);
    var n2 = r2.indexOf(t3.getItem(i2));
    if (o2) {
      t3.insert(i2 + 1, e3);
      for (var s2 = r2.count, a2 = t3.level + 1; ++n2 < s2 && !(r2.getItem(n2).level <= a2); ) ;
      r2.insert(e3, n2);
    } else t3.insert(i2, e3), r2.insert(e3, n2);
  }, e2.prototype.appendItem = function(t3, e3) {
    var i2, o2 = this._visibleItems;
    t3.collapsed && o2.expand(t3, false), i2 = t3.count > 0 ? o2.indexOf(t3.getItem(t3.count - 1)) : o2.indexOf(t3);
    for (var r2 = o2.count, n2 = t3.level; ++i2 < r2 && !(o2.getItem(i2).level <= n2); ) ;
    t3.add(e3), o2.insert(e3, i2);
  }, e2.prototype.removeItem = function(t3) {
    this._visibleItems.remove(t3), t3.parent.remove(t3);
  }, e2.prototype.$_calcLevel = function(t3, e3, i2) {
    var o2, r2, n2 = t3.count, s2 = e3;
    for (o2 = 0; o2 < n2; o2++) (r2 = t3.getItem(o2)) && (s2 = Math.max(s2, e3 + 1), i2 && !r2.expanded || (s2 = Math.max(s2, this.$_calcLevel(r2, e3 + 1, i2))));
    return s2;
  }, e2.prototype.getLevels = function(t3) {
    return this.$_calcLevel(this._rootItem, 0, t3);
  }, e2.prototype.$_setExpanded = function(t3, e3, i2, o2) {
    if (!o2 && 0 === t3.count && t3.hasChildren || (this._setExpanded(t3, true), this.dataSource.setHasChildren(t3.row, false)), e3) for (var r2 = 0, n2 = t3.count; r2 < n2; r2++) {
      var s2 = t3.getItem(r2);
      s2 instanceof In && (s2.expanded || s2.level < i2) && this.$_setExpanded(s2, true, i2, o2);
    }
  }, e2.prototype._expandItem = function(t3, e3, i2, o2, r2, n2) {
    if (t3 && (e3 || !t3.expanded)) {
      if (r2 && !this._fireExpanding(t3)) return;
      this._visibleItems.collapse(t3), this._visibleItems.expand(t3, i2, o2), this.$_setExpanded(t3, i2, o2 > 0 ? t3.level + o2 : 1e6, n2);
      try {
        this._fireRefresh(false);
      } finally {
        r2 && this._fireExpanded(t3);
      }
    }
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = 0), this._expandItem(t3, i2, e3, o2, true, true);
  }, e2.prototype.expandAll = function(t3, e3) {
    this._expandItem(this._rootItem, true, true, t3 > 0 ? t3 + 1 : 0, true, e3);
  }, e2.prototype.$_setCollapsed = function(t3, e3) {
    if (this._setExpanded(t3, false), e3) for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = t3.getItem(i2);
      r2 instanceof In && this.$_setCollapsed(r2, true);
    }
  }, e2.prototype._collapseItem = function(t3, e3, i2, o2) {
    if (t3 && (e3 || t3.expanded)) {
      if (o2 && !this._fireCollapsing(t3)) return;
      this._visibleItems.collapse(t3), this.$_setCollapsed(t3, i2), t3 == this._rootItem && this._visibleItems.expand(this._rootItem, false);
      try {
        this._fireRefresh(false);
      } finally {
        o2 && this._fireCollapsed(t3);
      }
    }
  }, e2.prototype.collapse = function(t3, e3, i2) {
    this._collapseItem(t3, i2, e3, true);
  }, e2.prototype.collapseAll = function() {
    this._collapseItem(this._rootItem, true, true, true);
  }, e2.prototype.$_saveExpanded = function(t3) {
    t3._saveExpanded();
    for (var e3 = 0, i2 = t3.count; e3 < i2; e3++) this.$_saveExpanded(t3.getItem(e3));
  }, e2.prototype.orderBy = function(t3, e3, i2, o2) {
    var r2 = this;
    void 0 === o2 && (o2 = true), this._fireSort(t3, e3, i2), this._sortFields = [], this._sortDirections = [], this._sortCases = [];
    for (var n2 = t3 ? t3.length : 0, s2 = e3 ? e3.length : 0, a2 = i2 ? i2.length : 0, u2 = 0; u2 < n2; u2++) this._sortFields.push(t3[u2]), s2 > u2 ? this._sortDirections.push(e3[u2]) : s2 > 0 ? this._sortDirections.push(e3[s2 - 1]) : this._sortDirections.push(l.ASCENDING), a2 > u2 ? this._sortCases.push(i2[u2]) : a2 > 0 ? this._sortCases.push(i2[a2 - 1]) : this._sortCases.push(h.SENSITIVE);
    this._saveAndRefresh(true, o2);
    var c2 = this.outerSort;
    if (c2 && c2 instanceof Function) {
      var d2 = this._fireOuterSort(c2, this._sortFields, this._sortDirections);
      d2 instanceof Promise ? d2.then(function() {
        o2 && r2._fireRefresh(), r2._fireSorted();
      }) : (o2 && this._fireRefresh(), this._fireSorted());
    } else o2 && this._fireRefresh(), this._fireSorted();
  }, e2.prototype.getSortFields = function() {
    return this._sortFields.concat();
  }, e2.prototype.getSortDirections = function() {
    return this._sortDirections.concat();
  }, e2.prototype.getSortCases = function() {
    return this._sortCases.concat();
  }, e2.prototype.beginFiltering = function() {
    this._filterLock++;
  }, e2.prototype.$_prepareFiltering = function(t3, e3) {
    for (var i2 = e3._dataRow.count, o2 = e3.rowId, r2 = o2 <= -1 || this.$_selectItem(e3), n2 = 0; n2 < i2; n2++) {
      var s2 = new In(e3._dataRow._children[n2]);
      s2[jo.PARENT] = e3, s2 && !this.dataSource.isHiddenRow(s2.rowId) && (r2 = this.$_prepareFiltering(t3, s2) || r2);
    }
    return t3[o2] = r2;
  }, e2.prototype.endFiltering = function(t3, e3, i2, o2) {
    var r2 = {};
    t3 && this._includeParentItem && (r2 = {}, this.$_prepareFilters(), this.$_prepareFiltering(r2, this._rootItem)), this._filterLock > 0 && (this._filterLock = Math.max(0, this._filterLock - 1), t3 && 0 == this._filterLock && this.applyFilters(e3, i2, r2, o2));
  }, e2.prototype.hasFilter = function(t3) {
    var e3 = this._filters[t3];
    return !!e3 && e3.length > 0;
  }, e2.prototype.addFilter = function(t3, e3) {
    var i2 = this._filters[t3];
    i2 || (i2 = [], this._filters[t3] = i2);
    var o2 = new ar(e3);
    return i2.push(o2), o2;
  }, e2.prototype.clearAllFilters = function() {
    this._filtered && (this._filters = {}, this.applyFilters(null, null));
  }, e2.prototype.hasFilters = function() {
    for (var t3 in this._filters) {
      var e3 = this._filters[t3];
      if (e3 && e3.length > 0) return true;
    }
    return false;
  }, e2.prototype.$_prepareFilters = function() {
    var t3 = this.dataSource, e3 = t3.fieldCount;
    for (var i2 in this._filters) Number(i2) >= e3 && (this._filters[i2] = null);
    if (this._filtered = this.hasFilters()) for (var o2 in this._filters) {
      var r2 = this._filters[o2];
      if (r2) for (var n2 = r2.length; n2--; ) r2[n2].prepare(this._filterRuntime, t3);
    }
  }, e2.prototype.applyFilters = function(t3, e3, i2, o2) {
    if (i2 || this.$_prepareFilters(), 0 == this._filterLock) {
      this.$_saveExpanded(this._rootItem), this.$_clearItems(), this.$_buildTree(true, i2);
      try {
        this._fireRefresh();
      } finally {
        this._fireFiltered(t3, e3, o2);
      }
    }
  }, e2.prototype.getItemByRow = function(t3) {
    return t3 ? this._itemMap[t3.rowId] : null;
  }, e2.prototype.getCheckedRows = function() {
    var t3 = [];
    return function t4(e3, i2) {
      if (e3 instanceof In) for (var o2 = 0, r2 = e3.count; o2 < r2; o2++) {
        var n2 = e3.getItem(o2), s2 = void 0;
        n2.checked && (s2 = n2.row) && i2.push(s2), t4(n2, i2);
      }
    }(this._rootItem, t3), t3;
  }, e2.prototype.getCheckedRowIds = function() {
    var t3 = [];
    return function t4(e3, i2) {
      if (e3 instanceof In) for (var o2 = 0, r2 = e3.count; o2 < r2; o2++) {
        var n2 = e3.getItem(o2), s2 = void 0;
        n2.checked && (s2 = n2.dataRow) >= 0 && i2.push(s2), t4(n2, i2);
      }
    }(this._rootItem, t3), t3;
  }, e2.prototype.resetCheckables = function() {
    this._checkableTag && (this._checkableTag.clearRows(), this._fireRefresh());
  }, e2.prototype.applyCheckables = function() {
    this._checkableTag ? this._checkableTag.setRows() : vn.clearCheckables(this), this._fireRefresh();
  }, e2.prototype.$_checkChildren = function(t3, e3, i2) {
    for (var o2 = 0, r2 = t3.count; o2 < r2; o2++) {
      var n2 = t3.getItem(o2);
      n2 && (i2 ? n2.checkable && this._setCheckItem(n2, e3) : this._setCheckItem(n2, e3)), n2 instanceof In && this.$_checkChildren(n2, e3, i2);
    }
  }, e2.prototype._clearChecked = function() {
    this.$_checkChildren(this._rootItem, false, false);
  }, e2.prototype.checkAll = function(e3, i2, o2, r2) {
    i2 ? t2.prototype.checkAll.call(this, e3, i2, o2, r2, false) : (this.$_checkChildren(this._rootItem, e3, o2), r2 ? this._fireItemAllChecked(e3) : this._fireRefreshClient(), this._fireItemCheckChanged(null, e3));
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return this._cellStyleMap.addCellStyle(t3, e3, i2);
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    return this._cellStyleMap.removeCellStyle(t3, e3);
  }, e2.prototype.getUserCellStyle = function(t3, e3) {
    return this._cellStyleMap.getCellStyle(t3, e3);
  }, Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._ds;
  }, set: function(t3) {
    if (t3 !== this._ds) {
      this.$_clearItems(), this.$_resetSummary();
      var e3 = this._ds;
      e3 && !e3.disposing && (e3.removeTag(this._extents), e3.removeTag(this._cellStyleMap), e3.removeListener(this), e3.unregisterCommandListener(this)), (e3 = this._ds = t3) && (this.$_buildTree(), e3.addTag(this._extents), e3.addTag(this._cellStyleMap), e3.addListener(this, 0), e3.registerCommandListener(this)), this._fireReset(true);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return this._visibleItems.count;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._itemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorted", { get: function() {
    return this._sortFields && this._sortFields.length > 0;
  }, enumerable: false, configurable: true }), e2.prototype.getMovable = function(t3) {
    return !this.sorted || t3 && this.sortMode === c.EXPLICIT;
  }, e2.prototype._createRootItem = function() {
    var t3 = new En(this);
    return this._setExpanded(t3, true), t3;
  }, e2.prototype.getItem = function(t3) {
    return t3 >= 0 && t3 < this._visibleItems.count ? this._visibleItems.getItem(t3) : null;
  }, e2.prototype.getItems = function(t3, e3) {
    throw new Error("Method not implemented.");
  }, e2.prototype.getItemOfRow = function(t3, e3) {
    return this._itemMap[t3];
  }, e2.prototype.$_collectItems = function(t3, e3) {
    for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = t3.getItem(i2);
      r2 instanceof In && (e3.push(r2), this.$_collectItems(r2, e3));
    }
  }, e2.prototype.getAllItems = function() {
    var t3 = [];
    return this.$_collectItems(this._rootItem, t3), t3;
  }, e2.prototype.getJsonRows = function() {
    return this.getAllItems().map(function(t3) {
      var e3 = t3.getRowObject();
      return e3.__level = t3.level, e3;
    });
  }, e2.prototype.getNumber = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.count : this.itemCount;
  }, e2.prototype.getSum = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.sum : NaN;
  }, e2.prototype.getMax = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.max : NaN;
  }, e2.prototype.getMin = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.min : NaN;
  }, e2.prototype.getAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.avg : NaN;
  }, e2.prototype.getVar = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.vars : NaN;
  }, e2.prototype.getVarp = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.varsp : NaN;
  }, e2.prototype.getStdev = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? Math.sqrt(e3.vars) : NaN;
  }, e2.prototype.getStdevp = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? Math.sqrt(e3.varsp) : NaN;
  }, e2.prototype.getDataCount = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.dataCount : 0;
  }, e2.prototype.getDataAvg = function(t3) {
    var e3 = this.$_getSummary(t3);
    return e3 ? e3.dataAvg : NaN;
  }, e2.prototype.findItem = function(t3, e3, i2, o2, r2) {
    var n2 = this.dataSource;
    if (!n2) return -1;
    if (this.itemCount < 1) return -1;
    var s2 = Math.min(t3.length, e3.length);
    if (s2 < 1) return -1;
    var l2 = i2.allFields, h2 = i2.caseSensitive, u2 = i2.partialMatch, c2 = null, d2 = [], p2 = i2.reverse, f2 = i2.compareCallback;
    f2 = "function" == typeof f2 ? f2 : Ot.compareTextValue;
    for (var _2 = 0; _2 < s2; _2++) d2[_2] = n2.getField(t3[_2]).dataType;
    o2 = Math.max(0, o2), r2 = Math.min(this._visibleItems.count - 1, r2);
    for (var g2 = o2; p2 ? g2 >= r2 : g2 <= r2; p2 ? g2-- : g2++) {
      var y2 = this._visibleItems.getItem(g2), m2 = y2.dataRow, b2 = y2.dataRow >= 0;
      if (b2) for (_2 = 0; _2 < s2; _2++) {
        var v2 = y2.getData(t3[_2]), w2 = n2.getOrgFieldName(t3[_2]);
        switch (d2[_2]) {
          case a.DATETIME:
          case a.DATE:
            if (e3[_2] instanceof Date) b2 = f2.call(n2.handler, e3[_2], v2, h2, u2, m2, w2);
            else {
              if (!c2) {
                var C2 = /[.]/.test(e3[_2]) ? "yyyy.MM.dd" : /[/]/.test(e3[_2]) ? "yyyy/MM/dd" : /[-]/.test(e3[_2]) ? "yyyy-MM-dd" : "yyyyMMdd";
                c2 = new He(C2);
              }
              b2 = f2.call(n2.handler, e3[_2], v2 ? c2.getText(v2) : v2, h2, u2, m2, w2);
            }
            break;
          default:
            b2 = f2.call(n2.handler, e3[_2], v2, h2, u2, m2, w2);
        }
        if (b2 && !l2) return g2;
        if (!b2 && l2) break;
      }
      if (b2) return g2;
    }
    return -1;
  }, e2.prototype.findCell = function(t3, e3, i2, o2, r2, n2) {
    var s2 = this.dataSource;
    if (!s2) return null;
    if (this.itemCount < 1) return null;
    for (var l2 = i2.reverse, h2 = i2.caseSensitive, u2 = i2.partialMatch, c2 = s2.fieldCount, d2 = t3.length, p2 = null, f2 = [], _2 = 0; _2 < c2; _2++) f2[_2] = s2.getField(_2).dataType;
    o2 = Math.max(0, o2), r2 = Math.min(this._visibleItems.count - 1, r2), n2 = Math.max(l2 ? -1 : 0, Math.min(n2, d2 - 1)), l2 ? n2 < 0 && (n2 = t3.length - 1, o2--) : n2 >= t3.length && (o2++, n2 = 0);
    var g2 = i2.compareCallback;
    g2 = "function" == typeof g2 ? g2 : Ot.compareTextValue;
    for (var y2 = o2; l2 ? y2 >= r2 : y2 <= r2; l2 ? y2-- : y2++) {
      var m2 = this._visibleItems.getItem(y2), b2 = m2.dataRow, v2 = false;
      if (m2.dataRow >= 0) for (_2 = l2 ? y2 < o2 ? d2 - 1 : n2 : y2 > o2 ? 0 : n2; l2 ? _2 >= 0 : _2 < d2; l2 ? _2-- : _2++) {
        var w2 = t3[_2], C2 = s2.getOrgFieldName(w2);
        if (w2 >= 0 && w2 < c2) {
          var x2 = m2.getData(w2);
          switch (f2[w2]) {
            case a.DATETIME:
            case a.DATE:
              if (e3 instanceof Date) v2 = g2.call(s2.handler, e3, x2, h2, u2, b2, C2);
              else {
                if (!p2) {
                  var I2 = /[.]/.test(e3) ? "yyyy.MM.dd" : /[/]/.test(e3) ? "yyyy/MM/dd" : /[-]/.test(e3) ? "yyyy-MM-dd" : "yyyyMMdd";
                  p2 = new He(I2);
                }
                v2 = g2.call(s2.handler, e3, x2 ? p2.getText(x2) : x2, h2, u2, b2, C2);
              }
              break;
            default:
              v2 = g2.call(s2.handler, e3, x2, h2, u2, b2, C2);
          }
          if (v2) return { itemIndex: y2, fieldIndex: w2, searchFieldIndex: _2 };
        }
      }
    }
    return null;
  }, e2.prototype.setTreeOptions = function(t3) {
    this._expandWhenSetData = t3.expandWhenSetData;
  }, e2.prototype.setSortingOptions = function(t3) {
    this._nullsOrder = t3.nullsOrder, this._outerSort = t3.outerSort, this._sortDataRow = t3.sortDataRow;
  }, e2.prototype.$_internalAddItem = function(t3, e3, i2) {
    var o2 = In.getTemp(e3, t3), r2 = this.dataSource;
    if (!(this.hideDeleted && Pt(o2.rowState) || r2.isHiddenRow(e3.rowId))) return o2 && (null != i2 ? i2 : this.$_selectItem(o2)) ? (o2 = new In(e3), t3.insert(e3.index, o2), this._itemCount++, this._itemMap[e3.rowId] = o2, o2) : void 0;
  }, e2.prototype.$_internalRemoveItem = function(t3) {
    t3 && (t3.parent.remove(t3), this._itemCount--, this._itemMap[t3.row.rowId] = void 0);
  }, e2.prototype.$_internalRowStateChanged = function(t3, e3) {
    if (void 0 === e3 && (e3 = true), t3) if (this.hideDeleted && Pt(t3.rowState)) {
      var i2 = t3.parent;
      this.$_internalRemoveItem(t3), this.$_clearSummary(), i2.expanded && i2.visible && (this._visibleItems.remove(t3), e3 = true), e3 && this._fireRefresh();
    } else this._fireItemChanged(t3);
  }, e2.prototype.$_selectField = function(t3, e3, i2) {
    for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) {
      var n2 = t3[o2];
      if (!(n2.model instanceof sr) && n2.select(this._filterRuntime, e3, i2)) return true;
    }
    return false;
  }, e2.prototype.$_selectItem = function(t3) {
    if (!t3) return false;
    for (var e3 in this._filters) {
      var i2 = this._filters[e3];
      if (i2 && !this.$_selectField(i2, t3, Number(e3))) return false;
    }
    return !!t3;
  }, e2.prototype._setItem = function(t3, e3) {
    this._visibleItems.setItem(t3.index, e3), this._resetItemIndex(t3.index);
  }, e2.prototype.$_resetVisibleItems = function() {
    this._visibleItems._clearAndInit(this.fixedCount), this._visibleItems.expand(this._rootItem, false), this._setExpanded(this._rootItem, true);
  }, e2.prototype.$_clearItems = function() {
    this._visibleItems.clear(), this._rootItem.clear(), this._itemMap = [], this._itemCount = 0;
  }, e2.prototype.$_buildItems = function(t3, e3, i2) {
    void 0 === e3 && (e3 = false);
    for (var o2 = t3.row, r2 = o2.count, n2 = 0; n2 < r2; n2++) {
      var s2 = o2.getChild(n2), a2 = this.$_internalAddItem(t3, s2, i2 ? i2[s2.rowId] : null);
      if (a2) {
        if (this._remainExpandedMap) switch (this._expandWhenSetData) {
          case X.REMAIN_AND_EXPAND:
            this.$_compareRemainExpand(a2, true);
            break;
          case X.REMAIN_AND_COLLAPSE:
            this.$_compareRemainExpand(a2, false);
            break;
          case X.EXPAND:
            this.$_setExpanded(a2, false, 0, false);
          case X.COLLAPSE:
        }
        e3 && a2._restoreExpanded(), s2.count > 0 && this.$_buildItems(a2, e3, i2);
      }
    }
  }, e2.prototype.$_compareRemainExpand = function(t3, e3) {
    var i2 = this._ds, o2 = i2.getFieldIndex(i2.treeField), r2 = t3.getData(o2);
    this._remainExpandedMap.hasOwnProperty(r2) ? this._remainExpandedMap[r2] && this.$_setExpanded(t3, false, 0, false) : e3 && this.$_setExpanded(t3, false, 0, false);
  }, e2.prototype.$_sortItem = function(t3) {
    this.$_sort(t3, this._sortFields, this._sortDirections, this._sortCases);
  }, e2.prototype.$_sort = function(t3, e3, i2, o2) {
    var r2 = this, n2 = this._nullsOrder;
    t3._children.sort(function(t4, s3) {
      for (var a2, u2, c2 = 0, d2 = 0, p2 = e3.length; d2 < p2; d2++) {
        a2 = i2[d2] === l.ASCENDING, u2 = r2._sortFields.length == d2 + 1;
        var f2 = a2 ? n2 === K.LAST ? -1 : 1 : n2 === K.FIRST ? -1 : 1, _2 = r2.$_getComparer(e3[d2], o2[d2] === h.INSENSITIVE);
        if (0 != (c2 = _2 ? _2(e3[d2], t4.row, s3.row, f2) : 0)) break;
      }
      return 0 === (c2 *= a2 ? 1 : -1) && u2 ? !r2._sortDataRow || a2 ? t4.rowId - s3.rowId : s3.rowId - t4.rowId : c2;
    });
    for (var s2 = 0; s2 < t3.children.length; s2++) this.$_sort(t3.getItem(s2), e3, i2, o2);
  }, e2.prototype.$_getComparer = function(t3, e3) {
    var i2 = this._ds, o2 = this._ds._comparers[t3] || this.labelComparer[t3], r2 = this._ds.getField(t3);
    if (o2) return function(t4, e4, i3) {
      return o2(t4, e4.rowId, i3.rowId);
    };
    switch (r2.dataType) {
      case a.NUMBER:
      case a.DATETIME:
        return i2.compareNumbers;
      case a.BOOLEAN:
        return i2.compareBools;
      case a.OBJECT:
        return i2.compareObjects.bind(i2);
      default:
        return e3 ? i2.compareTexts.bind(i2) : i2.compareValues.bind(i2);
    }
  }, e2.prototype.$_buildTree = function(t3, e3) {
    void 0 === t3 && (t3 = false);
    var i2 = this.dataSource;
    this._rootItem._dataRow = i2.rootRow, this._itemMap[this._rootItem._dataRow.rowId] = this._rootItem, this.$_buildItems(this._rootItem, t3, e3), this.$_clearSummary();
    for (var o2 = i2.fieldCount, r2 = this._sortFields, n2 = this._sortDirections, s2 = this._sortCases, a2 = r2.length; a2--; ) (r2[a2] < 0 || r2[a2] >= o2) && (r2.splice(a2, 1), n2.splice(a2, 1), s2.splice(a2, 1));
    this.sorted && this._rootItem.count > 0 && !this.outerSort && this.$_sortItem(this._rootItem), this.$_resetVisibleItems(), this._checkableTag && this._checkableTag.setRows();
  }, e2.prototype.$_resetSummary = function() {
    this._summaryMap = [];
  }, e2.prototype.$_resetGroupSummary = function() {
  }, e2.prototype.$_clearSummary = function() {
    if (this._summaryMap) for (var t3 = this._summaryMap.length; t3--; ) this._summaryMap[t3] && this._summaryMap[t3].clear();
  }, e2.prototype.$_getSummary = function(t3) {
    var e3 = this._summaryMap[t3];
    if (!e3) {
      var i2 = this.dataSource;
      i2 && i2.canSummarize(t3) && (e3 = new To(t3), this._summaryMap[t3] = e3);
    }
    return e3 && 0 == e3.count && this.itemCount > 0 && this.$_summarize(e3), e3;
  }, e2.prototype.$_summarize = function(t3) {
    var e3 = this.dataSource;
    if (e3) if (this._filtered || this.hideDeleted || e3.hiddenCount > 0) {
      for (var i2 = this._rootItem.getDescendants(false), o2 = i2.length, r2 = [], n2 = 0; n2 < o2; n2++) {
        var s2 = i2[n2];
        s2 instanceof In && !e3.isHiddenRow(s2.rowId) && r2.push(s2.row);
      }
      t3.count = r2.length, e3.summarizeRange(t3, r2, this.summaryMode == x.STATISTICAL);
    } else t3.count = e3.rowCount, e3.summarize(t3, this.summaryMode == x.STATISTICAL);
  }, e2.prototype.$_saveRemainPrepareMap = function() {
    var t3 = this._ds, e3 = t3.getFieldIndex(t3.treeField);
    var i2 = this._expandWhenSetData;
    return i2 == X.COLLAPSE || i2 == X.EXPAND ? {} : function t4(e4, i3, o2) {
      for (var r2 = 0; r2 < e4.count; r2++) {
        var n2 = e4.children[r2];
        o2[n2.getData(i3)] = n2.expanded, n2.count > 0 && t4(n2, i3, o2);
      }
      return o2;
    }(this.rootItem, e3, {});
  }, e2.prototype._fireItemChanged = function(t3) {
    this._eventLock <= 0 && this.fireEvent(e2.ITEM_CHANGED, t3);
  }, e2.prototype._fireExpanding = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent(e2.EXPANDING, t3);
  }, e2.prototype._fireExpanded = function(t3) {
    this._eventLock <= 0 && this.fireEvent(e2.EXPANDED, t3);
  }, e2.prototype._fireCollapsing = function(t3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent(e2.COLLAPSING, t3);
  }, e2.prototype._fireCollapsed = function(t3) {
    this._eventLock <= 0 && this.fireEvent(e2.COLLAPSED, t3);
  }, e2.prototype._fireParentChanging = function(t3, i2, o2) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent(e2.PARENT_CHANGING, t3, i2, o2);
  }, e2.prototype._fireParentChanged = function(t3, i2, o2) {
    this._eventLock <= 0 && this.fireEvent(e2.PARENT_CHANGED, t3, i2, o2);
  }, e2.prototype._refreshItems = function() {
    this.$_clearItems(), this.$_buildTree(), this._fireRefresh();
  }, e2.prototype._saveAndRefresh = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = true), t3 && this.$_saveExpanded(this._rootItem);
    var i2 = {};
    this.hasFilters() && function t4(e4, i3) {
      i3[e4.dataId] = true, e4.children.length > 0 && e4.children.forEach(function(e5) {
        t4(e5, i3);
      });
    }(this._rootItem, i2), this.$_clearItems(), this.$_buildTree(t3, i2), e3 && this._fireRefresh();
  }, e2.prototype.onDataSourceCommandStackChanged = function(t3, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, e2.prototype.onTreeDataProviderDisposed = function(t3) {
    this.disposing || (this.$_clearItems(), this.$_resetSummary(), this._fireReset(true), this.dataSource = null);
  }, e2.prototype.onTreeDataProviderReset = function(t3, e3) {
    this.$_clearItems(), this.$_resetSummary(), this.$_buildTree(), this._fireReset(e3);
  }, e2.prototype.onTreeDataProviderRefresh = function(t3) {
    this._refreshItems(), this._remainExpandedMap = void 0;
  }, e2.prototype.onTreeDataProviderRefreshClient = function(t3) {
    this._fireRefreshClient();
  }, e2.prototype.onTreeDataProviderPrepareRemain = function() {
    this._remainExpandedMap = this.$_saveRemainPrepareMap();
  }, e2.prototype.onDataProvderCleared = function(t3) {
    this._refreshItems();
  }, e2.prototype.onTreeDataProviderRowCountChanged = function(t3, e3) {
  }, e2.prototype.onTreeDataProviderRowAdding = function(t3, e3, i2) {
    return true;
  }, e2.prototype.onTreeDataProviderRowAdded = function(t3, e3) {
    var i2 = this._itemMap[e3.parent.rowId];
    if (i2) {
      var o2 = this.$_internalAddItem(i2, e3, true);
      o2 ? (this.$_buildItems(o2), this.$_clearSummary(), i2.expanded ? this._expandItem(i2, true, false, 0, false, true) : this._fireItemChanged(i2)) : this.$_resetVisibleItems();
    }
    this._checkableTag && (this._checkableTag.addRow(e3, false), e3.parent.level > 0 && this._checkableTag.addRow(e3.parent, false)), this.$_needSort() && this._saveAndRefresh();
  }, e2.prototype.onTreeDataProviderRowsAdded = function(t3, e3, i2) {
    var o2, r2 = this._itemMap[e3.rowId];
    if (r2 && i2 && (o2 = i2.length) > 0) {
      for (var n2 = 0; n2 < o2; n2++) {
        var s2 = i2[n2], a2 = this.$_internalAddItem(r2, s2, true);
        a2 && this.$_buildItems(a2);
      }
      this.$_clearSummary(), r2.expanded ? this._expandItem(r2, true, false, 0, false, true) : this._fireItemChanged(r2), this._checkableTag && (this._checkableTag.addRows(i2), e3.level > 0 && this._checkableTag.addRow(e3));
    }
    this.$_needSort() && this._saveAndRefresh();
  }, e2.prototype.onTreeDataProviderRowRemoving = function(t3, e3) {
    return true;
  }, e2.prototype.onTreeDataProviderRowRemoved = function(t3, e3) {
    var i2 = this._itemMap[e3.rowId];
    if (i2) {
      var o2 = i2.parent;
      this.$_internalRemoveItem(i2), this.$_clearSummary(), o2.expanded && o2.visible && (this._visibleItems.remove(i2), this._fireRefresh());
    }
  }, e2.prototype.onTreeDataProviderRowsRemoving = function(t3, e3) {
    return true;
  }, e2.prototype.onTreeDataProviderRowsRemoved = function(t3, e3) {
    for (var i2 = e3.length, o2 = false, r2 = 0; r2 < i2; r2++) {
      var n2 = e3[r2], s2 = this._itemMap[n2.rowId];
      if (s2) {
        var a2 = s2.parent;
        this.$_internalRemoveItem(s2), a2.expanded && a2.visible && (this._visibleItems.remove(s2), o2 = true);
      }
    }
    this.$_clearSummary(), o2 && this._fireRefresh();
  }, e2.prototype.onTreeDataProviderRowUpdating = function(t3, e3) {
    return true;
  }, e2.prototype.onTreeDataProviderRowUpdated = function(t3, e3) {
    if (this.$_needSort()) this._saveAndRefresh();
    else {
      var i2 = this._itemMap[e3.rowId];
      this.$_clearSummary(), this._fireItemUpdated(i2), this._fireRefresh();
    }
    this._checkableTag && this._checkableTag.updateRow(e3);
  }, e2.prototype.onTreeDataProviderRowsUpdating = function(t3, e3) {
    return true;
  }, e2.prototype.onTreeDataProviderRowsUpdated = function(t3, e3) {
    this.$_needSort() ? this._saveAndRefresh() : (this.$_clearSummary(), this._fireRefresh()), this._checkableTag && this._checkableTag.updateRows(e3);
  }, e2.prototype.onTreeDataProviderValueChanging = function(t3, e3, i2) {
    return true;
  }, e2.prototype.onTreeDataProviderValueChanged = function(t3, e3, i2) {
    if (this.$_needSort()) this._saveAndRefresh();
    else {
      var o2 = this._itemMap[e3.rowId];
      this.$_clearSummary(), this._fireItemUpdated(o2), this._fireRefresh();
    }
    this._checkableTag && this._checkableTag.updateRow(e3);
  }, e2.prototype.onTreeDataProviderIconIndexChanged = function(t3, e3) {
    var i2 = this._itemMap[e3.rowId];
    i2 && i2.visible && this._fireItemChanged(i2);
  }, e2.prototype.onTreeDataProviderHasChildrenChanged = function(t3, e3) {
    var i2 = this._itemMap[e3.rowId];
    i2 && i2.visible && this._fireItemChanged(i2);
  }, e2.prototype.onTreeDataProviderRowStateChanged = function(t3, e3, i2) {
    var o2 = this._itemMap[e3.rowId];
    this.$_internalRowStateChanged(o2, i2), this._checkableTag && this._checkableTag.updateRow(e3), !o2 && i2 && this._saveAndRefresh();
  }, e2.prototype.onTreeDataProviderRowStatesChanged = function(t3, e3) {
    var i2 = e3.length, o2 = false;
    if (1 == i2) {
      var r2 = e3[0];
      o2 = !(l2 = this._itemMap[r2.rowId]), this.$_internalRowStateChanged(l2), this._checkableTag && this._checkableTag.updateRow(r2), o2 && this._saveAndRefresh();
    } else if (i2 > 0) {
      var n2 = false;
      if (this.hideDeleted) for (var s2 = 0, a2 = e3.length; s2 < a2; s2++) {
        var l2 = this._itemMap[e3[s2].rowId];
        if (o2 = o2 || !l2, l2 && Pt(l2.rowState)) {
          var h2 = l2.parent;
          this.$_internalRemoveItem(l2), h2.expanded && h2.visible && this._visibleItems.remove(l2), n2 = true;
        }
      }
      this._checkableTag && this._checkableTag.changeStates(e3), n2 && this.$_clearSummary(), o2 ? this._saveAndRefresh() : this._fireRefresh();
    }
  }, e2.prototype.onTreeDataProviderRowSiblingMoved = function(t3, e3, i2) {
    if (!this.$_needSort()) {
      var o2 = this._itemMap[e3.rowId];
      if (o2) o2.parent.moveChild(o2.childIndex, i2), this.$_resetVisibleItems(), this._fireRefresh();
    }
  }, e2.prototype.onTreeDataProviderRowsSiblingMoved = function(t3, e3, i2) {
    if (!this.$_needSort()) {
      var o2 = this._itemMap[e3[0].rowId];
      if (o2) o2.parent.moveChildren(o2.childIndex, e3.length, i2), this.$_resetVisibleItems(), this._fireRefresh();
    }
  }, e2.prototype.onTreeDataProviderRowParentChanged = function(t3, e3, i2, o2) {
    var r2 = this._itemMap[e3.rowId];
    if (r2) {
      var n2 = this._itemMap[i2.rowId];
      this.$_needSort() && (o2 = n2 ? n2.count() : 0), r2.changeParent(n2, o2), this.$_resetVisibleItems(), this._fireRefresh();
    }
  }, e2.prototype.onTreeDataProviderRowsParentChanged = function(t3, e3, i2, o2) {
    var r2 = this._itemMap[e3[0].rowId];
    if (r2) {
      var n2 = this._itemMap[i2.rowId];
      this.$_needSort() && (o2 = n2 ? n2.count() : 0);
      for (var s2 = 0; s2 < e3.length; s2++) {
        var a2 = e3[s2];
        (r2 = this._itemMap[a2.rowId]).changeParent(n2, o2 + s2);
      }
      this.$_resetVisibleItems(), this._fireRefresh();
    }
  }, e2.prototype.onTreeDataProviderRowsHideChanged = function(t3, e3, i2) {
    if (i2) {
      for (var o2 = false, r2 = 0, n2 = e3.length; r2 < n2; r2++) {
        var s2 = e3[r2], a2 = this._itemMap[s2];
        if (a2) {
          var l2 = a2.parent;
          this.$_internalRemoveItem(a2), l2.expanded && l2.visible && this._visibleItems.remove(a2), o2 = true;
        }
      }
      o2 && this.$_clearSummary(), this._fireRefresh();
    } else this._saveAndRefresh();
  }, e2.prototype.onTreeDataProviderDataLoadComplated = function() {
    this._fireDataLoadComplated();
  }, e2.ITEM_CHANGED = "onTreeItemProviderItemChanged", e2.EXPANDING = "onTreeItemProviderExpanding", e2.EXPANDED = "onTreeItemProviderExpanded", e2.COLLAPSING = "onTreeItemProviderCollapsing", e2.COLLAPSED = "onTreeItemProviderCollapsed", e2.PARENT_CHANGING = "onTreeItemProviderParentChanging", e2.PARENT_CHANGED = "onTreeItemProviderParentChanged", e2;
}(zo);
var Rn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._rs = e3, i2;
  }
  return i(e2, t2), e2.prototype.getCount = function(t3) {
    return this._rs.getNumber(t3);
  }, e2.prototype.getSum = function(t3) {
    return this._rs.getSum(t3);
  }, e2.prototype.getMax = function(t3) {
    return this._rs.getMax(t3);
  }, e2.prototype.getMin = function(t3) {
    return this._rs.getMin(t3);
  }, e2.prototype.getAvg = function(t3) {
    return this._rs.getAvg(t3);
  }, e2.prototype.getVar = function(t3) {
    return this._rs.getVar(t3);
  }, e2.prototype.getVarp = function(t3) {
    return this._rs.getVarp(t3);
  }, e2.prototype.getStdev = function(t3) {
    return this._rs.getStdev(t3);
  }, e2.prototype.getStdevp = function(t3) {
    return this._rs.getStdevp(t3);
  }, e2.prototype.getDataCount = function(t3) {
    return this._rs.getDataCount(t3);
  }, e2.prototype.getDataAvg = function(t3) {
    return this._rs.getDataAvg(t3);
  }, e2;
}(Ft);
var Pn = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, i2 && i2.row) || this;
    return r2._values = [], r2._changeValues = [], r2._started = false, r2._checkDiff = false, r2._strictDiff = false, r2._invalidFields = [], r2._rs = e3, r2._target = i2, r2._state = o2, r2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._values = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values.concat();
  }, set: function(t3) {
    var e3 = this.dataSource, i2 = e3.fieldCount;
    if (t3) {
      i2 = Math.min(i2, t3.length);
      for (var o2 = 0; o2 < i2; o2++) {
        var r2 = e3.getField(o2), n2 = this._values[o2], s2 = r2.readValue(t3[o2]);
        this._values[o2] = s2, this._started && parent && !r2.equalValues(n2, s2) && this._rs._editItemCellUpdated(this, o2, n2, s2);
      }
    } else this._values = [];
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "invalidFields", { get: function() {
    return this._invalidFields;
  }, enumerable: false, configurable: true }), e2.prototype.beginEdit = function(t3, e3) {
    this._started = true, this._checkDiff = t3, this._strictDiff = e3;
  }, e2.prototype.setValue = function(t3, e3) {
    var i2 = this.dataSource;
    if (t3 < 0 && t3 >= i2.fieldCount) throw new RangeError("field index is out of bounds: " + t3);
    var o2 = i2.getField(t3), r2 = this._values[t3];
    e3 = o2.readValue(e3), this._values[t3] = e3, this._started && this.parent && !o2.equalValues(r2, e3) && this._rs._editItemCellUpdated(this, t3, r2, e3);
  }, Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._rs.dataSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemState", { get: function() {
    return this._state;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowState", { get: function() {
    return this._target ? this._target.rowState : St.NONE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return !!this._target && this._target.expanded;
  }, enumerable: false, configurable: true }), e2.prototype.getData = function(t3) {
    return t3 = this.dataSource.getFieldIndex(t3), this._values[t3];
  }, e2.prototype.setData = function(t3, e3) {
    var i2 = this.dataSource;
    if ((t3 = i2.getFieldIndex(t3)) < 0 || t3 >= i2.fieldCount) throw new RangeError("field index is out of bounds: " + t3);
    var o2 = i2.getField(t3), r2 = this._values[t3];
    e3 = o2.readValue(e3);
    var n2 = !this._checkDiff;
    n2 || (n2 = this._strictDiff ? !o2.equalValues(r2, e3) : !o2.sameValues(r2, e3)), n2 && (this._values[t3] = e3, this._changeValues[t3] = true, this.parent && (this._rs._editItemCellUpdated(this, t3, r2, e3), this._rs._editItemCellEdited(this, t3)));
  }, e2.prototype.getRowData = function() {
    return this._values.concat();
  }, e2.prototype.getRowObject = function() {
    var t3 = this.dataSource;
    if (t3) {
      for (var e3 = {}, i2 = 0, o2 = t3.fieldCount; i2 < o2; i2++) {
        e3[t3.getOrgFieldName(i2)] = this._values[i2];
      }
      return e3;
    }
    return null;
  }, e2.prototype.isEdited = function(t3) {
    return this._changeValues[t3];
  }, Object.defineProperty(e2.prototype, "provider", { get: function() {
    return this._rs && this._rs.source;
  }, enumerable: false, configurable: true }), e2;
}(In);
var kn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, null, e3) || this;
    return i2._observers = [], i2._appending = false, i2._insertAfter = false, i2._insertIndex = -1, i2._rs = new On(), i2.source = i2._rs, i2._summarizer = new Rn(i2._rs), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rs = this._rs && this._rs.dispose(), this._summarizer = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "summarizer", { get: function() {
    return this._summarizer;
  }, enumerable: false, configurable: true }), e2.prototype.getLevels = function(t3) {
    return this._rs.getLevels(t3);
  }, e2.prototype.setLabelComparer = function(t3) {
    this._rs.labelComparer = t3;
  }, e2.prototype.orderBy = function(t3, e3, i2) {
    this._rs.orderBy(t3, e3, i2);
  }, e2.prototype.getSortFields = function() {
    return this._rs.getSortFields();
  }, e2.prototype.getSortDirections = function() {
    return this._rs.getSortDirections();
  }, e2.prototype.getSortCases = function() {
    return this._rs.getSortCases();
  }, Object.defineProperty(e2.prototype, "labelComparer", { get: function() {
    return this._rs.labelComparer;
  }, set: function(t3) {
    this._rs.labelComparer = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isFiltered = function(t3) {
    return null != t3 ? this._rs.hasFilter(t3) : this._rs.hasFilters();
  }, e2.prototype.addFilter = function(t3, e3) {
    this._rs.addFilter(t3, e3);
  }, e2.prototype.clearAllFilters = function() {
    this._rs.clearAllFilters();
  }, e2.prototype.beginFiltering = function() {
    this._rs.beginFiltering();
  }, e2.prototype.endFiltering = function(t3, e3, i2) {
    this._rs.endFiltering(true, t3, e3, i2);
  }, Object.defineProperty(e2.prototype, "includeParentItem", { set: function(t3) {
    this._rs.includeParentItem = t3;
  }, enumerable: false, configurable: true }), e2.prototype.expand = function(t3, e3, i2, o2) {
    this._rs.expand(t3, e3, i2, o2);
  }, e2.prototype.collapse = function(t3, e3) {
    this._rs.collapse(t3, e3);
  }, e2.prototype.expandAll = function(t3, e3) {
    this._rs.expandAll(t3, e3);
  }, e2.prototype.collapseAll = function() {
    this._rs.collapseAll();
  }, e2.prototype.getCheckedRows = function() {
    return this._rs.getCheckedRows();
  }, e2.prototype.getCheckedRowIds = function() {
    return this._rs.getCheckedRowIds();
  }, Object.defineProperty(e2.prototype, "checkableExpression", { set: function(t3) {
    this._rs.checkableExpression = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableCallback", { set: function(t3) {
    this._rs.checkableCallback = t3;
  }, enumerable: false, configurable: true }), e2.prototype.resetCheckables = function() {
    this._rs.resetCheckables();
  }, e2.prototype.applyCheckables = function() {
    this._rs.applyCheckables();
  }, e2.prototype.getAllItems = function() {
    return this._rs.getAllItems();
  }, e2.prototype.getItem = function(t3) {
    return this._rs.getItem(t3);
  }, e2.prototype.getItemOfRow = function(t3) {
    return this._rs.getItemOfRow(t3);
  }, e2.prototype.findItem = function(t3, e3, i2, o2, r2) {
    return this._rs.findItem(t3, e3, i2, o2, r2);
  }, e2.prototype.findCell = function(t3, e3, i2, o2, r2, n2) {
    return this._rs.findCell(t3, e3, i2, o2, r2, n2);
  }, e2.prototype.checkItem = function(t3, e3, i2, o2) {
    this._rs.checkItem(t3, e3, i2, o2);
  }, e2.prototype.checkAll = function(t3, e3, i2, o2) {
    var r2 = this.editingItem;
    r2 && (!i2 || r2.checkable) && r2._setChecked(t3), this._rs.checkAll(t3, e3, i2, o2);
  }, e2.prototype.setCheckFieldIndex = function(t3) {
    this._rs.setCheckFieldIndex(t3);
  }, e2.prototype.getJsonRows = function() {
    return this._rs.getJsonRows();
  }, Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return this._rs.summaryMode;
  }, set: function(t3) {
    this._rs.summaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupSummaryMode", { set: function(t3) {
    this._rs.groupSummaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideDeleted", { get: function() {
    return this._rs.hideDeleted;
  }, set: function(t3) {
    this._rs.hideDeleted = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortMode", { get: function() {
    return this._rs.sortMode;
  }, set: function(t3) {
    this._rs.sortMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return this._rs.itemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._rs.rowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorted", { get: function() {
    return this._rs.sorted;
  }, enumerable: false, configurable: true }), e2.prototype.getMovable = function(t3) {
    return this._rs.getMovable(t3);
  }, e2.prototype.getItems = function(t3, e3) {
    throw new Error("Method not implemented.");
  }, e2.prototype.canAppend = function() {
    return false;
  }, e2.prototype.canInsert = function(t3) {
    return !!t3;
  }, e2.prototype.canDelete = function(t3) {
    return !!t3;
  }, e2.prototype.$_replaceItem = function(t3, e3) {
    t3.parent.setItem(t3, e3), this._rs._setItem(t3, e3);
  }, e2.prototype._doBeginUpdate = function(t3) {
    return this._editingItem = this._editItem = this._createEditItem(t3, vo.UPDATING, null), this.$_replaceItem(t3, this._editItem), this._editItem;
  }, e2.prototype._doBeginAppend = function(t3) {
    return this._editingItem = this._editItem = this._createEditItem(null, vo.APPENDING, t3), this._editItem;
  }, e2.prototype._doBeginInsert = function(t3, e3, i2, o2) {
    if (void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = false), o2) this._appending = true, t3.setExpanded(true, false, false), this._editingItem = this._editItem = this._createEditItem(null, vo.INSERTING, e3), this._rs.appendItem(t3, this._editItem);
    else {
      var r2 = t3.parent;
      this._appending = false, this._insertAfter = i2, this._insertIndex = r2.indexOf(t3), this._editingItem = this._editItem = this._createEditItem(t3, vo.INSERTING, e3), this._rs.insertItem(r2, this._editItem, this._insertIndex, this._insertAfter);
    }
    return this._editItem;
  }, e2.prototype._doCompleteUpdate = function(t3) {
    var e3 = false;
    if (this.dataSource) {
      this.$_replaceItem(this._editItem, t3);
      var i2 = this._editItem.row;
      try {
        e3 = i2.update(this._editItem.values, false);
      } catch (e4) {
        throw this.$_replaceItem(t3, this._editItem), e4;
      }
      e3 || this.$_replaceItem(t3, this._editItem);
    }
    return e3;
  }, e2.prototype._doCompleteInsert = function(t3) {
    var e3 = this.dataSource, i2 = this._editItem, o2 = false;
    if (e3) {
      var r2 = i2.parent, n2 = r2.row, s2 = e3.createRow(i2.values, -1, false), a2 = i2.parent.indexOf(i2);
      this._rs.removeItem(i2);
      try {
        o2 = this.isAppending ? n2.addChild(s2, false) : n2.insertChild(a2, s2, false);
      } catch (t4) {
        throw this._appending ? this._rs.appendItem(r2, i2) : this._rs.insertItem(r2, i2, this._insertIndex, this._insertAfter), t4;
      }
      if (o2) {
        var l2 = r2.itemOfRow(s2.rowId);
        i2.setCheckable(l2.checkable), this._copyExtents(i2, l2), i2.heights && (l2.heights = i2.heights.slice()), i2._dataRow = s2;
      } else this._appending ? this._rs.appendItem(r2, i2) : this._rs.insertItem(r2, i2, this._insertIndex, this._insertAfter);
    }
    return o2;
  }, e2.prototype._doCancelEdit = function(e3, i2) {
    e3 == vo.UPDATING ? (this.$_replaceItem(this._editItem, i2), this._copyExtents(this._editItem, i2)) : e3 == vo.INSERTING && this._editItem.parent && this._rs.removeItem(this._editItem), t2.prototype._doCancelEdit.call(this, e3, i2);
  }, e2.prototype._doCommitEdit = function(e3, i2) {
    return e3 == vo.UPDATING || vo.INSERTING, t2.prototype._doCommitEdit.call(this, e3, i2);
  }, e2.prototype.remove = function(t3, e3) {
    if (t3) {
      var i2 = t3.row;
      i2 && i2.parent.removeChild(i2, e3);
    }
  }, e2.prototype.getRemovableRows = function(t3) {
    if (t3.length > 0) {
      for (var e3 = [], i2 = 0, o2 = t3.length; i2 < o2; i2++) {
        var r2 = this._rs.getItem(t3[i2]);
        e3.push(r2.dataId);
      }
      return e3;
    }
  }, e2.prototype.removeRows = function(t3, e3) {
    t3 && this.dataSource.removeRows(t3, e3);
  }, e2.prototype.updateRows2 = function(t3) {
  }, e2.prototype.setDataSource = function(t3) {
    this._rs.dataSource = t3;
  }, Object.defineProperty(e2.prototype, "rootItem", { get: function() {
    return this._rs._rootItem;
  }, enumerable: false, configurable: true }), e2.prototype._createEditItem = function(t3, e3, i2) {
    this._editingItem = null;
    var o2 = this.dataSource;
    if (!o2) return null;
    var r2, n2 = o2.fieldCount;
    switch (e3) {
      case vo.UPDATING:
        r2 = this._editingItem = new Pn(this, t3, e3);
        for (var s2 = 0; s2 < n2; s2++) r2.setValue(s2, t3.getData(s2));
        this._copyExtents(t3, r2), t3.heights && (r2.heights = t3.heights.slice());
        break;
      case vo.INSERTING:
      case vo.APPENDING:
        if ((r2 = this._editingItem = new Pn(this, null, e3))._setExtents(0), i2) for (s2 = 0; s2 < n2; s2++) i2.length > s2 && r2.setValue(s2, i2[s2]);
    }
    return this._editingItem;
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return this._rs.addCellStyle(t3, e3, i2);
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    return this._rs.removeCellStyle(t3, e3);
  }, e2.prototype.getUserCellStyle = function(t3, e3) {
    return this._rs.getUserCellStyle(t3, e3);
  }, e2.prototype.setSortingOptions = function(t3) {
    this._rs.setSortingOptions(t3);
  }, e2.prototype.setTreeOptions = function(t3) {
    this._rs.setTreeOptions(t3);
  }, e2.prototype.onItemProviderFilterAdd = function(t3, e3, i2) {
  }, e2.prototype.onItemProviderFilterRemove = function(t3, e3, i2) {
  }, e2.prototype.onItemProviderFilterClear = function(t3, e3) {
  }, e2.prototype.onItemProviderFilterClearAll = function(t3) {
  }, e2.prototype.onItemProviderOuterSort = function(t3, e3, i2, o2) {
    return this._fireOuterSort(e3, i2, o2);
  }, e2.prototype.onTreeItemProviderItemChanged = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent(On.ITEM_CHANGED, e3);
  }, e2.prototype.onTreeItemProviderExpanding = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent(On.EXPANDING, e3);
  }, e2.prototype.onTreeItemProviderExpanded = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent(On.EXPANDED, e3);
  }, e2.prototype.onTreeItemProviderCollapsing = function(t3, e3) {
    return !(this._eventLock <= 0) || this.fireConfirmEvent(On.COLLAPSING, e3);
  }, e2.prototype.onTreeItemProviderCollapsed = function(t3, e3) {
    this._eventLock <= 0 && this.fireEvent(On.COLLAPSED, e3);
  }, e2;
}(Zo);
var Dn = function(t2) {
  function e2(i2) {
    var o2 = t2.call(this, i2) || this;
    return Object.setPrototypeOf(o2, e2.prototype), o2;
  }
  return i(e2, t2), e2;
}(Error);
var Tn = function(t2) {
  function e2(i2, o2, r2, n2) {
    var s2 = t2.call(this, o2) || this;
    return Object.setPrototypeOf(s2, e2.prototype), s2.level = i2, s2.column = r2, s2.userMessage = n2, s2;
  }
  return i(e2, t2), e2.prototype.toString = function() {
    return "Validation failed[" + this.level.toUpperCase() + "]: " + this.message;
  }, e2;
}(Dn);
var Mn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._active = true, i2._mode = v.ALWAYS, i2._level = w.ERROR, i2._name = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, set: function(t3) {
    this._active = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mode", { get: function() {
    return this._mode;
  }, set: function(t3) {
    this._mode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this._level;
  }, set: function(t3) {
    this._level = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "criteria", { get: function() {
    return this._criteria;
  }, set: function(t3) {
    t3 != this._criteria && (this._criteria = t3, this._exprNode = t3 ? xe.Default.parse(t3, e2.CAPITAL_INDEXERS) : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "message", { get: function() {
    return this._message;
  }, set: function(t3) {
    this._message = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "description", { get: function() {
    return this._description;
  }, set: function(t3) {
    this._description = t3;
  }, enumerable: false, configurable: true }), e2.prototype.validate = function(t3) {
    if (this._exprNode && !this._exprNode.evaluate(t3)) {
      var e3 = this._message || this._description || this._name || this._criteria;
      throw new Tn(this._level, e3, null, this._message);
    }
  }, e2.prototype.doAssignSimple = function(t3) {
    if ("string" == typeof t3) return this.criteria = t3, true;
  }, e2.CAPITAL_INDEXERS = ["value", "values"], e2;
}(Ft);
var Fn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._items = [], i2._isColumn = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items.slice();
  }, set: function(t3) {
    this.assignFrom(t3);
  }, enumerable: false, configurable: true }), e2.prototype.clear = function() {
    this._items = [];
  }, e2.prototype.addAll = function(t3) {
    if (t3 && t3.length > 0) for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) this._items.push(t3[e3]);
  }, e2.prototype.validate = function(t3, e3, i2, o2) {
    for (var r2 = 0; r2 < this._items.length; r2++) {
      var n2 = this._items[r2];
      if (n2.active && (n2.mode == t3 || n2.mode == v.ALWAYS)) try {
        n2.validate(e3);
      } catch (t4) {
        if (!(i2 = i2 && !this._isColumn) || tt(n2.level, o2) < 0) throw t4 instanceof Tn ? (t4.level = n2.level, t4) : new Tn(n2.level, t4);
      }
    }
  }, e2.prototype.assignFrom = function(t3) {
    if (t3 !== this && (this.clear(), t3)) {
      Ot.isArray(t3) || (t3 = [t3]);
      for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) {
        var o2 = new Mn();
        o2.assignFrom(t3[e3]), this._items.push(o2);
      }
    }
  }, e2;
}(Ft);
var Ln = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._item = null, e3._dataSource = null, e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, this._dataSource = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, set: function(t3) {
    this._item = t3, this._dataSource = this._item.dataSource, this._fieldCount = this._dataSource ? this._dataSource.fieldCount : 0;
  }, enumerable: false, configurable: true }), e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_ROW:
        return this._item.index;
      case e2.ID_DATAROW:
        return this._item.dataRow;
      case e2.ID_CHECKED:
        return this._item.checked;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        return this._item.getData(i2);
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    var r2 = o2 ? this._dataSource.getFieldIndexC(i2) : this._dataSource.getFieldIndex(i2);
    if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        return this._item.getData(r2);
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.ID_ROW = 0, e2.ID_DATAROW = 1, e2.ID_CHECKED = 2, e2.ID_VALUE = 3, e2.ID_VALUES = 4, e2.IDENTS = { row: e2.ID_ROW, datarow: e2.ID_DATAROW, checked: e2.ID_CHECKED, value: e2.ID_VALUE, values: e2.ID_VALUES }, e2;
}(Wt);
var Nn = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._index = null, this._dataSource = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setIndex = function(t3) {
    this._index = t3, this._value = this._index.item.getData(this._index.dataColumn.dataIndex), this._dataSource = this._index.item.dataSource;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_VALUE:
        return this._value;
      case e2.ID_ROW:
        return this._index.itemIndex;
      case e2.ID_DATAROW:
        return this._index.item.dataRow;
      case e2.ID_INDEX:
        return this._index.column.index;
      case e2.ID_FIELD:
        return this._index.dataColumn.dataIndex;
      case e2.ID_CHECKED:
        var i2 = this._index.item;
        return !!i2 && i2.checked;
      case e2.ID_TAG:
        return this._index.column.tag;
      case e2.ID_BASE:
        var o2 = this._index.dataColumn.baseIndex;
        return o2 >= 0 ? this._index.item.getData(o2) : void 0;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    var o2 = this._dataSource.fieldCount;
    if (i2 < 0 || i2 >= o2) throw new Nt("Data field index out of bounds:" + i2);
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        return this._index.item.getData(i2);
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    var r2 = o2 ? this._dataSource.getFieldIndexC(i2) : this._dataSource.getFieldIndex(i2), n2 = this._dataSource.fieldCount;
    if (r2 < 0 || r2 >= n2) throw new Nt("Data field is not exists:" + i2);
    switch (t3) {
      case e2.ID_VALUE:
      case e2.ID_VALUES:
        return this._index.item.getData(r2);
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.ID_VALUE = 0, e2.ID_ROW = 1, e2.ID_DATAROW = 2, e2.ID_INDEX = 3, e2.ID_FIELD = 4, e2.ID_CHECKED = 5, e2.ID_TAG = 6, e2.ID_BASE = 7, e2.ID_VALUES = 8, e2.IDENTS = { value: e2.ID_VALUE, row: e2.ID_ROW, datarow: e2.ID_DATAROW, index: e2.ID_INDEX, field: e2.ID_FIELD, checked: e2.ID_CHECKED, tag: e2.ID_TAG, base: e2.ID_BASE, values: e2.ID_VALUES }, e2;
}(Wt);
var $n = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._cellList = {}, i2._owner = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellList", { get: function() {
    return this._cellList;
  }, enumerable: false, configurable: true }), e2.prototype.validateCell = function(t3, e3, i2) {
    this.$_validateCell(t3, e3, true, this._owner.editOptions.commitLevel, i2);
  }, e2.prototype.validateRow = function(t3, e3, i2, o2) {
    var r2 = this._owner.editOptions.commitLevel, n2 = new Ts();
    if (!i2) for (var s2 = this._owner.getDataColumns(), a2 = 0, l2 = s2.length; a2 < l2; a2++) {
      var h2 = s2[a2];
      n2.set(t3.index, h2, this._owner);
      try {
        this.$_validateCell(n2, e3, true, r2, o2);
      } catch (t4) {
        if (!(t4 instanceof Tn)) throw t4;
        if (tt(t4.level, r2) < 0) throw t4;
        !o2 && this.addInvalidateCell(n2, t4);
      }
    }
    var u2 = this._owner.validations;
    if (u2 && u2.count > 0) {
      var c2 = this._owner.rowValidationRuntime;
      c2.item = t3, u2.validate(e3 ? v.INSERT : v.UPDATE, c2, true, r2);
    }
    this.owner._fireValidateRow(t3, e3, t3.getRowObject());
  }, e2.prototype.clearInvalidCells = function(t3) {
    this.$_clearInvalidateList(t3);
  }, e2.prototype.clearInvalidCell = function(t3) {
    this.$_clearInvalidateCell(t3);
  }, e2.prototype.getError = function(t3) {
    return t3.item ? (this._cellList[$o(t3.item.itemState) ? -1 : t3.dataId] || {})[t3.dataField] : null;
  }, e2.prototype.cloneError = function(t3, e3) {
    var i2 = this._cellList;
    i2[t3] && (i2[e3] = JSON.parse(JSON.stringify(i2[t3])));
  }, e2.prototype.addInvalidateCell = function(t3, e3) {
    return this.$_addInvalidateCell(t3, e3);
  }, e2.prototype.getInvalidCells = function(t3) {
    var e3, i2 = [], r2 = this._owner.dataSource, n2 = this._cellList;
    if (null != t3) {
      var s2 = r2.getRowId(t3);
      if (null == s2) return null;
      (e3 = {})[s2] = this._cellList[s2], n2 = e3;
    }
    for (var a2 in n2) {
      var l2 = n2[a2];
      for (var h2 in t3 = r2.getDataRow(+a2), l2) {
        var u2 = o(o({}, l2[h2]), { dataRow: t3 });
        i2.push(Ot.deepCopy(u2));
      }
    }
    return i2.length > 0 ? i2 : null;
  }, e2.prototype.validateCells = function(t3, e3, i2, o2) {
    var r2 = this._owner, n2 = r2.getDataColumns(), s2 = [];
    if (o2) for (var a2 = n2.length; a2--; ) o2.indexOf(n2[a2].name) < 0 && n2.splice(a2, 1);
    if (t3 = Ot.makeArray(t3)) {
      a2 = 0;
      for (var l2 = t3.length; a2 < l2; a2++) {
        (u2 = r2.getItem(t3[a2])) && u2.isDataRow && (!o2 && delete this._cellList[u2.dataId], s2.push(u2));
      }
    } else if (e3) for (a2 = 0, l2 = r2.itemCount; a2 < l2; a2++) {
      (u2 = r2.getItem(a2)) && u2.isDataRow && (!o2 && delete this._cellList[u2.dataId], s2.push(u2));
    }
    else !r2.isTree() && r2.paged && i2 ? (s2 = r2.itemSource.getPagingAllItems(), !o2 && (this._cellList = {})) : (s2 = r2.getAllItems(), !o2 && (this._cellList = {}));
    a2 = 0;
    for (var h2 = s2.length; a2 < h2; a2++) {
      var u2;
      if ((u2 = s2[a2]).isDataRow) {
        var c2 = 0;
        for (l2 = n2.length; c2 < l2; c2++) {
          var d2 = n2[c2], p2 = Ms.tempItem(r2, u2, d2);
          try {
            this.$_validateCell(p2, false, false, w.IGNORE, false);
          } catch (t4) {
            Ot.log("validateCells valiation fail add");
          }
        }
      }
    }
    return r2.refreshView(), this.getInvalidCells();
  }, e2.prototype.clearInvalidateList = function() {
    this.$_clearInvalidateList();
  }, e2.prototype.checkRowIds = function() {
    var t3 = this.owner.dataSource;
    for (var e3 in this._cellList) {
      var i2 = parseInt(e3);
      -1 !== i2 && t3.getDataRow(i2) < 0 && delete this._cellList[i2];
    }
  }, e2.prototype.$_validateCell = function(t3, e3, i2, o2, r2) {
    var n2 = t3.dataColumn;
    if (n2) {
      var s2 = this.owner.editOptions.validateOnlyEditColumn, a2 = true;
      if ((t3.item instanceof Xo || t3.item instanceof Pn) && (a2 = t3.item.isEdited(n2.dataIndex)), !s2 || a2 || n2.required) try {
        var l2 = t3.item.getData(n2.dataIndex);
        if (n2.required) {
          var h2 = n2.grid, u2 = h2 && h2.dataSource && h2.dataSource.getField(n2.dataIndex);
          if (u2 && u2.isEmpty(l2)) {
            var c2 = n2.requiredMessage || "Value is required: " + n2.fieldName;
            throw new Tn(n2.requiredLevel || w.ERROR, c2, n2, n2.requiredMessage);
          }
        }
        var d2 = n2.validations;
        if (d2 && d2.count > 0) {
          var p2 = this._owner.columnValidationRuntime;
          p2.setIndex(t3), d2.validate(e3 ? v.INSERT : v.UPDATE, p2, i2, o2);
        }
        this.owner._fireValidateCell(t3, e3, t3.item.getData(t3.dataField)), !r2 && this.$_clearInvalidateCell(t3);
      } catch (e4) {
        throw e4 instanceof Tn && (e4.column = n2, !r2 && this.$_addInvalidateCell(t3, e4)), e4;
      }
    }
  }, e2.prototype.$_addInvalidateCell = function(t3, e3) {
    var i2 = $o(t3.item.itemState) ? -1 : t3.dataId, r2 = t3.dataColumn && t3.dataColumn.dataIndex;
    if (!(null == i2 || r2 <= -1)) {
      var n2 = this._cellList, s2 = n2[i2] = n2[i2] || {};
      return s2[r2] = { message: e3.message, userMessage: e3.userMessage, level: e3.level, column: t3.dataColumn.name, fieldName: t3.dataColumn.fieldName }, this.owner.refreshView(), o(o({}, s2[r2]), { dataRow: t3.dataRow });
    }
  }, e2.prototype.$_clearInvalidateCell = function(t3) {
    var e3 = $o(t3.item.itemState) ? -1 : t3.dataId, i2 = t3.dataField, o2 = this._cellList[e3];
    o2 && o2[i2] && delete o2[i2], this.owner.refreshView();
  }, e2.prototype.$_clearInvalidateList = function(t3) {
    null != t3 ? delete this._cellList[t3] : this._cellList = {}, this._owner.refreshView();
  }, e2;
}(Ft);
var An = /(.*)/;
var Bn = function() {
  function t2(t3) {
    this._pattern = An, this._replace = "$1", this.$_parse(this._format = t3);
  }
  return t2.getFormatter = function(e2) {
    var i2 = t2.Formatters[e2];
    return i2 || (t2.Formatters[e2] = i2 = new t2(e2)), i2;
  }, Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, enumerable: false, configurable: true }), t2.prototype.getText = function(t3) {
    return t3 && t3.replace(this._pattern, this._replace);
  }, t2.prototype.$_parse = function(t3) {
    if (t3) {
      var e2 = t3.trim().split(Ot.colonreg);
      if (e2.length > 1) {
        var i2 = e2[0].trim(), o2 = e2[1].trim();
        i2 && o2 && ('"' == i2.charAt(0) && (i2 = i2.substr(1, i2.length - 2)), i2 && ('"' == o2.charAt(0) && (o2 = i2.substr(1, o2.length - 2)), o2 && (this._pattern = new RegExp(i2, e2[2] || ""), this._replace = o2)));
      }
    }
  }, t2.Formatters = {}, t2;
}();
var Vn = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._changed = function() {
  }, e2.INIT_COUNT = 200, e2;
}(Ft);
var jn = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._level = 0, e3._mergeMode = false, e3;
  }
  return i(e2, t2), e2.getDefault = function(t3, i2) {
    var o2 = e2.$_default;
    return o2._level = t3, o2._mergeMode = i2, o2;
  }, e2.prototype.parseInit = function(t3, e3, i2, o2, r2) {
    var n2 = t3.itemCount;
    (o2 = Math.min(n2 - i2, o2)) < 1 || (this._mergeMode ? this.$_parseMerged(t3, e3, i2, o2, r2) : this.$_parseNormal(t3, e3, i2, o2, r2));
  }, e2.prototype.parseBounds = function(t3, e3, i2, o2, r2) {
    if (!(t3.itemCount < 1)) {
      for (i2 = Math.max(0, i2); i2 >= 0 && r2[i2] <= 0; ) {
        var n2 = t3.getItem(i2);
        if (n2 == this.$_getAncestor(n2, this._level)) break;
        i2--;
      }
      for (; i2 <= o2 && r2[i2] > 0; ) i2++;
      i2 <= o2 && (this._mergeMode ? this.$_parseMergedBounds(t3, e3, i2, o2, r2) : this.$_parseNormalBounds(t3, e3, i2, o2, r2));
    }
  }, e2.prototype.$_getAncestor = function(t3, e3) {
    var i2 = Ot.cast(t3, Wo);
    for (i2 || (i2 = t3.parent); i2.level > e3; ) i2 = i2.parent;
    return i2;
  }, e2.prototype.$_parseNormal = function(t3, e3, i2, o2, r2) {
    var n2 = t3.itemCount;
    if (!(n2 < 1)) {
      var s2 = t3.fixedCount, a2 = t3.getItem(i2), l2 = a2, h2 = i2, u2 = h2 + 1;
      for (r2[h2] = h2 + 1; u2 < n2; ) a2 = t3.getItem(u2), (u2 == s2 || a2.level != l2.level || a2.constructor !== l2.constructor || a2 instanceof Uo || a2 instanceof Go) && (h2 = u2), r2[u2] = h2 + 1, u2++, l2 = a2;
    }
  }, e2.prototype.$_parseMerged = function(t3, e3, i2, o2, r2) {
    var n2 = t3.itemCount;
    if (!(n2 < 1)) for (var s2 = t3.getItem(i2), a2 = this.$_getAncestor(s2, this._level), l2 = i2, h2 = r2[l2] = l2 + 1; h2 < n2; ) {
      s2 = t3.getItem(h2);
      var u2 = this.$_getAncestor(s2, this._level);
      if (u2 != a2) {
        if (h2 >= o2) break;
        a2 = u2, l2 = h2;
      }
      r2[h2] = l2 + 1, h2++;
    }
  }, e2.prototype.$_parseNormalBounds = function(t3, e3, i2, o2, r2) {
    var n2 = t3.itemCount;
    if (!(n2 < 1)) {
      var s2 = t3.fixedCount, a2 = t3.getItem(i2), l2 = a2, h2 = i2, u2 = h2 + 1;
      for (r2[h2] = h2 + 1; u2 < n2; ) a2 = t3.getItem(u2), u2 != s2 && a2.level == l2.level && a2.constructor === l2.constructor || (h2 = u2), r2[u2] = h2 + 1, u2++, l2 = a2;
    }
  }, e2.prototype.$_parseMergedBounds = function(t3, e3, i2, o2, r2) {
    var n2 = t3.itemCount;
    if (!(n2 < 1)) {
      var s2 = t3.getItem(i2), a2 = this.$_getAncestor(s2, this._level), l2 = i2, h2 = l2 + 1;
      for (r2[l2] = l2 + 1; h2 < n2; ) {
        s2 = t3.getItem(h2);
        var u2 = this.$_getAncestor(s2, this._level);
        if (u2 != a2) {
          if (h2 > o2) break;
          a2 = u2, l2 = h2;
        }
        r2[h2] = l2 + 1, h2++;
      }
    }
  }, e2.$_default = new e2(), e2;
}(Vn);
var Hn = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._item = null, e3._field = -1, e3._ds = null, e3._fieldCount = 0, e3._grid = null, e3._layout = null, e3;
  }
  return i(e2, t2), e2.getObjectText = function(t3, e3, i2, o2) {
    var r2 = e3.objectKey || e3.objectCallback, n2 = r2 ? e3.objectKey : i2.objectKey, s2 = r2 ? e3.objectCallback : i2.objectCallback;
    return s2 && "function" == typeof s2 ? s2(i2.orgFieldName, t3.dataRow, o2) : n2 && o2.hasOwnProperty(n2) ? o2[n2] : JSON.stringify(o2);
  }, e2.prototype._doDispose = function() {
    this._item = null, this._ds = null, this._grid = null, this._layout = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setDataSource = function(t3) {
    this._ds = t3, this._fieldCount = t3 ? t3.fieldCount : 0;
  }, e2.prototype.setLayout = function(t3) {
    this._layout = t3, this._column = t3.firstColumn, this._grid = t3.grid;
  }, e2.prototype.setCell = function(t3) {
    this._item = t3.item, this._field = t3.dataField;
  }, e2.prototype.setItem = function(t3, e3) {
    this._item = t3, this._field = e3;
  }, e2.prototype.clear = function() {
    this._item = null, this._field = null, this._layout = null, this._column = null, this._grid = null, this._ds = null;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    if (this._item) {
      var i2 = void 0;
      switch (t3) {
        case e2.ID_ROW:
          return this._item.index;
        case e2.ID_DATAROW:
          return this._item.dataRow;
        case e2.ID_CHECKED:
          return this._item.checked;
        case e2.ID_GROUP:
          return this._item.parent;
        case e2.ID_VALUE:
          var o2 = this._ds.getField(this._field);
          return null != (i2 = this._item.getData(this._field)) && o2.dataType === a.OBJECT ? e2.getObjectText(this._item, this._column, o2, i2) : i2;
        case e2.ID_PREV_VALUES:
          var r2 = this._grid.getDataColumns(), n2 = r2.indexOf(this._column);
          if (!r2.length || n2 < 1) return "";
          for (var s2 = [], l2 = 0, h2 = Math.min(n2, r2.length); l2 < h2; l2++) null != (i2 = this._item.getData(r2[l2].dataIndex)) && this._ds.getField(r2[l2].dataIndex).dataType === a.OBJECT ? s2.push(e2.getObjectText(this._item, r2[l2], r2[l2].getField(), i2)) : s2.push(i2);
          return s2.join("`");
      }
      throw new Nt("Invalid identifier key: " + t3);
    }
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._item) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        var o2 = this._item.getData(i2);
        if (null != o2 && this._ds.getField(i2).dataType === a.OBJECT) {
          var r2 = this._column.grid.columnByField(i2);
          return e2.getObjectText(this._item, r2, r2.getField(), o2);
        }
        return o2;
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._ds) {
      var r2 = o2 ? this._ds.getFieldIndexC(i2) : this._ds.getFieldIndex(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      var n2 = this._item.getData(r2);
      if (null != n2 && this._ds.getField(r2).dataType === a.OBJECT) {
        var s2 = this._column.grid.columnByField(r2);
        return e2.getObjectText(this._item, s2, s2.getField(), n2);
      }
      return n2;
    }
  }, e2.ID_ROW = 0, e2.ID_DATAROW = 1, e2.ID_CHECKED = 2, e2.ID_VALUE = 3, e2.ID_VALUES = 4, e2.ID_GROUP = 5, e2.ID_PREV_VALUES = 6, e2.IDENTS = { row: e2.ID_ROW, datarow: e2.ID_DATAROW, checked: e2.ID_CHECKED, value: e2.ID_VALUE, values: e2.ID_VALUES, group: e2.ID_GROUP, prevvalues: e2.ID_PREV_VALUES }, e2;
}(Wt);
var Wn = {};
var Gn = function(t2) {
  function e2(i2) {
    var o2 = t2.call(this) || this;
    return o2._runtime = e2.$_runtime = e2.$_runtime || new Hn(), "function" == typeof i2 ? o2._callback = i2 : o2.criteria = i2, o2;
  }
  return i(e2, t2), e2.createRule = function(t3) {
    var i2 = "string" == typeof t3 || "function" == typeof t3 ? t3 : t3 && t3.criteria;
    return i2 ? new e2(i2) : null;
  }, e2.prototype._doDispose = function() {
    this._runtime.clear(), this._runtime = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "criteria", { get: function() {
    return this._criteria;
  }, set: function(t3) {
    (t3 = t3 ? t3.trim() : null) != this._criteria && (this._criteria = t3, this._exprNode = t3 ? xe.Default.parse(t3, null) : null, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.$_getValue = function(t3, e3, i2, o2) {
    return o2 ? e3.getData(i2) : this._callback ? this._callback.call(null, t3.handler, this._layout.getDataColumn(), e3.itemIndex, e3.getData(i2)) : (this._runtime.setItem(e3, i2), this._exprNode.evaluate(this._runtime));
  }, e2.prototype.parseInit = function(t3, e3, i2, o2, r2) {
    var n2 = this._layout.isBreakMergeOnEmpty(), s2 = t3.fixedCount, l2 = t3.itemCount, h2 = t3.dataSource.rowCount, u2 = this._layout.grid;
    if (!((o2 = Math.min(l2 - i2, o2)) < 1 || h2 <= 0)) {
      this._runtime.setDataSource(t3.dataSource), this._runtime.setLayout(this._layout);
      for (var c2 = null, d2 = i2; d2 < l2 && (c2 = t3.getItem(d2), !this.$_isRow(c2, false)); ) r2[d2] = d2 + 1, d2++;
      if (!(d2 >= l2)) {
        var p2, f2 = !this._callback && this._exprNode.isIdentifier("value") && this._layout.getDataColumn().valueType !== a.OBJECT, _2 = i2 = d2;
        if (r2[_2] = _2 + 1, !(c2.dataRow >= h2)) for (p2 = this.$_getValue(u2, c2, e3, f2), d2 = i2 + 1; d2 < l2; d2++) if (c2 = t3.getItem(d2), this.$_isRow(c2, false)) {
          if (c2.dataRow >= h2) break;
          var g2 = this.$_getValue(u2, c2, e3, f2);
          if (d2 == s2 || null == g2 && n2 || (g2 instanceof Date && p2 instanceof Date ? +g2 != +p2 : g2 != p2)) {
            if (d2 >= o2) break;
            _2 = d2, p2 = g2;
          }
          r2[d2] = _2 + 1;
        } else {
          if (d2 >= o2) break;
          p2 = Wn, _2 = d2, r2[d2] = _2 + 1;
        }
      }
    }
  }, e2.prototype.parseBounds = function(t3, e3, i2, o2, r2) {
    var n2 = this._layout.isBreakMergeOnEmpty(), s2 = false, l2 = t3.itemCount;
    if (!(l2 < 1)) {
      var h2 = t3.fixedCount, u2 = this._layout.grid, c2 = !this._callback && this._exprNode.isIdentifier("value") && this._layout.getDataColumn().valueType !== a.OBJECT, d2 = Wn, p2 = Math.max(0, i2), f2 = p2, _2 = -1;
      if (this._runtime.setDataSource(t3.dataSource), this._runtime.setLayout(this._layout), p2 > 0 && r2[p2] <= 0) {
        var g2 = t3.getItem(p2);
        if (this.$_isRow(g2, s2)) {
          var y2 = this.$_getValue(u2, g2, e3, c2);
          for (p2--; p2 >= 0 && (g2 = t3.getItem(p2), this.$_isRow(g2, s2)) && (d2 = this.$_getValue(u2, g2, e3, c2), !(p2 == h2 || null == d2 && n2 || (d2 instanceof Date && y2 instanceof Date ? +d2 != +y2 : d2 != y2))); ) p2--;
          for (var m2 = f2 - 1; m2 > p2; m2--) r2[m2] = p2 + 2;
          f2 - 1 > p2 && (_2 = p2 + 1);
        } else {
          r2[p2] = p2 + 1;
          for (m2 = f2 - 1; m2 > p2; m2--) r2[m2] = p2 + 2;
          for (f2 - 1 > p2 + 1 && (_2 = p2 + 2), p2--; p2 >= 0 && r2[p2] <= 0 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2--;
        }
      }
      for (p2 = Math.max(0, i2); p2 <= o2 && r2[p2] > 0; ) p2++;
      for (; p2 <= o2 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2++;
      if (p2 < o2) {
        f2 = p2;
        g2 = t3.getItem(p2), y2 = this.$_getValue(u2, g2, e3, c2);
        for (p2++; p2 < l2; ) if (g2 = t3.getItem(p2), this.$_isRow(g2, s2)) {
          if (d2 = this.$_getValue(u2, g2, e3, c2), p2 == h2 || void 0 === d2 && n2 || (d2 instanceof Date && y2 instanceof Date ? +d2 != +y2 : d2 != y2)) {
            var b2 = f2;
            _2 >= 0 && (b2 = _2, _2 = -1);
            for (m2 = f2; m2 < p2; m2++) r2[m2] = b2 + 1;
            if (p2 >= o2) break;
            y2 = d2, f2 = p2;
          } else r2[p2] = f2 + 1;
          p2++;
        } else {
          b2 = f2;
          _2 >= 0 && (b2 = _2, _2 = -1);
          for (m2 = f2; m2 < p2; m2++) r2[m2] = b2 + 1;
          for (r2[p2] = p2 + 1, p2++; p2 < l2 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2++;
          if (f2 = p2, p2 >= o2) break;
        }
        if (p2 == l2 && (d2 instanceof Date && y2 instanceof Date ? +d2 == +y2 : d2 == y2)) for (b2 = _2 >= 0 ? _2 : f2, m2 = f2; m2 < p2; m2++) r2[m2] = b2 + 1;
      }
    }
  }, e2.prototype.$_isRow = function(t3, e3) {
    var i2 = t3 instanceof Ho && !(t3 instanceof Ko);
    if (i2 && !e3) {
      var o2 = t3.parent;
      i2 = o2.expanded || o2.firstItem !== t3;
    }
    return i2;
  }, e2.$_runtime = null, e2;
}(Vn);
var Un = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "head", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tail", { get: function() {
    return -1;
  }, enumerable: false, configurable: true }), e2;
}(Ft);
var Yn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._group = null, i2._column = e3.c1._columnObj, i2._head = e3.top, i2._tail = e3.bottom, i2;
  }
  return i(e2, t2), e2.borrow = function(t3) {
    var i2 = e2.$_rooms.pop();
    return i2 ? (i2._head = t3.top, i2._tail = t3.bottom) : i2 = new e2(t3), i2;
  }, e2.returnTo = function(t3) {
    if (t3) {
      var i2 = e2.$_rooms;
      i2.indexOf(t3) < 0 && i2.push(t3);
    }
  }, Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._column;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "head", { get: function() {
    return this._head;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tail", { get: function() {
    return this._tail;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scope", { get: function() {
    return this._column;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "group", { get: function() {
    return this._group;
  }, set: function(t3) {
    this._group = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getHead = function(t3) {
    return t3 ? t3.set(this._head, this._column) : t3 = this._column.grid.getIndex(this._head, this._column), t3;
  }, e2.prototype.getTail = function(t3) {
    return t3 ? t3.set(this._tail, this._column) : t3 = this._column.grid.getIndex(this._tail, this._column), t3;
  }, e2.prototype.isHead = function(t3) {
    return t3.column == this._column && t3.itemIndex == this._head;
  }, e2.prototype.isTail = function(t3) {
    return t3.column == this._column && t3.itemIndex == this._tail;
  }, e2.prototype.contains = function(t3) {
    return t3.column == this._column && t3.itemIndex >= this._head && t3.itemIndex <= this._tail;
  }, e2.$_rooms = new Array(), e2.$_roomCount = 0, e2;
}(Un);
var zn = -1;
var qn = 65535;
var Kn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._flags = null, i2._fixedRooms = [], i2._rooms = [], i2._inited = false, i2._fixedCells = [], i2._cells = [], i2._nextId = 0, i2._layout = e3, e3._merges = i2, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._layout = null, this._rooms = this._fixedRooms = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._rooms.length;
  }, enumerable: false, configurable: true }), e2.prototype.clear = function() {
    this._flags = null, this._rooms = [], this._inited = false;
  }, e2.prototype.initialize = function(t3) {
    if (!this._inited) {
      var e3 = this._layout.grid, i2 = e3.rowGroup, o2 = e3.itemSource, r2 = this._layout.firstColumn, n2 = e3.getGroupLevel(r2.dataIndex), s2 = e3.isGroupedColumn(r2) && r2.mergeGrouped ? jn.getDefault(n2, i2.mergeMode) : this._layout.$_mergeRuleObj();
      if (s2) {
        for (var a2 = this._flags = new Array(o2.itemCount), l2 = e3.fixedOptions.mergeRows ? 0 : o2.fixedCount, h2 = o2.itemCount; h2--; ) a2[h2] = 0;
        s2._layout = this._layout, s2.parseInit(o2, r2.dataIndex, l2, t3, a2);
      }
      this._inited = true;
    }
  }, e2.prototype.refreshRooms = function(t3, e3, i2) {
    if (this._nextId = 0, this._inited && this._flags && !(e3 < t3)) {
      var o2 = this._layout.grid, r2 = this._layout.firstColumn;
      if (o2 && r2) {
        var n2 = this._rooms, s2 = o2.layoutManager.fixedItemCount, a2 = o2.itemSource, l2 = o2.getGroupLevel(r2.dataIndex), h2 = l2 > 0 && r2.mergeGrouped ? jn.getDefault(l2, o2.rowGroup.mergeMode) : this._layout.$_mergeRuleObj(), u2 = o2.displayOptions.editItemMerging, c2 = 0;
        if (this._fixedRooms.length = 0, this._rooms.length = 0, h2 && (h2._layout = this._layout, h2.parseBounds(a2, r2.dataIndex, t3, e3, this._flags)), i2) for (; c2 < s2; ) {
          if (p2 = this.$_checkFixedMerge(a2, r2, c2, s2)) {
            if (l2 < 1) {
              var d2 = new Yn(p2);
              this._fixedRooms.push(d2);
            }
            c2 = p2.r2 + 1;
          } else c2 += 1;
        }
        for (c2 = t3; c2 <= e3; ) {
          var p2;
          if (p2 = this.$_checkMerge(a2, r2, c2, 0 == n2.length, s2)) {
            var f2;
            if (l2 < 1) if ((f2 = a2.getItem(p2.r2)) instanceof Hr || f2 instanceof jr) ;
            else {
              d2 = new Yn(p2);
              this._rooms.push(d2);
            }
            else if ((f2 = u2 ? a2.source.getItem(p2.top) : a2.getItem(p2.top)).level >= l2) {
              for (var _2 = f2 instanceof Wo ? f2 : f2.parent; _2.level > l2; ) _2 = _2.parent;
              (d2 = new Yn(p2)).group = _2, n2.push(d2);
            }
            c2 = p2.r2 + 1;
          } else c2 += 1;
        }
      }
    }
  }, e2.prototype.getFixedRooms = function() {
    return this._fixedRooms.slice();
  }, e2.prototype.getRooms = function() {
    return this._rooms.slice();
  }, e2.prototype.scroll = function(t3) {
  }, e2.prototype.getRoom = function(t3) {
    for (var e3 = t3.rowFixed ? this._fixedRooms : this._rooms, i2 = e3.length - 1; i2 >= 0; i2--) if (e3[i2].contains(t3)) return e3[i2];
    return null;
  }, e2.prototype.prepareCells = function(t3, e3) {
    if (t3 > 0) {
      for (var i2 = this._fixedCells, o2 = 0; o2 < i2.length; o2++) i2[o2] = zn;
      for (; i2.length < t3; ) i2.push(zn);
    }
    var r2 = this._cells;
    for (o2 = 0; o2 < r2.length; o2++) r2[o2] = zn;
    for (; r2.length < e3; ) r2.push(zn);
  }, e2.prototype.refreshCells = function(t3, e3) {
    for (var i2 = this.getFixedRooms(), o2 = i2.length - 1; o2 >= 0; o2--) {
      var r2 = i2[o2];
      this.addFixedCells(r2.head, r2.tail - r2.head + 1);
    }
    for (o2 = (i2 = this.getRooms()).length - 1; o2 >= 0; o2--) {
      r2 = i2[o2];
      var n2 = Math.max(0, r2.head - e3 - t3), s2 = r2.tail - e3 - t3;
      this.addCells(n2, s2 - n2 + 1);
    }
  }, e2.prototype.addFixedCells = function(t3, e3) {
    for (var i2 = this._fixedCells, o2 = this._nextId++, r2 = t3 + 1; r2 < t3 + e3; r2++) i2[r2] = o2 + qn;
    return i2[t3] = o2, o2;
  }, e2.prototype.addCells = function(t3, e3) {
    for (var i2 = this._cells, o2 = this._nextId++, r2 = t3 + 1; r2 < t3 + e3; r2++) i2[r2] = o2 + qn;
    return i2[t3] = o2, o2;
  }, e2.prototype.isMerged = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] > zn : this._cells[t3 - e3] > zn;
  }, e2.prototype.isMergeRoot = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] > zn && this._fixedCells[t3] < qn : (t3 -= e3, this._cells[t3] > zn && this._cells[t3] < qn);
  }, e2.prototype.isHidden = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] >= qn : this._cells[t3 - e3] >= qn;
  }, e2.prototype.getMerged = function(t3, e3) {
    var i2 = 1;
    if (t3 < e3) for (var o2 = (n2 = this._fixedCells)[t3], r2 = t3 + 1; r2 < n2.length && n2[r2] - qn == o2; r2++, i2++) ;
    else {
      t3 -= e3;
      var n2;
      for (o2 = (n2 = this._cells)[t3], r2 = t3 + 1; r2 < n2.length && n2[r2] - qn == o2; r2++, i2++) ;
    }
    return i2;
  }, e2.prototype.getMerged2 = function(t3, e3, i2, o2) {
    for (var r2 = this._cells, n2 = r2[i2], s2 = t3.itemSource, a2 = s2.getItem(e3++), l2 = a2.isData ? o2 : 1, h2 = i2 + 1; h2 < r2.length && r2[h2] - qn == n2; h2++) l2 += (a2 = s2.getItem(e3++)).isData ? o2 : 1;
    return l2;
  }, e2.prototype.$_checkFixedMerge = function(t3, e3, i2, o2) {
    if (o2 > 0) {
      var r2 = e3.grid, n2 = r2.displayOptions, s2 = e3.mergeEdit && r2.editOptions.commitByCell || n2.editItemMerging, a2 = i2, l2 = this._flags[a2], h2 = t3.getItem(a2);
      if (l2 <= 0 || $o(h2.itemState) && !s2) return null;
      for (; a2 && !(this._flags[a2 - 1] < l2 || $o(t3.getItem(a2 - 1).itemState)); ) a2--;
      for (var u2 = i2 + 1; u2 <= o2; ) {
        var c2 = $o(t3.getItem(u2).itemState);
        if (u2 == o2 || this._flags[u2] > l2 || c2 && !s2) return u2 > a2 + 1 || c2 ? Ns.createRange(a2, e3.layout, u2 - 1, e3.layout) : null;
        u2++;
      }
    }
    return null;
  }, e2.prototype.$_checkMerge = function(t3, e3, i2, o2, r2) {
    if (i2 >= 0) {
      var n2 = e3.grid, s2 = n2.displayOptions, a2 = e3.mergeEdit && n2.editOptions.commitByCell && n2.isEditing() && n2.isItemEditing() || s2.editItemMerging, l2 = i2, h2 = this._flags[l2], u2 = t3.getItem(l2);
      if (h2 <= 0 || $o(u2.itemState) && !a2) return null;
      if (o2) for (; l2 > r2 && !(this._flags[l2 - 1] < h2 || $o(t3.getItem(l2 - 1).itemState)); ) l2--;
      for (var c2 = t3.itemCount, d2 = i2 + 1; d2 < c2; ) {
        var p2 = $o(t3.getItem(d2).itemState);
        if (this._flags[d2] > h2 || this._flags[d2] <= 0 || p2 && !a2) {
          if (d2 > l2 + 1) return Ns.createRange(l2, e3.layout, d2 - 1, e3.layout);
          var f2 = e3 instanceof ls ? e3.groupLevel : -1;
          return (u2 = t3.getItem(l2)) instanceof Hr && u2.collapsed || u2 instanceof jr && u2.parent.level == f2 && (d2 == i2 + 1 || u2.parent.collapsed) || (u2 instanceof Hr || u2 instanceof jr) && u2.parent.level > f2 ? Ns.createRange(l2, e3.layout, d2 - 1, e3.layout) : null;
        }
        d2++;
      }
      if (d2 > l2) {
        if (d2 > l2 + 1) return Ns.createRange(l2, e3.layout, d2 - 1, e3.layout);
        f2 = e3 instanceof ls ? e3.groupLevel : -1;
        return (u2 = t3.getItem(l2)) instanceof Hr && u2.collapsed || u2 instanceof jr && u2.parent.level == f2 && (d2 == i2 + 1 || u2.parent.collapsed) || (u2 instanceof Hr || u2 instanceof jr) && u2.parent.level > f2 ? Ns.createRange(l2, e3.layout, d2 - 1, e3.layout) : null;
      }
    }
    return null;
  }, e2.MERGE_ROOMS = "mergeRooms", e2;
}(Ft);
var Xn = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, null) || this;
    return i2._column = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._column = null, this._template = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._column;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "template", { get: function() {
    return this._template && this._template.template;
  }, set: function(t3) {
    t3 != this.template && (t3 ? (this.template || (this._template = new fn()), this._template.template = t3) : this._template = void 0, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateEvents", { get: function() {
    return this._templateEvents;
  }, set: function(t3) {
    this._templateEvents = Ot.makeArray(t3, true), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values;
  }, set: function(t3) {
    t3 !== this._values && (t3 ? Ot.extendObj(t3, this._values = {}) : this._values = void 0, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenu", { get: function() {
    return this._popupMenu;
  }, set: function(t3) {
    t3 != this._popupMenu && (this._popupMenu = t3, this._popupMenuName = "string" == typeof t3 ? t3 : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenuName", { get: function() {
    if (this._popupMenuName) return this._popupMenuName;
    if (this._popupMenu) {
      this._popupMenuName = "$$_column_popup_menu" + this.$_hash;
      var t3 = this.column.grid;
      return t3 && t3.addPopupMenu(this._popupMenuName, this._popupMenu, true), t3 && this._popupMenuName;
    }
    return null;
  }, set: function(t3) {
    null != t3 && "string" != typeof t3 || (this._popupMenuName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, set: function(t3) {
    null != t3 && (t3 = String(t3)), t3 != this._text && (this._text = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 != this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this._exportStyleName;
  }, set: function(t3) {
    this._exportStyleName = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getValue = function(t3) {
    return this._values && this._values[t3];
  }, e2.prototype.setValue = function(t3, e3) {
    this._values || (this._values = {}), this._values[t3] != e3 && (this._values[t3] = e3, this._changed());
  }, e2;
}(ur);
var Zn = function() {
  function t2() {
  }
  return t2.prototype.clear = function() {
    return this.styleName = this.exportStyleName = this.textFormat = this.datetimeFormat = this.numberFormat = this.booleanFormat = this.prefix = this.suffix = this.text = void 0, this;
  }, t2.prototype.assign = function(t3) {
    if ("string" == typeof t3) this.styleName = t3;
    else if (t3) for (var e2 = 0, i2 = Object.keys(t3); e2 < i2.length; e2++) {
      var o2 = i2[e2];
      this[o2] = Ot.deepCopy(t3[o2]);
    }
    return this;
  }, t2;
}();
var Jn = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "summaryIndex", { get: function() {
    var t3 = this.$_owner;
    return t3 ? t3.getIndex(this) : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this.summaryIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueCallback", { get: function() {
    return this._valueCallback;
  }, set: function(t3) {
    t3 !== this._valueCallback && (this._valueCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expression", { get: function() {
    return this._expression;
  }, set: function(t3) {
    t3 && (t3 = t3.trim()), t3 != this._expression && (this._expression = t3, this._exprNode = t3 ? xe.Default.parse(t3) : void 0, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleCallback", { get: function() {
    return this._styleCallback;
  }, set: function(t3) {
    t3 != this._styleCallback && (this._styleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateCallback", { get: function() {
    return this._templateCallback;
  }, set: function(t3) {
    this._templateCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormat", { get: function() {
    return this._numberFormat;
  }, set: function(t3) {
    t3 != this._numberFormat && (this._numberFormat = t3, this._numberFormatter = t3 ? ze.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, this._datetimeWriter = t3 ? He.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._boolFormatter = t3 ? We.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textFormat", { get: function() {
    return this._textFormat;
  }, set: function(t3) {
    t3 != this._textFormat && (this._textFormat = t3, this._textFormatter = t3 ? Bn.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "prefix", { get: function() {
    return this._prefix;
  }, set: function(t3) {
    t3 != this._prefix && (this._prefix = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "suffix", { get: function() {
    return this._suffix;
  }, set: function(t3) {
    t3 != this._suffix && (this._suffix = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "excelFormat", { get: function() {
    return this._excelFormat;
  }, set: function(t3) {
    t3 != this._excelFormat && (this._excelFormat = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textFormatter", { get: function() {
    return this._textFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormatter", { get: function() {
    return this._numberFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeWriter", { get: function() {
    return this._datetimeWriter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boolFormatter", { get: function() {
    return this._boolFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), e2.prototype.evaluate = function(t3, e3) {
    if (this._exprNode) return this._exprNode.evaluate(t3);
  }, e2.prototype.realizeSummary = function(t3, e3) {
    var i2 = this._template;
    return i2 ? i2.realizeSummary(this, t3, e3, this._templateCallback) : void 0;
  }, e2.prototype.realizeGroupSummary = function(t3, e3) {
    var i2 = this._template;
    return i2 ? i2.realizeGroupSummary(this, t3, e3, this._templateCallback) : void 0;
  }, e2.prototype.doAssignSimple = function(t3) {
    return "string" == typeof t3 && (this.expression = t3, true);
  }, e2.prototype._doChanged = function() {
  }, e2;
}(Xn);
var Qn = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._items = [], o2._column = e3, o2._type = i2, o2._items.push(o2.$_createSummary()), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._column = null, this._items && this._items.forEach(function(t3) {
      t3.dispose();
    }), this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._column;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._type;
  }, enumerable: false, configurable: true }), e2.prototype.get = function(t3) {
    return t3 >= 0 && t3 < this.column.grid.getSummaryCount(this._type) && !this._items[t3] && (this._items[t3] = this.$_createSummary()), this._items[t3];
  }, e2.prototype.getIndex = function(t3) {
    return this._items.indexOf(t3);
  }, e2.prototype.clean = function() {
    this._items.forEach(function(t3) {
      return t3.clean();
    });
  }, e2.prototype.assignFrom = function(t3) {
    var e3 = t3 && (t3.items ? Ot.makeArray(t3.items, true) : Ot.makeArray(t3, true)), i2 = this._items;
    if (Ot.isArray(e3)) {
      for (var o2 = Math.max(e3.length, 1), r2 = 0; r2 < o2; r2++) i2[r2] || (i2[r2] = this.$_createSummary()), i2[r2].assignFrom(e3[r2]);
      this._items.length = o2;
    }
  }, e2;
}(Ft);
var ts = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.column) || this;
    return i2.$_owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doChanged = function() {
    this.column._headerSummaryChanged();
  }, e2;
}(Jn);
var es = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.$_createSummary = function() {
    return new ts(this);
  }, e2;
}(Qn);
var is = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._checkLocation = I.NONE, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemOffset", { get: function() {
    return this._itemOffset;
  }, set: function(t3) {
    t3 != this._itemOffset && (this._itemOffset = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    t3 != this._itemGap && (this._itemGap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkLocation", { get: function() {
    return this._checkLocation;
  }, set: function(t3) {
    t3 != this._checkLocation && (this._checkLocation = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useCheckImage", { get: function() {
    return this._useCheckImage;
  }, set: function(t3) {
    t3 !== this._useCheckImage && (this._useCheckImage = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    t3 != this._showTooltip && (this._showTooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    t3 != this._tooltipEllipsisOnly && (this._tooltipEllipsisOnly = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltip", { get: function() {
    return this._tooltip;
  }, set: function(t3) {
    t3 != this._tooltip && (this._tooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "edgeMark", { get: function() {
    return this._edgeMark;
  }, set: function(t3) {
    t3 !== this._edgeMark && (this._edgeMark = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    var t3, e3 = this.column, i2 = Ot.language, o2 = i2 && i2.split("-")[0];
    if (this._localeText && i2 && (t3 = this._localeText[i2] || this._localeText[o2]), !(t3 = t3 || this.text) && e3 instanceof ls) {
      var r2 = e3.getField();
      t3 = r2 ? r2.header || r2.orgFieldName : e3.fieldName;
    }
    return t3 || (t3 = e3.name), t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateCallback", { get: function() {
    return this._templateCallback;
  }, set: function(t3) {
    this._templateCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "localeText", { get: function() {
    return this._localeText;
  }, set: function(t3) {
    this._localeText = t3;
  }, enumerable: false, configurable: true }), e2.prototype.realizeTemplate = function() {
    var t3 = this._template;
    return t3 ? t3.realizeHeader(this, this.templateCallback, this.column.grid) : void 0;
  }, e2.prototype._doChanged = function() {
    this.column && this.column._headerChanged();
  }, e2.prototype.doAssignSimple = function(t3) {
    return "string" == typeof t3 && (this.text = t3, true);
  }, e2;
}(Xn);
var os = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.column) || this;
    return i2.$_owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doChanged = function() {
    this.column._footerChanged();
  }, e2;
}(Jn);
var rs = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.$_createSummary = function() {
    return new os(this);
  }, e2;
}(Qn);
var ns = function() {
  function t2() {
  }
  return t2.prototype.clear = function() {
    return this.styleName = this.exportStyleName = this.renderer = this.editable = this.editor = this.readOnly = this.textFormat = this.datetimeFormat = this.numberFormat = this.booleanFormat = this.prefix = this.suffix = this.edgeMark = this.style = this.excelFormat = this.cellProtectProps = this.button = this.buttonWidth = this.text = void 0, this;
  }, t2.prototype.assign = function(t3) {
    if ("string" == typeof t3) this.styleName = t3;
    else if (t3) if (t3 instanceof ss) for (var e2 = 0, i2 = Object.keys(this); e2 < i2.length; e2++) {
      (n2 = i2[e2]) in t3 && (this[n2] = Ot.deepCopy(t3[n2]));
    }
    else for (var o2 = 0, r2 = Object.keys(t3); o2 < r2.length; o2++) {
      var n2;
      "readonly" === (n2 = r2[o2]).toLowerCase() ? this.readOnly = t3[n2] : this.hasOwnProperty(n2) && (this[n2] = Ot.deepCopy(t3[n2]));
    }
    return this;
  }, t2.prototype.toFormatter = function(t3) {
    var e2;
    return t3 || (t3 = { textFormatter: void 0, numberFormatter: void 0, datetimeWriter: void 0, booleanFormatter: void 0, prefix: void 0, suffix: void 0, text: void 0 }), (e2 = this.textFormat) && (t3.textFormatter = Bn.getFormatter(e2)), (e2 = this.numberFormat) && (t3.numberFormatter = ze.getFormatter(e2)), (e2 = this.datetimeFormat) && (t3.datetimeWriter = He.getFormatter(e2)), (e2 = this.booleanFormat) && (t3.booleanFormatter = We.getFormatter(e2)), null != this.prefix && (t3.prefix = this.prefix), null != this.suffix && (t3.suffix = this.suffix), null != this.text && (t3.text = this.text), t3;
  }, t2;
}();
var ss = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._visible = true, i2._resizable = true, i2._movable = true, i2._checked = false, i2._indeterminate = false, i2._fillWidth = NaN, i2._dirty = false, i2._index = -1, i2._states = {}, i2._header = new is(i2), i2._footers = new rs(i2, "footer"), i2._headerSummaries = new es(i2, "summary"), i2._groupFooters = new rs(i2, "groupFooter"), e3 && i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._layout = null, this.$_owner = null, this._header = this._header && this._header.dispose(), this._footers = this._footers && this._footers.dispose(), this._headerSummaries = this._headerSummaries && this._headerSummaries.dispose(), this._groupFooters = this._groupFooters && this._groupFooters.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, set: function(t3) {
    t3 != this._name && (this._name && this.$_owner && this.$_owner.exchangeNameMap(this, this.name, t3), this._name = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._layoutChanged = function() {
    this._changed(), this._layout && this._layout._changed();
  }, Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    t3 != this._visible && (this._visible = t3, this._layout && this._layoutChanged(), this._propChanged("visible", this._visible, !this._visible));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return (null == this._width || isNaN(this._width)) && this.grid ? this._width = this.grid.displayOptions.defaultColumnWidth : this._width;
  }, set: function(t3) {
    if (t3 = Math.max(0, t3), !isNaN(t3) && t3 != this._width) {
      var e3 = this._width;
      this._width = t3, this._layoutChanged(), this._propChanged("width", this._width, e3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fillWidth", { get: function() {
    return this._fillWidth;
  }, set: function(t3) {
    t3 = Math.max(0, t3), isNaN(t3) || t3 == this._fillWidth || (this._fillWidth = t3, this._layoutChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return this._resizable;
  }, set: function(t3) {
    t3 != this._resizable && (this._resizable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "movable", { get: function() {
    return this._movable;
  }, set: function(t3) {
    t3 != this._movable && (this._movable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return this._checked;
  }, set: function(t3) {
    (t3 != this._checked || this._indeterminate) && (this._indeterminate = false, this._checked = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indeterminate", { get: function() {
    return this._indeterminate;
  }, set: function(t3) {
    t3 != this._indeterminate && (this._checked = false, this._indeterminate = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "header", { get: function() {
    return this._header;
  }, enumerable: false, configurable: true }), e2.prototype.setHeader = function(t3) {
    this._header.assignFrom(t3);
  }, Object.defineProperty(e2.prototype, "footers", { get: function() {
    return this._footers;
  }, enumerable: false, configurable: true }), e2.prototype.setFooters = function(t3) {
    this._footers.assignFrom(t3), this._changed();
  }, Object.defineProperty(e2.prototype, "footer", { get: function() {
    return this._footers.get(0);
  }, enumerable: false, configurable: true }), e2.prototype.setFooter = function(t3) {
    this.setFooters(t3);
  }, Object.defineProperty(e2.prototype, "headerSummaries", { get: function() {
    return this._headerSummaries;
  }, enumerable: false, configurable: true }), e2.prototype.setHeaderSummaries = function(t3) {
    this._headerSummaries.assignFrom(t3), this._changed();
  }, Object.defineProperty(e2.prototype, "headerSummary", { get: function() {
    return this._headerSummaries.get(0);
  }, enumerable: false, configurable: true }), e2.prototype.setHeaderSummary = function(t3) {
    this.setHeaderSummaries(t3);
  }, Object.defineProperty(e2.prototype, "groupFooters", { get: function() {
    return this._groupFooters;
  }, enumerable: false, configurable: true }), e2.prototype.setGroupFooters = function(t3) {
    this._groupFooters.assignFrom(t3), this._changed();
  }, Object.defineProperty(e2.prototype, "groupFooter", { get: function() {
    return this._groupFooters.get(0);
  }, enumerable: false, configurable: true }), e2.prototype.setGroupFooter = function(t3) {
    this.setGroupFooters(t3);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._layout ? this._layout.grid : this.$_owner ? this.$_owner.owner : void 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tag", { get: function() {
    return this._tag;
  }, set: function(t3) {
    this._tag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return this._header.text || this._name || "col_" + this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayWidth", { get: function() {
    return this._layout ? this._layout.domWidth : this._width;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayIndex", { get: function() {
    return this._layout ? this._layout.vindex : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRoot", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), e2.prototype.clean = function() {
    this._dirty = false, this._header && this._header.clean(), this._footers && this._footers.clean(), this._headerSummaries && this._headerSummaries.clean(), this._groupFooters && this._groupFooters.clean();
  }, e2.prototype.isWritable = function() {
    return false;
  }, e2.prototype.stateFor = function(t3) {
    return this._states[t3];
  }, e2.prototype.setState = function(t3, e3) {
    this._states[t3] = e3;
  }, e2.prototype.getFooter = function(t3) {
    return this._footers.get(t3);
  }, e2.prototype.getHeaderSummary = function(t3) {
    return this._headerSummaries.get(t3);
  }, e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3), this._header.assignFrom(e3.header), this._footers.assignFrom(e3.footers || e3.footer), this._headerSummaries.assignFrom(e3.summaries || e3.summary || e3.headerSummaries || e3.headerSummary), this._groupFooters.assignFrom(e3.groupFooters || e3.groupFooter);
  }, e2.prototype.toString = function() {
    return this.displayText;
  }, e2.prototype._prepareLayout = function(t3, e3) {
  }, e2.prototype._changed = function() {
    if (!this._dirty) {
      this._dirty = true;
      var t3 = this.grid;
      t3 && t3.invalidateColumn(this);
    }
  }, e2.prototype._propChanged = function(t3, e3, i2) {
    var o2 = this.grid;
    o2 && o2._fireColumnPropertyChanged(this, t3, e3, i2);
  }, e2.prototype.$_setIndex = function(t3) {
    this._index = t3;
  }, e2.prototype._headerChanged = function() {
    this._changed();
  }, e2.prototype._headerSummaryChanged = function() {
    this._changed();
  }, e2.prototype._footerChanged = function() {
    this._changed();
  }, e2.prototype._resetIndices = function(t3) {
  }, e2.prototype.$_layoutIndexChanged = function(t3, e3) {
    this._propChanged("displayIndex", e3, t3);
  }, e2.prototype.$_layoutWidthChanged = function(t3, e3) {
    this._propChanged("displayWidth", e3, t3);
  }, e2;
}(Ft);
var as = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._blankWhenCopy = false, i2._blankWhenExport = false, i2._ignoreDefaultDynamicStyles = false, i2._textInputCase = P.NORMAL, i2._button = F.NONE, i2._buttonVisibility = L.DEFAULT, i2._editButtonVisibility = L.DEFAULT, i2._displayMinusZero = true, i2._valueSeparator = ",", i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._popupMenu = null, this._popupMenuName = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "numberFormat", { get: function() {
    return this._numberFormat;
  }, set: function(t3) {
    t3 !== this._numberFormat && (this._numberFormat = t3, this._numberFormatter = t3 ? ze.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayMinusZero", { get: function() {
    return this._displayMinusZero;
  }, set: function(t3) {
    this._displayMinusZero != t3 && (this._displayMinusZero = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 !== this._datetimeFormat && (this._datetimeFormat = t3, this._datetimeWriter = t3 ? He.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 !== this._booleanFormat && (this._booleanFormat = t3, this._boolFormatter = t3 ? We.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textFormat", { get: function() {
    return this._textFormat;
  }, set: function(t3) {
    t3 !== this._textFormat && (this._textFormat = t3, this._textFormatter = t3 ? Bn.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "prefix", { get: function() {
    return this._prefix;
  }, set: function(t3) {
    t3 != this._prefix && (this._prefix = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "suffix", { get: function() {
    return this._suffix;
  }, set: function(t3) {
    t3 != this._suffix && (this._suffix = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blankWhenCopy", { get: function() {
    return this._blankWhenCopy;
  }, set: function(t3) {
    t3 != this._blankWhenCopy && (this._blankWhenCopy = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blankWhenExport", { get: function() {
    return this._blankWhenExport;
  }, set: function(t3) {
    t3 != this._blankWhenExport && (this._blankWhenExport = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ignoreDefaultDynamicStyles", { get: function() {
    return this._ignoreDefaultDynamicStyles;
  }, set: function(t3) {
    t3 != this._ignoreDefaultDynamicStyles && (this._ignoreDefaultDynamicStyles = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textInputCase", { get: function() {
    return this._textInputCase;
  }, set: function(t3) {
    t3 != this._textInputCase && (this._textInputCase = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 != this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this._exportStyleName;
  }, set: function(t3) {
    t3 != this._exportStyleName && (this._exportStyleName = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleCallback", { get: function() {
    return this._styleCallback;
  }, set: function(t3) {
    t3 != this._styleCallback && (this._styleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "renderer", { get: function() {
    return this._renderer;
  }, set: function(t3) {
    this._renderer = t3, this.grid && this._layout && this.grid.$_rendererChanged(this._layout), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editor", { get: function() {
    return this._editor;
  }, set: function(t3) {
    this._editor = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "button", { get: function() {
    return this._button;
  }, set: function(t3) {
    t3 != this._button && (this._button = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonWidth", { get: function() {
    return this._buttonWidth;
  }, set: function(t3) {
    t3 != this._buttonWidth && (this._buttonWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonVisibility", { get: function() {
    return this._buttonVisibility;
  }, set: function(t3) {
    t3 != this._buttonVisibility && (this._buttonVisibility = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonVisibleCallback", { get: function() {
    return this._buttonVisibleCallback;
  }, set: function(t3) {
    this._buttonVisibleCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editButtonVisibility", { get: function() {
    return this._editButtonVisibility;
  }, set: function(t3) {
    t3 != this._editButtonVisibility && (this._editButtonVisibility = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textFormatter", { get: function() {
    return this._textFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormatter", { get: function() {
    return this._numberFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeWriter", { get: function() {
    return this._datetimeWriter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boolFormatter", { get: function() {
    return this._boolFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenu", { get: function() {
    return this._popupMenu;
  }, set: function(t3) {
    t3 != this._popupMenu && (this._popupMenu = t3, this._popupMenuName = "string" == typeof t3 ? t3 : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenuName", { get: function() {
    return this._popupMenuName ? this._popupMenuName : this._popupMenu ? (this._popupMenuName = "$$_column_popup_menu" + this.$_hash, this.grid.addPopupMenu(this._popupMenuName, this._popupMenu, true), this.grid && this._popupMenuName) : null;
  }, set: function(t3) {
    null != t3 && "string" != typeof t3 || (this._popupMenuName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "edgeMark", { get: function() {
    return this._edgeMark;
  }, set: function(t3) {
    t3 !== this._edgeMark && (this._edgeMark = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueSeparator", { get: function() {
    return this._valueSeparator;
  }, set: function(t3) {
    t3 != this._valueSeparator && (this._valueSeparator = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.getCellStyle = function(t3) {
    return this._styleCallback && this._styleCallback(this.grid.handler, t3);
  }, e2.prototype.affix = function(t3) {
    return this._prefix && (t3 = this._prefix + t3), this._suffix && (t3 += this._suffix), t3;
  }, e2.prototype._prepareLayout = function(e3, i2) {
    t2.prototype._prepareLayout.call(this, e3, i2);
  }, e2;
}(ss);
var ls = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._fieldIndex = -1, i2._readOnly = false, i2._breakMergeOnEmpty = false, i2._equalBlank = false, i2._equalBlankText = "", i2._values = null, i2._labels = null, i2._lookupDisplay = false, i2._lookupSource = null, i2._lookupKeyFields = null, i2._lookupKeyFieldIds = null, i2._mergeGrouped = false, i2._sortable = true, i2._sortOrder = -1, i2._sortByLabel = false, i2._filterable = true, i2._filterIconVisible = true, i2._autoFilter = false, i2._filterSelectorWidth = 0, i2._lookupData = null, i2._required = false, i2._requiredLevel = w.ERROR, i2._validations = new Fn(true), i2._groupable = true, i2._dataIndex = -1, i2._baseIndex = -1, i2._valueType = a.TEXT, i2._groupLevel = -1, i2._labelFieldIndex = -1, i2._filters = new lr(i2), i2._filters.addListener(i2), i2._autoFilters = new lr(i2), i2._autoFilters.addListener(i2), i2._inlineFilters = new lr(i2), i2._inlineFilters.addListener(i2), e3 && i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._mergeRuleObj = this._mergeRuleObj && this._mergeRuleObj.dispose(), this._filters = this._filters && this._filters.dispose(), this._autoFilters = this._autoFilters && this._autoFilters.dispose(), this._inlineFilters = this._inlineFilters && this._inlineFilters.dispose(), this.validations = this._validations && this._validations.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "fieldIndex", { get: function() {
    return this._fieldIndex;
  }, set: function(t3) {
    (t3 = Math.max(-1, t3)) != this._fieldIndex && (this._fieldIndex = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldName", { get: function() {
    return this._fieldName;
  }, set: function(t3) {
    t3 != this._fieldName && (this._fieldName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, set: function(t3) {
    t3 != this._editable && (this._editable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, set: function(t3) {
    t3 != this._readOnly && (this._readOnly = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nanText", { get: function() {
    return this._nanText;
  }, set: function(t3) {
    t3 != this._nanText && (this._nanText = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "zeroText", { get: function() {
    return this._zeroText;
  }, set: function(t3) {
    t3 != this._zeroText && (this._zeroText = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultValue", { get: function() {
    return this._defaultValue;
  }, set: function(t3) {
    this._defaultValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeRule", { get: function() {
    return this._mergeRule;
  }, set: function(t3) {
    t3 != this._mergeRule && (this._mergeRule = t3, this._mergeCallback = null, this.$_setMergeRule(t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeCallback", { get: function() {
    return this._mergeCallback;
  }, set: function(t3) {
    this._mergeCallback = t3, this._mergeRule = null, this.$_setMergeRule(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "breakMergeOnEmpty", { get: function() {
    return this._breakMergeOnEmpty;
  }, set: function(t3) {
    if (t3 != this._breakMergeOnEmpty) {
      this._breakMergeOnEmpty = t3;
      var e3 = this.grid;
      e3 && this.layout && e3._columnMergeRuleChanged(this.layout);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlank", { get: function() {
    return this._equalBlank;
  }, set: function(t3) {
    t3 != this._equalBlank && (this._equalBlank = t3, this._layoutChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlankExpression", { get: function() {
    return this._equalBlankExpression;
  }, set: function(t3) {
    t3 != this._equalBlankExpression && (this._equalBlankExpression = t3, this._equalBlankNode = t3 ? xe.Default.parse(t3, null) : void 0, this._layoutChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlankText", { get: function() {
    return this._equalBlankText;
  }, set: function(t3) {
    t3 != this._equalBlankText && (this._equalBlankText = t3, this._layoutChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlankLine", { get: function() {
    return this._equalBlankLine;
  }, set: function(t3) {
    t3 != this._equalBlankLine && (this._equalBlankLine = t3, this._layoutChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeEdit", { get: function() {
    return !!this._mergeEdit;
  }, set: function(t3) {
    t3 != this._mergeEdit && (this._mergeEdit = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "excelFormat", { get: function() {
    return this._excelFormat;
  }, set: function(t3) {
    t3 != this._excelFormat && (this._excelFormat = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "excelFormulaStatement", { get: function() {
    return this._excelFormulaStatement;
  }, set: function(t3) {
    t3 != this._excelFormulaStatement && (this._excelFormulaStatement = t3, t3 ? this._excelFormulaExprStatement ? this._excelFormulaExprStatement.source = t3 : this._excelFormulaExprStatement = new or(t3) : this._excelFormulaExprStatement = null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "excelFormulaExprStatement", { get: function() {
    return this._excelFormulaExprStatement;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataIndex", { get: function() {
    return this._dataIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseIndex", { get: function() {
    return this._baseIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueType", { get: function() {
    return this._valueType;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupLevel", { get: function() {
    return this._groupLevel;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values;
  }, set: function(t3) {
    t3 != this._values && (this._values = t3 ? t3.map(function(t4, e3) {
      return null != t4 ? String(t4) : t4;
    }) : [], this._lookupMap = null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labels", { get: function() {
    return this._labels;
  }, set: function(t3) {
    t3 != this._labels && (this._labels = t3 && t3.slice(), this._lookupMap = null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupDisplay", { get: function() {
    return this._lookupDisplay;
  }, set: function(t3) {
    this._lookupDisplay != t3 && (this._lookupDisplay = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupSource", { get: function() {
    return this._lookupSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupSourceId", { get: function() {
    return this._lookupSourceId;
  }, set: function(t3) {
    this._lookupSourceId != t3 && (this._lookupSourceId = t3, this._changed(), this.grid && this.$_resetLookup(this.grid));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupKeyFields", { get: function() {
    return this._lookupKeyFields;
  }, set: function(t3) {
    t3 != this._lookupKeyFields && (this._lookupKeyFields = Ot.makeArray(t3, true).slice(), this._changed(), this.grid && this.$_resetLookup(this.grid));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupKeyFieldIds", { get: function() {
    return this._lookupKeyFieldIds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labelField", { get: function() {
    return this._labelField;
  }, set: function(t3) {
    this._labelField != t3 && (this._labelField = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textOfInvalid", { get: function() {
    return this._textOfInvalid;
  }, set: function(t3) {
    this._textOfInvalid != t3 && (this._textOfInvalid = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "placeHolder", { get: function() {
    return this._placeHolder;
  }, set: function(t3) {
    t3 !== this._placeHolder && (this._placeHolder = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "placeHolderStyleName", { get: function() {
    return this._placeHolderStyleName;
  }, set: function(t3) {
    t3 !== this._placeHolderStyleName && (this._placeHolderStyleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labelFieldIndex", { get: function() {
    return this._labelFieldIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayCallback", { get: function() {
    return this._displayCallback;
  }, set: function(t3) {
    this._displayCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeGrouped", { get: function() {
    return this._mergeGrouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortable", { get: function() {
    return this._sortable;
  }, set: function(t3) {
    t3 != this._sortable && (this._sortable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortOrder", { get: function() {
    return this._sortOrder;
  }, set: function(t3) {
    this._sortOrder = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortDirection", { get: function() {
    return this._sortDirection;
  }, set: function(t3) {
    this._sortDirection = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortByLabel", { get: function() {
    return this._sortByLabel;
  }, set: function(t3) {
    this._sortByLabel !== t3 && (this._sortByLabel = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterable", { get: function() {
    return this._filterable;
  }, set: function(t3) {
    t3 != this._filterable && (this._filterable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterIconVisible", { get: function() {
    return this._filterIconVisible;
  }, set: function(t3) {
    this._filterIconVisible != t3 && (this._filterIconVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "autoFilter", { get: function() {
    return this._autoFilter;
  }, set: function(t3) {
    t3 !== this._autoFilter && (this._autoFilter = t3, !t3 && this._autoFilters && this._autoFilters.count > 0 && this._autoFilters.clear(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filters", { get: function() {
    return this._filters;
  }, set: function(t3) {
    t3 instanceof lr || this.setFilters(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "autoFilters", { get: function() {
    return this._autoFilters;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showInlineFilter", { get: function() {
    return this._showInlineFilter;
  }, set: function(t3) {
    t3 !== this._showInlineFilter && (this._showInlineFilter = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterSelectorWidth", { get: function() {
    return this._filterSelectorWidth;
  }, set: function(t3) {
    this._filterSelectorWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "required", { get: function() {
    return this._required;
  }, set: function(t3) {
    t3 != this._required && (this._required = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "requiredMessage", { get: function() {
    return this._requiredMessage;
  }, set: function(t3) {
    t3 != this._requiredMessage && (this._requiredMessage = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "requiredLevel", { get: function() {
    return this._requiredLevel;
  }, set: function(t3) {
    t3 != this._requiredLevel && (this._requiredLevel = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "validations", { get: function() {
    return this._validations;
  }, set: function(t3) {
    this._validations.assignFrom(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupable", { get: function() {
    return this._groupable;
  }, set: function(t3) {
    this._groupable != t3 && (this._groupable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "objectKey", { get: function() {
    return this._objectKey;
  }, set: function(t3) {
    t3 != this._objectKey && (this._objectKey = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "objectCallback", { get: function() {
    return this._objectCallback;
  }, set: function(t3) {
    this._objectCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return this.header.text || this.fieldName || this.name || "col_" + this.index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupData", { get: function() {
    return this._lookupData;
  }, set: function(t3) {
    if (t3 !== this._lookupData) {
      var e3 = void 0, i2 = void 0, o2 = void 0, r2 = void 0, n2 = {};
      if (this._lookupData = Ot.deepCopy(t3), t3) {
        Ot.isArray(t3) ? n2.list = t3 : n2 = t3, this._labels = [], this._values = [], this._lookupMap = null, this._listItem = [], e3 = n2.hasOwnProperty("value") ? n2.value : "value", i2 = n2.hasOwnProperty("label") ? n2.label : "label";
        for (var s2 = 0, a2 = n2.list.length; s2 < a2; s2++) null != (r2 = null != (o2 = n2.list[s2])[e3] ? o2[e3] : o2.code) && this._values.push(null != o2[e3] ? o2[e3] : o2.code), null != r2 && this._labels.push(null != o2[i2] ? o2[i2] : null != o2.text ? o2.text : r2), this._listItem.push(o2);
      } else this._labels = null, this._values = null, this._lookupMap = null, this._listItem = null;
      this._changed();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listItem", { get: function() {
    return this._listItem;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellProtectProps", { get: function() {
    return this._cellProtectProps;
  }, set: function(t3) {
    this._cellProtectProps = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getField = function() {
    var t3 = this._dataIndex;
    if (t3 >= 0) {
      var e3 = this.grid.dataSource;
      if (e3) return e3.getField(t3);
    }
    return null;
  }, e2.prototype.getLookupLabel = function(t3, e3) {
    if (null != t3) {
      var i2, o2 = this._lookupMap;
      if (!o2) {
        var r2 = this._values, n2 = this._labels || [];
        if (r2 && r2.length > 0) {
          o2 = this._lookupMap = {};
          for (var s2 = 0; s2 < r2.length; s2++) o2[r2[s2]] = n2[s2] || r2[s2];
        }
      }
      var a2 = this.textOfInvalid;
      if ("string" == typeof t3 && t3 && this._valueSeparator) {
        for (var l2 = t3.split(this._valueSeparator), h2 = [], u2 = (s2 = 0, l2.length); s2 < u2; s2++) {
          var c2 = void 0, d2 = l2[s2];
          c2 = o2 && o2[d2] ? o2[d2] : e3 && null != a2 ? String(a2) : d2, h2.push(c2);
        }
        i2 = h2.join(this._valueSeparator);
      } else i2 = o2 ? o2[t3] : void 0;
      return i2 || (e3 && null != a2 ? a2 : t3);
    }
  }, e2.prototype.getLookupIndex = function(t3) {
    if (this._values && this._values.length > 0) {
      for (var e3 = 0, i2 = this._values.length; e3 < i2; e3++) if (this._values[e3] == t3) return e3;
    }
    return -1;
  }, e2.prototype.getLookupIndices = function(t3) {
    var e3 = [];
    if (t3 && this._values && this._values.length > 0) for (var i2 = Ot.isArray(t3) ? t3 : String(t3).split(this._valueSeparator), o2 = 0, r2 = i2.length; o2 < r2; o2++) this._values.indexOf(i2[o2]) >= 0 && e3.push(this._values.indexOf(i2[o2]));
    return e3;
  }, e2.prototype.getLookupValue = function(t3) {
    if (this._values && this._values.length > 0) return this._values[t3];
  }, e2.prototype.getLookupValues = function(t3) {
    var e3 = [];
    if (this._values && this._values.length > 0) for (var i2 = 0, o2 = t3.length; i2 < o2; i2++) t3[i2] >= 0 && t3[i2] < this._values.length && e3.push(this._values[t3[i2]]);
    return e3;
  }, e2.prototype.getSourceValue = function(t3) {
    var e3 = this._values, i2 = this._labels;
    if (i2 && e3) {
      var o2 = i2.indexOf(t3);
      if (o2 >= 0 && e3.length > o2) return e3[o2];
      if ((o2 = e3.indexOf(t3)) >= 0) return e3[o2];
    }
  }, e2.prototype.getSourceValues = function(t3) {
    var e3 = this._values, i2 = this._labels;
    if (i2 && e3) {
      for (var o2 = void 0, r2 = [], n2 = this._valueSeparator, s2 = 0, a2 = (t3 = Ot.isArray(t3) ? t3 : n2 && t3 ? String(t3).split(n2) : Ot.makeArray(t3)).length; s2 < a2; s2++) (o2 = i2.indexOf(t3[s2])) >= 0 && e3.length > o2 ? r2.push(e3[o2]) : r2.push(t3[s2]);
      if (r2.length > 0 && n2) return r2.join(n2);
      if (r2.length > 0) return r2.join();
    }
  }, Object.defineProperty(e2.prototype, "$_filters", { get: function() {
    return this._autoFilter ? this._autoFilters : this._filters;
  }, enumerable: false, configurable: true }), e2.prototype.clearFilters = function() {
    this.setFilters(null);
  }, e2.prototype.addFilters = function(t3, e3) {
    if (t3) {
      var i2 = this.grid;
      i2 && !i2.canFiltering() || this._filters.addAll(Ot.makeArray(t3), e3);
    }
  }, e2.prototype.removeFilters = function(t3) {
    if (t3) {
      var e3 = this.grid;
      e3 && !e3.canFiltering() || this._filters.removeItems(Ot.makeArray(t3));
    }
  }, e2.prototype.activateFilters = function(t3, e3) {
    if (t3) {
      var i2 = this.grid;
      i2 && !i2.canFiltering() || this.$_filters.activateItems(Ot.makeArray(t3), e3);
    }
  }, e2.prototype.activateAllFilters = function(t3, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = this.grid;
    i2 && !i2.canFiltering() || this.$_filters.activateAll(t3, e3);
  }, e2.prototype.hideColumnFilters = function(t3, e3) {
    this.$_filters.hideFilters(Ot.makeArray(t3), e3);
  }, e2.prototype.hideAllColumnFilters = function(t3) {
    this.$_filters.hideAllFilters(t3);
  }, e2.prototype.toggleFilters = function(t3) {
    if (t3) {
      var e3 = this.grid;
      e3 && !e3.canFiltering() || this.$_filters.toggleItems(Ot.makeArray(t3));
    }
  }, e2.prototype.toggleAllFilters = function() {
    var t3 = this.grid;
    t3 && !t3.canFiltering() || this.$_filters.toggleAll();
  }, e2.prototype.getFilter = function(t3) {
    var e3 = this.$_filters, i2 = e3.indexOf(t3);
    return e3.getItem(i2);
  }, e2.prototype.getActiveFilters = function(t3) {
    return this.$_filters.getActiveItems(t3);
  }, Object.defineProperty(e2.prototype, "hasFilters", { get: function() {
    return this._autoFilter || this._filters.count > 0;
  }, enumerable: false, configurable: true }), e2.prototype.isFiltered = function() {
    return this.grid.itemSource.isFiltered(this.dataIndex);
  }, e2.prototype.setFilters = function(t3) {
    var e3 = this.grid;
    e3 && !e3.canFiltering() || this._filters.assignFrom(t3);
  }, e2.prototype.autoFilterRefresh = function(t3) {
    var e3 = this.grid, i2 = null == e3 ? void 0 : e3.dataSource;
    if (e3 && i2 && this._autoFilter) {
      var o2 = e3.filterSelector._manager;
      o2 && o2.buildItems(this, i2, true, t3);
    }
  }, e2.prototype.setInlineFilter = function(t3, e3) {
    var i2 = this._inlineFilters, o2 = i2.getItem(0);
    o2 || (i2.add({ name: "inlineFilter" }, false), o2 = i2.getItem(0)), o2.criteria != t3 && (void 0 === t3 ? (o2.criteria = void 0, e3 ? o2.active = false : o2._active = false) : (o2._active = false, o2.criteria = t3, o2.active = !!o2.criteria));
  }, e2.prototype.onColumnFilterChanged = function(t3, e3, i2, o2) {
    var r2 = this.grid;
    r2 && (o2 ? this._changed() : r2.columnFilterChanged(t3, e3, i2));
  }, e2.prototype._prepareLayout = function(e3, i2) {
    t2.prototype._prepareLayout.call(this, e3, i2);
  }, e2.prototype._resetIndices = function(t3) {
    this._dataIndex = -1, this._baseIndex = -1;
    var e3 = t3.dataSource;
    e3 && (this._fieldName ? this._dataIndex = e3.getFieldIndex(this._fieldName) : this._dataIndex = this._fieldIndex, this._dataIndex >= 0 && (this._baseIndex = e3.getBaseField(this._dataIndex), this._valueType = e3.getValueType(this._dataIndex)), this._labelFieldIndex = e3.getFieldIndex(this._labelField), this.$_resetLookup(t3));
  }, e2.prototype.isWritable = function() {
    var t3 = this.grid.editOptions;
    return (t3.columnEditableFirst ? null != this._editable ? this._editable : t3.editable : t3.editable && false !== this._editable) && !this._readOnly;
  }, e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3);
  }, e2.prototype.$_setMergeGrouped = function(t3) {
    this._mergeGrouped = t3;
  }, e2.prototype.$_setGroupLevel = function(t3) {
    this._groupLevel = t3;
  }, e2.prototype.$_resetLookup = function(t3) {
    if (this._lookupKeyFields && this._lookupKeyFields.length > 0 && this._lookupSourceId) {
      for (var e3 = this._lookupKeyFields.length, i2 = this._lookupKeyFieldIds = new Array(e3), o2 = 0; o2 < e3; o2++) i2[o2] = t3.dataSource.getFieldIndex(this._lookupKeyFields[o2]);
      this._lookupSource = t3.lookupProvider.getSource(this._lookupSourceId);
    } else this._lookupSource = null, this._lookupKeyFieldIds = [];
  }, e2.prototype._changed = function() {
    t2.prototype._changed.call(this);
  }, e2.prototype.$_setMergeRule = function(t3) {
    this._mergeRuleObj = this._mergeRuleObj && this._mergeRuleObj.dispose(), t3 && (this._mergeRuleObj = Gn.createRule(t3));
    var e3 = this.grid;
    e3 && this.layout && e3._columnMergeRuleChanged(this.layout);
  }, e2.CAPITAL_INDEXERS = ["value", "values"], e2;
}(as);
var hs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2.blankWhenCopy = true, i2._fieldArray = i2._fieldArray || [], i2._fields = i2._fields || [], e3 && i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "fieldNames", { get: function() {
    return this._fieldNames;
  }, set: function(t3) {
    t3 != this._fieldNames && (this._fieldNames = t3, this._fieldArray = t3 ? t3.split(",") : [], this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "actualTarget", { get: function() {
    return this._actualTarget;
  }, set: function(t3) {
    this._actualTarget = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fields", { get: function() {
    return this._fields;
  }, enumerable: false, configurable: true }), e2.prototype._resetIndices = function(t3) {
    this._fields = [];
    var e3 = t3.dataSource;
    if (e3) for (var i2 = 0, o2 = this._fieldArray.length; i2 < o2; i2++) {
      var r2 = this._fieldArray[i2], n2 = r2.split("..");
      if (n2.length > 1) {
        var s2 = e3.getFieldIndex(n2[0]), a2 = e3.getFieldIndex(n2[1]);
        if (s2 >= 0 && a2 >= 0) for (var l2 = Math.min(s2, a2), h2 = Math.max(s2, a2), u2 = l2; u2 <= h2; u2++) this._fields.push(u2);
      } else {
        (u2 = e3.getFieldIndex(r2)) >= 0 && this._fields.push(u2);
      }
    }
  }, e2;
}(as);
var us = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return e3 && i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, set: function(t3) {
    this._value = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellProtectProps", { get: function() {
    return this._cellProtectProps;
  }, set: function(t3) {
    this._cellProtectProps = t3;
  }, enumerable: false, configurable: true }), e2;
}(as);
var cs = function() {
  function t2() {
    this._layouts = {};
  }
  return t2.prototype._doDispose = function() {
    this._layouts = null;
  }, t2.prototype.find = function(t3) {
    return this._layouts[t3];
  }, t2.prototype.clear = function() {
    this._layouts = {};
  }, t2.prototype.load = function(t3) {
    if (t3 = Ot.makeArray(t3), this._layouts = {}, t3) for (var e2 = 0, i2 = t3.length; e2 < i2; e2++) {
      var o2 = t3[e2];
      o2.name && !this._layouts[o2.name] && (this._layouts[o2.name] = o2.items);
    }
  }, t2;
}();
!function(t2) {
  t2.GROUP = "group", t2.COLUMN = "column", t2.PROXY = "proxy";
}(Kr || (Kr = {}));
var ds;
var ps = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._visible = true, e3._width = NaN, e3._fillWidth = NaN, e3._index = -1, e3._vindex = -1, e3._row = 0, e3._col = 0, e3._hrow = 0, e3._hcol = 0, e3._cspan = 1, e3._hspan = 1, e3._dspan = 1, e3._clen = 1, e3._hlen = 1, e3._dlen = 1, e3._cellWidth = 0, e3._fitWidth = NaN, e3._defColSpan = 1, e3._header = e3._createHeader(), e3._header && (e3._header._layout = e3), e3;
  }
  return i(e2, t2), e2.getSource = function(t3) {
    return t3 instanceof fs ? t3.source : t3;
  }, e2.prototype._doDispose = function() {
    this._header = this._header && this._header.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    if (this.$_grid) return this.$_grid;
    var t3 = this.root;
    return t3 && t3._parent.grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "source", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isNull", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isProxy", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._type;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    t3 != this._visible && (this._visible = t3, this._changed(), this._propChanged("visible", this._visible, !this._visible));
  }, enumerable: false, configurable: true }), e2.prototype.$_isVisible = function(t3) {
    return this._visible;
  }, Object.defineProperty(e2.prototype, "header", { get: function() {
    return this._header;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._parent && this._parent.owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "group", { get: function() {
    return this._parent instanceof Os ? null : this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "root", { get: function() {
    return this._root ? this._root : this._root = this.getAncestor(-1);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isRoot", { get: function() {
    return this.root === this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRoot", { get: function() {
    if (!this._dataRoot) {
      var t3 = this.group;
      if (t3) do {
        this._dataRoot = t3, t3 = t3.group;
      } while (t3);
      else this._dataRoot = this;
    }
    return this._dataRoot;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vindex", { get: function() {
    return this._vindex;
  }, set: function(t3) {
    var e3 = this._vindex;
    if (this._parent && this._parent.$_changeChildVIndex(this, t3), this._vindex != e3) {
      this._propChanged("displayIndex", this._vindex, e3);
      var i2 = this.firstColumn;
      i2 && this instanceof _s && i2.$_layoutIndexChanged(e3, this._vindex);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "row", { get: function() {
    return this._row;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "col", { get: function() {
    return this._col;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hrow", { get: function() {
    return this._hrow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hcol", { get: function() {
    return this._hcol;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._getWidth(this._width);
  }, set: function(t3) {
    t3 = Math.max(0, t3), this.grid && (t3 = Math.max(t3, this.grid.displayOptions.minCellWidth)), t3 != this._width && (this._width = t3, this._parent && this._parent._childWidthChanged(this));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fillWidth", { get: function() {
    return this._getFillWidth(this._fillWidth);
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._fillWidth && (this._fillWidth = t3, this._parent && this._parent._childFillWidthChanged(this));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupShowMode", { get: function() {
    return this._groupShowMode;
  }, set: function(t3) {
    t3 != this._groupShowMode && (this._groupShowMode = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "domWidth", { get: function() {
    if (!!this.grid && this.grid.layoutManager.isColumnFitted) {
      var t3 = this.grid, e3 = t3.layoutManager, i2 = t3.fixedOptions.colCount, o2 = e3.cellCount, r2 = this.$_fixed ? e3._fixedCellPoints : this.$_rfixed ? e3._rightCellPoints : this.grid.layoutManager._cellPoints, n2 = this.$_fixed ? this._col : this.$_rfixed ? this._col - (o2 - i2) : this._col - i2;
      return r2[n2 + (this instanceof vs ? this._clen : this._defColSpan)] - r2[n2];
    }
    return this.cellWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "distance", { get: function() {
    return this._col;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cspan", { get: function() {
    return this._cspan;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hspan", { get: function() {
    return this._hspan;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hlen", { get: function() {
    return this._hlen;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "merged", { get: function() {
    return this._merged;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isFixed", { get: function() {
    return this.$_fixed || this.$_rfixed;
  }, enumerable: false, configurable: true }), e2.prototype.load = function(t3) {
    "string" != typeof t3 && (void 0 !== t3.width && (this.width = t3.width), void 0 !== t3.header && this._header.assignFrom(t3.header), void 0 !== t3.fillWidth && (this.fillWidth = t3.fillWidth), this.groupShowMode = Ot.valueIn(t3.groupShowMode, U) ? t3.groupShowMode : U.ALWAYS, void 0 !== t3.visible && (this.visible = t3.visible));
  }, e2.prototype.isColumn = function(t3) {
    return false;
  }, e2.prototype.cleanColumns = function() {
  }, e2.prototype.findLayout = function(t3) {
    return null;
  }, e2.prototype.getHeaderSpan = function() {
    return 1;
  }, e2.prototype.getSummarySpan = function(t3) {
    return 1;
  }, e2.prototype.getFooterSpan = function(t3) {
    return 1;
  }, e2.prototype.getDataSpan = function() {
    return 1;
  }, e2.prototype.getGroupFooterSpan = function(t3, e3) {
    return 1;
  }, e2.prototype.getDataColumn = function() {
    return null;
  }, e2.prototype.getFooterUserSpan = function(t3) {
    return null;
  }, e2.prototype.getSummaryUserSpan = function(t3) {
    return null;
  }, e2.prototype.getAncestor = function(t3) {
    void 0 === t3 && (t3 = -1);
    for (var e3 = this; e3 && t3--; ) {
      if (e3._parent instanceof Os) return this._root = e3;
      e3 = e3._parent;
    }
    return e3;
  }, e2.prototype.areEqualColumn = function(t3) {
    return this === t3;
  }, e2.prototype._createHeader = function() {
    return null;
  }, e2.prototype._headerChanged = function() {
    this._changed();
  }, e2.prototype._prepareLayout = function(t3, e3, i2) {
    this.$_grid = t3, this.$_fixed = e3, this.$_rfixed = i2, this._merged = false;
  }, e2.prototype._detach = function() {
    this._parent = void 0, this._index = -1, this._vindex = -1, this._row = -1, this._col = -1, this._cspan = 1, this._hspan = 1, this._dspan = 1, this._clen = 1, this._hlen = 1, this._dlen = 1, this._root = void 0, this._dataRoot = void 0;
  }, e2.prototype._getWidth = function(t3) {
    return t3;
  }, e2.prototype._getFillWidth = function(t3) {
    return t3;
  }, e2.prototype.changeCellWidth = function(t3, e3, i2) {
    var o2 = this.owner, r2 = o2 && o2.grid, n2 = r2 && r2._loading, s2 = i2 ? this.cellWidth : this.domWidth, a2 = this.domWidth, l2 = this.grid.displayOptions.minCellWidth;
    if (isNaN(s2) && n2 && i2) this.width = t3;
    else {
      var h2 = t3 - s2;
      if (e3 && !i2 && (h2 *= this.cellWidth / (isNaN(this._fitWidth) ? this.cellWidth : this._fitWidth)), h2 = Math.round(h2)) if (this.grid._columnsDirty && this.owner.$_refresh(this.grid._columns, l2), o2 && o2.isShowing(this)) {
        if (o2) {
          var u2 = this._col, c2 = void 0;
          c2 = this instanceof vs ? this._clen : this._defColSpan, o2.$_changeCellWidths(u2, c2, h2, l2);
          var d2 = o2._cellWidths;
          if (d2 && d2.length) for (var p2 = o2._dataCells, f2 = 0; f2 < p2.length; f2++) for (var _2 = p2[f2], g2 = 0; g2 < c2; g2++) _2[u2 + g2]._cellWidth = d2[u2 + g2];
          o2.$_calcGroupWidths();
        }
        setTimeout((function() {
          if (this.domWidth != a2) {
            var t4 = this.firstColumn;
            this._propChanged("displayWidth", this.domWidth, a2), t4 && this instanceof _s && t4.$_layoutWidthChanged(a2, this.domWidth);
          }
        }).bind(this), 50);
      } else {
        if (this instanceof vs || this._defColSpan > 1) return;
        this._cellWidth = t3;
      }
    }
  }, e2.prototype._setFitWidth = function(t3, e3, i2) {
    this._fitWidth = t3;
  }, e2.prototype._clearFitWidth = function() {
    this._fitWidth = NaN;
  }, e2.prototype._changed = function() {
    this._parent && this._parent._changed();
  }, e2.prototype.$_setMerged = function(t3) {
    this._merged = t3;
  }, e2.prototype._propChanged = function(t3, e3, i2) {
    var o2 = this.grid;
    o2 && o2._fireLayoutPropertyChanged(this, t3, e3, i2);
  }, e2;
}(Ft);
var fs = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._type = Kr.PROXY, o2._source = e3, o2._index = i2, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "cellWidth", { get: function() {
    return this._cellWidth;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isNull", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isProxy", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "source", { get: function() {
    return this._source;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._source.visible;
  }, enumerable: false, configurable: true }), e2.prototype.$_isVisible = function(t3) {
    return this._source.$_isVisible(t3);
  }, Object.defineProperty(e2.prototype, "cols", { get: function() {
    return this._source.cols;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerRows", { get: function() {
    return this._source.headerRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return this._source.rows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "root", { get: function() {
    return this._source.root;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "first", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "last", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstColumn", { get: function() {
    return this._source.firstColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastColumn", { get: function() {
    return this._source.lastColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boundColumn", { get: function() {
    return this._source.boundColumn;
  }, enumerable: false, configurable: true }), e2.prototype.load = function(t3) {
  }, e2.prototype._isResizable = function() {
    return false;
  }, e2.prototype._isMovable = function() {
    return false;
  }, e2.prototype.clearMergeGrouped = function() {
  }, e2.prototype.containLayout = function(t3) {
    return false;
  }, e2;
}(ps);
var _s = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._cellSpan = 1, i2._cellWidths = [], i2._cols = 1, i2._rows = 1, i2._blanked = false, i2._type = Kr.COLUMN, i2._column = e3, i2._columnObj = e3 instanceof as ? e3 : null, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._column = this._columnObj = null, this._merges = this._merges && this._merges.dispose(), this._mergeRuleObj = this._mergeRuleObj && this._mergeRuleObj.dispose(), this._equalBlankNode = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._column;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellWidth", { get: function() {
    if (this.owner.isShowing(this)) {
      var t3 = this.owner.getCellWidths(this._col, this._defColSpan);
      return isNaN(t3) && (t3 = this.width), t3 || this._cellWidth;
    }
    return this._cellWidths && this._cellWidths.reduce(function(t4, e3) {
      return t4 + e3;
    }, 0) || this._cellWidth;
  }, set: function(t3) {
    if (!this.owner._loading) {
      var e3 = !!this.grid && this.grid.layoutManager.isColumnFitted;
      t3 = Math.max(this.grid.displayOptions.minCellWidth, t3), this.changeCellWidth(t3, e3, true);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "merges", { get: function() {
    return this._merges;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeRule", { get: function() {
    return this._mergeRule;
  }, set: function(t3) {
    if (t3 !== this._mergeRule) {
      this._mergeRule = t3, this._mergeRuleObj && this._mergeRuleObj.dispose(), this._mergeRuleObj = t3 ? Gn.createRule(t3) : void 0 === t3 ? void 0 : null;
      var e3 = this.grid;
      e3 && e3._columnMergeRuleChanged(this);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "breakMergeOnEmpty", { get: function() {
    return this._breakMergeOnEmpty;
  }, set: function(t3) {
    if (t3 !== this._breakMergeOnEmpty) {
      this._breakMergeOnEmpty = t3;
      var e3 = this.grid;
      e3 && e3._columnMergeRuleChanged(this);
    }
  }, enumerable: false, configurable: true }), e2.prototype.isBreakMergeOnEmpty = function() {
    return void 0 === this._breakMergeOnEmpty ? this._columnObj instanceof ls && this._columnObj.breakMergeOnEmpty : this._breakMergeOnEmpty;
  }, Object.defineProperty(e2.prototype, "equalBlank", { get: function() {
    return this._equalBlank;
  }, set: function(t3) {
    t3 !== this._equalBlank && (this._equalBlank = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlankNode", { get: function() {
    return this._blankNodeRun;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blanked", { get: function() {
    return this._blanked;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "equalBlankExpression", { get: function() {
    return this._equalBlankExpression;
  }, set: function(t3) {
    t3 !== this._equalBlankExpression && (this._equalBlankExpression = t3, this._equalBlankNode = t3 ? xe.Default.parse(t3, null) : void 0 === t3 ? void 0 : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellSpan", { get: function() {
    return this._cellSpan;
  }, set: function(t3) {
    (t3 = Math.max(1, t3)) != this._cellSpan && (this._cellSpan = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerSpan", { get: function() {
    return this._headerSpan;
  }, set: function(t3) {
    t3 != this._headerSpan && (void 0 !== t3 && (t3 = Math.max(1, t3)), this._headerSpan = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarySpan", { get: function() {
    return this._summarySpans ? this._summarySpans[0] : void 0;
  }, set: function(t3) {
    this._summarySpans = this._summarySpans || [], t3 != this._summarySpans[0] && (void 0 !== t3 && (t3 = Math.max(1, t3)), this._summarySpans[0] = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarySpans", { get: function() {
    return this._summarySpans && this._summarySpans.slice();
  }, set: function(t3) {
    t3 !== this._summarySpans && (this._summarySpans = t3 && t3.slice(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerSpan", { get: function() {
    return this._footerSpans && this._footerSpans[0];
  }, set: function(t3) {
    this._footerSpans = this._footerSpans || [], t3 != this._footerSpans[0] && (void 0 !== t3 && (t3 = Math.max(1, t3)), this._footerSpans[0] = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerSpans", { get: function() {
    return this._footerSpans && this._footerSpans.slice();
  }, set: function(t3) {
    t3 !== this._footerSpans && (this._footerSpans = t3 && t3.slice(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataSpan", { get: function() {
    return this._dataSpan;
  }, set: function(t3) {
    t3 != this._dataSpan && (void 0 !== t3 && (t3 = Math.max(1, t3)), this._dataSpan = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterSpan", { get: function() {
    return this._groupFooterSpans && this._groupFooterSpans[0];
  }, set: function(t3) {
    this._groupFooterSpans = this._groupFooterSpans || [], t3 != this._groupFooterSpans[0] && (void 0 !== t3 && (t3 = Math.max(1, t3)), this._groupFooterSpans[0] = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterSpans", { get: function() {
    return this._groupFooterSpans && this._groupFooterSpans.slice();
  }, set: function(t3) {
    t3 !== this._groupFooterSpans && (this._groupFooterSpans = t3 && t3.slice(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spanCallback", { get: function() {
    return this._spanCallback;
  }, set: function(t3) {
    t3 != this._spanCallback && (this._spanCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarySpanCallback", { get: function() {
    return this._summarySpanCallback;
  }, set: function(t3) {
    t3 != this._summarySpanCallback && (this._summarySpanCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerSpanCallback", { get: function() {
    return this._footerSpanCallback;
  }, set: function(t3) {
    t3 != this._footerSpanCallback && (this._footerSpanCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterSpanCallback", { get: function() {
    return this._groupFooterSpanCallback;
  }, set: function(t3) {
    t3 != this._groupFooterSpanCallback && (this._groupFooterSpanCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerUserSpans", { get: function() {
    return this._footerUserSpans;
  }, set: function(t3) {
    this._footerUserSpans = Ot.makeArray(t3, true).slice(), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryUserSpans", { get: function() {
    return this._summaryUserSpans;
  }, set: function(t3) {
    this._summaryUserSpans = Ot.makeArray(t3, true).slice(), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterUserSpans", { get: function() {
    return this._groupFooterUserSpans;
  }, set: function(t3) {
    this._groupFooterUserSpans = Ot.makeArray(t3, true).slice(), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterUserSpanCallback", { get: function() {
    return this._groupFooterUserSpanCallback;
  }, set: function(t3) {
    t3 != this._groupFooterUserSpanCallback && (this._groupFooterUserSpanCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.canMerge = function() {
    if (null != this._mergeRuleObj) return true;
    var t3 = this._columnObj;
    if (t3 instanceof ls) {
      if (t3.mergeGrouped) return true;
      if (t3._mergeCallback) return true;
      if (void 0 === this._mergeRuleObj) return null != t3._mergeRuleObj;
    }
  }, Object.defineProperty(e2.prototype, "isNull", { get: function() {
    return !this._columnObj;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cols", { get: function() {
    return this._cols;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerRows", { get: function() {
    return 1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return this._rows;
  }, set: function(t3) {
    this._rows = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "first", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "last", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstColumn", { get: function() {
    return this._columnObj;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastColumn", { get: function() {
    if (this._columnObj) return this._columnObj;
    for (var t3 = this.parent.visibles, i2 = t3.indexOf(this); i2-- > 0; ) {
      var o2 = t3[i2];
      if (o2 instanceof e2 && o2.lastColumn) return o2.lastColumn;
    }
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boundColumn", { get: function() {
    return this._columnObj;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return this._header && this._header.text || this._columnObj && this._columnObj.displayText || this.toString();
  }, enumerable: false, configurable: true }), e2.prototype.getHeaderSpan = function() {
    return void 0 === this._headerSpan ? this._cellSpan : this._headerSpan;
  }, e2.prototype.getSummarySpan = function(t3) {
    var e3, i2 = this._summarySpanCallback, o2 = this._summarySpans;
    return i2 ? void 0 === (e3 = i2(this.grid.handler, this, t3)) && o2 && o2.length > t3 && (e3 = o2[t3]) : o2 && o2.length > t3 && (e3 = o2[t3]), void 0 === e3 ? this._cellSpan : e3;
  }, e2.prototype.getFooterSpan = function(t3) {
    var e3, i2 = this._footerSpanCallback, o2 = this._footerSpans;
    return i2 ? void 0 === (e3 = i2(this.grid.handler, this, t3)) && o2 && o2.length > t3 && (e3 = o2[t3]) : o2 && o2.length > t3 && (e3 = o2[t3]), void 0 === e3 ? this._cellSpan : e3;
  }, e2.prototype.getFooterUserSpan = function(t3) {
    return this._footerUserSpans && this._footerUserSpans[t3];
  }, e2.prototype.getSummaryUserSpan = function(t3) {
    return this._summaryUserSpans && this._summaryUserSpans[t3];
  }, e2.prototype.getGroupFooterUserSpan = function(t3, e3) {
    var i2, o2 = this._groupFooterUserSpanCallback;
    return o2 && (i2 = o2(this.grid.handler, this, t3, t3.index, e3)), i2 || this._groupFooterUserSpans && this._groupFooterUserSpans[e3];
  }, e2.prototype.getGroupFooterSpan = function(t3, e3) {
    var i2, o2 = this._groupFooterSpanCallback, r2 = this._groupFooterSpans;
    return o2 ? void 0 === (i2 = o2(this.grid.handler, this, t3, e3)) && r2 && r2.length > e3 && (i2 = r2[e3]) : r2 && r2.length > e3 && (i2 = r2[e3]), void 0 === i2 ? this._cellSpan : i2;
  }, e2.prototype.getDataSpan = function() {
    return void 0 === this._dataSpan ? this._cellSpan : this._dataSpan;
  }, e2.prototype.getDataColumn = function() {
    return this._columnObj;
  }, e2.prototype._createHeader = function() {
    return new ms(this);
  }, e2.prototype._isResizable = function() {
    return !this._columnObj || this._columnObj.resizable;
  }, e2.prototype._isMovable = function() {
    for (var t3 = true, e3 = this.parent; e3; ) t3 = t3 && e3.childColumnMovable, e3 = e3.parent;
    return t3 && (!this._columnObj || this._columnObj.movable);
  }, e2.prototype.isColumn = function(t3) {
    return this._columnObj === t3;
  }, e2.prototype.findLayout = function(t3) {
    return t3 && this._columnObj === t3 ? this : null;
  }, e2.prototype.load = function(e3) {
    if (this.assignFrom(e3), t2.prototype.load.call(this, e3), !this._columnObj && "string" == typeof this._column) {
      var i2 = this.owner && this.owner.grid;
      this._columnObj = i2 ? i2.columnByName(this._column) : null;
    }
  }, e2.prototype.cleanColumns = function() {
    this._columnObj && this._columnObj.clean();
  }, e2.prototype.$_isVisible = function(t3) {
    return t3 ? this._visible : this._visible && (!this._columnObj || this._columnObj.visible);
  }, e2.prototype._getWidth = function(t3) {
    return isNaN(t3) ? this._columnObj ? this._columnObj.width : NaN : t3;
  }, e2.prototype._getFillWidth = function(t3) {
    return isNaN(t3) ? this._columnObj ? this._columnObj.fillWidth : NaN : t3;
  }, e2.prototype._prepareLayout = function(e3, i2, o2) {
    if (t2.prototype._prepareLayout.call(this, e3, i2, o2), this._columnObj) {
      this._columnObj._prepareLayout(e3, this);
      var r2 = this.parent.direction === ds.VERTICAL ? this.cellSpan + this._dspan - 1 : this._dspan;
      (this._blanked = r2 === this.owner.dataRows) && (this._blankNodeRun = this._equalBlankNode, this._blanked = this._equalBlank || null != this._blankNodeRun, this._blanked || (void 0 === this._equalBlankNode && (this._blanked = null != (this._blankNodeRun = this._columnObj._equalBlankNode)), this._blanked || void 0 !== this._equalBlank || (this._blanked = this._columnObj._equalBlank)));
    }
  }, e2.prototype.toString = function() {
    return "string" == typeof this._column ? this._column : t2.prototype.toString.call(this);
  }, e2.prototype.clearMergeGrouped = function() {
    this.firstColumn instanceof ls && this.firstColumn.$_setMergeGrouped(false);
  }, e2.prototype.areEqualColumn = function(t3) {
    var e3 = this.boundColumn, i2 = t3 && t3.boundColumn;
    return t3 && this.grid === t3.grid && e3 && i2 && e3.name === i2.name;
  }, e2.prototype.containLayout = function(t3) {
    return t3.source === this;
  }, e2.prototype.$_bindColumn = function(t3, e3, i2) {
    if (void 0 === i2 && (i2 = false), this._columnObj || (this._columnObj = e3.columnByName(this._column)), !this._columnObj) throw new Error("not exists column ".concat(this._column));
    var o2 = this._columnObj.$_hash;
    if (t3[o2]) throw new Error("Column is already contained in layouts: " + (this._columnObj.name || this._columnObj.displayText));
    i2 || (this._columnObj._layout = this), !i2 && (this._columnObj._layout = this), t3[o2] = this;
  }, e2.prototype.$_mergeRuleObj = function() {
    return this._mergeRuleObj ? this._mergeRuleObj : void 0 === this._mergeRuleObj && this._columnObj instanceof ls ? this._columnObj._mergeRuleObj : null;
  }, e2;
}(ps);
!function(t2) {
  t2.VERTICAL = "vertical", t2.HORIZONTAL = "horizontal";
}(ds || (ds = {}));
var gs;
var ys;
var ms = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._layout = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, set: function(t3) {
    t3 != this._text && (this._text = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this.layout.firstColumn.header.styleName;
  }, set: function(t3) {
    this.layout.firstColumn.header.styleName = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this.layout.firstColumn.header.exportStyleName;
  }, set: function(t3) {
    this.layout.firstColumn.header.exportStyleName = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return 1;
  }, enumerable: false, configurable: true }), e2.prototype.isVisible = function() {
    return true;
  }, e2.prototype.getDisplayText = function() {
    return this._text;
  }, e2.prototype.doAssignSimple = function(t3) {
    return "string" == typeof t3 && (this.text = t3, true);
  }, e2.prototype._changed = function() {
    this._layout && this._layout._headerChanged();
  }, e2;
}(Ft);
var bs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._visible = true, i2._showTooltip = void 0, i2._tooltipEllipsisOnly = void 0, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    if (t3 != this._visible) {
      var e3 = this._layout;
      if (e3 && e3.isRoot && !t3 && (e3.hideChildHeaders || 1 === e3.headerRows)) throw new Error("Group header cannot be hidden when all child headers are already hidden.");
      this._visible = t3, this._changed();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "template", { get: function() {
    return this._template && this._template.template;
  }, set: function(t3) {
    t3 != this.template && (t3 ? (this.template || (this._template = new fn()), this._template.template = t3) : this._template = void 0, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateEvents", { get: function() {
    return this._templateEvents;
  }, set: function(t3) {
    this._templateEvents = Ot.makeArray(t3, true), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values;
  }, set: function(t3) {
    t3 !== this._values && (t3 ? Ot.extendObj(t3, this._values = {}) : this._values = void 0, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    t3 !== this._showTooltip && (this._showTooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    t3 !== this._tooltipEllipsisOnly && (this._tooltipEllipsisOnly = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltip", { get: function() {
    return this._tooltip;
  }, set: function(t3) {
    t3 !== this._tooltip && (this._tooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "edgeMark", { get: function() {
    return this._edgeMark;
  }, set: function(t3) {
    t3 !== this._edgeMark && (this._edgeMark = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 !== this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this._exportStyleName;
  }, set: function(t3) {
    this._exportStyleName = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return Math.max(1, this._rows || 1);
  }, set: function(t3) {
    t3 !== this._rows && (this._rows = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateCallback", { get: function() {
    return this._templateCallback;
  }, set: function(t3) {
    this._templateCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), e2.prototype.realizeTemplate = function() {
    var t3 = this._template;
    return t3 ? t3.realizeHeader(this, this._templateCallback, this._layout.grid) : void 0;
  }, e2.prototype.getValue = function(t3) {
    return this._values && this._values[t3];
  }, e2.prototype.doAssignSimple = function(e3) {
    return !t2.prototype.doAssignSimple.call(this, e3) && "boolean" == typeof e3 && (this.visible = e3, true);
  }, e2.prototype.isVisible = function() {
    return this._visible;
  }, e2.prototype.getDisplayText = function() {
    var t3 = this.layout;
    return t3.hideChildHeaders && t3.tiedColumn ? t3.tiedColumn.displayText : this.text || this.layout.name;
  }, Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return this.getDisplayText();
  }, enumerable: false, configurable: true }), e2;
}(ms);
var vs = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._direction = ds.HORIZONTAL, o2._items = [], o2._resizable = true, o2._movable = true, o2._hideChildHeaders = false, o2._childColumnMovable = true, o2._visibles = [], o2._cols = 0, o2._rows = 0, o2._headerRows = 0, o2._expandedLayouts = [], o2._collapsedLayouts = [], o2._type = Kr.GROUP, o2._name = e3, o2._direction = i2 == ds.VERTICAL ? ds.VERTICAL : ds.HORIZONTAL, o2;
  }
  return i(e2, t2), e2.getNext = function(t3) {
    var i2 = t3 && t3.parent;
    return i2 ? ((t3 = i2.nextOf(t3)) || (t3 = e2.getNext(i2)), t3) : null;
  }, e2.getPrev = function(t3) {
    var i2 = t3 && t3.parent;
    return i2 ? ((t3 = i2.prevOf(t3)) || (t3 = e2.getPrev(i2)), t3) : null;
  }, e2.isTop = function(t3) {
    for (var e3 = t3 && t3.parent; e3; ) {
      if (e3.vertical && e3.visibleCount > 1 && t3.vindex > 0) return false;
      e3 = (t3 = e3).parent;
    }
    return true;
  }, e2.isBottom = function(t3) {
    for (var e3 = t3 && t3.parent; e3; ) {
      if (e3.vertical && e3.visibleCount > 1 && t3.vindex < e3.visibleCount - 1) return false;
      e3 = (t3 = e3).parent;
    }
    return true;
  }, e2.isLeft = function(t3) {
    for (var e3 = t3 && t3.parent; e3; ) {
      if (!e3.vertical && e3.visibleCount > 1 && t3.vindex > 0) return false;
      e3 = (t3 = e3).parent;
    }
    return true;
  }, e2.isRight = function(t3) {
    return e2.isBottom(t3);
  }, e2.prototype._doDispose = function() {
    this._items.forEach(function(t3) {
      t3 && t3.dispose();
    }), this._visibles = this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "direction", { get: function() {
    return this._direction;
  }, set: function(t3) {
    t3 != ds.VERTICAL && (t3 = ds.HORIZONTAL), t3 != this._direction && (this._direction = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vertical", { get: function() {
    return this._direction == ds.VERTICAL;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "horizontal", { get: function() {
    return this._direction != ds.VERTICAL;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return this._resizable;
  }, set: function(t3) {
    this._resizable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "movable", { get: function() {
    return this._movable;
  }, set: function(t3) {
    this._movable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideChildHeaders", { get: function() {
    return this._hideChildHeaders;
  }, set: function(t3) {
    if (t3 != this._hideChildHeaders) {
      if (t3 && this.isRoot && !this.header.visible) throw new Error("cannot hide child headers when the group header is not visible.");
      this._hideChildHeaders = t3, this._changed();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "childColumnMovable", { get: function() {
    return this._childColumnMovable;
  }, set: function(t3) {
    this._childColumnMovable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items.slice();
  }, set: function(t3) {
    this._items = t3 ? t3.slice() : [];
    for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      i2[e3]._parent = this;
    }
    this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleCount", { get: function() {
    return this._visibles.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibles", { get: function() {
    var t3 = this._visibles;
    return t3 ? t3.slice() : [];
  }, enumerable: false, configurable: true }), e2.prototype.$_isVisible = function(t3) {
    return this.visible && this._visibles.length > 0;
  }, Object.defineProperty(e2.prototype, "expandable", { get: function() {
    return this._expandable;
  }, set: function(t3) {
    t3 != this._expandable && (this._expandable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return this._expanded;
  }, set: function(t3) {
    t3 != this._expanded && this.owner.expandLayout(this, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tiedColumn", { get: function() {
    if (this._tiedColumn instanceof ls) return this._tiedColumn;
  }, set: function(t3) {
    this._tiedColumn = "string" == typeof t3 ? this.grid.columnByName(t3) : t3 instanceof ls ? t3 : null, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "header", { get: function() {
    return this._header;
  }, enumerable: false, configurable: true }), e2.prototype.indexOf = function(t3) {
    return this._items.indexOf(t3);
  }, e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.getVisible = function(t3) {
    return this._visibles[t3];
  }, e2.prototype.addLayout = function(t3, i2) {
    if (!this.owner.isDefault()) {
      var o2, r2, n2, s2 = this.grid, a2 = this.owner;
      if (s2 && s2._checkEditing(), "string" == typeof t3 ? n2 = a2.layoutByName(t3) : t3 instanceof as ? n2 = a2.layoutByColumn(t3) : t3 && "string" == typeof t3.column && (n2 = a2.layoutByName(t3.column)), n2) throw new Error("addLayout fail - Column or Group is already contained in layouts: " + n2.firstColumn.name);
      if ("string" == typeof t3 || t3 instanceof as) o2 = "string" == typeof t3 && l2(s2, t3), r2 = new _s(t3);
      else if (t3) {
        if ("string" == typeof t3.column) o2 = l2(s2, t3.column), r2 = new _s(t3.column);
        else if ((t3.type === Kr.GROUP || t3.items) && t3.name) {
          if (a2.layoutByName(t3.name)) throw new Error("addLayout fail - group is already contained in layouts: " + t3.name);
          r2 = new e2(t3.name, t3.direction);
        }
      }
      return r2 ? ("object" == typeof t3 && r2.load(t3), this.addItem(r2, i2), (r2 instanceof _s && o2 || r2 instanceof e2 && r2._items.length) && this.owner._root && this.owner._root.resetColumns(s2._columns), r2) : void 0;
    }
    function l2(t4, e3) {
      var i3 = t4.columnByName(e3);
      if (!i3) throw new Error("not exists column ".concat(e3));
      return i3;
    }
  }, e2.prototype.removeLayout = function(t3) {
    if (!this.owner.isDefault()) {
      var e3 = this.grid;
      e3 && e3._checkEditing(), "string" == typeof t3 ? t3 = this.layoutByName(t3) : t3 instanceof as && (t3 = t3.layout), t3 instanceof ps && t3.parent.removeItem(t3, true);
    }
  }, e2.prototype.addItem = function(t3, e3) {
    void 0 === e3 && (e3 = this._items.length), null != t3 && e3 >= 0 && e3 <= this._items.length && (this._items.splice(e3, 0, t3), t3._parent = this, this._changed());
  }, e2.prototype.clear = function(t3) {
    void 0 === t3 && (t3 = true);
    for (var i2 = 0, o2 = this._items; i2 < o2.length; i2++) {
      var r2 = o2[i2];
      t3 && r2 instanceof e2 && r2.clear(), r2._detach();
    }
    this._items = [], this._visibles = [], this._cols = 0, this._rows = 0, this._headerRows = 0;
  }, e2.prototype.removeItem = function(t3, e3) {
    var i2 = this.indexOf(t3);
    if (i2 >= 0) {
      if (t3 instanceof _s && t3.cellSpan > 1) for (var o2 = t3.cellSpan - 1; o2--; ) {
        var r2 = this._items.splice(i2 + o2, 1)[0];
        r2 && (r2._detach(), e3 && r2.dispose());
      }
      this._items.splice(i2, 1), t3._detach(), e3 && t3.dispose(), this._changed();
    }
  }, e2.prototype.layoutByName = function(t3) {
    if (t3) for (var i2 = 0, o2 = this._items; i2 < o2.length; i2++) {
      var r2 = o2[i2];
      if (r2 instanceof _s && r2.firstColumn.name === t3) return r2;
      if (r2 instanceof e2) {
        if (r2.name === t3) return r2;
        var n2 = r2.layoutByName(t3);
        if (n2) return n2;
      }
    }
    return null;
  }, e2.prototype.containLayout = function(t3) {
    if (t3) {
      if (this._items.indexOf(t3) >= 0) return true;
      for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
        if (i2[e3].containLayout(t3)) return true;
      }
    }
    return false;
  }, e2.prototype.nextOf = function(t3) {
    try {
      var e3 = this.$_checkVisible(t3);
      if (e3 < this.visibleCount - 1) return t3 = ws(this, e3 + 1);
    } catch (t4) {
      Ot.log("nextOf fail");
    }
    return null;
  }, e2.prototype.prevOf = function(t3) {
    try {
      var e3 = this.$_checkVisible(t3);
      if (e3 > 0) return t3 = Cs(this, e3 - 1);
    } catch (t4) {
      Ot.log("prevOf fail");
    }
    return null;
  }, e2.prototype.isExpandable = function() {
    return this.expandable && this._expandedLayouts.length > 0 && this._collapsedLayouts.length > 0;
  }, e2.prototype.expandAll = function(t3, i2) {
    this.expandable && (this.expanded = t3), this._items.forEach(function(o2) {
      o2 instanceof e2 && o2.expandAll(t3, i2);
    });
  }, e2.prototype._clearFitWidth = function() {
    t2.prototype._clearFitWidth.call(this);
    for (var e3 = 0, i2 = this._visibles; e3 < i2.length; e3++) {
      i2[e3]._clearFitWidth();
    }
  }, Object.defineProperty(e2.prototype, "cellWidth", { get: function() {
    return this.owner.getCellWidths(this._col, this._clen);
  }, set: function(t3) {
    var e3 = !!this.grid && this.grid.layoutManager.isColumnFitted;
    this.changeCellWidth(t3, e3, true);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cols", { get: function() {
    return this._cols;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerRows", { get: function() {
    return this._headerRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rows", { get: function() {
    return this._rows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "first", { get: function() {
    return this._visibles.length > 0 ? this._visibles[0].first : this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "last", { get: function() {
    var t3 = this._visibles ? this._visibles.length : 0;
    return t3 > 0 ? this._visibles[t3 - 1].last : this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstColumn", { get: function() {
    return this._visibles && this._visibles.length > 0 ? this._visibles[0].firstColumn : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastColumn", { get: function() {
    for (var t3 = this._visibles ? this._visibles.length - 1 : -1; t3 >= 0; t3--) {
      var e3 = this._visibles[t3].lastColumn;
      if (e3) return e3;
    }
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boundColumn", { get: function() {
    return this.tiedColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayText", { get: function() {
    return this._header && this._header.getDisplayText() || this._name;
  }, enumerable: false, configurable: true }), e2.prototype._createHeader = function() {
    return new bs(this);
  }, e2.prototype.load = function(e3) {
    this.clear(), void 0 !== e3.hideChildHeaders && (this.hideChildHeaders = e3.hideChildHeaders), this.expandable = e3.expandable, this._expanded = null == e3.expanded || e3.expanded, void 0 !== e3.resizable && (this.resizable = e3.resizable), void 0 !== e3.childColumnMovable && (this.childColumnMovable = e3.childColumnMovable), void 0 !== e3.movable && (this.movable = e3.movable), e3.tiedColumn && (this.tiedColumn = e3.tiedColumn), null == e3.rows || isNaN(e3.rows) || (this._rows = e3.rows), e3.items && this._loadItems(e3.items), t2.prototype.load.call(this, e3);
  }, e2.prototype.findLayout = function(t3) {
    for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      var o2 = i2[e3].findLayout(t3);
      if (o2) return o2;
    }
    return null;
  }, e2.prototype.cleanColumns = function() {
    for (var t3 = 0, e3 = this.items.length; t3 < e3; t3++) this.getItem(t3).cleanColumns();
  }, e2.prototype._isResizable = function() {
    return this._resizable;
  }, e2.prototype._isMovable = function() {
    for (var t3 = this._movable, e3 = this.parent; e3; ) t3 = t3 && e3.childColumnMovable, e3 = e3.parent;
    return t3;
  }, e2.prototype._setFitWidth = function(e3, i2, o2) {
    if (t2.prototype._setFitWidth.call(this, e3, i2, o2), this.isRoot) {
      for (var r2 = this.owner._dataCells, n2 = void 0, s2 = 0, a2 = 0; a2 < r2.length; a2++) {
        n2 = [], s2 = 0, 0;
        for (var l2 = this.hcol; l2 < this.hcol + this.cols; l2++) {
          (g2 = r2[a2][l2]).fillWidth > 0 ? s2 += g2.fillWidth : g2.cellWidth, n2.push(g2);
        }
        if (s2 > 0) break;
      }
      var h2 = e3 - (i2 = n2.map(function(t3) {
        return t3._cellWidth;
      })).reduce(function(t3, e4) {
        return t3 + e4;
      }, 0);
      if (s2 > 0 && o2 === S.FILL) for (var u2 = 0; u2 < n2.length; u2++) {
        if (!(g2 = n2[u2]).isProxy && g2.fillWidth > 0) {
          for (var c2 = Math.round(h2 * g2.fillWidth / s2), d2 = 0, p2 = 0, f2 = 0, _2 = g2._defColSpan; f2 < _2 - 1; f2++) {
            d2 += c2 / _2, p2 += y2 = Math.round(d2) - p2, i2[u2 + f2] += y2;
          }
          i2[u2 + g2._defColSpan - 1] += c2 - p2;
        }
      }
      else if (e3 !== this.cellWidth) {
        for (d2 = 0, p2 = 0, u2 = 0; u2 < n2.length - 1; u2++) {
          var g2, y2;
          d2 += (g2 = n2[u2])._cellWidth / this.cellWidth * h2, p2 += y2 = Math.round(d2) - p2, i2[u2] += y2;
        }
        i2[n2.length - 1] += h2 - p2;
      }
    }
    if (this.vertical) for (u2 = 0; u2 < this._visibles.length; u2++) {
      (m2 = this._visibles[u2]) instanceof _s || m2 instanceof fs ? m2._setFitWidth(i2[u2], null, o2) : m2._setFitWidth(e3, i2, o2);
    }
    else for (u2 = 0; u2 < this._visibles.length; u2++) {
      var m2;
      if ((m2 = this._visibles[u2]) instanceof _s || m2 instanceof fs) m2._setFitWidth(i2[u2], null, o2);
      else {
        var b2 = i2.slice(this.col - m2.col, m2.cols);
        m2._setFitWidth(b2.reduce(function(t3, e4) {
          return t3 + e4;
        }, 0), b2, o2);
      }
    }
    return i2;
  }, e2.prototype._prepareLayout = function(e3, i2, o2) {
    t2.prototype._prepareLayout.call(this, e3, i2, o2);
    for (var r2 = 0, n2 = this._visibles; r2 < n2.length; r2++) {
      n2[r2]._prepareLayout(e3, i2, o2);
    }
  }, e2.prototype.toString = function() {
    return this._name || t2.prototype.toString.call(this);
  }, e2.prototype.clearMergeGrouped = function() {
    for (var t3 = 0, e3 = this.items.length; t3 < e3; t3++) this.getItem(t3).clearMergeGrouped();
  }, e2.prototype._loadItems = function(t3) {
    for (var i2, o2 = 0, r2 = 0, n2 = t3; r2 < n2.length; r2++) {
      var s2 = n2[r2], a2 = void 0;
      o2++, "string" == typeof s2 ? i2 = a2 = new _s(s2) : "number" == typeof s2 ? (a2 = new fs(i2, o2))._width = s2 : s2 && (s2.type === Kr.GROUP || s2.items ? a2 = new e2(s2.name, s2.direction) : "string" == typeof s2.column ? i2 = a2 = new _s(s2.column) : s2 instanceof as && (i2 = a2 = new _s(s2))), a2 && (a2._parent = this, a2.load(s2), this._items.push(a2));
    }
  }, e2.prototype.$_bindColumns = function(t3, i2, o2) {
    for (var r2 = 0, n2 = this._items; r2 < n2.length; r2++) {
      var s2 = n2[r2];
      s2._root = null, s2 instanceof e2 ? s2.$_bindColumns(t3, i2, o2) : !s2.isProxy && s2.$_bindColumn(t3, i2, o2);
    }
  }, e2.prototype.$_parseExpandLayouts = function(t3) {
    var i2 = this;
    this._expandedLayouts.length = this._collapsedLayouts.length = 0, this.items.forEach(function(o2, r2) {
      if (!o2.isProxy) {
        switch (o2.groupShowMode) {
          case U.EXPAND:
            i2._expandedLayouts.push(o2);
            break;
          case U.COLLAPSE:
            i2._collapsedLayouts.push(o2);
            break;
          default:
            i2._expandedLayouts.push(o2), i2._collapsedLayouts.push(o2);
        }
        o2 instanceof e2 && o2.$_parseExpandLayouts(t3);
      }
    });
  }, e2.prototype.$_parseHeaderCells = function(t3, i2, o2) {
    var r2 = this._direction === ds.HORIZONTAL, n2 = 0, s2 = this._header.isVisible() ? this._header.rows : 0;
    if (this._hideChildHeaders) return this._cspan = this._clen = this._cols, void (this._hlen = this._headerRows);
    for (var a2 = 0, l2 = this._visibles; a2 < l2.length; a2++) {
      var h2 = l2[a2], u2 = !h2.isProxy && h2.header.isVisible() ? h2.header.rows : h2.isProxy && !r2 ? 1 : 0;
      if (h2._hrow = i2, h2._hcol = o2, h2._hspan = u2, h2._hlen = u2, h2 instanceof e2) if (u2 > 0 && (t3[i2][o2] = h2), h2.$_parseHeaderCells(t3, i2 + u2, o2), u2 > 0) {
        for (var c2 = 0; c2 < u2; c2++) for (var d2 = 0 === c2 ? 1 : 0; d2 < h2.cols; d2++) t3[i2 + c2][o2 + d2] = new fs(h2, d2);
        r2 ? o2 += h2.cols : i2 += h2.headerRows;
      } else r2 ? o2 += h2.cols : i2 += h2.headerRows;
      else if (t3[i2][o2] = h2, r2) {
        for (c2 = 1; c2 < this.headerRows - s2; c2++) t3[i2 + c2][o2] = new fs(h2, c2), h2._hspan++;
        h2._hlen = h2._hspan, o2 += h2.cols;
      } else {
        for (c2 = 1; c2 < this.cols; c2++) t3[i2][o2 + c2] = new fs(h2, c2);
        i2 += h2.rows;
      }
      r2 ? n2 = Math.max(h2._hlen, n2) : n2 += h2._hlen;
    }
    this._hlen = r2 ? n2 + s2 : Math.max(1, n2 + s2);
  }, e2.prototype.$_fillHorz = function(t3, e3, i2, o2, r2, n2, s2) {
    for (var a2 = o2 + n2, l2 = r2, h2 = l2 + i2 - 1, u2 = 0, c2 = e3 - n2; u2 < c2; u2++) for (var d2 = h2; d2 >= l2; d2--) {
      var p2 = t3[a2 + u2][d2];
      if (null != p2) {
        p2 = ps.getSource(p2);
        for (var f2 = d2 + 1; f2 <= h2; f2++) {
          var _2 = t3[a2 + u2][f2] = new fs(p2, f2 - l2);
          s2 ? (_2._hrow = a2 + u2, _2._hcol = f2) : (_2._row = a2 + u2, _2._col = f2, _2._parent = p2.group, p2.row === _2.row && (p2._cspan++, p2 instanceof _s && p2._clen++));
        }
        break;
      }
    }
  }, e2.prototype.$_fillVert = function(t3, e3, i2, o2, r2, n2, s2) {
    for (var a2 = o2 + n2, l2 = o2 + e3 - 1, h2 = r2 + i2 - 1, u2 = r2; u2 <= h2; u2++) for (var c2 = l2; c2 >= a2; c2--) {
      var d2 = t3[c2][u2];
      if (null != d2) {
        d2 = ps.getSource(d2);
        for (var p2 = c2 + 1; p2 <= l2; p2++) {
          var f2 = t3[p2][u2] = new fs(d2, p2 - a2);
          s2 ? (f2._hrow = p2, f2._hcol = u2, d2.hcol === f2.hcol && (d2._hspan++, d2 instanceof _s && d2._hlen++)) : (f2._row = p2, f2._col = u2, d2.col === f2.col && (d2._dspan++, d2 instanceof _s && d2._dlen++), f2._parent = d2.group);
        }
        break;
      }
    }
  }, e2.prototype.$_adjustHeaderCells = function(t3) {
    var i2 = this._header.isVisible() ? this._header.rows : 0;
    if (i2 && this._hideChildHeaders) {
      this._hspan = this._hlen;
      for (var o2 = 0, r2 = 0; r2 < this._hlen; r2++) for (var n2 = 0; n2 < this._clen; n2++) if (r2 || n2) {
        var s2 = this._hrow + r2, a2 = this._hcol + n2, l2 = t3[s2][a2] = new fs(this, o2++);
        l2._hrow = s2, l2._hcol = a2;
      }
    } else if (this._direction === ds.VERTICAL) {
      for (var h2 = this._clen, u2 = 0, c2 = this._visibles; u2 < c2.length; u2++) {
        (f2 = c2[u2]) instanceof e2 && (f2._clen = this._clen, f2.$_adjustHeaderCells(t3));
      }
      this.$_fillVert(t3, this._hlen, h2, this._hrow, this._hcol, i2, true), this.$_fillHorz(t3, this._hlen, h2, this._hrow, this._hcol, i2, true);
    } else {
      for (var d2 = 0, p2 = this._visibles; d2 < p2.length; d2++) {
        var f2;
        (f2 = p2[d2]) instanceof e2 && (f2._hlen = this._hlen - i2, f2.$_adjustHeaderCells(t3));
      }
      this.$_fillVert(t3, this._hlen, this._cols, this._hrow, this._hcol, i2, true), this.$_fillHorz(t3, this._hlen, this._cols, this._hrow, this._hcol, i2, true);
    }
  }, e2.prototype.$_parseDataCells = function(t3, i2, o2) {
    for (var r2, n2 = this._direction != ds.VERTICAL, s2 = 0, a2 = 0, l2 = 0, h2 = this._visibles; l2 < h2.length; l2++) {
      var u2 = h2[l2];
      if (u2._row = i2, u2._col = o2, u2._dspan = 1, u2._dlen = 1, u2._cspan = 1, u2._clen = 1, u2 instanceof e2) {
        if (u2.$_parseDataCells(t3, i2, o2), n2) o2 += u2.cols;
        else if (i2 += u2.rows, 2 == this.rows) {
          for (var c2 = 1 / 0, d2 = 0, p2 = 0, f2 = this.visibles; p2 < f2.length; p2++) {
            var _2 = f2[p2];
            c2 = Math.min(c2, _2.cols), d2 = Math.max(d2, _2.cols), _2.ignoreCalcWidth = false;
          }
          if (1 === c2 && d2 > 1) for (var g2 = 0, y2 = this.visibles; g2 < y2.length; g2++) {
            (_2 = y2[g2]).ignoreCalcWidth = 1 === _2.cols;
          }
        }
      } else if (t3[i2][o2] = u2, n2) {
        for (var m2 = 1; m2 < this.rows; m2++) t3[i2 + m2][o2] = r2 = new fs(u2, m2), u2._dspan++, r2._col = o2, r2._row = i2 + m2, r2._parent = this;
        u2._dlen = u2._dspan, o2 += u2.cols;
      } else {
        for (m2 = 1; m2 < this.cols; m2++) t3[i2][o2 + m2] = r2 = new fs(u2, m2), u2._cspan++, r2._col = o2 + m2, r2._row = i2, r2._parent = this;
        u2._clen = u2._cspan, i2 += u2.rows;
      }
      n2 ? (a2 += u2._clen, s2 = Math.max(u2._dlen, s2)) : (a2 = Math.max(u2._clen, a2), s2 += u2._dlen);
    }
    n2 ? (a2 = Math.max(1, a2), this._dlen = s2) : this._dlen = Math.max(1, s2), this._cspan = this._clen = a2;
  }, e2.prototype.$_adjustDataCells = function(t3) {
    if (this._direction === ds.VERTICAL) {
      for (var i2 = 0, o2 = this._visibles; i2 < o2.length; i2++) {
        (s2 = o2[i2]) instanceof e2 && (s2._cspan = s2._clen = this._clen, s2.$_adjustDataCells(t3));
      }
      this.$_fillVert(t3, this._dlen, this._clen, this._row, this._col, 0, false), this.$_fillHorz(t3, this._dlen, this._clen, this._row, this._col, 0, false);
    } else {
      for (var r2 = 0, n2 = this._visibles; r2 < n2.length; r2++) {
        var s2;
        (s2 = n2[r2]) instanceof e2 && (s2._dlen = this._dlen, s2.$_adjustDataCells(t3));
      }
      this.$_fillVert(t3, this._dlen, this._clen, this._row, this._col, 0, false), this.$_fillHorz(t3, this._dlen, this._clen, this._row, this._col, 0, false);
    }
  }, e2.prototype.$_calcSpans = function() {
    var t3 = this._header.isVisible();
    if (this._direction == ds.HORIZONTAL) {
      for (var i2 = 0, o2 = 1, r2 = 1, n2 = 0, s2 = this._visibles; n2 < s2.length; n2++) {
        (c2 = s2[n2]) instanceof e2 && c2.$_calcSpans(), i2 += c2.cols, o2 = Math.max(o2, c2.headerRows), r2 = Math.max(r2, c2.rows);
      }
      this._rows = r2, this._cols = i2, t3 && this._hideChildHeaders ? this._headerRows = this._header.rows : !t3 && this._hideChildHeaders ? this._headerRows = 0 : this._headerRows = o2 + (t3 ? this._header.rows : 0);
    } else {
      this._cols = 1, this._headerRows = t3 ? this._header.rows : 0, this._rows = 0;
      for (var a2 = 0, l2 = this._visibles; a2 < l2.length; a2++) {
        (c2 = l2[a2]) instanceof e2 && c2.$_calcSpans(), this._headerRows += c2.headerRows, this._rows += c2.rows, this._cols = Math.max(c2.cols, this._cols);
      }
      for (var h2 = 0, u2 = this._visibles; h2 < u2.length; h2++) {
        var c2;
        (c2 = u2[h2]) instanceof e2 && (c2._cols = this._cols);
      }
      t3 && this._hideChildHeaders ? this._headerRows = this._header.rows : !t3 && this._hideChildHeaders && (this._headerRows = 0);
    }
  }, e2.prototype.$_resetVisibles = function(t3) {
    var i2 = 0, o2 = 0, r2 = this.visibles;
    this._visibles = [];
    for (var n2 = 0, s2 = this._items; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      a2._index = i2++, a2 instanceof e2 && a2.$_resetVisibles(t3);
      var l2 = a2.$_isVisible(t3);
      l2 && this.expandable && (l2 = this._expanded ? this._expandedLayouts.indexOf(a2) >= 0 : this._collapsedLayouts.indexOf(a2) >= 0), l2 && (this._visibles.push(a2), a2._vindex = o2++);
    }
    if (!t3 && r2.length != this._visibles.length && this.direction === ds.HORIZONTAL) for (var h2 = this; h2; ) h2._cellWidth = NaN, h2.width = NaN, h2 = h2.parent;
    this.$_calcSpans();
  }, e2.prototype.$_collectCellWidths = function(t3) {
    for (var i2 = [], o2 = 0, r2 = this._visibles; o2 < r2.length; o2++) {
      var n2 = r2[o2], s2 = n2._cellWidth || n2.width;
      if (n2 instanceof _s && (isNaN(s2) || 0 == s2) && (s2 = t3), n2 instanceof e2) {
        var a2 = n2.$_collectCellWidths(t3);
        isNaN(s2) && (s2 = a2), n2._cellWidth = s2;
      } else n2._cellWidth = s2;
      i2.push(s2);
    }
    var l2 = this.width;
    return isNaN(l2) && (l2 = this.vertical ? Math.max.apply(null, i2) : i2.reduce(function(t4, e3) {
      return t4 + e3;
    }, 0)), l2;
  }, e2.prototype.$_calcCellWidths = function(t3, e3, i2) {
    if (!i2) {
      for (var o2 = e3.slice(), r2 = 0; r2 < o2.length; r2++) o2[r2] = 0;
      var n2 = this.owner._moveColumn, s2 = t3.slice();
      if (n2) {
        var a2 = s2.splice(n2.first.row, 1);
        s2.splice(0, 0, a2[0]);
      }
      for (var l2 = 0; l2 < s2.length; l2++) for (var h2 = s2[l2], u2 = 0; u2 < h2.length; u2++) {
        var c2 = h2[u2];
        n2 ? e3[u2] = e3[u2] || c2._cellWidth : (!c2.isProxy || c2._cellWidth > 0 && !c2.ignoreCalcWidth) && (e3[u2] += c2._cellWidth, o2[u2]++);
      }
      for (r2 = 0; r2 < e3.length; r2++) e3[r2] = Math.round(e3[r2] / Math.max(o2[r2], 1));
    }
    for (l2 = 0; l2 < t3.length; l2++) for (h2 = t3[l2], u2 = 0; u2 < h2.length; u2++) {
      var d2 = h2[u2];
      if (d2._cellWidth = e3[u2], d2 instanceof _s) {
        var p2 = d2._cellWidths = [];
        for (r2 = 0; r2 < d2.cspan; r2++) p2[r2] = e3[u2 + r2] || 0;
      }
    }
  }, e2.prototype._childIndexChanged = function(t3) {
    this.parent && this.parent._childIndexChanged(t3);
  }, e2.prototype._childWidthChanged = function(t3) {
    this.parent && this.parent._childWidthChanged(t3);
  }, e2.prototype._childFillWidthChanged = function(t3) {
    this.parent && this.parent._childFillWidthChanged(t3);
  }, e2.prototype.$_checkVisible = function(t3) {
    var e3;
    if (!t3 || (e3 = t3.vindex) < 0 || t3 !== this.getVisible(e3)) throw new Error("Column is not a visible group member");
    return e3;
  }, e2.prototype.$_collectHorzColumns = function(t3, i2, o2) {
    if (this.horizontal) for (var r2 = i2; r2 <= o2; r2++) {
      var n2 = this._visibles[r2];
      n2 instanceof e2 ? n2.$_collectHorzColumns(t3, 0, n2.visibleCount - 1) : n2 instanceof _s && t3.push(n2._columnObj);
    }
  }, e2.prototype.$_changeChildVIndex = function(t3, e3) {
    t3 && (e3 != t3.vindex && e3 >= 0 && e3 < this._visibles.length && this.$_changeChildIndex(t3, this._visibles[e3].index));
  }, e2.prototype.$_changeChildIndex = function(t3, e3) {
    if (t3) {
      var i2 = t3.index;
      if (i2 != e3 && e3 >= 0 && e3 < this._items.length) {
        e3 = e3 <= i2 ? e3 : e3 + (this._items[e3].getHeaderSpan() - 1) - (t3.getHeaderSpan() - 1);
        for (var o2 = this._items.splice(i2, t3.getHeaderSpan()), r2 = 0; r2 < o2.length; r2++) this._items.splice(e3 + r2, 0, o2[r2]);
        this.$_resetVisibles(), this._childIndexChanged(t3);
      }
    }
  }, e2;
}(ps);
var ws = function(t2, e2) {
  for (var i2 = e2, o2 = t2.visibleCount; i2 < o2; i2++) {
    var r2 = t2.getVisible(i2);
    if (r2 instanceof _s) return r2;
    if (r2 instanceof vs && (r2 = ps.getSource(r2.first)) instanceof _s) return r2;
  }
  return null;
};
var Cs = function(t2, e2) {
  for (var i2 = e2; i2 >= 0; i2--) {
    var o2 = t2.getVisible(i2);
    if (o2 instanceof _s) return o2;
    if (o2 instanceof vs && (o2 = ps.getSource(o2.last)) instanceof _s) return o2;
  }
  return null;
};
var xs = function(t2, e2, i2) {
  for (var o2 = i2 ? t2.visibleCount : t2.count, r2 = 0; r2 < o2; r2++) {
    var n2 = i2 ? t2.getVisible(r2) : t2.getItem(r2);
    if (n2 instanceof _s) {
      var s2 = n2._columnObj;
      s2 && e2.push(s2);
    } else n2 instanceof vs && xs(n2, e2, i2);
  }
};
var Is = function(t2, e2, i2) {
  for (var o2 = i2 ? t2.visibleCount : t2.count, r2 = 0; r2 < o2; r2++) {
    var n2 = i2 ? t2.getVisible(r2) : t2.getItem(r2);
    n2 instanceof _s ? e2.push(n2) : n2 instanceof vs && Is(n2, e2, i2);
  }
};
var Es = function(t2, e2, i2, o2, r2) {
  for (var n2 = o2 ? t2.visibleCount : t2.count, s2 = 0; s2 < n2; s2++) {
    var a2 = o2 ? t2.getVisible(s2) : t2.getItem(s2);
    if (a2 instanceof _s && !r2) {
      var l2 = a2._columnObj;
      l2 && e2.push(l2.name);
    } else a2 instanceof vs && ((!i2 || r2) && e2.push(a2.name), Es(a2, e2, i2, o2, r2));
  }
};
var Ss = function(t2, e2, i2) {
  for (var o2 = i2 ? t2.visibleCount : t2.count, r2 = 0; r2 < o2; r2++) {
    var n2 = i2 ? t2.getVisible(r2) : t2.getItem(r2);
    if (n2 instanceof _s) {
      var s2 = n2._columnObj;
      s2 instanceof ls && e2.push(s2);
    } else n2 instanceof vs && Ss(n2, e2, i2);
  }
};
var Os = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, "$_root_$", null) || this;
    return i2._owner = e3, i2.header._visible = false, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "cellWidth", { get: function() {
    return this._cellWidth;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandable", { get: function() {
    return false;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), e2.prototype.resetColumns = function(t3) {
    this.items.length > 0 && (this.$_bindColumns({}, t3, false), this.$_resetVisibles(false));
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._owner.grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "root", { get: function() {
    return this;
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this._owner && this._owner._changed();
  }, e2.prototype._childIndexChanged = function(t3) {
    this._owner._itemIndexChanged(t3);
  }, e2.prototype._childWidthChanged = function(t3) {
    this._owner._itemWidthChanged(t3);
  }, e2.prototype._childFillWidthChanged = function(t3) {
    this._owner._itemFillWidthChanged(t3);
  }, e2.prototype._setColumns = function(t3) {
    var e3 = this._items;
    e3.length = 0;
    for (var i2 = 0, o2 = t3.count; i2 < o2; i2++) {
      var r2 = new _s(t3.getColumn(i2));
      e3.push(r2), r2._parent = this;
    }
    this.resetColumns(t3);
  }, e2;
}(vs);
var Rs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._cellWidths = [], i2._grid = e3, i2._root = new Os(i2), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, this._root = this._root.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._root.count;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleCount", { get: function() {
    return this._root.visibleCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerRows", { get: function() {
    return this._root._hlen;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRows", { get: function() {
    return this._root._dlen;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "first", { get: function() {
    return this._root.first;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "last", { get: function() {
    return this._root.last;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstColumn", { get: function() {
    return this._root.firstColumn;
  }, enumerable: false, configurable: true }), e2.prototype.load = function(t3) {
    return this.$_clear(), this._loading = true, this._root._loadItems(t3), this._changed(), this._loading = false, this;
  }, e2.prototype.resetColumns = function(t3) {
    this._root.resetColumns(t3);
  }, e2.prototype.cleanColumns = function() {
    this._root.cleanColumns();
  }, e2.prototype.invalidate = function() {
    this._changed();
  }, e2.prototype.invalidateIndices = function(t3) {
    this.grid.displayOptions.remergeWhenColumnMoved && this.grid._populateMerges(), this.grid.clearAddSelection(), this._changed();
  }, e2.prototype.invalidateSize = function() {
    this._resized || (this._resized = true, this.grid.invalidateCellLayouts());
  }, e2.prototype.getVisible = function(t3) {
    return this._root.getVisible(t3);
  }, e2.prototype.addLayout = function(t3, e3) {
    return this._root.addLayout(t3, e3);
  }, e2.prototype.removeLayout = function(t3) {
    this._root.removeLayout(t3);
  }, e2.prototype.expandLayout = function(t3, e3) {
    this.fireExpanding(t3, e3) && (t3._expanded = e3, this._root.$_resetVisibles(), this._changed(), this.fireExpanded(t3, e3));
  }, e2.prototype.setColumns = function(t3) {
    this._root._setColumns(t3), this._changed();
  }, e2.prototype.layoutByColumn = function(t3) {
    return t3 && this._root.findLayout(t3);
  }, e2.prototype.layoutByName = function(t3) {
    return t3 && this._root.layoutByName(t3);
  }, e2.prototype.getHeaderCellPos = function(t3) {
    for (var e3 = 0; e3 < this._headerCells.length; e3++) for (var i2 = this._headerCells[e3], o2 = 0; o2 < i2.length; o2++) if (i2[o2] instanceof _s && i2[o2]._columnObj === t3) return { row: e3, col: o2 };
  }, e2.prototype.getDataCellPos = function(t3) {
    for (var e3 = 0; e3 < this._dataCells.length; e3++) for (var i2 = this._dataCells[e3], o2 = 0; o2 < i2.length; o2++) if (i2[o2] instanceof _s && i2[o2]._columnObj === t3) return { row: e3, col: o2 };
  }, e2.prototype.getDataColumns = function(t3) {
    void 0 === t3 && (t3 = true);
    var e3 = [];
    return Ss(this._root, e3, t3), e3;
  }, e2.prototype.collectColumns = function(t3, e3, i2) {
    var o2 = [];
    return xs(this._root, o2, e3), o2;
  }, e2.prototype.collectLayouts = function(t3) {
    var e3 = [];
    return Is(this._root, e3, true), e3;
  }, e2.prototype.collectColumnNames = function(t3, e3, i2, o2) {
    var r2 = [], n2 = this._root;
    return o2 ? "string" == typeof o2 ? n2 = function t4(e4, i3) {
      for (var r3 = 0, n3 = e4.count; r3 < n3; r3++) {
        var s2 = e4.getItem(r3);
        if (s2 instanceof vs) return s2.name === o2 ? s2 : t4(s2);
      }
    }(n2) : o2 instanceof vs && (n2 = o2) : n2 = this._root, n2 ? (Es(n2, r2, t3, e3, i2), r2) : null;
  }, e2.prototype.collectDataColumns = function(t3, e3) {
    t3 = t3.source, e3 = e3.source;
    var i2 = Math.min(t3.col, e3.col), o2 = Math.max(t3.col + t3._defColSpan, e3.col + e3._defColSpan) - 1, r2 = [];
    Ss(this._root, r2, true);
    for (var n2 = r2.length - 1; n2 >= 0; n2--) {
      var s2 = r2[n2].layout.col;
      (s2 < i2 || s2 > o2) && r2.splice(n2, 1);
    }
    return r2;
  }, e2.prototype.getHorzColumns = function(t3, e3) {
    void 0 === t3 && (t3 = 0);
    var i2 = null == e3 ? t3 + this._root.visibleCount - 1 : t3 + e3 - 1, o2 = [];
    return this._root.$_collectHorzColumns(o2, t3, i2), o2;
  }, e2.prototype.getHomeOf = function(t3) {
    return t3 = ps.getSource(t3), t3 = this._dataCells[t3 ? t3.row : 0][0], ps.getSource(t3);
  }, e2.prototype.getEndOf = function(t3) {
    t3 = ps.getSource(t3);
    var e3 = this._dataCells, i2 = t3 ? t3.row : e3.length - 1;
    return t3 = e3[i2][e3[i2].length - 1], ps.getSource(t3);
  }, e2.prototype.getTopOf = function(t3) {
    return t3 = this._dataCells[0][t3.col], ps.getSource(t3);
  }, e2.prototype.getBottomOf = function(t3, e3) {
    var i2 = this._dataCells;
    return t3 = i2[i2.length - 1][t3.col], e3 ? t3 : ps.getSource(t3);
  }, e2.prototype.getLowerOf = function(t3) {
    t3 = ps.getSource(t3);
    var e3 = this._dataCells, i2 = t3.row, o2 = t3.col, r2 = 0;
    return i2 + t3.rows < e3.length ? t3 = e3[i2 + t3.rows][o2] : (r2 = 1, t3 = e3[0][o2]), { dy: r2, layout: ps.getSource(t3) };
  }, e2.prototype.getUpperOf = function(t3) {
    t3 = ps.getSource(t3);
    var e3 = this._dataCells, i2 = t3.row, o2 = t3.col, r2 = 0;
    return i2 > 0 ? t3 = e3[i2 - 1][o2] : (r2 = -1, t3 = e3[e3.length - 1][o2]), { dy: r2, layout: ps.getSource(t3) };
  }, e2.prototype.getRightOf = function(t3) {
    var e3 = this._dataCells[t3.row], i2 = t3.col;
    return i2 + t3.cols < e3.length ? (t3 = e3[i2 + t3.cspan], ps.getSource(t3)) : null;
  }, e2.prototype.getLeftOf = function(t3) {
    t3 = ps.getSource(t3);
    var e3 = this._dataCells[t3.row], i2 = t3.col;
    return i2 > 0 ? (t3 = e3[i2 - 1], ps.getSource(t3)) : null;
  }, e2.prototype.getHeaderLeftOf = function(t3) {
    t3 = ps.getSource(t3);
    var e3 = this._headerCells[t3.hrow], i2 = t3.hcol;
    return i2 > 0 ? (t3 = e3[i2 - 1], ps.getSource(t3)) : null;
  }, e2.prototype.getCellWidths = function(t3, e3) {
    for (var i2 = 0, o2 = 0; o2 < e3; o2++) i2 += this._cellWidths[o2 + t3];
    return i2;
  }, e2.prototype.getLayout = function(t3, e3, i2, o2, r2, n2) {
    function s2(a3) {
      var l3, h3;
      if (a3 instanceof _s) {
        var u3 = a3.firstColumn;
        if (u3) return c2 = (c2 = u3.visible && a3.visible || i2) && r2.indexOf(u3.name) < 0 || o2.indexOf(u3.name) >= 0, (d2 = a3.toProxy(false)).visible = t3 ? c2 : a3.visible, d2.width = (t3 && e3 ? a3._fitWidth : a3._cellWidth) || a3.width, d2.column = u3.name, d2;
      } else {
        if (a3.isProxy) return (t3 && e3 ? a3._fitWidth : a3._cellWidth) || a3.width;
        if (a3 instanceof vs) {
          var c2, d2;
          h3 = a3._items, l3 = [], c2 = (c2 = a3.visible || i2) && r2.indexOf(a3.name) < 0 || o2.indexOf(a3.name) >= 0;
          for (var p2 = 0, f2 = h3.length; p2 < f2; p2++) l3.push(s2.call(this, h3[p2]));
          if ((d2 = a3.toProxy(false)).name = a3.name, d2.items = l3, d2.visible = t3 ? c2 : a3.visible, d2.header = a3.header && a3.header.toProxy(false), a3.tiedColumn && (d2.tiedColumn = a3.tiedColumn.name), t3 && d2.expandable) switch (n2) {
            case "current":
              break;
            case "expand":
              d2.expanded = true;
              break;
            case "collapse":
              d2.expanded = false;
              break;
            default:
              d2.expandable = false;
          }
          return delete d2.width, d2;
        }
      }
    }
    void 0 === o2 && (o2 = []), void 0 === r2 && (r2 = []), e3 = e3 && !!this.grid.layoutManager.isColumnFitted;
    for (var a2 = this._root._items, l2 = [], h2 = 0, u2 = a2.length; h2 < u2; h2++) l2.push(s2.call(this, a2[h2]));
    return l2;
  }, e2.prototype.expandAll = function(t3, e3) {
    this._root.expandAll(t3, e3);
  }, e2.prototype.isShowing = function(t3) {
    for (var e3 = t3; e3 && e3.parent; ) {
      if (e3.parent.visibles.indexOf(e3) < 0) return false;
      e3 = e3.parent;
    }
    return true;
  }, e2.prototype.isDefault = function() {
    return false;
  }, e2.prototype.setMoveColumn = function(t3) {
    this._moveColumn = t3;
  }, e2.prototype.contains = function(t3) {
    return this._root.containLayout(t3);
  }, e2.prototype._changed = function() {
    if (!this._dirty) {
      this._dirty = true;
      var t3 = this.grid;
      t3 && t3.invalidateCellLayouts();
    }
  }, e2.prototype.$_clear = function() {
    this._headerCells = [], this._dataCells = [];
  }, e2.prototype.$_refresh = function(t3, e3) {
    this._dirty ? (this._root.$_bindColumns({}, t3), this._root.$_parseExpandLayouts(), this._root.$_resetVisibles(), this.$_parseCells(this._root, t3), this.$_calculateCellWidths(this._root, e3), this._dirty = false) : this._resized && this.$_calculateCellWidths(this._root, e3), this._resized = false, this._moveColumn = null;
  }, e2.prototype.$_refresh2 = function(t3, e3) {
    this._root.$_bindColumns({}, t3, true), this._root.$_parseExpandLayouts(), this._root.$_resetVisibles(true), this.$_parseCells(this._root, t3), this.$_calculateCellWidths(this._root, e3);
  }, e2.prototype.$_prepareMerges = function(t3) {
    for (var e3 = this.collectColumns(true, true, false), i2 = 0, o2 = e3.length; i2 < o2; i2++) {
      var r2 = e3[i2], n2 = this.layoutByColumn(r2);
      if (n2 && n2.canMerge()) {
        var s2 = n2.merges;
        s2 || (s2 = new Kn(n2)), s2.clear(), s2.initialize(10);
        var a2 = t3.layoutManager.fixedItemCount;
        s2.refreshRooms(a2, t3.itemCount - 1, true);
      }
    }
  }, e2.prototype.$_prepareLayout = function(t3, e3, i2) {
    for (var o2 = 0, r2 = this._root.visibleCount; o2 < r2; o2++) this._root.getVisible(o2)._prepareLayout(t3, o2 < e3, o2 >= r2 - i2);
  }, e2.prototype.$_parseCells = function(t3, e3) {
    var i2 = t3._visibles;
    this.$_parseHeaderCells(i2), this.$_parseDataCells(i2);
  }, e2.prototype.$_parseHeaderCells = function(t3) {
    for (var e3 = this._headerCells = [], i2 = 0, o2 = 0, r2 = t3; o2 < r2.length; o2++) {
      var n2 = r2[o2];
      i2 = Math.max(i2, n2.headerRows);
    }
    for (var s2 = 0; s2 < i2; s2++) e3.push([]);
    this._root.$_parseHeaderCells(e3, 0, 0), this._root.$_adjustHeaderCells(e3);
  }, e2.prototype.$_parseDataCells = function(t3) {
    for (var e3 = this._dataCells = [], i2 = 0, o2 = 0, r2 = t3; o2 < r2.length; o2++) {
      var n2 = r2[o2];
      i2 = Math.max(i2, n2.rows);
    }
    for (var s2 = 0; s2 < i2; s2++) e3.push([]);
    this._root.$_parseDataCells(e3, 0, 0), this._root.$_adjustDataCells(e3);
    for (var a2 = 0, l2 = e3; a2 < l2.length; a2++) for (var h2 = l2[a2], u2 = 0; u2 < h2.length; ) {
      var c2 = h2[u2];
      if (c2._defColSpan = 1, c2.isNull) u2++;
      else for (; ++u2 < h2.length; ) {
        var d2 = h2[u2];
        if (!(!d2 || d2.isProxy && d2.source === c2 || d2.isNull && d2.group === c2.group)) break;
        c2._defColSpan++;
      }
    }
  }, e2.prototype.$_calculateCellWidths = function(t3, e3) {
    if (this._dirty) {
      (!this._cellWidths || this._cellWidths.length <= 0 || !this._moveColumn) && t3.$_collectCellWidths(e3);
      for (var i2 = this._cellWidths = [], o2 = 0, r2 = t3.cols; o2 < r2; o2++) i2.push(0);
      t3.$_calcCellWidths(this._dataCells, i2, false);
    } else this._resized && t3.$_calcCellWidths(this._dataCells, this._cellWidths, true);
  }, e2.prototype.$_clearFitWidths = function() {
    this._root._clearFitWidth();
  }, e2.prototype._columnsChanged = function(t3) {
  }, e2.prototype._columnChanged = function(t3) {
  }, e2.prototype._itemIndexChanged = function(t3) {
    this.invalidateIndices(t3);
  }, e2.prototype._itemWidthChanged = function(t3) {
    this.invalidateSize();
  }, e2.prototype._itemFillWidthChanged = function(t3) {
    this.grid.layoutManager.isColumnFitted && this.invalidateSize();
  }, e2.prototype._clearMergeGrouped = function() {
    this._root.clearMergeGrouped();
  }, e2.prototype.$_changeCellWidths = function(t3, e3, i2, o2) {
    for (var r2 = this._cellWidths, n2 = [], s2 = 0, a2 = 0; a2 < e3; a2++) s2 += r2[t3 + a2], n2.push(s2);
    var l2 = i2 / s2;
    for (a2 = 0; a2 < e3 - 1; a2++) n2[a2] = Math.round(n2[a2] * l2);
    n2[e3 - 1] = i2;
    for (a2 = e3 - 1; a2 > 0; a2--) r2[t3 + a2] = Math.max(r2[t3 + a2] + n2[a2] - n2[a2 - 1], o2);
    r2[t3] = Math.max(r2[t3] + n2[0], o2), this.invalidateSize();
  }, e2.prototype.$_calcGroupWidths = function() {
    var t3 = this._cellWidths;
    !function e3(i2) {
      for (var o2 = 0, r2 = 0; r2 < i2._clen; r2++) o2 += t3[i2.col + r2];
      i2._width = i2._cellWidth = o2;
      for (var n2 = 0, s2 = i2.visibles; n2 < s2.length; n2++) {
        var a2 = s2[n2];
        a2 instanceof vs && e3(a2);
      }
    }(this._root);
  }, e2.prototype.fireExpanding = function(t3, i2) {
    return this.fireConfirmEvent(i2 ? e2.LAYOUT_EXPANDING : e2.LAYOUT_COLLAPSING, t3);
  }, e2.prototype.fireExpanded = function(t3, i2) {
    this.fireEvent(i2 ? e2.LAYOUT_EXPANDED : e2.LAYOUT_COLLAPSED, t3);
  }, e2.LAYOUT_EXPANDING = "onLayoutExpanding", e2.LAYOUT_COLLAPSING = "onLayoutCollapsing", e2.LAYOUT_EXPANDED = "onLayoutExpanded", e2.LAYOUT_COLLAPSED = "onLayoutCollapsed", e2;
}(Oe);
var Ps = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._columnsChanged = function(e3) {
    this.setColumns(e3), t2.prototype._columnsChanged.call(this, e3);
  }, e2.prototype.addLayout = function(t3) {
    return null;
  }, e2.prototype.removeLayout = function(t3) {
  }, e2.prototype.isDefault = function() {
    return true;
  }, e2;
}(Rs);
!function(t2) {
  t2.ROW = "row", t2.CELL = "cell";
}(gs || (gs = {})), function(t2) {
  t2.GROUP = "group", t2.CELL = "cell";
}(ys || (ys = {}));
var ks;
var Ds;
var Ts = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === i2 && (i2 = -1);
    var r2 = t2.call(this, true) || this;
    return r2._itemIndex = -1, r2._grid = e3, r2._itemIndex = i2, r2._layout = o2 instanceof ss ? o2.layout : o2, r2;
  }
  return i(e2, t2), e2.temp = function(t3, i2, o2, r2) {
    void 0 === i2 && (i2 = 0);
    var n2 = r2 ? new e2() : e2.$_temp || (e2.$_temp = new e2());
    return n2._grid = t3, n2._itemIndex = i2, n2._layout = o2 instanceof ps ? o2 : o2 && o2.layout, n2;
  }, e2.areEquals = function(t3, e3, i2) {
    return t3 == e3 || t3 && e3 && t3._grid === e3._grid && t3._itemIndex === e3._itemIndex && (t3._layout === e3._layout || i2 && t3.layout.areEqualColumn(e3.layout));
  }, e2.equalsTo = function(t3, e3, i2) {
    return t3 && t3._itemIndex === e3 && t3.layout === i2;
  }, e2.clearTemp = function() {
    e2.$_temp && (e2.$_temp = e2.$_temp.dispose());
  }, e2.compareHorz = function(t3, e3) {
    if (t3 && e3) return t3.layout.distance - e3.layout.distance;
  }, e2.prototype._doDispose = function() {
    this._grid = null, this._layout = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._itemIndex;
  }, set: function(t3) {
    this._itemIndex = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, set: function(t3) {
    this._layout = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._layout && this._layout.firstColumn;
  }, set: function(t3) {
    "string" == typeof t3 && (t3 = this.grid && this.grid.columnByName(t3)), this._layout = t3 && t3.layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataColumn", { get: function() {
    var t3 = this.column;
    return t3 instanceof ls ? t3 : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueColumn", { get: function() {
    var t3 = this.column;
    return t3 instanceof as ? t3 : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "literalColumn", { get: function() {
    var t3 = this.column;
    return t3 instanceof us ? t3 : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "seriesColumn", { get: function() {
    var t3 = this.column;
    return t3 instanceof hs ? t3 : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataField", { get: function() {
    var t3 = this.dataColumn;
    return t3 instanceof ls ? t3.dataIndex : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._grid && this._grid.getItem(this._itemIndex);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRow", { get: function() {
    var t3 = this.item;
    return t3 ? t3.dataRow : -1;
  }, set: function(t3) {
    if (this._grid) {
      var e3 = this._grid.getItemOfRow(t3, false);
      e3 && (this.itemIndex = e3.index);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldName", { get: function() {
    return this.dataColumn && this.dataColumn.fieldName;
  }, set: function(t3) {
    if (this._grid) {
      var e3 = this._grid.columnByField(t3);
      e3 && (this.column = e3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldIndex", { get: function() {
    return this.dataColumn && this.dataColumn.fieldIndex;
  }, set: function(t3) {
    if (this._grid) {
      var e3 = this._grid.columnByField(t3);
      e3 && (this.column = e3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataId", { get: function() {
    var t3 = this.item;
    return t3 ? t3.dataId : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    var t3 = this.column;
    if (t3 instanceof ls) {
      var e3 = t3.dataIndex;
      if (e3 < 0) throw new Error("Not exists data field: " + t3.fieldName);
      var i2 = this.item;
      if (!i2) throw new Error("Invalid item index: " + this._itemIndex);
      return i2.getData(e3);
    }
    return t3 instanceof hs ? wr._getDisplayText(this) : t3 instanceof us ? t3.value : void 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixed", { get: function() {
    var t3 = this._layout;
    if (this._grid && t3 && t3.visible) {
      var e3 = this._grid.layoutManager, i2 = t3.root.vindex;
      return i2 < e3.fixedLayoutCount || i2 >= e3.rightFirstLayout || this._itemIndex >= 0 && this._itemIndex < e3.fixedItemCount;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowFixed", { get: function() {
    if (this._grid) {
      var t3 = this._grid.layoutManager;
      return this._itemIndex >= 0 && this._itemIndex < t3.fixedItemCount;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "colFixed", { get: function() {
    if (this._grid && this._layout && this._layout.visible) {
      var t3 = this._grid.layoutManager;
      return this._layout.root.vindex < t3.fixedLayoutCount;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightFixed", { get: function() {
    if (this._grid && this._layout && this._layout.visible) {
      var t3 = this._grid.layoutManager;
      return this._layout.root.vindex >= t3.rightFirstLayout;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isTop", { get: function() {
    return !this._layout || !this._layout.group || (this.$_isSpanned() ? this.grid.$_isTopCell(this) : vs.isTop(this._layout));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isBottom", { get: function() {
    return !this._layout || !this._layout.group || (this.$_isSpanned() ? this.grid.$_isBottomCell(this) : vs.isBottom(this._layout));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLeft", { get: function() {
    if (this._layout) {
      var t3 = this._layout.group;
      return t3 ? 0 == t3.vindex && vs.isLeft(this._layout) : 0 == this._layout.vindex;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isRight", { get: function() {
    if (this._layout) {
      var t3 = this._layout.group;
      return t3 ? 0 == t3.vindex && vs.isRight(this._layout) : this._layout.vindex == this._grid.visibleLayoutCount - 1;
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isFirst", { get: function() {
    if (this._layout && (this._grid && this._grid.visibleLayoutCount > 0)) return ps.getSource(this._grid.activeCellLayout.first) === this._layout;
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isEditableFirst", { get: function() {
    var t3 = this._grid;
    if (t3 && this._layout) {
      var i2 = t3.collectColumns(true, true, true), o2 = i2.indexOf(this._layout.firstColumn);
      if (o2 >= 0) {
        for (var r2 = o2; r2--; ) {
          var n2 = i2[r2];
          if (n2 instanceof hs) return false;
          var s2 = e2.temp(t3, this.itemIndex, n2);
          if (t3.getWritableAt(s2, true)) return false;
        }
        return true;
      }
    }
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isEditableLast", { get: function() {
    var t3 = this._grid;
    if (t3 && this._layout) for (var i2 = t3.collectColumns(true, true, true), o2 = i2.indexOf(this._layout.firstColumn) + 1, r2 = i2.length; o2 < r2; o2++) {
      var n2 = i2[o2];
      if (n2 instanceof hs) return false;
      var s2 = e2.temp(t3, this.itemIndex, n2);
      if (t3.getWritableAt(s2, true)) return false;
    }
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLast", { get: function() {
    if (this._layout && (this._grid && this._grid.visibleLayoutCount > 0)) return ps.getSource(this._grid.activeCellLayout.last) === this._layout;
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.set = function(t3, e3, i2) {
    return void 0 !== i2 && (this._grid = i2), this._itemIndex = t3, this._layout = e3 instanceof ss ? e3.layout : e3, this;
  }, e2.prototype.assign = function(t3) {
    return t3 ? (t3.grid && (this._grid = t3._grid), this._itemIndex = t3._itemIndex, this._layout = t3._layout) : (this._itemIndex = -1, this._layout = null), this;
  }, e2.prototype.reset = function() {
    return this._itemIndex = -1, this._layout = null, this;
  }, e2.prototype.clone = function() {
    return new e2(this._grid, this._itemIndex, this._layout);
  }, e2.prototype.proxy = function() {
    return { itemIndex: isNaN(this._itemIndex) ? -1 : this._itemIndex, column: this.column ? this.column.name : null, dataRow: this.dataRow, fieldIndex: this.dataColumn ? this.column.dataIndex : -1, fieldName: this.dataColumn ? this.column.fieldName : null };
  }, e2.prototype.normalize = function(t3) {
    if (t3) {
      this._grid = t3;
      var e3 = this._layout;
      if (!e3 || !t3.activeCellLayout.contains(e3)) {
        var i2 = void 0;
        e3 && (i2 = t3.activeCellLayout.layoutByColumn(e3.firstColumn)), this._layout = i2 || t3.getFirstLayout();
      }
      this._itemIndex = Math.max(0, Math.min(this._itemIndex, t3.itemCount - 1));
    }
    return this;
  }, e2.prototype.incRow = function(t3) {
    this._grid && (this._itemIndex = Math.max(0, Math.min(this._grid.itemCount - 1, this._itemIndex + t3)));
  }, e2.prototype.first = function() {
    this._grid && (this._itemIndex = 0);
  }, e2.prototype.last = function() {
    this._grid && (this._itemIndex = this._grid.itemCount - 1);
  }, e2.prototype.right = function() {
    if (this.grid.editOptions.focusMoveStep !== ys.GROUP) {
      var t3 = this._grid && this.$_gridLayout().getRightOf(this._layout);
      t3 && (this._layout = t3);
    } else this.next();
  }, e2.prototype.left = function() {
    if (this.grid.editOptions.focusMoveStep !== ys.GROUP) {
      var t3 = this._grid && this.$_gridLayout().getLeftOf(this._layout);
      t3 && (this._layout = t3);
    } else this.prev();
  }, e2.prototype.next = function() {
    if (this.grid.editOptions.focusMoveStep === ys.GROUP) {
      var t3 = this.layout.getAncestor(this.grid.displayOptions.groupFocusLevel), e3 = t3.isRoot ? this.grid.activeCellLayout : t3.parent, i2 = t3.vindex;
      if (i2 < e3.visibleCount - 1) return void (this._layout = e3.getVisible(i2 + 1).first);
    }
    var o2 = Fs(this._grid, this._layout);
    if (o2) return this._layout = o2, true;
  }, e2.prototype.prev = function() {
    if (this.grid.editOptions.focusMoveStep === ys.GROUP) {
      var t3 = this.layout.getAncestor(this.grid.displayOptions.groupFocusLevel), e3 = t3.isRoot ? this.grid.activeCellLayout : t3.parent, i2 = t3.vindex;
      if (i2 > 0) return void (this._layout = e3.getVisible(i2 - 1).first);
    }
    var o2 = Ls(this._grid, this._layout);
    if (o2) return this._layout = o2, true;
  }, e2.prototype.home = function() {
    this._layout = this._grid && this.$_gridLayout().getHomeOf(this._layout);
  }, e2.prototype.end = function() {
    this._layout = this._grid && this.$_gridLayout().getEndOf(this._layout);
  }, e2.prototype.firstCell = function() {
    this._layout = this._grid && ps.getSource(this.grid.activeCellLayout.first);
  }, e2.prototype.lastCell = function() {
    this._layout = this.grid && ps.getSource(this.grid.activeCellLayout.last);
  }, e2.prototype.down = function(t3, e3, i2) {
    void 0 === t3 && (t3 = gs.ROW), this._grid && (this.itemIndex < this._grid.itemCount - 1 && this.grid.editOptions.focusMoveStep === ys.GROUP ? this.incRow(1) : t3 == gs.ROW && !e3 || this.isBottom || i2 ? this._itemIndex < this._grid.itemCount - 1 && (t3 == gs.CELL && (this._layout = this.$_gridLayout().getTopOf(this._layout)), this.incRow(1)) : this._grid.spanned ? this._layout = this._grid.$_getLowerOfCell(this) : this._layout = this.$_gridLayout().getLowerOf(this._layout).layout);
  }, e2.prototype.up = function(t3, e3, i2) {
    if (void 0 === t3 && (t3 = gs.ROW), this._grid) if (this.itemIndex > 0 && this.grid.editOptions.focusMoveStep === ys.GROUP) this.incRow(-1);
    else if (t3 == gs.ROW && !e3 || this.isTop || i2) {
      if (this._itemIndex > 0) {
        if (t3 == gs.CELL) if (this._grid.spanned) {
          var o2 = this._grid.$_getUpperOfCell(this);
          this._layout = o2 || this.$_gridLayout().getBottomOf(this._layout);
        } else this._layout = this.$_gridLayout().getBottomOf(this._layout);
        this.incRow(-1);
      }
    } else this._grid.spanned ? this._layout = this._grid.$_getUpperOfCell(this) : this._layout = this.$_gridLayout().getUpperOf(this._layout).layout;
  }, e2.prototype.getValue = function() {
    if (this._grid) {
      var t3 = this.dataColumn, e3 = this._grid.getItem(this._itemIndex);
      return t3 && e3 && e3.getData(t3.dataIndex);
    }
  }, e2.prototype.assignFrom = function(i2) {
    i2 instanceof e2 ? (this._grid = i2._grid, this._layout = i2._layout, this._itemIndex = i2._itemIndex) : t2.prototype.assignFrom.call(this, i2);
  }, e2.prototype.toString = function() {
    return "(" + this._itemIndex + ", " + this.column + ")";
  }, e2.prototype.$_gridLayout = function() {
    return this._grid._activeCellLayout;
  }, e2.prototype.$_isSpanned = function() {
    return this._grid && this._grid.spanned;
  }, e2;
}(Ft);
var Ms = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2 && i2.index, o2) || this;
    return r2._item = i2, r2;
  }
  return i(e2, t2), e2.tempItem = function(t3, i2, o2) {
    return e2.$_itemTemp || (e2.$_itemTemp = new e2()), e2.$_itemTemp._grid = t3, e2.$_itemTemp._item = i2, e2.$_itemTemp._itemIndex = i2.index, e2.$_itemTemp._layout = o2 instanceof ps ? o2 : o2 && o2.layout, e2.$_itemTemp;
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, enumerable: false, configurable: true }), e2;
}(Ts);
var Fs = function(t2, e2) {
  if (!t2 || !e2) return null;
  var i2 = t2.layoutManager, o2 = vs.getNext(e2);
  if (o2) return o2;
  for (var r2 = (e2.group ? e2.root.vindex : e2.vindex) + 1, n2 = i2.layoutCount; r2 < n2; r2++) {
    if ((o2 = i2.getLayout(r2)) instanceof _s) return o2;
    if (o2 instanceof vs && (o2 = ps.getSource(o2.first))) return o2;
  }
};
var Ls = function(t2, e2) {
  if (!t2 || !e2) return null;
  var i2 = t2.layoutManager, o2 = vs.getPrev(e2);
  if (o2) return o2;
  for (var r2 = (e2.group ? e2.root.vindex : e2.vindex) - 1; r2 >= 0; r2--) {
    if ((o2 = i2.getLayout(r2)) instanceof _s) return o2;
    if (o2 instanceof vs && (o2 = ps.getSource(o2.last))) return o2;
  }
};
var Ns = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._row1 = 0, e3._row2 = 0, e3;
  }
  return i(e2, t2), e2.$_setRange = function(t3, e3, i2, o2, r2) {
    return t3._row1 = e3 <= o2 ? e3 : o2, t3._row2 = e3 <= o2 ? o2 : e3, t3._col1 = i2.col <= r2.col ? i2 : r2, t3._col2 = i2.col <= r2.col ? r2 : i2, t3;
  }, e2.create = function(t3, i2) {
    if (i2 && t3 !== i2) return e2.$_setRange(new e2(), t3.itemIndex, t3.layout, i2.itemIndex, i2.layout);
    var o2 = new e2();
    return o2._row1 = o2._row2 = t3.itemIndex, o2._col1 = o2._col2 = t3.layout, o2;
  }, e2.temp = function(t3, i2) {
    var o2 = e2.$_TEMP;
    return i2 && t3 !== i2 ? e2.$_setRange(o2, t3.itemIndex, t3.layout, i2.itemIndex, i2.layout) : (o2._row1 = o2._row2 = t3.itemIndex, o2._col1 = o2._col2 = t3.layout, o2);
  }, e2.createRange = function(t3, i2, o2, r2) {
    return e2.$_setRange(new e2(), t3, i2, o2, r2);
  }, Object.defineProperty(e2.prototype, "empty", { get: function() {
    return this._row2 < this._row1 || !this._col2 && !this._col2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "r1", { get: function() {
    return this._row1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "c1", { get: function() {
    return this._col1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "r2", { get: function() {
    return this._row2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "c2", { get: function() {
    return this._col2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "top", { get: function() {
    return this._row1 <= this._row2 ? this._row1 : this._row2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottom", { get: function() {
    return this._row1 <= this._row2 ? this._row2 : this._row1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstCell", { get: function() {
    var t3 = new Ts();
    return t3.itemIndex = this._row1 <= this._row2 ? this._row1 : this._row2, this._col1.col === this._col2.col ? t3.layout = this._col1.row <= this._col2.row ? this._col1 : this._col2 : t3.layout = this._col1.col <= this._col2.col ? this._col1 : this._col2, t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastCell", { get: function() {
    var t3 = new Ts();
    return t3.itemIndex = this._row1 >= this._row2 ? this._row1 : this._row2, this._col1.col === this._col2.col ? t3.layout = this._col1.row >= this._col2.row ? this._col1 : this._col2 : t3.layout = this._col1.col >= this._col2.col ? this._col1 : this._col2, t3;
  }, enumerable: false, configurable: true }), e2.prototype.contains = function(t3, e3) {
    if (e3) {
      var i2 = e3.col;
      return t3 >= this._row1 && t3 <= this._row2 && i2 >= this._col1.col && i2 <= this._col2.col;
    }
    return false;
  }, e2.prototype.normalize = function() {
    if (this._row1 > this._row2) {
      var t3 = this._row1;
      this._row1 = this._row2, this._row2 = t3;
    }
    if (this._col1.col <= this._col2.col) {
      if (this._col1.row > this._col2.row) {
        var e3 = this._col1;
        this._col1 = this._col2, this._col2 = e3;
      }
    } else {
      e3 = this._col1;
      this._col1 = this._col2, this._col2 = e3;
    }
    return this;
  }, e2.prototype.normalizeData = function() {
    return this.normalize(), this;
  }, e2.prototype.intersectsWith = function(t3) {
    return false;
  }, e2.NULL = new e2(), e2.$_TEMP = new e2(), e2;
}(Ft);
var $s = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_COUNT:
        return this._getCount();
      case e2.ID_SUM:
        return this._getSum();
      case e2.ID_MAX:
        return this._getMax();
      case e2.ID_MIN:
        return this._getMin();
      case e2.ID_AVG:
        return this._getAvg();
      case e2.ID_VAR:
        return this._getVar();
      case e2.ID_VARP:
        return this._getVarp();
      case e2.ID_STDEV:
        return this._getStdev();
      case e2.ID_STDEVP:
        return this._getStdevp();
      case e2.ID_DATA_COUNT:
        return this._getDataCount();
      case e2.ID_DATA_AVG:
        return this._getDataAvg();
      case e2.ID_GROUP_VALUE:
        return this._getGroupValue();
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, e3) {
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, e3, i2) {
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.ID_COUNT = 0, e2.ID_SUM = 1, e2.ID_MAX = 2, e2.ID_MIN = 3, e2.ID_AVG = 4, e2.ID_VAR = 5, e2.ID_VARP = 6, e2.ID_STDEV = 7, e2.ID_STDEVP = 8, e2.ID_DATA_COUNT = 9, e2.ID_DATA_AVG = 10, e2.ID_GROUP_VALUE = 11, e2.IDENTS = { count: e2.ID_COUNT, sum: e2.ID_SUM, max: e2.ID_MAX, min: e2.ID_MIN, avg: e2.ID_AVG, var: e2.ID_VAR, varp: e2.ID_VARP, stdev: e2.ID_STDEV, stdevp: e2.ID_STDEVP, datacount: e2.ID_DATA_COUNT, dataavg: e2.ID_DATA_AVG, groupvalue: e2.ID_GROUP_VALUE }, e2;
}(Wt);
var As = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, this._ds = null, this._column = null, this._summarizer = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setColumn = function(t3, e3) {
    this._column = t3, this._grid = t3.grid, this._ds = this._grid.dataSource, this._fieldCount = this._ds.fieldCount, this._summarizer = e3;
  }, e2.prototype.isIdentifier = function(e3) {
    return e3 = e3.toLowerCase(), $s.IDENTS.hasOwnProperty(e3) ? $s.IDENTS[e3] : t2.prototype.isIdentifier.call(this, e3);
  }, e2.prototype.evaluateIndexerI = function(t3, e3) {
    if (this._summarizer) {
      if (e3 < 0 || e3 >= this._fieldCount) throw new Nt("Data field index out of bounds: " + e3);
      switch (t3) {
        case $s.ID_SUM:
          return this._summarizer.getSum(e3);
        case $s.ID_COUNT:
          return this._summarizer.getCount(e3);
        case $s.ID_MAX:
          return this._summarizer.getMax(e3);
        case $s.ID_MIN:
          return this._summarizer.getMin(e3);
        case $s.ID_AVG:
          return this._summarizer.getAvg(e3);
        case $s.ID_VAR:
          return this._summarizer.getVar(e3);
        case $s.ID_VARP:
          return this._summarizer.getVarp(e3);
        case $s.ID_STDEV:
          return this._summarizer.getStdev(e3);
        case $s.ID_STDEVP:
          return this._summarizer.getStdevp(e3);
        case $s.ID_DATA_COUNT:
          return this._summarizer.getDataCount(e3);
        case $s.ID_DATA_AVG:
          return this._summarizer.getDataAvg(e3);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
    switch (t3) {
      case $s.ID_SUM:
      case $s.ID_COUNT:
        return 0;
      case $s.ID_MAX:
      case $s.ID_MIN:
      case $s.ID_AVG:
      case $s.ID_VAR:
      case $s.ID_VARP:
      case $s.ID_STDEV:
      case $s.ID_STDEVP:
        return NaN;
    }
  }, e2.prototype.evaluateIndexerS = function(t3, e3, i2) {
    if (this._summarizer && this._ds) {
      var o2 = i2 ? this._ds.getFieldIndexC(e3) : this._ds.getFieldIndex(e3);
      if (o2 < 0 || o2 >= this._fieldCount) throw new Nt("Data field index out of bounds: " + o2);
      switch (t3) {
        case $s.ID_SUM:
          return this._summarizer.getSum(o2);
        case $s.ID_COUNT:
          return this._summarizer.getCount(o2);
        case $s.ID_MAX:
          return this._summarizer.getMax(o2);
        case $s.ID_MIN:
          return this._summarizer.getMin(o2);
        case $s.ID_AVG:
          return this._summarizer.getAvg(o2);
        case $s.ID_VAR:
          return this._summarizer.getVar(o2);
        case $s.ID_VARP:
          return this._summarizer.getVarp(o2);
        case $s.ID_STDEV:
          return this._summarizer.getStdev(o2);
        case $s.ID_STDEVP:
          return this._summarizer.getStdevp(o2);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
    switch (t3) {
      case $s.ID_SUM:
      case $s.ID_COUNT:
        return 0;
      case $s.ID_MAX:
      case $s.ID_MIN:
      case $s.ID_AVG:
      case $s.ID_VAR:
      case $s.ID_VARP:
      case $s.ID_STDEV:
      case $s.ID_STDEVP:
        return NaN;
    }
  }, e2.prototype._getCount = function() {
    return this._summarizer ? this._summarizer.getCount(this._column.dataIndex) : 0;
  }, e2.prototype._getSum = function() {
    return this._summarizer ? this._summarizer.getSum(this._column.dataIndex) : 0;
  }, e2.prototype._getMax = function() {
    return this._summarizer ? this._summarizer.getMax(this._column.dataIndex) : NaN;
  }, e2.prototype._getMin = function() {
    return this._summarizer ? this._summarizer.getMin(this._column.dataIndex) : NaN;
  }, e2.prototype._getAvg = function() {
    return this._summarizer ? this._summarizer.getAvg(this._column.dataIndex) : NaN;
  }, e2.prototype._getVar = function() {
    return this._summarizer ? this._summarizer.getVar(this._column.dataIndex) : NaN;
  }, e2.prototype._getVarp = function() {
    return this._summarizer ? this._summarizer.getVarp(this._column.dataIndex) : NaN;
  }, e2.prototype._getStdev = function() {
    return this._summarizer ? this._summarizer.getStdev(this._column.dataIndex) : NaN;
  }, e2.prototype._getStdevp = function() {
    return this._summarizer ? this._summarizer.getStdevp(this._column.dataIndex) : NaN;
  }, e2.prototype._getDataCount = function() {
    return this._summarizer ? this._summarizer.getDataCount(this._column.dataIndex) : NaN;
  }, e2.prototype._getDataAvg = function() {
    return this._summarizer ? this._summarizer.getDataAvg(this._column.dataIndex) : NaN;
  }, e2.prototype._getGroupValue = function() {
    return "";
  }, e2;
}($s);
var Bs = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, enumerable: false, configurable: true }), e2.prototype.setItem = function(t3) {
    this._item = t3;
  }, e2.prototype._getCount = function() {
    return this._item.getNumber(this._column.dataIndex);
  }, e2.prototype._getSum = function() {
    return this._item.getSum(this._column.dataIndex);
  }, e2.prototype._getMax = function() {
    return this._item.getMax(this._column.dataIndex);
  }, e2.prototype._getMin = function() {
    return this._item.getMin(this._column.dataIndex);
  }, e2.prototype._getAvg = function() {
    return this._item.getAvg(this._column.dataIndex);
  }, e2.prototype._getVar = function() {
    return this._item.getVar(this._column.dataIndex, 1);
  }, e2.prototype._getVarp = function() {
    return this._item.getVar(this._column.dataIndex, 0);
  }, e2.prototype._getStdev = function() {
    return this._item.getStdev(this._column.dataIndex, 1);
  }, e2.prototype._getStdevp = function() {
    return this._item.getStdev(this._column.dataIndex, 0);
  }, e2.prototype._getDataCount = function() {
    return this._item.getDataCount(this._column.dataIndex);
  }, e2.prototype._getDataAvg = function() {
    return this._item.getDataAvg(this._column.dataIndex);
  }, e2.prototype._getGroupValue = function() {
    return this._column.groupLevel && this._item.level >= this._column.groupLevel ? this._item.firstDataItem.getData(this._column.dataIndex) : "";
  }, e2;
}(As);
var Vs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._columns = [], i2._orgColumns = [], i2._nameMap = {}, i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._clearColumn(), this._columns = null, this._owner = null, this._nameMap = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._columns.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "columns", { get: function() {
    return this._columns.slice();
  }, enumerable: false, configurable: true }), e2.prototype.getColumn = function(t3) {
    return this._columns[t3];
  }, e2.prototype.setColumns = function(t3) {
    if (this._columns.length = 0, this._nameMap = {}, t3) for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
      var o2 = i2[e3], r2 = this._addColumn(o2);
      if (!r2) throw new Error("column is undefined");
      r2.$_owner = this, null == r2.header.useCheckImage && (r2.header.useCheckImage = this._owner.accessibility);
    }
    this._orgColumns = this._columns.slice();
  }, e2.prototype.add = function(t3, e3) {
    var i2 = this._addColumn(t3, void 0 === e3 ? -1 : e3);
    return null != i2 && (i2.$_owner = this), i2;
  }, e2.prototype.remove = function(t3) {
    return !!this._removeColumn(t3);
  }, e2.prototype.exchangeNameMap = function(t3, e3, i2) {
    this._columns.indexOf(t3) > 0 && (this._nameMap[e3].$_hash === t3.$_hash && delete this._nameMap[e3], this._nameMap[i2] = t3);
  }, e2.prototype.resetIndices = function() {
    if (this._owner) for (var t3 = 0, e3 = this._columns.length; t3 < e3; t3++) {
      var i2 = this._columns[t3];
      i2.$_setIndex(t3), i2._resetIndices(this._owner);
    }
  }, e2.prototype.resetSortStates = function() {
    if (this._owner) for (var t3 = this._owner.getSortDirections(), e3 = this._owner.getSortFields(), i2 = 0, o2 = this._columns.length; i2 < o2; i2++) {
      var r2 = this._columns[i2];
      r2 instanceof ls && (r2.sortOrder = e3.indexOf(r2.dataIndex), r2.sortDirection = t3[r2.sortOrder]);
    }
  }, e2.prototype.columnByName = function(t3) {
    return this._nameMap[t3];
  }, e2.prototype.columnByField = function(t3) {
    if (t3 >= 0) for (var e3 = 0, i2 = this.count; e3 < i2; e3++) {
      var o2 = this.getColumn(e3);
      if (o2 instanceof ls && o2.dataIndex == t3) return o2;
    }
    return null;
  }, e2.prototype.columnsByField = function(t3) {
    var e3 = [];
    if (t3 >= 0) for (var i2 = 0, o2 = this.count; i2 < o2; i2++) {
      var r2 = this.getColumn(i2);
      r2 instanceof ls && r2.dataIndex == t3 && e3.push(r2);
    }
    return e3;
  }, e2.prototype.columnByTag = function(t3) {
    if (t3) for (var e3 = 0, i2 = this.count; e3 < i2; e3++) {
      var o2 = this.getColumn(e3), r2 = o2.tag;
      if (Ot.isArray(t3) && Ot.equalArrays(t3, r2) || t3 instanceof Date && r2 instanceof Date && t3.getTime() === r2.getTime() || "object" == typeof t3 && "object" == typeof r2 && Ot.equalObjects(t3, r2) || r2 === t3) return o2;
    }
    return null;
  }, e2.prototype.columnsByTag = function(t3) {
    if (t3) {
      for (var e3 = [], i2 = 0, o2 = this.count; i2 < o2; i2++) {
        var r2 = this.getColumn(i2), n2 = r2.tag;
        (Ot.isArray(t3) && Ot.equalArrays(t3, n2) || t3 instanceof Date && n2 instanceof Date && t3.getTime() === n2.getTime() || "object" == typeof t3 && "object" == typeof n2 && Ot.equalObjects(t3, n2) || n2 === t3) && e3.push(r2);
      }
      return e3.length ? e3 : null;
    }
    return null;
  }, e2.prototype.restoreColumns = function() {
    this._restoreColumn();
  }, e2.prototype._addColumn = function(t3, e3) {
    void 0 === e3 && (e3 = -1);
    var i2 = this._columns;
    if (!t3 || t3 instanceof ss || ("string" == typeof t3 && (t3 = { fieldName: t3 }), t3 = zc.createColumn(t3)), t3 instanceof ss) {
      if (i2.indexOf(t3) >= 0) throw new Error("column is already contained");
      e3 < 0 ? i2.push(t3) : i2.splice(e3, 0, t3);
      var o2 = t3.name;
      if (!o2 || this._nameMap[o2]) if (o2 = t3 instanceof ls ? t3.fieldName : t3 instanceof hs ? "series" : "column", this._nameMap[o2]) {
        for (var r2 = 0; r2 < 1e3; r2++) if (!this._nameMap[o2 + r2]) {
          t3.name = o2 += r2;
          break;
        }
      } else t3.name = o2;
      return o2 && (this._nameMap[o2] = t3), t3;
    }
    return null;
  }, e2.prototype._removeColumn = function(t3) {
    var e3 = this._columns.indexOf(t3);
    return e3 >= 0 && (this._columns.splice(e3, 1), t3.$_owner = void 0, delete this._nameMap[t3.name], true);
  }, e2.prototype._restoreColumn = function() {
    this._columns = this._orgColumns.slice();
  }, e2.prototype._clearColumn = function() {
    for (var t3 = 0, e3 = this._columns; t3 < e3.length; t3++) {
      e3[t3].dispose();
    }
  }, e2;
}(Ft);
var js = function(t2) {
  function e2() {
    var e3 = t2.call(this, "headerCell") || this;
    return e3._itemOffset = 2, e3._itemGap = 2, e3._checkLocation = I.NONE, e3._useCheckImage = false, e3._checked = false, e3._indeterminate = false, e3._tooltipEllipsisOnly = false, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, set: function(t3) {
    this._text = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemOffset", { get: function() {
    return this._itemOffset;
  }, set: function(t3) {
    this._itemOffset = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    this._itemGap = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkLocation", { get: function() {
    return this._checkLocation;
  }, set: function(t3) {
    this._checkLocation = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useCheckImage", { get: function() {
    return this._useCheckImage;
  }, set: function(t3) {
    this._useCheckImage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return this._checked;
  }, set: function(t3) {
    this._checked = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indeterminate", { get: function() {
    return this._indeterminate;
  }, set: function(t3) {
    this._indeterminate = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    this._showTooltip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    this._tooltipEllipsisOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltip", { get: function() {
    return this._tooltip;
  }, set: function(t3) {
    this._tooltip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "edgeMark", { get: function() {
    return this._edgeMark;
  }, set: function(t3) {
    this._edgeMark = t3;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var Hs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._minRowHeight = 21, i2._minHeight = 23, i2._height = 0, i2._resizable = false, i2._itemOffset = 2, i2._itemGap = 2, i2._showSelection = false, i2._showTooltip = false, i2._tooltipEllipsisOnly = false, i2._sortWidth = 16, i2._sortHeight = 16, i2._filterWidth = 16, i2._filterHeight = 16, i2._popupWidth = 16, i2._popupHeight = 16, i2._expanderWidth = 16, i2._expanderHeight = 16, i2._checkWidth = 16, i2._checkHeight = 16, i2._showPopupMenu = M.VISIBLE, i2._cell = new js(), i2.visible = true, i2.assignFrom(Ke.header), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cell = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "minRowHeight", { get: function() {
    return this._minRowHeight;
  }, set: function(t3) {
    t3 != this._minRowHeight && (this._minRowHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minHeight", { get: function() {
    return this._minHeight;
  }, set: function(t3) {
    t3 != this._minHeight && (this._minHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "height", { get: function() {
    return this._height;
  }, set: function(t3) {
    t3 != this._height && (this._height = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayHeight", { get: function() {
    return this._grid.headerView.height;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "heights", { get: function() {
    return this._heights && this._heights.slice();
  }, set: function(t3) {
    if (t3 != this._heights) {
      t3 = Ot.makeArray(t3, true), this._heights = t3 && t3.slice();
      for (var e3 = 0; e3 < this._heights.length; e3++) this._heights[e3] = Math.max(this._minRowHeight, isNaN(this._heights[e3]) ? this._minRowHeight : this._heights[e3]);
      this._changed();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return this._resizable;
  }, set: function(t3) {
    t3 != this._resizable && (this._resizable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemOffset", { get: function() {
    return this._itemOffset;
  }, set: function(t3) {
    t3 != this._itemOffset && (this._itemOffset = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    t3 != this._itemGap && (this._itemGap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    t3 != this._showTooltip && (this._showTooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    this._tooltipEllipsisOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showSelection", { get: function() {
    return this._showSelection;
  }, set: function(t3) {
    t3 != this._showSelection && (this._showSelection = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortWidth", { get: function() {
    return this._sortWidth;
  }, set: function(t3) {
    t3 != this._sortWidth && (this._sortWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortHeight", { get: function() {
    return this._sortHeight;
  }, set: function(t3) {
    t3 != this._sortHeight && (this._sortHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterWidth", { get: function() {
    return this._filterWidth;
  }, set: function(t3) {
    t3 != this._filterWidth && (this._filterWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterHeight", { get: function() {
    return this._filterHeight;
  }, set: function(t3) {
    t3 != this._filterHeight && (this._filterHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupWidth", { get: function() {
    return this._popupWidth;
  }, set: function(t3) {
    t3 != this._popupWidth && (this._popupWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupHeight", { get: function() {
    return this._popupHeight;
  }, set: function(t3) {
    t3 != this._popupHeight && (this._popupHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanderWidth", { get: function() {
    return this._expanderWidth;
  }, set: function(t3) {
    t3 != this._expanderWidth && (this._popupWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanderHeight", { get: function() {
    return this._expanderHeight;
  }, set: function(t3) {
    t3 != this._expanderHeight && (this._popupHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showPopupMenu", { get: function() {
    return this._showPopupMenu;
  }, set: function(t3) {
    t3 != this._showPopupMenu && (this._showPopupMenu = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkWidth", { get: function() {
    return this._checkWidth;
  }, set: function(t3) {
    t3 != this._checkWidth && (this._checkWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkHeight", { get: function() {
    return this._checkHeight;
  }, set: function(t3) {
    t3 != this._checkHeight && (this._checkHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 != this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this._exportStyleName;
  }, set: function(t3) {
    this._exportStyleName = t3;
  }, enumerable: false, configurable: true }), e2.prototype.setCalcHeights = function(t3) {
    this._calcHeights = t3.slice();
  }, e2.prototype.getCalcHeights = function() {
    return this._calcHeights;
  }, e2.prototype.getCell = function(t3) {
    var e3 = this._cell;
    e3.setLayout(t3);
    var i2 = t3 instanceof vs ? t3.header : t3.firstColumn.header;
    if (i2 && (e3.text = i2.displayText, e3.showTooltip = i2.showTooltip, e3.tooltipEllipsisOnly = i2.tooltipEllipsisOnly, e3.tooltip = i2.tooltip, e3.edgeMark = i2.edgeMark, i2 instanceof is)) {
      var o2 = t3.firstColumn, r2 = void 0;
      e3.index.set(-1, t3.firstColumn), e3.itemOffset = void 0 === (r2 = i2.itemOffset) ? this._itemOffset : r2, e3.itemGap = void 0 === (r2 = i2.itemGap) ? this._itemGap : r2, e3.checkLocation = i2.checkLocation, e3.checked = o2.checked, e3.useCheckImage = i2.useCheckImage;
    }
    return e3;
  }, e2.prototype.getStyleName = function() {
    return this._styleName;
  }, e2.prototype._doChanged = function() {
    t2.prototype._doChanged.call(this), this._grid && this._grid.invalidatePosition();
  }, e2;
}(cr);
var Ws = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cell = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setCell = function(t3) {
    this._cell = t3;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_VALUE:
        return this._cell.value;
      case e2.ID_FIELD:
        return this._cell.index.dataField;
      case e2.ID_LEVEL:
        return this._cell.level;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, e3) {
  }, e2.prototype.evaluateIndexerS = function(t3, e3, i2) {
  }, e2.ID_VALUE = 0, e2.ID_FIELD = 1, e2.ID_LEVEL = 2, e2.IDENTS = { value: e2.ID_VALUE, field: e2.ID_FIELD, level: e2.ID_LEVEL }, e2;
}(Wt);
var Gs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._childIndex = 0, i2._error = null, i2._errorDetail = null, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "level", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "error", { get: function() {
    return this._error;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "errorDetail", { get: function() {
    return this._errorDetail;
  }, enumerable: false, configurable: true }), e2.prototype.calculate = function() {
    var t3 = this.valueColumn, e3 = t3 && t3.grid, i2 = this._getSummary(t3, this._childIndex);
    if (this._value = NaN, this._error = null, e3 && i2 && e3.itemSource.summaryMode != x.NONE) {
      i2._value = void 0;
      var o2 = i2.expression, r2 = void 0;
      try {
        if (o2 && e3.dataCount > 0 && t3 instanceof ls && t3.dataIndex >= 0) {
          var n2 = e3.columnSummaryRuntime;
          n2.setColumn(t3, e3.summarizer), r2 = i2.evaluate(n2, this._childIndex);
        }
        var s2 = i2.valueCallback;
        s2 && (r2 = s2(e3.handler, t3, this._childIndex, i2, r2)), i2._value = this._value = r2;
      } catch (t4) {
        this._error = t4, this._errorDetail = t4, i2._value = void 0;
      }
    }
  }, Object.defineProperty(e2.prototype, "text", { get: function() {
    if (this._error) return _r.ERROR;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), e2.prototype.getDisplayText = function(t3) {
    var e3, i2 = this._value, o2 = this.valueColumn, r2 = "";
    if (null != t3.text) r2 = t3.text;
    else if (void 0 !== i2 && o2) {
      if ("string" == typeof i2) r2 = i2 + "";
      else if ("boolean" == typeof i2) r2 = String(i2);
      else if (i2 instanceof Date) {
        var n2 = t3.datetimeWriter;
        r2 = n2 ? n2.getText(this._value) : String(i2);
      } else if ("number" != typeof i2 || isNaN(i2)) null == i2 && (r2 = "");
      else {
        var s2 = t3.numberFormatter;
        r2 = s2 ? s2.getText(i2) : String(i2);
      }
      if (r2) {
        var a2 = t3.prefix;
        a2 && (r2 = a2 + r2), (a2 = t3.suffix) && (r2 += a2);
      }
    }
    return !r2 && o2 && (r2 = null === (e3 = this._getSummary(o2, this._childIndex)) || void 0 === e3 ? void 0 : e3.text), r2;
  }, e2.prototype.getSummary = function() {
    return this._getSummary(this.valueColumn, this._childIndex);
  }, e2.prototype.getTemplate = function(t3) {
    var e3 = this._getSummary(this.valueColumn, this._childIndex);
    return e3 ? e3.realizeSummary(this, t3) : void 0;
  }, e2;
}(_r);
var Us = function(t2) {
  function e2() {
    return t2.call(this, "footerCell") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "footerIndex", { get: function() {
    return this._childIndex;
  }, set: function(t3) {
    t3 != this._childIndex && (this._childIndex = t3);
  }, enumerable: false, configurable: true }), e2.prototype._getSummary = function(t3, e3) {
    return t3 && t3.footers.get(e3);
  }, e2;
}(Gs);
var Ys = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._minHeight = 23, i2._height = 0, i2._heights = [], i2._formatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "", text: null }, i2._childIndex = 0, i2._displayIndex = 0, i2._runtime = new Ws(), i2._cell = i2._createCell(), i2.visible = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 != this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayIndex", { get: function() {
    return this._displayIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minHeight", { get: function() {
    return this._minHeight;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._minHeight && (this._minHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "height", { get: function() {
    return this._height;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._height && (this._height = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "heights", { get: function() {
    return this._heights;
  }, set: function(t3) {
    this._heights = t3.slice(), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellStyleCallback", { get: function() {
    return this._cellStyleCallback;
  }, set: function(t3) {
    t3 !== this._cellStyleCallback && (this._cellStyleCallback = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "childIndex", { get: function() {
    return this._childIndex;
  }, enumerable: false, configurable: true }), e2.prototype.getCell = function(t3) {
    var e3 = this._cell, i2 = t3.firstColumn;
    return e3.index.set(-1, i2), e3._childIndex = this._childIndex, e3.calculate(), e3;
  }, e2.prototype.getCellStyle = function(t3, e3, i2) {
    void 0 === i2 && (i2 = true);
    var o2, r2 = t3.getSummary(), n2 = this._cellStyleCallback;
    n2 && (o2 = n2(this._grid.handler, t3), e3.assign(o2)), r2 && (n2 = r2.styleCallback) && (o2 = n2(this._grid.handler, t3), e3.assign(o2));
    var s2 = e3.styleName || r2 && r2.styleName || "";
    return i2 && (e3.styleName = this.getCellStyleName() + " " + s2), e3;
  }, e2.prototype.getCellFormatters = function(t3, e3) {
    return e3 ? (e3.numberFormatter = e3.numberFormatter || t3.numberFormatter, e3.datetimeWriter = e3.datetimeWriter || t3.datetimeWriter, e3.booleanFormatter = e3.booleanFormatter || t3.boolFormatter, e3.textFormatter = e3.textFormatter || t3.textFormatter, e3.prefix = e3.prefix || t3.prefix, e3.suffix = e3.suffix || t3.suffix) : ((e3 = this._formatter).numberFormatter = t3.numberFormatter, e3.datetimeWriter = t3.datetimeWriter, e3.booleanFormatter = t3.boolFormatter, e3.textFormatter = t3.textFormatter, e3.prefix = t3.prefix, e3.suffix = t3.suffix), e3;
  }, e2.prototype._visibleChanged = function() {
    t2.prototype._visibleChanged.call(this), this.$_owner && this.$_owner.$_visibleChanged(this);
  }, e2.prototype._doChanged = function() {
    t2.prototype._doChanged.call(this), this.$_owner && this.$_owner._doChanged();
  }, e2;
}(cr);
var zs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.assignFrom(Ke.footer), i2;
  }
  return i(e2, t2), e2.prototype.getCellStyleName = function() {
    return e2.CELL_CSS;
  }, e2.prototype._createCell = function() {
    return new Us();
  }, e2.CELL_CSS = "rg-footer-cell", e2;
}(Ys);
var qs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    i2._items = [], i2._visibles = [];
    var o2 = i2._createSummary(e3);
    return o2.$_owner = i2, i2._items.push(o2), o2.visible && i2._visibles.push(o2), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      i2[e3].dispose();
    }
    this._items = null, this._visibles = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "canShow", { get: function() {
    return this.visible && this._visibles.length > 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleCount", { get: function() {
    return this._visibles.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dirty", { get: function() {
    for (var t3 = this._dirty, e3 = 0, i2 = this._visibles; e3 < i2.length; e3++) {
      var o2 = i2[e3];
      t3 = t3 || o2.dirty;
    }
    return t3;
  }, enumerable: false, configurable: true }), e2.prototype.get = function(t3) {
    return this._items[t3];
  }, e2.prototype.getVisible = function(t3) {
    return this._visibles[t3];
  }, e2.prototype.isVisible = function() {
    return this.visible && this.visibleCount > 0;
  }, e2.prototype.assignFrom = function(e3) {
    var i2;
    if (t2.prototype.assignFrom.call(this, e3), e3 && e3.items ? i2 = Ot.makeArray(e3.items) : Ot.isArray(e3) && (i2 = e3), i2) {
      for (var o2 = this._items, r2 = i2.length; o2.length > r2; ) o2.pop().dispose();
      for (var n2 = 0, s2 = i2.length; n2 < s2; n2++) {
        var a2 = i2[n2] || {};
        o2[n2] = o2[n2] || this._createSummary(), o2[n2].assignFrom(a2), o2[n2].$_owner = this;
      }
      this.$_resetVisibles();
    }
  }, e2.prototype.clean = function() {
    for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      i2[e3].clean();
    }
    t2.prototype.clean.call(this);
  }, e2.prototype.toProxy = function() {
    for (var e3 = t2.prototype.toProxy.call(this), i2 = [], o2 = 0; o2 < this._items.length; o2++) i2.push(this._items[o2].toProxy());
    return i2.length > 0 && (e3.items = i2.slice()), e3;
  }, e2.prototype.$_visibleChanged = function(t3) {
    this.$_resetVisibles();
  }, e2.prototype.$_resetVisibles = function() {
    this._visibles.length = 0;
    for (var t3 = 0, e3 = 0; t3 < this._items.length; t3++) {
      var i2 = this._items[t3];
      i2._childIndex = t3, i2.visible && (this._visibles.push(i2), i2._displayIndex = e3++);
    }
    this._changed();
  }, e2.prototype._doChanged = function() {
    t2.prototype._doChanged.call(this), this._grid && this._grid.invalidatePosition();
  }, e2;
}(cr);
var Ks = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.assignFrom(Ke.footers), i2;
  }
  return i(e2, t2), e2.prototype._createSummary = function(t3) {
    return new zs(t3 || this._grid);
  }, e2;
}(qs);
var Xs = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._displayOrder = 0, i2._headText = null, i2._footText = null, i2._sumText = null, i2._showFocus = false, i2._showSelection = false, i2._headCell = i2._createHeadCell(), i2._footCell = i2._createFootCell(), i2._sumCell = i2._createSumCell(), i2._filterCell = i2._createFilterCell(), i2.visible = true, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "displayOrder", { get: function() {
    return this._displayOrder;
  }, set: function(t3) {
    t3 != this._displayOrder && (this._displayOrder = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headText", { get: function() {
    return this._headText;
  }, set: function(t3) {
    t3 != this._headText && (this._headText = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footText", { get: function() {
    return this._footText;
  }, set: function(t3) {
    t3 != this._footText && (this._footText = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sumText", { get: function() {
    return this._sumText;
  }, set: function(t3) {
    t3 != this._sumText && (this._sumText = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenu", { get: function() {
    return this._popupMenu;
  }, set: function(t3) {
    t3 != this._popupMenu && (this._popupMenu = t3, this._popupMenuName = "string" == typeof t3 ? t3 : null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupMenuName", { get: function() {
    return this._popupMenuName ? this._popupMenuName : this._popupMenu && this._grid ? (this._popupMenuName = this.getHeadStyleName() + "_menu", this._grid.addPopupMenu(this._popupMenuName, this._popupMenu, true), this._popupMenuName) : null;
  }, set: function(t3) {
    null != t3 && "string" != typeof t3 || (this._popupMenuName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visChanged", { get: function() {
    return this._visChanged;
  }, set: function(t3) {
    this._visChanged = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showFocus", { get: function() {
    return this._showFocus;
  }, set: function(t3) {
    t3 != this._showFocus && (this._showFocus = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showSelection", { get: function() {
    return this._showSelection;
  }, set: function(t3) {
    t3 != this._showSelection && (this._showSelection = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellStyleCallback", { get: function() {
    return this._cellStyleCallback;
  }, set: function(t3) {
    t3 !== this._cellStyleCallback && (this._cellStyleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.getHeadCell = function() {
    return this._headCell;
  }, e2.prototype.getFootCell = function() {
    return this._footCell;
  }, e2.prototype.getSumCell = function() {
    return this._sumCell;
  }, e2.prototype.getFilterCell = function() {
    return this._filterCell;
  }, e2.prototype._createHeadCell = function() {
    return new gr(this);
  }, e2.prototype._createFootCell = function() {
    return new gr(this);
  }, e2.prototype._createSumCell = function() {
    return new gr(this);
  }, e2.prototype._createFilterCell = function() {
    return new gr(this);
  }, e2.prototype._visibleChanged = function() {
    t2.prototype._visibleChanged.call(this), this._grid && this._grid.invalidatePosition(), this._visChanged = true;
  }, e2;
}(cr);
!function(t2) {
  t2.NONE = "none", t2.INDEX = "index", t2.REVERSE = "reverse", t2.ROW = "row";
}(ks || (ks = {})), function(t2) {
  t2.IMAGE = "image", t2.TEXT = "text", t2.NONE = "none";
}(Ds || (Ds = {}));
var Zs;
var Js;
var Qs;
var ta = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, "indicatorCell") || this;
    return i2._itemState = vo.NORMAL, i2._indicator = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "indicator", { get: function() {
    return this._indicator;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemState", { get: function() {
    return this._itemState;
  }, set: function(t3) {
    t3 != this._itemState && (this._itemState = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    var t3, e3 = this._indicator, i2 = e3.owner, o2 = this.index, r2 = o2.item, n2 = "", s2 = i2.indicatorReverse(e3.displayValue);
    if (r2 && r2.itemState == vo.NORMAL) switch (e3.displayValue) {
      case ks.INDEX:
      case ks.REVERSE:
        (t3 = i2.getIndicatorIndex(r2, s2)) >= 0 && (t3 += e3.indexOffset, !e3.zeroBase && t3++, n2 = String(t3));
        break;
      case ks.ROW:
        r2.isDataRow && (t3 = o2.dataRow, t3 += e3.rowOffset, e3.zeroBase || t3++, n2 = String(t3));
    }
    return n2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var ea = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._zeroBase = false, i2._indexOffset = 0, i2._rowOffset = 0, i2._minWidth = 32, i2._maxWidth = 0, i2._width = 0, i2._selectable = true, i2._displayWidth = 0, i2._cell = new ta(i2), i2.headText = Ge.messages.rowIndicatorHeadText, i2.footText = Ge.messages.rowIndicatorFootText, i2.sumText = Ge.messages.rowIndicatorSumText, i2.showFocus = i2.showSelection = true, i2.assignFrom(Ke.rowIndicator), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "displayValue", { get: function() {
    return this._displayValue || ks.INDEX;
  }, set: function(t3) {
    t3 != this._displayValue && (this._displayValue = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "zeroBase", { get: function() {
    return this._zeroBase;
  }, set: function(t3) {
    t3 != this._zeroBase && (this._zeroBase = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indexOffset", { get: function() {
    return this._indexOffset;
  }, set: function(t3) {
    t3 != this._indexOffset && (this._indexOffset = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowOffset", { get: function() {
    return this._rowOffset;
  }, set: function(t3) {
    t3 != this._rowOffset && (this._rowOffset = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minWidth", { get: function() {
    return this._minWidth;
  }, set: function(t3) {
    t3 != this._minWidth && (this._minWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxWidth", { get: function() {
    return this._maxWidth;
  }, set: function(t3) {
    t3 != this._maxWidth && (this._maxWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    t3 != this._width && (this._width = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayWidth", { get: function() {
    return this._displayWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectable", { get: function() {
    return this._selectable;
  }, set: function(t3) {
    t3 != this._selectable && (this._selectable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "draggableSelectedRows", { get: function() {
    return this._draggableSelectedRows;
  }, set: function(t3) {
    this._draggableSelectedRows = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getCellType = function() {
    return O.INDICATOR;
  }, Object.defineProperty(e2.prototype, "staticOrder", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), e2.prototype.getCell = function(t3) {
    var e3 = this._cell;
    if (e3.setIndex(t3), t3.item) {
      var i2 = t3.item.itemState;
      i2 == vo.NORMAL && this._grid.focusedIndex.itemIndex == t3.itemIndex && (i2 = vo.FOCUSED), e3.itemState = i2;
    }
    return e3;
  }, e2.prototype.getHeadStyleName = function() {
    return "rg-rowindicator-head";
  }, e2.prototype.getFootStyleName = function() {
    return "rg-rowindicator-foot";
  }, e2.prototype.getSumStyleName = function() {
    return "rg-rowindicator-sum";
  }, e2.prototype.getFilterStyleName = function() {
    return "rg-rowindicator-filter";
  }, e2;
}(Xs);
var ia = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, "stateBarCell") || this;
    return i2._bar = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._bar = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "text", { get: function() {
    var t3, e3 = this._bar.stateTexts[this.item.rowState] || (null === (t3 = Ke.stateBar.stateTexts) || void 0 === t3 ? void 0 : t3[this.item.rowState]);
    if (!e3) switch (this.item.rowState) {
      case St.CREATED:
        return Ge.messages.stateTextCreated;
      case St.UPDATED:
        return Ge.messages.stateTextUpdated;
      case St.CREATE_AND_DELETED:
        return Ge.messages.stateTextCreateAndDeleted;
      case St.DELETED:
        return Ge.messages.stateTextDeleted;
    }
    return e3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var oa = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._width = 20, i2._mark = Ds.IMAGE, i2._stateTexts = {}, i2._errorVisible = false, i2._cell = new ia(i2), i2.assignFrom(Ke.stateBar), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    t3 != this._width && (this._width = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mark", { get: function() {
    return this._mark;
  }, set: function(t3) {
    t3 != this._mark && (this._mark = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stateTexts", { get: function() {
    return this._stateTexts;
  }, set: function(t3) {
    if (t3 != this._stateTexts) {
      var e3 = [];
      for (var i2 in St) e3.push(St[i2]);
      for (var o2 in t3) e3.indexOf(o2) >= 0 && (this._stateTexts[o2] = t3[o2]);
      this._changed();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "errorVisible", { get: function() {
    return this._errorVisible;
  }, set: function(t3) {
    t3 != this._errorVisible && (this._errorVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.getCellType = function() {
    return O.STATE;
  }, Object.defineProperty(e2.prototype, "staticOrder", { get: function() {
    return 1e3;
  }, enumerable: false, configurable: true }), e2.prototype.getCell = function(t3) {
    var e3 = this._cell;
    return e3.setIndex(t3), e3;
  }, e2.prototype.getHeadStyleName = function() {
    return "rg-statebar-head";
  }, e2.prototype.getFootStyleName = function() {
    return "rg-statebar-foot";
  }, e2.prototype.getSumStyleName = function() {
    return "rg-statebar-sum";
  }, e2.prototype.getFilterStyleName = function() {
    return "rg-statebar-filter";
  }, e2;
}(Xs);
var ra = function(t2) {
  function e2() {
    return t2.call(this, "checkBarCell") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "getText", { get: function() {
    return String(this.index.dataRow);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this.item.checked;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var na = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._width = 20, i2._exclusive = false, i2._toggleRadio = false, i2._showAll = true, i2._showGroup = true, i2._showGroupFooter = true, i2._visibleOnly = false, i2._checkableOnly = true, i2._syncHeadCheck = false, i2._headThreeStates = false, i2._useImages = false, i2._checkLocation = I.TOP, i2._itemGap = 5, i2._fieldIndex = -1, i2._breakMergeOnEmpty = false, i2._cell = new ra(), i2._merged = false, i2.assignFrom(Ke.checkBar), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    t3 != this._width && (this._width = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exclusive", { get: function() {
    return this._exclusive;
  }, set: function(t3) {
    t3 != this._exclusive && (this._exclusive = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "toggleRadio", { get: function() {
    return this._toggleRadio;
  }, set: function(t3) {
    this._toggleRadio = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkLocation", { get: function() {
    return this._checkLocation;
  }, set: function(t3) {
    t3 != this._checkLocation && (this._checkLocation = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemGap", { get: function() {
    return this._itemGap;
  }, set: function(t3) {
    t3 != this._itemGap && (this._itemGap = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showAll", { get: function() {
    return this._showAll;
  }, set: function(t3) {
    t3 != this._showAll && (this._showAll = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showGroup", { get: function() {
    return this._showGroup;
  }, set: function(t3) {
    t3 != this._showGroup && (this._showGroup = t3, this._grid.itemSource.setGroupCheckable(t3, t3 && this._showGroupFooter), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showGroupFooter", { get: function() {
    return this._showGroupFooter;
  }, set: function(t3) {
    t3 != this._showGroupFooter && (this._showGroupFooter = t3, this._grid.itemSource.setGroupCheckable(this._showGroup, this._showGroup && t3), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleOnly", { get: function() {
    return this._visibleOnly;
  }, set: function(t3) {
    t3 != this._visibleOnly && (this._visibleOnly = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableOnly", { get: function() {
    return this._checkableOnly;
  }, set: function(t3) {
    t3 != this._checkableOnly && (this._checkableOnly = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableExpression", { get: function() {
    return this._checkableExpression;
  }, set: function(t3) {
    t3 != this._checkableExpression && (this._checkableExpression = t3, this._grid.itemSource.checkableExpression = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableCallback", { get: function() {
    return this._checkableCallback;
  }, set: function(t3) {
    this._checkableCallback = t3, this._grid.itemSource.checkableCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "syncHeadCheck", { get: function() {
    return this._syncHeadCheck;
  }, set: function(t3) {
    t3 != this._syncHeadCheck && (this._syncHeadCheck = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headThreeStates", { get: function() {
    return this._headThreeStates;
  }, set: function(t3) {
    t3 !== this._headThreeStates && (this._headThreeStates = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldName", { get: function() {
    return this._fieldName;
  }, set: function(t3) {
    t3 != this._fieldName && (this._fieldName = t3, this._fieldIndex = this._grid.dataSource.getFieldIndex(t3), this._grid.setCheckFieldIndex(this._fieldIndex), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldIndex", { get: function() {
    return this._fieldIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useImages", { get: function() {
    return this._useImages;
  }, set: function(t3) {
    this._useImages !== t3 && (this._useImages = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeRule", { get: function() {
    return this._mergeRule;
  }, set: function(t3) {
    t3 != this._mergeRule && (this._mergeRule = t3, this._mergeRuleObj && this._mergeRuleObj.dispose(), this._mergeRuleObj = t3 ? ha.createRule(t3) : null, this._changed(), this.owner._columnMergeRuleChanged(null));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "breakMergeOnEmpty", { get: function() {
    return this._breakMergeOnEmpty;
  }, set: function(t3) {
    t3 != this._breakMergeOnEmpty && (this._breakMergeOnEmpty = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focusMove", { get: function() {
    return !!this._focusMove;
  }, set: function(t3) {
    this._focusMove = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getCell = function(t3) {
    var e3 = this._cell;
    return e3.setIndex(t3), e3._exclusive = this._exclusive, e3;
  }, e2.prototype.getHeadStyleName = function() {
    return "rg-checkbar-head";
  }, e2.prototype.getFootStyleName = function() {
    return "rg-checkbar-foot";
  }, e2.prototype.getSumStyleName = function() {
    return "rg-checkbar-sum";
  }, e2.prototype.getFilterStyleName = function() {
    return "rg-checkbar-filter";
  }, e2.prototype.canMerge = function() {
    return null != this._mergeRuleObj;
  }, e2.prototype.getCellType = function() {
    return O.CHECK;
  }, Object.defineProperty(e2.prototype, "staticOrder", { get: function() {
    return 2e3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "merges", { get: function() {
    return this._merges;
  }, enumerable: false, configurable: true }), e2.prototype._doChanged = function() {
    this._grid && (this._grid._itemCheckChanged = this._syncHeadCheck);
  }, Object.defineProperty(e2.prototype, "merged", { get: function() {
    return this._merged;
  }, enumerable: false, configurable: true }), e2;
}(Xs);
var sa = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._row1 = 0, e3._row2 = 0, e3;
  }
  return i(e2, t2), e2.$_setRange = function(t3, e3, i2) {
    return t3._row1 = e3 <= i2 ? e3 : i2, t3._row2 = e3 <= i2 ? i2 : e3, t3;
  }, e2.create = function(t3, i2) {
    if (i2 && t3 !== i2) return e2.$_setRange(new e2(), t3.itemIndex, i2.itemIndex);
    var o2 = new e2();
    return o2._row1 = o2._row2 = t3.itemIndex, o2;
  }, e2.temp = function(t3, i2) {
    var o2 = e2.$_TEMP;
    return i2 && t3 !== i2 ? e2.$_setRange(o2, t3.itemIndex, i2.itemIndex) : (o2._row1 = o2._row2 = t3.itemIndex, o2);
  }, e2.createRange = function(t3, i2) {
    return e2.$_setRange(new e2(), t3, i2);
  }, Object.defineProperty(e2.prototype, "empty", { get: function() {
    return this._row2 < this._row1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "r1", { get: function() {
    return this._row1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "r2", { get: function() {
    return this._row2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "top", { get: function() {
    return this._row1 <= this._row2 ? this._row1 : this._row2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottom", { get: function() {
    return this._row1 <= this._row2 ? this._row2 : this._row1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstCell", { get: function() {
    var t3 = new Ts();
    return t3.itemIndex = this._row1 <= this._row2 ? this._row1 : this._row2, t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastCell", { get: function() {
    var t3 = new Ts();
    return t3.itemIndex = this._row1 >= this._row2 ? this._row1 : this._row2, t3;
  }, enumerable: false, configurable: true }), e2.prototype.contains = function(t3) {
    return t3 >= this._row1 && t3 <= this._row2;
  }, e2.prototype.intersectsWith = function(t3) {
    return false;
  }, e2.NULL = new e2(), e2.$_TEMP = new e2(), e2;
}(Ft);
var aa = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._item = null, e3._ds = null, e3._fieldCount = 0, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, this._ds = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setDataSource = function(t3) {
    this._ds = t3, this._fieldCount = t3 ? t3.fieldCount : 0;
  }, e2.prototype.setCell = function(t3) {
    this._item = t3.item;
  }, e2.prototype.setItem = function(t3) {
    this._item = t3;
  }, e2.prototype.clear = function() {
    this._item = null, this._ds = null;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    if (this._item) {
      switch (t3) {
        case e2.ID_ROW:
          return this._item.index;
        case e2.ID_DATAROW:
          return this._item.dataRow;
        case e2.ID_GROUP:
          return this._item.parent;
      }
      throw new Nt("Invalid identifier key: " + t3);
    }
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (this._item) {
      if (t3 == e2.ID_VALUE || t3 == e2.ID_VALUES) {
        if (i2 < 0 || i2 >= this._fieldCount) throw new Nt("Data field index out of bounds:" + i2);
        return this._item.getData(i2);
      }
      throw new Nt("Invalid identifier indexer: " + t3);
    }
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_VALUE && t3 != e2.ID_VALUES) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._ds) {
      var r2 = o2 ? this._ds.getFieldIndexC(i2) : this._ds.getFieldIndex(i2);
      if (r2 < 0 || r2 >= this._fieldCount) throw new Nt("Data field is not exists:" + i2);
      return this._item.getData(r2);
    }
  }, e2.ID_ROW = 0, e2.ID_DATAROW = 1, e2.ID_CHECKED = 2, e2.ID_VALUE = 3, e2.ID_VALUES = 4, e2.ID_GROUP = 5, e2.ID_PREV_VALUES = 6, e2.IDENTS = { row: e2.ID_ROW, datarow: e2.ID_DATAROW, checked: e2.ID_CHECKED, value: e2.ID_VALUE, values: e2.ID_VALUES, group: e2.ID_GROUP, prevvalues: e2.ID_PREV_VALUES }, e2;
}(Wt);
var la = {};
var ha = function(t2) {
  function e2(i2) {
    var o2 = t2.call(this) || this;
    return o2._runtime = e2.$_runtime = e2.$_runtime || new aa(), o2.criteria = i2, o2;
  }
  return i(e2, t2), e2.createRule = function(t3) {
    var i2 = "string" == typeof t3 ? t3 : t3 && t3.criteria;
    return i2 ? new e2(i2) : null;
  }, e2.prototype._doDispose = function() {
    this._runtime.clear(), this._runtime = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "criteria", { get: function() {
    return this._criteria;
  }, set: function(t3) {
    (t3 = t3 ? t3.trim() : null) != this._criteria && (this._criteria = t3, this._exprNode = t3 ? xe.Default.parse(t3, null) : null, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.parseInit = function(t3, e3, i2, o2, r2) {
    var n2 = this._checkBar.breakMergeOnEmpty, s2 = t3.fixedCount, a2 = t3.itemCount, l2 = t3.dataSource.rowCount;
    if (!((o2 = Math.min(a2 - i2, o2)) < 1 || l2 <= 0)) {
      this._runtime.setDataSource(t3.dataSource);
      for (var h2 = null; i2 < a2 && (h2 = t3.getItem(i2), !this.$_isRow(h2, false)); ) r2[i2] = i2 + 1, i2++;
      if (!(i2 >= a2)) {
        this._runtime.setItem(h2);
        var u2 = this._exprNode.evaluate(this._runtime), c2 = h2.checked, d2 = i2;
        if (r2[d2] = d2 + 1, !(h2.dataRow >= l2)) {
          this._runtime.setItem(h2);
          for (var p2 = i2 + 1; p2 < a2; p2++) if (h2 = t3.getItem(p2), this.$_isRow(h2, false)) {
            if (h2.dataRow >= l2) break;
            this._runtime.setItem(h2);
            var f2 = this._exprNode.evaluate(this._runtime), _2 = h2.checked;
            if (p2 == s2 || void 0 === f2 && n2 || (f2 instanceof Date && u2 instanceof Date ? +f2 != +u2 : f2 != u2) || _2 != c2) {
              if (p2 >= o2) break;
              d2 = p2, u2 = f2, c2 = _2;
            }
            r2[p2] = d2 + 1;
          } else {
            if (p2 >= o2) break;
            u2 = la, d2 = p2, r2[p2] = d2 + 1;
          }
        }
      }
    }
  }, e2.prototype.parseBounds = function(t3, e3, i2, o2, r2) {
    var n2 = this._checkBar.breakMergeOnEmpty, s2 = false, a2 = t3.itemCount;
    if (!(a2 < 1)) {
      var l2, h2, u2, c2 = t3.fixedCount, d2 = la, p2 = Math.max(0, i2), f2 = p2, _2 = -1;
      if (this._runtime.setDataSource(t3.dataSource), p2 > 0 && r2[p2] <= 0) {
        var g2 = t3.getItem(p2);
        if (this.$_isRow(g2, s2)) {
          for (this._runtime.setItem(g2), h2 = this._exprNode.evaluate(this._runtime), u2 = g2.checked, p2--; p2 >= 0 && (g2 = t3.getItem(p2), this.$_isRow(g2, s2)) && (this._runtime.setItem(g2), d2 = this._exprNode.evaluate(this._runtime), l2 = g2.checked, !(p2 == c2 || void 0 === d2 && n2 || (d2 instanceof Date && h2 instanceof Date ? +d2 != +h2 : d2 != h2) || u2 != l2)); ) p2--;
          for (var y2 = f2 - 1; y2 > p2; y2--) r2[y2] = p2 + 2;
          f2 - 1 > p2 && (_2 = p2 + 1);
        } else {
          r2[p2] = p2 + 1;
          for (y2 = f2 - 1; y2 > p2; y2--) r2[y2] = p2 + 2;
          for (f2 - 1 > p2 + 1 && (_2 = p2 + 2), p2--; p2 >= 0 && r2[p2] <= 0 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2--;
        }
      }
      for (p2 = Math.max(0, i2); p2 <= o2 && r2[p2] > 0; ) p2++;
      for (; p2 <= o2 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2++;
      if (p2 < o2) {
        f2 = p2;
        g2 = t3.getItem(p2);
        for (this._runtime.setItem(g2), h2 = this._exprNode.evaluate(this._runtime), u2 = g2.checked, p2++; p2 < a2; ) if (g2 = t3.getItem(p2), this.$_isRow(g2, s2)) {
          if (this._runtime.setItem(g2), d2 = this._exprNode.evaluate(this._runtime), l2 = g2.checked, p2 == c2 || void 0 === d2 && n2 || (d2 instanceof Date && h2 instanceof Date ? +d2 != +h2 : d2 != h2) || u2 != l2) {
            var m2 = f2;
            _2 >= 0 && (m2 = _2, _2 = -1);
            for (y2 = f2; y2 < p2; y2++) r2[y2] = m2 + 1;
            if (p2 >= o2) break;
            h2 = d2, u2 = l2, f2 = p2;
          } else r2[p2] = f2 + 1;
          p2++;
        } else {
          m2 = f2;
          _2 >= 0 && (m2 = _2, _2 = -1);
          for (y2 = f2; y2 < p2; y2++) r2[y2] = m2 + 1;
          for (r2[p2] = p2 + 1, p2++; p2 < a2 && !this.$_isRow(t3.getItem(p2), s2); ) r2[p2] = p2 + 1, p2++;
          if (f2 = p2, p2 >= o2) break;
        }
        if (p2 == a2 && (d2 instanceof Date && h2 instanceof Date ? +d2 == +h2 : d2 == h2) || u2 != l2) for (m2 = _2 >= 0 ? _2 : f2, y2 = f2; y2 < p2; y2++) r2[y2] = m2 + 1;
      }
    }
  }, e2.prototype.$_isRow = function(t3, e3) {
    var i2 = t3 instanceof Ho && !(t3 instanceof Ko);
    if (i2 && !e3) {
      var o2 = t3.parent;
      i2 = o2.expanded || o2.firstItem !== t3;
    }
    return i2;
  }, e2.$_runtime = null, e2;
}(Vn);
var ua = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._checkBar = i2, o2._head = e3.top, o2._tail = e3.bottom, o2;
  }
  return i(e2, t2), e2.borrow = function(t3, i2) {
    var o2 = e2.$_rooms.pop();
    return o2 ? (o2._head = t3.top, o2._tail = t3.bottom) : o2 = new e2(t3, i2), o2;
  }, e2.returnTo = function(t3) {
    if (t3) {
      var i2 = e2.$_rooms;
      i2.indexOf(t3) < 0 && i2.push(t3);
    }
  }, Object.defineProperty(e2.prototype, "head", { get: function() {
    return this._head;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tail", { get: function() {
    return this._tail;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scope", { get: function() {
    return this._checkBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "group", { get: function() {
    return null;
  }, set: function(t3) {
  }, enumerable: false, configurable: true }), e2.prototype.getHead = function(t3) {
    return t3 ? t3.set(this._head, null) : t3 = new Ts(this._checkBar.owner, this._head, null), t3;
  }, e2.prototype.getTail = function(t3) {
    return t3 ? t3.set(this._tail, null) : t3 = new Ts(this._checkBar.owner, this._tail, null), t3;
  }, e2.prototype.isHead = function(t3) {
    return t3.itemIndex == this._head;
  }, e2.prototype.isTail = function(t3) {
    return t3.itemIndex == this._tail;
  }, e2.prototype.contains = function(t3) {
    return t3.itemIndex >= this._head && t3.itemIndex <= this._tail;
  }, e2.$_rooms = new Array(), e2;
}(Un);
var ca = -1;
var da = 65535;
var pa = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._flags = null, i2._fixedRooms = [], i2._rooms = [], i2._inited = false, i2._fixedCells = [], i2._cells = [], i2._nextId = 0, i2._checkBar = e3, e3._merges = i2, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._checkBar = null, this._rooms = this._fixedRooms = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._rooms.length;
  }, enumerable: false, configurable: true }), e2.prototype.clear = function() {
    this._flags = null, this._rooms = [], this._inited = false;
  }, e2.prototype.initialize = function(t3) {
    if (!this._inited) {
      var e3 = this._checkBar.owner, i2 = e3.itemSource, o2 = this._checkBar._mergeRuleObj;
      if (o2) {
        for (var r2 = this._flags = new Array(i2.itemCount), n2 = e3.fixedOptions.mergeRows ? 0 : i2.fixedCount, s2 = i2.itemCount; s2--; ) r2[s2] = 0;
        o2._checkBar = this._checkBar, o2.parseInit(i2, -1, n2, t3, r2);
      }
      this._inited = true;
    }
  }, e2.prototype.refreshRooms = function(t3, e3, i2) {
    if (this._nextId = 0, this._inited && this._flags && !(e3 < t3)) {
      var o2 = this._checkBar.owner;
      if (o2) {
        var r2 = this._rooms, n2 = o2.layoutManager.fixedItemCount, s2 = o2.itemSource, a2 = this._checkBar._mergeRuleObj, l2 = 0;
        if (this._fixedRooms.length = 0, this._rooms.length = 0, a2 && (a2._checkBar = this._checkBar, a2.parseBounds(s2, -1, t3, e3, this._flags)), i2) for (; l2 < n2; ) {
          if (u2 = this.$_checkFixedMerge(s2, l2, n2)) {
            var h2 = new ua(u2, this._checkBar);
            this._fixedRooms.push(h2), l2 = u2.r2 + 1;
          } else l2 += 1;
        }
        for (l2 = t3; l2 <= e3; ) {
          var u2;
          if (null != (u2 = this.$_checkMerge(s2, l2, 0 == r2.length, n2))) {
            var c2 = s2.getItem(u2.r2);
            if (c2 instanceof Hr || c2 instanceof jr) ;
            else {
              h2 = new ua(u2, this._checkBar);
              this._rooms.push(h2);
            }
            l2 = u2.r2 + 1;
          } else l2 += 1;
        }
      }
    }
  }, e2.prototype.getFixedRooms = function() {
    return this._fixedRooms.slice();
  }, e2.prototype.getRooms = function() {
    return this._rooms.slice();
  }, e2.prototype.scroll = function(t3) {
  }, e2.prototype.getRoom = function(t3) {
    for (var e3 = t3.rowFixed ? this._fixedRooms : this._rooms, i2 = e3.length - 1; i2 >= 0; i2--) if (e3[i2].contains(t3)) return e3[i2];
    return null;
  }, e2.prototype.prepareCells = function(t3, e3) {
    if (t3 > 0) {
      for (var i2 = this._fixedCells, o2 = 0; o2 < i2.length; o2++) i2[o2] = ca;
      for (; i2.length < t3; ) i2.push(ca);
    }
    var r2 = this._cells;
    for (o2 = 0; o2 < r2.length; o2++) r2[o2] = ca;
    for (; r2.length < e3; ) r2.push(ca);
  }, e2.prototype.refreshCells = function(t3, e3) {
    for (var i2 = this.getFixedRooms(), o2 = i2.length - 1; o2 >= 0; o2--) {
      var r2 = i2[o2];
      this.addFixedCells(r2.head, r2.tail - r2.head + 1);
    }
    for (o2 = (i2 = this.getRooms()).length - 1; o2 >= 0; o2--) {
      r2 = i2[o2];
      var n2 = Math.max(0, r2.head - e3 - t3), s2 = r2.tail - e3 - t3;
      this.addCells(n2, s2 - n2 + 1);
    }
  }, e2.prototype.addFixedCells = function(t3, e3) {
    for (var i2 = this._fixedCells, o2 = this._nextId++, r2 = t3 + 1; r2 < t3 + e3; r2++) i2[r2] = o2 + da;
    return i2[t3] = o2, o2;
  }, e2.prototype.addCells = function(t3, e3) {
    for (var i2 = this._cells, o2 = this._nextId++, r2 = t3 + 1; r2 < t3 + e3; r2++) i2[r2] = o2 + da;
    return i2[t3] = o2, o2;
  }, e2.prototype.isMerged = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] > ca : this._cells[t3 - e3] > ca;
  }, e2.prototype.isMergeRoot = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] > ca && this._fixedCells[t3] < da : (t3 -= e3, this._cells[t3] > ca && this._cells[t3] < da);
  }, e2.prototype.isHidden = function(t3, e3) {
    return t3 < e3 ? this._fixedCells[t3] >= da : this._cells[t3 - e3] >= da;
  }, e2.prototype.getMerged = function(t3, e3) {
    var i2 = 1;
    if (t3 < e3) for (var o2 = (n2 = this._fixedCells)[t3], r2 = t3 + 1; r2 < n2.length && n2[r2] - da == o2; r2++, i2++) ;
    else {
      t3 -= e3;
      var n2;
      for (o2 = (n2 = this._cells)[t3], r2 = t3 + 1; r2 < n2.length && n2[r2] - da == o2; r2++, i2++) ;
    }
    return i2;
  }, e2.prototype.getMerged2 = function(t3, e3, i2, o2) {
    for (var r2 = this._cells, n2 = r2[i2], s2 = t3.itemSource, a2 = s2.getItem(e3++), l2 = a2.isData ? o2 : 1, h2 = i2 + 1; h2 < r2.length && r2[h2] - da == n2; h2++) l2 += (a2 = s2.getItem(e3++)).isData ? o2 : 1;
    return l2;
  }, e2.prototype.$_checkFixedMerge = function(t3, e3, i2) {
    if (i2 > 0) {
      var o2 = e3, r2 = this._flags[o2];
      if (r2 <= 0) return null;
      for (var n2 = e3 + 1; n2 <= i2; ) {
        if (n2 == i2 || this._flags[n2] > r2) return n2 > o2 + 1 ? sa.createRange(o2, n2 - 1) : null;
        n2++;
      }
    }
    return null;
  }, e2.prototype.$_checkMerge = function(t3, e3, i2, o2) {
    if (e3 >= 0) {
      var r2 = e3, n2 = this._flags[r2];
      t3.getItem(r2);
      if (n2 <= 0) return null;
      if (i2) for (; r2 > o2 && !(this._flags[r2 - 1] < n2); ) r2--;
      for (var s2 = t3.itemCount, a2 = e3 + 1; a2 < s2; ) {
        if (this._flags[a2] > n2 || this._flags[a2] <= 0) return a2 > r2 + 1 ? sa.createRange(r2, a2 - 1) : t3.getItem(r2).isDataRow ? null : sa.createRange(r2, a2 - 1);
        a2++;
      }
      if (a2 > r2) return a2 > r2 + 1 ? sa.createRange(r2, a2 - 1) : t3.getItem(r2).isDataRow ? null : sa.createRange(r2, a2 - 1);
    }
    return null;
  }, e2.MERGE_ROOMS = "mergeRooms", e2;
}(Ft);
var fa = function() {
  function t2(t3, e2) {
    void 0 === t3 && (t3 = 0), void 0 === e2 && (e2 = 0), this.x = t3, this.y = e2;
  }
  return t2.empty = function() {
    return new t2();
  }, t2.create = function(e2, i2) {
    return void 0 === e2 && (e2 = 0), void 0 === i2 && (i2 = 0), new t2(e2, i2);
  }, Object.defineProperty(t2.prototype, "isEmpty", { get: function() {
    return 0 === this.x || 0 === this.y;
  }, enumerable: false, configurable: true }), t2.prototype.clone = function() {
    return new t2(this.x, this.y);
  }, t2.prototype.equals = function(t3) {
    return t3 === this || t3 && this.x === t3.x && this.y === t3.y;
  }, t2.prototype.setEmpty = function() {
    return this.x = this.y = 0, this;
  }, t2.prototype.set = function(t3, e2) {
    return this.x = t3, this.y = e2, this;
  }, t2.prototype.round = function() {
    var t3 = this.clone();
    return t3.x >>>= 0, t3.y >>>= 0, t3;
  }, t2.prototype.toString = function() {
    return "{x: " + this.x + ", y: " + this.y + "}";
  }, t2;
}();
var _a = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this) || this;
    o2._x = 0, o2._y = 0, o2._width = 0, o2._height = 0, o2._visible = true, o2._mouseEnabled = true, o2._elements = null, o2._dirty = true, o2._className = "", o2._name = i2;
    var r2 = o2._dom = o2._createDom(e3);
    return r2 && o2._initDom(r2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    if (this._dom && (this._removeEventListeners(this._dom), Ot.detach(this._dom), this._dom = null), this._elements) {
      for (var e3 = 0, i2 = this._elements; e3 < i2.length; e3++) {
        i2[e3].dispose();
      }
      this._elements.length = 0;
    }
    this._parent = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "container", { get: function() {
    return this._parent && this._parent.container;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "childCount", { get: function() {
    return this._elements ? this._elements.length : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isSingleton", { get: function() {
    return this._parent && 1 == this._parent.childCount && this._parent._elements[0] === this;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "x", { get: function() {
    return this._x;
  }, set: function(t3) {
    t3 != this._x && (this._x = t3, this.invalidate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "y", { get: function() {
    return this._y;
  }, set: function(t3) {
    t3 != this._y && (this._y = t3, this.invalidate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._width && (this._width = t3, this.sizeChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "height", { get: function() {
    return this._height;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._height && (this._height = t3, this.sizeChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "right", { get: function() {
    return this._x + this._width;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottom", { get: function() {
    return this._y + this._height;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "position", { get: function() {
    return new fa(this._x, this._y);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bounds", { get: function() {
    return new it(this._x, this._y, this._width, this._height);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clientRect", { get: function() {
    return new it(0, 0, this._width, this._height);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    t3 != this._visible && (this._visible = t3, this._dom && (this._dom.style.display = this._visible ? this._getCssDisplay() : "none"), this.invalidate(true), this._visibleChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mouseEnabled", { get: function() {
    return this._mouseEnabled;
  }, set: function(t3) {
    this._mouseEnabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isLayer", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mouseX", { get: function() {
    var t3 = this.container;
    if (t3) {
      for (var e3 = t3._currentX, i2 = this; i2 && void 0 !== i2; ) e3 -= i2._x, i2 = i2._parent;
      return e3;
    }
    return NaN;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mouseY", { get: function() {
    var t3 = this.container;
    if (t3) {
      for (var e3 = t3._currentY, i2 = this; i2 && void 0 !== i2; ) e3 -= i2._y, i2 = i2._parent;
      return e3;
    }
    return NaN;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "doc", { get: function() {
    return It(this._dom);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._dom && this._dom.style;
  }, enumerable: false, configurable: true }), e2.prototype.isDom = function(t3) {
    return t3 === this._dom;
  }, e2.prototype.canHover = function() {
    return true;
  }, e2.prototype.getChildren = function() {
    return this._elements && this._elements.concat();
  }, e2.prototype.getChild = function(t3) {
    return this._elements[t3];
  }, e2.prototype.indexOf = function(t3) {
    return this._elements ? this._elements.indexOf(t3) : -1;
  }, e2.prototype.contains = function(t3) {
    return this._elements && this._elements.indexOf(t3) >= 0;
  }, e2.prototype.getAncestor = function(t3) {
    for (var e3 = this._parent; e3; ) {
      if (e3 instanceof t3) return e3;
      e3 = e3._parent;
    }
    return null;
  }, e2.prototype.addChild = function(t3) {
    return this.insertChild(-1, t3);
  }, e2.prototype.insertChild = function(t3, e3) {
    if (e3 && !this.contains(e3)) {
      var i2 = this._elements || [], o2 = e3._dom;
      if (t3 < 0 || t3 >= i2.length) this._dom && o2 && this._dom.appendChild(o2), i2.push(e3);
      else {
        if (o2) {
          var r2 = this._elements[t3]._dom;
          this._dom && r2 && this._dom.insertBefore(o2, r2);
        }
        i2.splice(t3, 0, e3);
      }
      return this._elements = i2, e3._parent = this, e3.$_attached(this), this.invalidate(), true;
    }
    return false;
  }, e2.prototype.removeChild = function(t3) {
    if (t3 && this._elements) {
      var e3 = this._elements.indexOf(t3);
      if (e3 >= 0) return this.removeChildAt(e3) === t3;
    }
    return false;
  }, e2.prototype.removeChildAt = function(t3) {
    if (t3 >= 0 && t3 < this.childCount) {
      var e3 = this._elements[t3];
      return this._elements.splice(t3, 1), this._dom && e3._dom && this._dom.removeChild(e3._dom), e3._parent = null, e3._dirty = false, e3.$_detached(this), this.invalidate(), e3;
    }
    return null;
  }, e2.prototype.removeLast = function() {
    return this._elements && this._elements.length > 0 ? this.removeChildAt(this._elements.length - 1) : null;
  }, e2.prototype.clear = function() {
    var t3 = this._elements;
    if ((t3 ? t3.length : 0) > 0) {
      for (var e3 = 0, i2 = t3; e3 < i2.length; e3++) {
        var o2 = i2[e3];
        o2._parent = null, o2.$_detached(this);
      }
      if (this._elements = [], this._dom) for (; this._dom.lastChild; ) this._dom.removeChild(this._dom.lastChild);
      return this.invalidate(), true;
    }
    return false;
  }, e2.prototype.hideAll = function() {
    if (this._elements) for (var t3 = 0, e3 = this._elements; t3 < e3.length; t3++) {
      e3[t3].visible = false;
    }
  }, e2.prototype.invalidate = function(t3, e3) {
    if (void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = false), t3 || !this._dirty) {
      this._dirty = true;
      var i2 = this.container;
      i2 && i2.invalidateElement(this);
    }
    if (e3 && this._elements) for (var o2 = 0, r2 = this._elements; o2 < r2.length; o2++) {
      r2[o2].invalidate(t3, true);
    }
  }, e2.prototype.validate = function() {
    this._dirty = false;
  }, e2.prototype.invalidateLayout = function() {
    var t3 = this.container;
    t3 && t3.invalidateLayout();
  }, e2.prototype.getBounds = function(t3) {
    return void 0 === t3 && (t3 = null), t3 ? t3.set(this._x, this._y, this._width, this._height) : new it(this._x, this._y, this._width, this._height);
  }, e2.prototype.getClientRect = function(t3) {
    return void 0 === t3 && (t3 = null), t3 ? t3.set(0, 0, this._width, this._height) : new it(0, 0, this._width, this._height);
  }, e2.prototype.containsInBounds = function(t3, e3) {
    return t3 >= this._x && t3 < this._x + this._width && e3 >= this._y && e3 < this._y + this._height;
  }, e2.prototype.containsInClient = function(t3, e3) {
    return t3 >= 0 && t3 < this._width && e3 >= 0 && e3 < this._height;
  }, e2.prototype.parentToElement = function(t3, e3, i2) {
    for (var o2 = this; o2 && o2 != t3; ) e3 -= o2._x, i2 -= o2._y, o2 = o2._parent;
    return new fa(e3, i2);
  }, e2.prototype.translateBy = function(t3, e3) {
    void 0 === e3 && (e3 = null);
    var i2 = t3;
    for (e3 || (e3 = new it(0, 0, this._width, this._height)); i2 && i2 !== this; ) e3.x -= i2._x, e3.y -= i2._y, i2 = i2._parent;
    return e3;
  }, e2.prototype.topBy = function(t3, e3) {
    for (var i2 = this._y + e3, o2 = this._parent; o2 && o2 !== t3; ) i2 += o2._y, o2 = o2._parent;
    return i2;
  }, e2.prototype.boundsBy = function(t3, e3) {
    void 0 === e3 && (e3 = null);
    var i2 = this._x, o2 = this._y, r2 = this._parent;
    for (e3 && (i2 += e3.x, o2 += e3.y); r2 && r2 !== t3; ) i2 += r2._x, o2 += r2._y, r2 = r2._parent;
    return e3 ? new it(i2, o2, e3.width, e3.height) : new it(i2, o2, this._width, this._height);
  }, e2.prototype.boundsByContainer = function(t3) {
    void 0 === t3 && (t3 = null);
    var e3 = this._x, i2 = this._y;
    t3 && (e3 += t3.x, i2 += t3.y);
    for (var o2 = this._parent; o2 && void 0 !== o2._x; ) e3 += o2._x, i2 += o2._y, o2 = o2._parent;
    return t3 ? new it(e3, i2, t3.width, t3.height) : new it(e3, i2, this._width, this._height);
  }, e2.prototype.pointByContainer = function(t3, e3) {
    for (var i2 = this._parent; i2 && void 0 !== i2._x; ) t3 += i2._x, e3 += i2._y, i2 = i2._parent;
    return new fa(t3 + this._x, e3 + this._y);
  }, e2.prototype.containerToElement = function(t3, e3) {
    for (var i2 = this; i2; ) t3 -= i2._x, e3 -= i2._y, i2 = i2._parent;
    return new fa(t3, e3);
  }, e2.prototype.boundsByScreen = function(t3) {
    return void 0 === t3 && (t3 = null), t3 = this.boundsByContainer(t3), t3 = this.container.toScreen(t3);
  }, e2.prototype.hitTest = function(t3, e3) {
    return t3 >= 0 && t3 < this._width && e3 >= 0 && e3 < this._height;
  }, e2.prototype.findChildAt = function(t3, e3, i2) {
    var o2 = this._elements, r2 = o2 ? o2.length : 0;
    if (r2 > 0) for (var n2 = r2 - 1; n2 >= 0; n2--) {
      var s2 = o2[n2];
      if (s2.visible) {
        var a2 = t3 - s2._x, l2 = e3 - s2._y;
        if ((i2 || s2._mouseEnabled) && (s2.isLayer || s2.hitTest(a2, l2))) {
          var h2 = s2.findChildAt(a2, l2, i2);
          if (h2) return h2;
          if (!s2.isLayer && s2._mouseEnabled) return s2;
        }
      }
    }
    return null;
  }, e2.prototype.move = function(t3, e3) {
    t3 == this._x && e3 == this._y || (this._x = t3, this._y = e3, this.invalidate());
  }, e2.prototype.resize = function(t3, e3) {
    t3 == this._width && e3 == this._height || (this._width = t3, this._height = e3, this.invalidate());
  }, e2.prototype.setBounds = function(t3, e3, i2, o2) {
    t3 == this._x && e3 == this._y && i2 == this._width && o2 == this._height || (this._x = t3, this._y = e3, this._width = i2, this._height = o2, this.sizeChanged());
  }, e2.prototype.setBoundsI = function(t3, e3, i2, o2) {
    e3 >>= 0, i2 >>= 0, o2 >>= 0, (t3 >>= 0) == this._x && e3 == this._y && i2 == this._width && o2 == this._height || (this._x = t3, this._y = e3, this._width = i2, this._height = o2, this.sizeChanged());
  }, e2.prototype.setRect = function(t3) {
    t3.x == this._x && t3.y == this._y && t3.width == this._width && t3.height == this._height || (this._x = t3.x, this._y = t3.y, this._width = t3.width, this._height = t3.height, this.sizeChanged());
  }, e2.prototype.setRectI = function(t3) {
    var e3 = t3.x >> 0, i2 = t3.y >> 0, o2 = t3.width >> 0, r2 = t3.height >> 0;
    e3 == this._x && i2 == this._y && o2 == this._width && r2 == this._height || (this._x = e3, this._y = i2, this._width = o2, this._height = r2, this.sizeChanged());
  }, e2.prototype.draw = function() {
    this._dirty && this._dom && (this._beforeDraw(this._dom), this._doDraw(this._dom), this._dirty = false);
  }, e2.prototype.resetSize = function() {
    this._dom && this._setSizeStyle(this._dom.style);
  }, e2.prototype.getHtml = function() {
    return this._dom && this._dom.outerHTML;
  }, e2.prototype.setImportantStyle = function(t3, e3) {
    this._dom.style.setProperty(t3, e3, "important");
  }, e2.prototype._createDom = function(t3) {
    return t3.createElement("div");
  }, e2.prototype._initDom = function(t3) {
    var e3 = t3.style;
    e3.position = "absolute", e3.boxSizing = "border-box", this._addEventListeners(t3);
  }, e2.prototype._addEventListeners = function(t3) {
  }, e2.prototype._removeEventListeners = function(t3) {
  }, e2.prototype.$_attached = function(t3) {
    this._doAttached(t3);
  }, e2.prototype._doAttached = function(t3) {
  }, e2.prototype.$_detached = function(t3) {
    this._doDetached(t3);
  }, e2.prototype._doDetached = function(t3) {
  }, e2.prototype._setSizeStyle = function(t3) {
    t3.width = this._width + "px", t3.height = this._height + "px";
  }, e2.prototype._getCssDisplay = function() {
    return "block";
  }, e2.prototype.resetStyleName = function() {
    this._setClassName(this._dom);
  }, e2.prototype._setClassName = function(t3) {
    var e3 = this._getCssSelector();
    e3 != this._className && (this._className = e3, (t3 || this._dom).className = e3 || "");
  }, e2.prototype.applyBounds = function() {
    var t3 = this._dom.style;
    t3.left = this._x + "px", t3.top = this._y + "px", this._setSizeStyle(t3);
  }, e2.prototype._beforeDraw = function(t3) {
    this._setClassName(t3);
    var e3 = t3.style;
    e3.left = this._x + "px", e3.top = this._y + "px", this._setSizeStyle(e3);
  }, e2.prototype._hoverChanged = function() {
  }, e2.prototype._visibleChanged = function() {
  }, e2.prototype.sizeChanged = function() {
    this.invalidate(), this._doSizeChanged();
  }, e2.prototype._doSizeChanged = function() {
  }, e2;
}(Oe);
var ga = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "isLayer", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
  }, e2.prototype._doDraw = function(t3) {
  }, e2;
}(_a);
var ya = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = false);
    var o2 = t2.call(this, e3) || this;
    return o2._active = i2, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, enumerable: false, configurable: true }), e2;
}(ga);
!function(t2) {
  t2.NONE = "none", t2.SINGLE = "single", t2.EXTENDED = "extended";
}(Zs || (Zs = {})), function(t2) {
  t2.BLOCK = "block", t2.GROUP = "group", t2.ROWS = "rows", t2.COLUMNS = "columns", t2.SINGLE_ROW = "singleRow", t2.SINGLE_COLUMN = "singleColumn", t2.SINGLE = "single", t2.NONE = "none";
}(Js || (Js = {})), function(t2) {
  t2.CELL = "cell", t2.CELL_AND_BORDER = "cellAndBorder", t2.MASK = "mask";
}(Qs || (Qs = {}));
var ma;
var ba;
var va;
var wa = function(t2) {
  return t2 == Js.SINGLE_ROW || t2 == Js.SINGLE_COLUMN || t2 == Js.SINGLE;
};
var Ca = function(t2) {
  var e2 = t2 && t2.style;
  return e2 == Js.ROWS || e2 == Js.SINGLE_ROW;
};
var xa = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._manager = e3, o2._runStyle = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._manager && this._manager.grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "runStyle", { get: function() {
    return this._runStyle;
  }, enumerable: false, configurable: true }), e2.prototype.setValues = function(t3, e3) {
    var i2 = this.grid.dataSource, o2 = this._getRows(), r2 = this.grid, n2 = {};
    if (o2 && o2.rows && o2.rows.length > 0 && o2.fields && o2.fields.length > 0) {
      for (var s2 = o2.rows, a2 = 0; a2 < s2.length; a2++) if (!(s2[a2] < 0)) {
        for (var l2 = [], h2 = 0; h2 < o2.fields.length; h2++) {
          (r2.getWritable(r2.getItemIndexOfRow(s2[a2]), r2.columnByField(o2.fields[h2])) || e3 && r2.copyOptions.cutReadOnlyCell) && l2.push(o2.fields[h2]);
        }
        l2.length && (n2[s2[a2]] = l2.slice());
      }
      i2.fillValue(n2, t3);
    }
  }, e2.prototype.inflate = function(t3, e3) {
    switch (t3) {
      case "left":
        this._inflateLeft(e3);
        break;
      case "right":
        this._inflateRight(e3);
        break;
      case "top":
        this._inflateTop(e3);
        break;
      case "bottom":
        this._inflateBottom(e3);
    }
  }, e2.prototype.getItems = function(t3) {
    void 0 === t3 && (t3 = true);
    for (var e3 = this.grid, i2 = [], o2 = this.getBounds(), r2 = o2.top, n2 = o2.bottom, s2 = r2; s2 <= n2; s2++) {
      var a2 = e3.getItem(s2);
      a2 && (!t3 || a2.dataRow >= 0) && i2.push(a2);
    }
    return i2;
  }, e2.prototype.getItemIndices = function(t3) {
    void 0 === t3 && (t3 = true);
    for (var e3 = this.grid, i2 = [], o2 = this.getBounds(), r2 = o2.top, n2 = o2.bottom, s2 = r2; s2 <= n2; s2++) {
      var a2 = e3.getItem(s2);
      a2 && (!t3 || a2.dataRow >= 0) && i2.push(a2.index);
    }
    return i2;
  }, e2.prototype.getRows = function() {
    for (var t3 = this.grid, e3 = [], i2 = this.getBounds(), o2 = i2.top, r2 = i2.bottom, n2 = o2; n2 <= r2; n2++) {
      var s2 = t3.getItem(n2);
      if (s2 && s2.dataRow >= 0) {
        var a2 = s2.dataRow;
        a2 >= 0 && e3.push(a2);
      }
    }
    return e3;
  }, e2.prototype._resized = function() {
    this._manager && this._manager.$_itemResized(this);
  }, e2.prototype.toProxy = function() {
    var t3 = this.grid, e3 = this.getBounds(), i2 = t3.getItem(e3.r1), o2 = t3.getItem(e3.r2);
    return { style: this.style, startItem: e3.r1, startRow: i2 ? i2.dataRow : -1, startColumn: e3.c1.firstColumn.name, endItem: e3.r2, endRow: o2 ? o2.dataRow : -1, endColumn: e3.c2.lastColumn.name, startLayout: e3.c1, endLayout: e3.c2 };
  }, Object.defineProperty(e2.prototype, "startItem", { get: function() {
    return this.getBounds().r1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startRow", { get: function() {
    var t3 = this.grid.getItem(this.getBounds().r1);
    return t3 ? t3.dataRow : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startColumn", { get: function() {
    return this.getBounds().c1.firstColumn.name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endItem", { get: function() {
    return this.getBounds().r2;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endRow", { get: function() {
    var t3 = this.grid.getItem(this.getBounds().r2);
    return t3 ? t3.dataRow : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endColumn", { get: function() {
    return this.getBounds().c2.firstColumn.name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startLayout", { get: function() {
    return this.getBounds().c1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endLayout", { get: function() {
    return this.getBounds().c2;
  }, enumerable: false, configurable: true }), e2;
}(Ft);
var Ia = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._items = [], i2._locked = false, i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exclusiveMode", { get: function() {
    return this._grid.displayOptions.selectionMode !== Zs.EXTENDED;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "single", { get: function() {
    return 1 == this._items.length && this._items[0].single;
  }, enumerable: false, configurable: true }), e2.prototype.lock = function() {
    this._locked = true;
  }, e2.prototype.unlock = function() {
    this._locked = false;
  }, e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.getItemByIndex = function(t3, e3) {
    for (var i2 = this._items.length - 1; i2 >= 0; i2--) {
      var o2 = this._items[i2];
      if ((!e3 || o2 instanceof e3) && o2.contains(t3.itemIndex, t3.layout)) return o2;
    }
  }, e2.prototype.getItems = function() {
    return this._items.slice();
  }, e2.prototype.lastItem = function() {
    return this._items[this._items.length - 1];
  }, e2.prototype.add = function(t3, e3, i2, o2) {
    if (this._locked) return null;
    if (i2 == Js.NONE) return this.clear(true), null;
    this.exclusiveMode && this.clear(true);
    var r2 = null;
    switch (i2) {
      case Js.COLUMNS:
        r2 = new Oa(this, i2, t3.layout.first, e3.layout.last);
        break;
      case Js.SINGLE_COLUMN:
        r2 = new Oa(this, i2, t3.layout.first, t3.layout.first);
        break;
      case Js.ROWS:
        r2 = new Sa(this, i2, t3.itemIndex, e3.itemIndex);
        break;
      case Js.SINGLE_ROW:
        r2 = new Sa(this, i2, t3.itemIndex, t3.itemIndex);
        break;
      case Js.BLOCK:
        r2 = new Ea(this, i2, t3, e3);
        break;
      case Js.GROUP:
        (t3 = t3.clone()).layout = t3.layout.root.first, (e3 = e3.clone()).layout = e3.layout.root.last.source, r2 = new Ea(this, i2, t3, e3);
        break;
      case Js.SINGLE:
        r2 = new Ea(this, i2, t3, t3);
    }
    return r2 && this.$_addItem(r2, o2);
  }, e2.prototype.remove = function(t3) {
    if (!this._locked) {
      var i2 = this._items.indexOf(t3);
      i2 >= 0 && (this._items.splice(i2, 1), this.fireEvent(e2.REMOVED, t3), this._changed());
    }
  }, e2.prototype.clear = function(t3) {
    this._locked || this._items.length > 0 && (this._items.length = 0, this.fireEvent(e2.CLEARED, t3));
  }, e2.prototype.selectBlock = function(t3, e3) {
    e3 && this.clear(true), this.containsCell(t3) || this.$_addItem(new Ea(this, Js.BLOCK, t3, t3, true), true);
  }, e2.prototype.selectRow = function(t3, e3) {
    e3 && this.clear(true), this.containsItem(t3, Sa) || this.$_addItem(new Sa(this, Js.ROWS, t3, t3), true);
  }, e2.prototype.containsItem = function(t3, e3) {
    for (var i2 = 0, o2 = this._items.length; i2 < o2; i2++) {
      var r2 = this._items[i2];
      if ((!e3 || r2 instanceof e3) && r2.containsItem(t3)) return true;
    }
    return false;
  }, e2.prototype.containsLayout = function(t3, e3) {
    for (var i2 = 0, o2 = this._items.length; i2 < o2; i2++) {
      var r2 = this._items[i2];
      if ((!e3 || r2 instanceof e3) && r2.containsLayout(t3)) return true;
    }
    return false;
  }, e2.prototype.containsCell = function(t3) {
    return this.contains(t3.itemIndex, t3.layout);
  }, e2.prototype.contains = function(t3, e3) {
    for (var i2 = 0, o2 = this._items.length; i2 < o2; i2++) if (this._items[i2].contains(t3, e3)) return true;
    return false;
  }, e2.prototype.normalize = function() {
  }, e2.prototype.canResize = function(t3) {
    return t3 && !wa(t3._runStyle);
  }, e2.prototype._changed = function(t3, i2) {
    void 0 === i2 && (i2 = true), this.fireEvent(e2.CHANGED, t3, i2);
  }, e2.prototype.$_addItem = function(t3, i2) {
    if (!t3) throw new Error("item is null");
    return this._items.indexOf(t3) < 0 && (this._items.push(t3), this.fireEvent(e2.ADDED, t3, i2), this._changed(t3, i2)), t3;
  }, e2.prototype.$_itemResized = function(t3) {
    this.fireEvent(e2.RESIZED, t3), this._changed(t3);
  }, e2.prototype.$_ended = function(t3) {
    this.fireEvent(e2.ENDED, t3);
  }, e2.CHANGED = "onSelectionChanged", e2.ADDED = "onSelectionAdded", e2.REMOVED = "onSelectionRemoved", e2.CLEARED = "onSelectionCleared", e2.RESIZED = "onSelectionResized", e2.ENDED = "onSelectionEnded", e2;
}(Oe);
var Ea = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, e3, i2) || this;
    return s2._startIndex = o2.clone(), s2._endIndex = r2.clone(), s2.move = n2, Ot.isDebugging() && s2._startIndex.layout, Ot.isDebugging() && s2._endIndex.layout, s2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "startIndex", { get: function() {
    return this._startIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endIndex", { get: function() {
    return this._endIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._runStyle || Js.BLOCK;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "single", { get: function() {
    return Ts.areEquals(this._startIndex, this._endIndex);
  }, enumerable: false, configurable: true }), e2.prototype.getBounds = function() {
    var t3 = this.grid;
    this._startIndex.normalize(t3), this._endIndex.normalize(t3);
    var e3 = this._startIndex.clone(), i2 = this._endIndex.clone();
    this._runStyle === Js.GROUP && (e3.layout.root.vindex > i2.layout.root.vindex && (e3 = this._endIndex.clone(), i2 = this._startIndex.clone()), e3.layout = e3.layout.root.first, i2.layout = i2.layout.root.last);
    if (Ts.areEquals(e3, i2)) return Ns.create(e3);
    var o2 = t3.activeCellLayout._dataCells, r2 = e3.layout, n2 = i2.layout, s2 = void 0, a2 = void 0;
    return r2.col <= n2.col ? (s2 = o2[0][r2.col], a2 = o2[o2.length - 1][n2.col]) : (s2 = o2[0][n2.col], a2 = o2[o2.length - 1][r2.col]), Ns.createRange(e3.itemIndex, s2, i2.itemIndex, a2);
  }, e2.prototype.containsItem = function(t3) {
    var e3 = Math.min(this._startIndex.itemIndex, this._endIndex.itemIndex), i2 = Math.max(this._startIndex.itemIndex, this._endIndex.itemIndex);
    return t3 >= e3 && t3 <= i2;
  }, e2.prototype.containsLayout = function(t3) {
    if (!t3) return false;
    if (this.single) return this._startIndex.layout === t3;
    var e3 = t3.distance, i2 = this._startIndex.layout.distance, o2 = this._endIndex.layout.distance;
    return i2 < o2 ? e3 >= i2 && e3 <= o2 : e3 >= o2 && e3 <= i2;
  }, e2.prototype.contains = function(t3, e3) {
    return this.getBounds().contains(t3, e3);
  }, e2.prototype.resizeTo = function(t3) {
    var e3 = this.grid, i2 = e3.displayOptions;
    e3.isValid(t3) && !Ts.areEquals(t3, this._endIndex) && (i2.selectAtSingleRow && (t3.itemIndex = this.startItem), this._endIndex.assign(t3), this._resized());
  }, e2.prototype.moveRow = function(t3) {
    this._startIndex.itemIndex += t3, this._endIndex.itemIndex += t3;
  }, e2.prototype.intersectsWith = function(t3) {
    return this.getBounds().intersectsWith(t3.getBounds());
  }, e2.prototype.mergeWith = function(t3) {
  }, e2.prototype.getData = function(t3) {
    if (void 0 === t3 && (t3 = -1), 0 == t3) return null;
    var e3, i2 = this.grid, o2 = this.getBounds(), r2 = this.single ? [o2.c1.firstColumn] : i2.collectDataColumns(o2.c1, o2.c2);
    if (!r2 || (e3 = r2.length) < 1) return null;
    for (var n2 = o2.r1, s2 = o2.r2, a2 = [], l2 = n2; l2 <= s2; l2++) {
      var h2 = i2.getItem(l2);
      if (h2 && h2.isDataRow) {
        var u2 = {};
        u2.__rowId = h2.dataRow;
        for (var c2 = 0; c2 < e3; c2++) {
          var d2 = r2[c2];
          u2[d2.fieldName] = h2.getData(d2.dataIndex);
        }
        if (a2.push(u2), t3 > 0 && a2.length == t3) break;
      }
    }
    return a2;
  }, e2.prototype._inflateLeft = function(t3) {
    this._startIndex.layout.distance <= this._endIndex.layout.distance ? t3.layout !== this._startIndex.layout && (this._startIndex.layout = t3.layout, this._resized()) : t3.layout !== this._endIndex.layout && (this._endIndex.layout = t3.layout, this._resized());
  }, e2.prototype._inflateRight = function(t3) {
    this._startIndex.layout.distance > this._endIndex.layout.distance ? t3.layout !== this._startIndex.layout && (this._startIndex.layout = t3.layout, this._resized()) : t3.layout !== this._endIndex.layout && (this._endIndex.layout = t3.layout, this._resized());
  }, e2.prototype._inflateTop = function(t3) {
    var e3 = this.grid, i2 = Math.max(0, Math.min(e3.itemCount - 1, t3.itemIndex));
    this._startIndex.itemIndex <= this._endIndex.itemIndex ? i2 !== this._startIndex.itemIndex && (this._startIndex.itemIndex = i2, this._resized()) : i2 !== this._endIndex.itemIndex && (this._endIndex.itemIndex = i2, this._resized());
  }, e2.prototype._inflateBottom = function(t3) {
    var e3 = this.grid, i2 = Math.max(0, Math.min(e3.itemCount - 1, t3.itemIndex));
    this._startIndex.itemIndex > this._endIndex.itemIndex ? i2 !== this._startIndex.itemIndex && (this._startIndex.itemIndex = i2, this._resized()) : i2 !== this._endIndex.itemIndex && (this._endIndex.itemIndex = i2, this._resized());
  }, e2.prototype._getRows = function() {
    var t3 = this.grid, e3 = t3.collectDataColumns(this._startIndex.layout, this._endIndex.layout);
    if (e3 && !(e3.length < 1)) {
      for (var i2 = Math.min(this._startIndex.itemIndex, this._endIndex.itemIndex), o2 = Math.max(this._startIndex.itemIndex, this._endIndex.itemIndex), r2 = [], n2 = [], s2 = i2; s2 <= o2; s2++) r2.push(t3.getItem(s2).dataRow);
      for (var a2 = 0, l2 = e3; a2 < l2.length; a2++) {
        var h2 = l2[a2];
        n2.push(h2.dataIndex);
      }
      return { rows: r2, fields: n2 };
    }
  }, e2.prototype.toString = function() {
    return this._startIndex + " ~ " + this._endIndex;
  }, e2;
}(xa);
var Sa = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3, i2) || this;
    return n2._startRow = o2, n2._endRow = r2, n2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "startRow", { get: function() {
    return this._startRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endRow", { get: function() {
    return this._endRow;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topRow", { get: function() {
    return Math.min(this._startRow, this._endRow);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottomRow", { get: function() {
    return Math.max(this._startRow, this._endRow);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._runStyle || Js.ROWS;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "single", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.getBounds = function() {
    var t3 = this.grid, e3 = t3.itemCount;
    return this._startRow = Math.max(0, Math.min(e3 - 1, this._startRow)), this._endRow = Math.max(0, Math.min(e3 - 1, this._endRow)), this._startRow <= this._endRow ? Ns.createRange(this._startRow, t3.activeCellLayout.first, this._endRow, t3.activeCellLayout.last) : Ns.createRange(this._endRow, t3.activeCellLayout.first, this._startRow, t3.activeCellLayout.last);
  }, e2.prototype.contains = function(t3, e3) {
    return this.containsItem(t3);
  }, e2.prototype.containsItem = function(t3) {
    return t3 >= this.topRow && t3 <= this.bottomRow;
  }, e2.prototype.containsLayout = function(t3) {
    return true;
  }, e2.prototype.resizeTo = function(t3) {
    var e3 = Math.max(0, t3.itemIndex);
    e3 != this._endRow && (this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, e3)), this._resized());
  }, e2.prototype.moveRow = function(t3) {
    this._startRow += t3, this._endRow += t3;
  }, e2.prototype.intersectsWith = function(t3) {
    return this.getBounds().intersectsWith(t3.getBounds());
  }, e2.prototype.mergeWith = function(t3) {
  }, e2.prototype.getData = function(t3) {
    if (void 0 === t3 && (t3 = -1), 0 == t3) return null;
    var e3 = this.grid, i2 = e3.collectDataColumns(e3.getVisibleLayout(0), e3.getVisibleLayout(e3.visibleLayoutCount - 1));
    if (!i2) return null;
    var o2 = i2.length;
    if (o2 < 1) return null;
    for (var r2 = Math.max(0, Math.min(this._startRow, this._endRow)), n2 = Math.min(e3.itemCount - 1, Math.max(this._startRow, this._endRow)), s2 = [], a2 = r2; a2 <= n2; a2++) {
      var l2 = e3.getItem(a2);
      if (l2 && l2.isDataRow) {
        var h2 = {};
        h2.__rowId = l2.dataRow;
        for (var u2 = 0; u2 < o2; u2++) {
          var c2 = i2[u2];
          h2[c2.fieldName] = l2.getData(c2.dataIndex);
        }
        if (s2.push(h2), t3 > 0 && s2.length == t3) break;
      }
    }
    return s2;
  }, e2.prototype._inflateLeft = function(t3) {
  }, e2.prototype._inflateRight = function(t3) {
  }, e2.prototype._inflateTop = function(t3) {
    var e3 = t3.itemIndex;
    e3 != this.topRow && (this._startRow <= this._endRow ? this._startRow = Math.max(0, Math.min(this.grid.itemCount - 1, e3)) : this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, e3)), this._resized());
  }, e2.prototype._inflateBottom = function(t3) {
    var e3 = t3.itemIndex;
    e3 != this.bottomRow && (this._startRow > this._endRow ? this._startRow = Math.max(0, Math.min(this.grid.itemCount - 1, e3)) : this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, e3)), this._resized());
  }, e2.prototype._getRows = function() {
    var t3 = this.grid, e3 = t3.activeCellLayout, i2 = t3.collectDataColumns(e3.first, e3.last);
    if (i2 && !(i2.length < 1)) {
      for (var o2 = Math.max(0, Math.min(this._startRow, this._endRow)), r2 = Math.min(t3.itemCount - 1, Math.max(this._startRow, this._endRow)), n2 = [], s2 = [], a2 = o2; a2 <= r2; a2++) n2.push(t3.getItem(a2).dataRow);
      for (var l2 = 0, h2 = i2; l2 < h2.length; l2++) {
        var u2 = h2[l2];
        s2.push(u2.dataIndex);
      }
      return { rows: n2, fields: s2 };
    }
  }, e2;
}(xa);
var Oa = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3, i2) || this;
    return n2._startLayout = o2, n2._endLayout = r2, n2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "startLayout", { get: function() {
    return this._startLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endLayout", { get: function() {
    return this._endLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "leftLayout", { get: function() {
    return this._startLayout.col <= this._endLayout.col ? this._startLayout : this._endLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightLayout", { get: function() {
    return this._startLayout.col > this._endLayout.col ? this._startLayout : this._endLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._runStyle || Js.COLUMNS;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "single", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.getBounds = function() {
    var t3 = this.grid.activeCellLayout, e3 = this._startLayout, i2 = this._endLayout;
    if (e3.col > i2.col) {
      var o2 = e3;
      e3 = i2, i2 = o2;
    }
    e3 = t3.getTopOf(e3), i2 = t3.getBottomOf(i2, true);
    var r2 = this.grid.itemCount - 1;
    return Ns.createRange(0, e3, r2, i2);
  }, e2.prototype.contains = function(t3, e3) {
    return this.containsLayout(e3);
  }, e2.prototype.containsItem = function(t3) {
    return true;
  }, e2.prototype.containsLayout = function(t3) {
    return t3.col >= this.leftLayout.col && t3.col <= this.rightLayout.col;
  }, e2.prototype.resizeTo = function(t3) {
    t3.layout !== this._endLayout && (this._endLayout = t3.layout, this._resized());
  }, e2.prototype.moveRow = function(t3) {
  }, e2.prototype.intersectsWith = function(t3) {
    return this.getBounds().intersectsWith(t3.getBounds());
  }, e2.prototype.mergeWith = function(t3) {
  }, e2.prototype.getData = function(t3) {
    if (void 0 === t3 && (t3 = -1), 0 == t3) return null;
    var e3 = this.grid, i2 = e3.collectDataColumns(this._startLayout, this._endLayout);
    if (!i2) return null;
    for (var o2 = e3.itemCount, r2 = [], n2 = 0; n2 < o2; n2++) {
      var s2 = e3.getItem(n2);
      if (s2 && s2.isDataRow) {
        var a2 = {};
        a2.__rowId = s2.dataRow;
        for (var l2 = 0, h2 = i2.length; l2 < h2; l2++) a2[i2[l2].fieldName] = s2.getData(i2[l2].dataIndex);
        if (r2.push(a2), t3 > 0 && r2.length == t3) break;
      }
    }
    return r2;
  }, e2.prototype._inflateLeft = function(t3) {
    var e3 = t3.layout;
    e3 !== this.leftLayout && (this._startLayout.distance <= this._endLayout.distance ? this._startLayout = e3 : this._endLayout = e3, this._resized());
  }, e2.prototype._inflateRight = function(t3) {
    var e3 = t3.layout;
    e3 !== this.rightLayout && (this._startLayout.distance > this._endLayout.distance ? this._startLayout = e3 : this._endLayout = e3, this._resized());
  }, e2.prototype._inflateTop = function(t3) {
  }, e2.prototype._inflateBottom = function(t3) {
  }, e2.prototype._getRows = function() {
    var t3 = this.grid, e3 = t3.collectDataColumns(this._startLayout, this._endLayout);
    if (e3) {
      for (var i2 = t3.itemCount, o2 = [], r2 = [], n2 = 0; n2 < i2; n2++) o2.push(t3.getItem(n2).dataRow);
      for (var s2 = 0, a2 = e3; s2 < a2.length; s2++) {
        var l2 = a2[s2];
        r2.push(l2.dataIndex);
      }
      return { rows: o2, fields: r2 };
    }
  }, e2;
}(xa);
var Ra = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "selectionView") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-selection";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Pa = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "selectionMask") || this;
    return i2._toped = false, i2._bottomed = false, i2._lefted = false, i2._righted = false, i2._view = new Ra(e3), i2.addChild(i2._view), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, enumerable: false, configurable: true }), e2.prototype.prepare = function() {
    this._toped = this._bottomed = this._lefted = this._righted = false;
  }, e2.prototype.updateElement = function() {
    var t3 = 0, e3 = 0, i2 = this.width, o2 = this.height;
    this._lefted && (t3 -= 10, i2 += 10), this._righted && (i2 += 10), this._toped && (e3 -= 10, o2 += 10), this._bottomed && (o2 += 10), this._view.setBounds(t3, e3, i2, o2);
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("overflow", "hidden"), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var ka = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.doc, i2) || this;
    return o2._pool = [], o2._views = {}, o2._rangeRect = new it(), o2._grid = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.addView = function(t3) {
    var e3 = t3.$_hash, i2 = this._views[e3];
    return i2 || (i2 = this._pool.pop() || new Pa(this.doc), this._views[e3] = i2), i2._item = t3, this.addChild(i2), i2;
  }, e2.prototype.removeView = function(t3) {
    var e3 = t3.$_hash, i2 = this._views[e3];
    i2 && (this.removeChild(i2), this._pool.push(i2), delete this._views[e3]);
  }, e2.prototype.clearViews = function() {
    for (var t3 in this._views) {
      var e3 = this._views[t3];
      this.removeChild(e3), this._pool.push(e3);
    }
    this._views = {};
  }, e2.prototype.layout = function() {
    var t3 = this._grid.layoutManager, e3 = new it(), i2 = Object.keys(this._views);
    for (var o2 in this._views) {
      var r2 = this._views[o2], n2 = r2.item, s2 = false;
      if (!(1 === i2.length && n2.single && Ts.areEquals(n2._startIndex, this._grid.focusedIndex, true)) && (r2.prepare(), n2 instanceof Sa ? (s2 = this.$_getSelectionRowsRect(t3, n2, r2, e3), r2._lefted = true, r2._righted = true) : n2 instanceof Oa ? (s2 = this.$_getSelectionColumnsRect(t3, n2, r2, e3), r2._toped = true, r2._bottomed = true) : s2 = this.$_getSelectionRangeRect(t3, n2, r2, e3), s2)) {
        var a2 = t3.contentBounds.y + t3.footerBounds.y;
        e3.bottom > a2 && (r2._bottomed = true, e3.bottom = a2);
      }
      r2.visible = s2, r2.visible && (r2.setRectI(e3), r2.updateElement(), r2.invalidate());
    }
  }, e2.prototype.$_getSelectionRowsRect = function(t3, e3, i2, o2) {
    var r2, n2, s2 = this._grid, a2 = e3.getBounds(), l2 = a2.r1, h2 = a2.r2, u2 = t3.itemCount, c2 = t3.fixedItemCount, d2 = s2.topIndex;
    if (c2 > 0) {
      if (l2 >= d2 + c2 + u2 || h2 < 0 || l2 >= c2 && h2 < d2 + c2) return false;
      var p2 = t3.fixedHeight + s2.fixedOptions.rowBarHeight;
      l2 < c2 ? r2 = t3.getTableItemBounds(Math.max(0, l2)) : ((r2 = t3.getTableItemBounds(Math.max(0, l2 - d2))).y < p2 && (i2._toped = true), r2.y = Math.max(r2.y, p2)), h2 < c2 ? n2 = t3.getTableItemBounds(h2) : l2 <= c2 && h2 < c2 + d2 ? n2 = t3.getTableItemBounds(Math.min(c2 + d2, c2) - 1) : h2 >= d2 ? (n2 = t3.getTableItemBounds(Math.min(t3.itemCount + c2 - 1, h2 - d2))).y = Math.max(n2.y, p2) : n2 = r2;
    } else {
      if (!(u2 > 0)) return false;
      if (l2 >= d2 + u2 || h2 < d2) return false;
      p2 = l2 - d2;
      r2 = t3.getTableItemBounds(Math.max(0, p2)), n2 = t3.getTableItemBounds(Math.min(u2 - 1, h2 - d2)), p2 < 0 && (i2._toped = true);
    }
    return o2.copy(r2.union(n2)), o2.offset(t3.fixedContentBounds.x, t3.contentBounds.y + t3.bodyBounds.y), o2.right = t3.rightLayoutCount > 0 ? t3.rightContentBounds.right : t3.contentBounds.right, true;
  }, e2.prototype.$_getSelectionColumnsRect = function(t3, e3, i2, o2, r2) {
    var n2 = this._grid, s2 = e3.getBounds(), a2 = t3.fixedLayoutCount, l2 = t3.rightLayoutCount, h2 = s2.c1.col, u2 = s2.c2.col, c2 = n2.fixedOptions.rightBarWidth, d2 = t3.getDataRect(s2.c1), p2 = t3.getDataRect(s2.c2);
    if (o2.left = Math.min(d2.x, p2.x), o2.right = Math.max(d2.right, p2.right), o2.y = t3.contentBounds.y + t3.headerBounds.bottom + t3.summaryBounds.height, o2.height = Math.min(t3.dataBounds.height, t3.footerBounds.y), r2 && r2.copy(o2), h2 >= a2) {
      var f2 = t3.fixedContentBounds.right;
      o2.x < f2 && (i2._lefted = true, o2.left = Math.max(o2.left, f2)), o2.right < f2 && (i2._righted = true, o2.width = 0);
    }
    if (l2 > 0) {
      var _2 = t3.rightFirstLayout, g2 = t3.rightContentBounds;
      o2.left > g2.left ? o2.width = h2 >= _2 ? p2.right - d2.left : u2 >= _2 ? Math.max(0, p2.right - g2.left - (p2.left - g2.left - c2 == 0 ? 3 : 0)) : 0 : u2 < _2 && o2.right >= g2.left && (o2.right = Math.min(o2.right, g2.x), i2._righted = true);
    }
    return true;
  }, e2.prototype.$_getSelectionRangeRect = function(t3, e3, i2, o2, r2) {
    var n2 = this._rangeRect;
    return !!this.$_getSelectionRowsRect(t3, e3, i2, n2) && (o2.y = n2.y, o2.bottom = n2.bottom, this.$_getSelectionColumnsRect(t3, e3, i2, n2, r2), o2.x = n2.x, o2.right = n2.right, r2 && (r2.y = o2.y, r2.height = o2.height), true);
  }, e2;
}(ga);
var Da = function() {
  function t2(e2) {
    this._format = e2, this._reader = Tt.getReader(e2), this._writer = He.getFormatter(e2), t2.validateDateFormat(e2);
  }
  return t2.getConverter = function(e2) {
    var i2 = t2.Formatters;
    if (i2[e2]) return i2[e2];
    var o2 = new t2(e2);
    return i2[e2] = o2;
  }, t2.validateDateFormat = function(t3) {
    if (t3 = t3 && t3.trim()) {
      var e2 = t3.indexOf("a") >= 0 || t3.indexOf("A") >= 0;
      if (e2 && t3.indexOf("H") >= 0) throw "Invalid datetime read format - 'H'와 'a'가 같이 존재할 수 없습니다: " + t3;
      if (t3.indexOf("h") >= 0 && !e2) throw "Invalid datetime read format - 'h'가 있으면 'a'가 반드시 있어야 합니다: " + t3;
    } else ;
  }, Object.defineProperty(t2.prototype, "format", { get: function() {
    return this._format;
  }, enumerable: false, configurable: true }), t2.prototype.getDate = function(t3) {
    return this._reader.toDate(t3, true);
  }, t2.prototype.getDateNull = function(t3) {
    try {
      return this.getDate(t3);
    } catch (e2) {
      return Ot.log("getDateNull Fail string => ".concat(t3)), null;
    }
  }, t2.prototype.getText = function(t3) {
    return this._writer.getText(t3);
  }, t2.DEFAULT_FORMAT = "yyyy/MM/dd", t2.Formatters = {}, t2.Default = t2.getConverter(t2.DEFAULT_FORMAT), t2;
}();
var Ta = Ot.isSafari ? 1 : 0;
var Ma = function(t2) {
  function e2(i2, o2) {
    var r2 = t2.call(this) || this;
    if (r2._textCase = P.DEFAULT, r2._readOnly = false, r2._textReadOnly = false, r2._allowEmpty = false, r2._isMobile = Ot.isMobile(), r2._isTablet = Ot.isTablet(), r2._started = false, r2._dateConverter = Da.Default, r2._boolConverter = kt.Default, r2._cellBounds = new it(), r2._checkHangeul = false, r2._composing = false, r2._grid = i2, r2._options = i2.editorOptions, r2._parentElement = o2, r2._editor = r2._createEditor(o2), r2._editor.className = e2.EDITOR_CSS + r2._getInputSelector(), r2._container && (r2._container.className = e2.CONTAINER_CSS), r2._editor.$_owner = r2, r2._editIndex = i2.getIndex(), r2._editor) {
      var n2 = i2.container;
      n2.$_addListener(r2._editor, "focus", (function(t3) {
        this._grid.$_setEditFocused(true, t3);
      }).bind(r2), false), n2.$_addListener(r2._editor, "focusin", (function(t3) {
        this._grid.$_setEditFocused(true, t3);
      }).bind(r2), false), n2.$_addListener(r2._editor, "blur", (function(t3) {
        this._grid.$_setEditFocused(false, t3);
      }).bind(r2), false), n2.$_addListener(r2._editor, "focusout", (function(t3) {
        this._grid.$_setEditFocused(false, t3);
      }).bind(r2), false);
    }
    return r2.setVisible(false, true), r2.$_setEditorId(r2._editor), r2;
  }
  return i(e2, t2), e2.$_copyProc = function(t3, e3) {
    if (!t3.isDisabled()) {
      var i2 = t3._grid;
      t3.editing || i2.copyToClipboard(e3, null);
    }
  }, e2.copyCutProc = function(t3, e3) {
    e3.preventDefault();
    var i2 = t3._editor, o2 = It(t3._editor);
    return 67 == e3.keyCode || 45 == e3.keyCode ? (o2.execCommand("copy"), true) : 88 == e3.keyCode && (i2.value = "cut", i2.setSelectionRange(0, 3), o2.execCommand("cut"), i2.value = "", true);
  }, e2.prototype._copyHandler = function(t3) {
    e2.$_copyProc(this, t3);
  }, e2.prototype._pasteHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = this._grid.pasteOptions;
      try {
        var i2 = void 0, o2 = (t3.originalEvent || t3).clipboardData;
        if (null != (i2 = o2 ? o2.getData("text/plain") : window.clipboardData.getData("text"))) {
          if (this.visible) return this._doPaste(t3, i2), this._doChanged(), void t3.stopPropagation();
          t3.preventDefault(), this._grid.pasteFromClipboard(i2, t3);
        }
      } catch (t4) {
        if (t4 instanceof Tn) {
          if (e3.throwValidationError) throw t4;
        } else if (t4 instanceof Dn) alert(t4.message);
        else if (t4) throw t4;
      }
    }
  }, e2.prototype._doPaste = function(t3, e3) {
  }, e2.initDefault = function(t3) {
    for (var e3 = [], i2 = 1; i2 < arguments.length; i2++) e3[i2 - 1] = arguments[i2];
    var o2 = Ot.assign.apply(Ot, s([{}], e3, false));
    t3.assignFrom(o2), o2 = null;
  }, e2.getEditorType = function(t3) {
    return "string" == typeof t3 ? t3 : t3 ? t3.type : "line";
  }, e2.getEditorType2 = function(t3, e3) {
    return "string" == typeof t3 ? t3 : t3 && t3.type ? t3.type : "string" == typeof e3 ? e3 : e3 && e3.type ? e3.type : "line";
  }, e2.prototype._doDispose = function() {
    this.unprepare(), this._editor = Ot.detach(this._editor), this._container = Ot.detach(this._container), this._container = null, this._grid = null, this._controller = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "native", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonCount", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasList", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "emptyValue", { get: function() {
    return this._emptyValue;
  }, set: function(t3) {
    t3 != this._emptyValue && (this._emptyValue = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textCase", { get: function() {
    return this._textCase;
  }, set: function(t3) {
    t3 != this._textCase && (this._textCase = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, this._dateConverter = t3 ? Da.getConverter(t3) : Da.Default);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "todayChar", { get: function() {
    return this._todayChar;
  }, set: function(t3) {
    t3 != this._todayChar && (this._todayChar = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nowChar", { get: function() {
    return this._nowChar;
  }, set: function(t3) {
    t3 != this._nowChar && (this._nowChar = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, t3 ? (this._saveBoolConverter || (this._saveBoolConverter = new kt(t3)), this._saveBoolConverter.format = t3, this._boolConverter = this._saveBoolConverter) : this._boolConverter = kt.Default);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editor", { get: function() {
    return this._editor;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return parseInt(this._container.style.width) > Ta && parseInt(this._container.style.height) > Ta;
  }, enumerable: false, configurable: true }), e2.prototype.setVisible = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var i2 = e3 ? !t3 : this.visible;
    if (!t3 && (this._container.style.width = Ta + "px", this._container.style.height = Ta + "px", Ot.isMobile())) {
      var o2 = this._grid;
      if (o2) {
        var r2 = o2.container._containerDom, n2 = It(this._container);
        this._editor === n2.activeElement && r2 && r2.focus({ preventScroll: true });
      } else this._editor.blur();
    }
    t3 != i2 && this._doVisibleChanged(t3);
  }, e2.prototype._doVisibleChanged = function(t3) {
    this.setEditorZIndex(t3);
  }, Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, set: function(t3) {
    var e3 = xt(this._container);
    this._editor instanceof e3.HTMLInputElement && (this._editor.readOnly = this._readOnly = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textReadOnly", { get: function() {
    return this._textReadOnly;
  }, enumerable: false, configurable: true }), e2.prototype._setTextReadOnly = function(t3) {
    t3 != this._textReadOnly && (this._textReadOnly = t3, this._changed());
  }, Object.defineProperty(e2.prototype, "allowEmpty", { get: function() {
    return this._allowEmpty;
  }, enumerable: false, configurable: true }), e2.prototype._setAllowEmpty = function(t3) {
    t3 != this._allowEmpty && (this._allowEmpty = t3, this._changed());
  }, Object.defineProperty(e2.prototype, "editing", { get: function() {
    return this._started;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editIndex", { get: function() {
    return this._editIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._editor.value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.hasButton = function(t3, e3) {
    return false;
  }, e2.prototype.applyOptions = function(t3) {
    t3 && this.assignFrom(t3);
  }, e2.prototype.setEditIndex = function(t3) {
    this._editIndex.assign(t3);
  }, e2.prototype.setController = function(t3) {
    this._controller = t3;
  }, e2.prototype.prepare = function() {
    !this.native && this._editor && this._editor.removeAttribute("type");
  }, e2.prototype.unprepare = function() {
  }, e2.prototype.beginEdit = function(t3, e3) {
    this._started || (this._started = this._doBeginEdit()) && (t3 && this.clear(), e3 && this.selectAll());
  }, e2.prototype.endEdit = function() {
    this._started && (this._doEndEdit(), this._started = false);
  }, e2.prototype.isEdited = function() {
    return false;
  }, e2.prototype.isDisabled = function() {
    return !this._grid || this._grid.container.disabled;
  }, e2.prototype.caretToLast = function() {
  }, e2.prototype.commit = function() {
    this._doCommit();
  }, e2.prototype.setReadOnly = function(t3) {
    this._editor.readOnly = this._readOnly = t3;
  }, e2.prototype.getEditValue = function(t3, e3) {
  }, e2.prototype.getEditListItem = function() {
  }, e2.prototype.setEditValue = function(t3) {
    this._oldValue = t3;
  }, e2.prototype.setCellEditValue = function(t3, e3) {
    !this.readOnly && this._requestStart(e3) && (this.setEditValue(t3), this._doChanged());
  }, e2.prototype.getEditText = function() {
    return "";
  }, e2.prototype.selectAll = function(t3) {
    void 0 === t3 && (t3 = false), this._grid.$_editFocused && (!t3 && Ot.isMobile() || this._selectAll());
  }, e2.prototype.clear = function() {
    var t3 = xt(this._container);
    this._editor instanceof t3.HTMLInputElement && (this._editor.value = "");
  }, e2.prototype.setFocus = function() {
    var t3 = !Ot.isMobile();
    this._grid.accessibility && this.attach(this._grid.getEditContainer(this.editIndex)), !this._grid.handler._draggable && this._editor.focus({ preventScroll: t3 });
  }, e2.prototype.setEditorTitle = function(t3) {
  }, e2.prototype.setBounds = function(t3, e3, i2, o2, r2) {
  }, e2.prototype.setCellBounds = function(t3, e3, i2, o2) {
    this._cellBounds.set(t3, e3, i2, o2);
  }, e2.prototype.closeList = function(t3) {
  }, e2.prototype.dropDownList = function(t3) {
  }, e2.prototype.buttonClicked = function(t3, e3) {
    !this.listing && this.dropDownList(false);
  }, e2.prototype.buttonDown = function(t3, e3) {
  }, e2.prototype.buttonUp = function(t3, e3) {
  }, e2.prototype.skipMaskChar = function(t3) {
    return false;
  }, e2.prototype.setButtonStyle = function(t3, e3, i2, o2, r2) {
    return false;
  }, e2.prototype.attach = function(t3) {
    Ot.addChild(t3, this._container);
  }, e2.prototype.detach = function() {
    Ot.detach(this._container);
  }, e2.prototype.setInert = function(t3) {
    var e3 = this._container;
    t3 ? (this._inertTimer && clearTimeout(this._inertTimer), e3.removeAttribute("inert"), this.editor.removeAttribute("aria-hidden")) : (this._inertTimer && clearTimeout(this._inertTimer), this._inertTimer = setTimeout(function() {
      e3.setAttribute("inert", "");
    }, 0), this.editor.setAttribute("aria-hidden", "true"));
  }, e2.prototype.initOptions = function() {
    this._emptyValue = void 0, this.booleanFormat = null, this._todayChar = null, this._nowChar = null, this.datetimeFormat = null, this._textCase = P.DEFAULT, this._checkHangeul = false, this._composing = false;
  }, e2.prototype.$_setEditorId = function(t3) {
  }, e2.prototype._changed = function() {
  }, e2.prototype.$_setController = function(t3) {
    this._controller = t3;
  }, e2.prototype._editField = function() {
    return this._grid.dataSource ? this._grid.dataSource.getField(this._editIndex.dataField) : null;
  }, e2.prototype._isDateEditor = function() {
    return false;
  }, e2.prototype._requestStart = function(t3) {
    return this._started ? this._started : (this.selectAll(), this._controller.onEditorStart(this));
  }, e2.prototype._valToStr = function(t3) {
    var e3 = this.editIndex, i2 = "";
    try {
      if (void 0 !== t3 || this._mask) {
        var o2 = e3.grid.dataSource.getField(e3.dataField);
        if (o2) switch (o2.dataType) {
          case a.DATETIME:
            t3 && (i2 = this._dateConverter.getText(t3)), this._mask && (i2 = this._mask.writeBuffer(i2));
            break;
          case a.BOOLEAN:
            i2 = this._boolConverter.toText(t3);
            break;
          case a.NUMBER:
            isNaN(t3) || (i2 = Ot.toStr(t3));
            break;
          case a.OBJECT:
            var r2 = e3.column._objectKey || o2.objectKey;
            t3 && (i2 = r2 ? t3[r2] : null != t3 && "object" == typeof t3 ? JSON.stringify(t3) : "");
            break;
          default:
            i2 = this._mask ? this._mask.writeBuffer(t3) : t3;
        }
        else i2 = t3;
      }
    } catch (e4) {
      i2 = t3;
    }
    return null == i2 ? "" : i2;
  }, e2.prototype._strToVal = function(t3) {
    t3 = Ot.toStr(t3);
    var e3 = this._editIndex, i2 = e3.dataColumn && this._textCase == P.DEFAULT ? e3.dataColumn.textInputCase : this._textCase;
    try {
      var o2 = e3.grid.dataSource.getField(e3.dataField);
      if (o2) {
        var r2 = o2.dataType;
        if (r2 == a.DATETIME || t3 && this._isDateEditor() && r2 == a.TEXT) {
          var n2 = r2 == a.DATETIME, s2 = null;
          return t3 && t3 == this._nowChar && (s2 = /* @__PURE__ */ new Date()), !s2 && t3 && t3 == this._todayChar && (s2 = /* @__PURE__ */ new Date()).setHours(0, 0, 0, 0), s2 || (this._mask && (t3 = this._mask.getStripValue()), s2 = this._dateConverter.getDate(t3)), n2 ? !s2 || isNaN(s2.getFullYear()) ? void 0 : s2 : s2 ? this._dateConverter.getText(s2) : void 0;
        }
        if (r2 == a.BOOLEAN) return this._boolConverter.toBoolEx(t3);
        if (r2 == a.NUMBER) return parseFloat(t3);
        r2 == a.TEXT && this._mask && (t3 = this._mask.getStripValue());
      }
      return i2 === P.UPPER ? t3 ? t3.toLocaleUpperCase() : t3 : i2 === P.LOWER && t3 ? t3.toLocaleLowerCase() : t3;
    } catch (t4) {
      return;
    }
  }, e2.prototype._dispatchKeyDown = function(t3) {
    return this._controller, this._controller.onEditorKeyDown(this, t3);
  }, e2.prototype._dispatchKeyPress = function(t3) {
    return this._controller, this._controller.onEditorKeyPress(this, t3);
  }, e2.prototype._dispatchKeyUp = function(t3) {
    return this._controller, this._controller.onEditorKeyUp(this, t3);
  }, e2.prototype._dispatchChange = function() {
    this._controller.onEditorChange(this);
  }, e2.prototype._dispatchSearch = function(t3) {
    this._controller.onEditorSearch(this, t3);
  }, e2.prototype._dispatchSearchCellButtonClick = function(t3) {
    return this._controller.onSearchCellButtonClick(this, t3);
  }, e2.prototype._dispatchCommit = function() {
    this._controller.onEditorCommit(this);
  }, e2.prototype._sendToParent = function(t3, e3, i2) {
    void 0 === e3 && (e3 = void 0);
    try {
      var o2 = Ot.ctrlKey(t3);
      if (2 == e3) {
        if (this._dispatchKeyPress(t3)) return t3.preventDefault && (t3.preventDefault(), t3.stopImmediatePropagation()), true;
      } else if (3 == e3) {
        if (this._dispatchKeyUp(t3)) return t3.preventDefault && (t3.preventDefault(), t3.stopImmediatePropagation()), true;
        try {
          var r2 = this._controller._grid, n2 = r2.editOptions;
          if (n2.maxLengthToNextCell) {
            var s2 = n2.skipReadOnly, a2 = r2.activeTool, l2 = this.maxLength, h2 = this.editIndex.clone(), u2 = Ot.included(t3.keyCode, 38, 33, 40, 34, 113, 9, 13);
            if (!this._checkHangeul && !u2 && !o2 && !t3.altKey && r2 && r2.isEditing(h2) && l2 > 0 && !this._composing && t3.keyCode > 47) {
              var c2 = this._mask ? this._mask.getStripValue() : this._editor.value;
              if (this instanceof ja && this.maxLengthExceptComma) {
                var d2 = this.getEditValue();
                isNaN(d2) && null != d2 || (c2 = String(d2));
              }
              if (c2 && c2.length >= l2) return r2.getBodyViewAt(h2).spanRight(r2.layoutManager, h2), h2.right(), s2 && a2._checkReadOnly(h2) && (a2._skipReadOnly(h2, 1) || (h2 = this.editIndex.clone())), Ts.areEquals(h2, this.editIndex) || a2.setFocused(h2, true, true), true;
            }
          }
        } catch (t4) {
          if (t4 instanceof Tn) throw t4;
          return true;
        }
      } else if (this._dispatchKeyDown(t3)) return t3.preventDefault && (t3.preventDefault(), t3.stopImmediatePropagation()), true;
      return false;
    } finally {
    }
  }, e2.Unselected = {}, e2.InvalidFormat = {}, e2.EDITOR_CSS = "rg-editor ", e2.CONTAINER_CSS = "rg-editor-container", e2;
}(Oe);
var Fa = function() {
  function t2(t3, e2) {
    this._includedFormat = false, this._showInvalidFormatMessage = true, this._overwrite = false, this._allowEmpty = false, this._restrictNull = false, this._definitions = { 9: /[0-9 ]/, 0: /[\d]/, a: /[A-Za-z]/, "*": /[A-Za-z0-9]/ }, this._tests = null, this._defBuffer = [], this._editor = t3, e2 && this.setOptions(e2);
  }
  return t2.prototype.dispose = function() {
    return this._definitions = null, this._tests = null, this._editor._editor && (this._editor._editor.onclick = null), this._editor = null, null;
  }, Object.defineProperty(t2.prototype, "includedFormat", { get: function() {
    return this._includedFormat;
  }, set: function(t3) {
    t3 != this._includedFormat && (this._includedFormat = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "placeHolder", { get: function() {
    return this._placeHolder;
  }, set: function(t3) {
    t3 != this._placeHolder && (this._placeHolder = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "editMask", { get: function() {
    return this._editMask;
  }, set: function(t3) {
    t3 != this._editMask && (this._editMask = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "definitions", { get: function() {
    return this._definitions;
  }, set: function(t3) {
    t3 != this._definitions && (this._definitions = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "invalidFormatMessage", { get: function() {
    return this._invalidFormatMessage;
  }, set: function(t3) {
    t3 != this._invalidFormatMessage && (this._invalidFormatMessage = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "showInvalidFormatMessage", { get: function() {
    return this._showInvalidFormatMessage;
  }, set: function(t3) {
    t3 != this._showInvalidFormatMessage && (this._showInvalidFormatMessage = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "overWrite", { get: function() {
    return this._overwrite;
  }, set: function(t3) {
    t3 != this._overwrite && (this._overwrite = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "allowEmpty", { get: function() {
    return this._allowEmpty;
  }, set: function(t3) {
    t3 != this._allowEmpty && (this._allowEmpty = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "restrictNull", { get: function() {
    return this._restrictNull;
  }, set: function(t3) {
    t3 != this._restrictNull && (this._restrictNull = t3, this._changed());
  }, enumerable: false, configurable: true }), t2.prototype.clickHandler = function(t3) {
    this.restrictNull && this._moveCaret();
  }, t2.prototype.clearBuffer = function(t3, e2) {
    t3 = arguments.length > 0 ? t3 : 0, e2 = arguments.length > 1 ? e2 : this._tests.length;
    for (var i2 = t3; i2 < e2; i2++) this._buffer[i2] = this.$_getPlaceHolder(i2), this._defBuffer[i2] = "";
  }, t2.prototype.writeBuffer = function(t3, e2) {
    if (void 0 === e2 && (e2 = false), t3) {
      e2 && this.clearBuffer();
      for (var i2 = 0, o2 = 0, r2 = this._tests.length; i2 < r2; i2++) if (this._tests[i2] && this._tests[i2] instanceof RegExp) {
        for (var n2 = void 0; n2 = t3[o2++]; ) if (!this._editor.skipMaskChar(n2) && this._tests[i2].test(n2)) {
          this._buffer[i2] = n2, this._defBuffer[i2] = n2;
          break;
        }
      }
    }
    return this._buffer && this._buffer.join("");
  }, t2.prototype.getStripValue = function() {
    var t3 = [], e2 = [];
    if ("" == this._defBuffer.join("")) return null;
    if (this.includedFormat) for (var i2 = 0, o2 = this._buffer.length; i2 < o2; i2++) {
      var r2 = this._buffer[i2];
      !this._tests[i2] || this._tests[i2].test(r2) ? t3.push(r2) : r2 == this.$_getPlaceHolder(i2) && this._tests[i2].test(" ") && t3.push(" ");
    }
    else for (i2 = 0, o2 = this._buffer.length; i2 < o2; i2++) this._tests[i2] && this._tests[i2] instanceof RegExp && this._tests[i2].test(this._buffer[i2]) && (e2.length > 0 && (t3 = t3.concat(e2), e2 = []), t3.push(this._buffer[i2]));
    return t3.join("");
  }, t2.prototype.setOptions = function(t3) {
    if ("string" == typeof t3) this.$_parseMask(t3);
    else if (t3.definitions && this.$_parseDefinitions(t3.definitions), t3.placeHolder && (this._placeHolder = t3.placeHolder), t3.editMask && this.$_parseMask(t3.editMask), null != t3.includedFormat && (this._includedFormat = t3.includedFormat), t3.invalidFormatMessage && (this._invalidFormatMessage = t3.invalidFormatMessage), null != t3.allowEmpty && (this._allowEmpty = t3.allowEmpty), null != t3.showInvalidFormatMessage && (this._showInvalidFormatMessage = t3.showInvalidFormatMessage), null != t3.overwrite && (this._overwrite = t3.overwrite), null != t3.overWrite && (this._overwrite = t3.overWrite), null != t3.restrictNull && (this._restrictNull = t3.restrictNull), this._restrictNull && this._editor) {
      var e2 = this._editor._editor;
      !e2.onclick && (e2.onclick = this.clickHandler.bind(this));
    }
  }, t2.prototype.checkValid = function() {
    var t3 = [];
    if (this.allowEmpty) {
      for (var e2 = 0, i2 = this._tests.length; e2 < i2; e2++) t3[e2] = this.$_getPlaceHolder(e2);
      if (t3.join("") === this._buffer.join("")) return true;
    }
    for (e2 = 0, i2 = this._tests.length; e2 < i2; e2++) {
      var o2 = this._buffer[e2];
      if (this._tests[e2] && !this._tests[e2].test(o2) && o2 == this.$_getPlaceHolder(e2) && !this._tests[e2].test(" ")) return false;
    }
    return true;
  }, t2.prototype._changed = function() {
  }, t2.prototype._moveCaret = function(t3, e2) {
    for (var i2 = this._editor._editor, o2 = t3 = arguments.length > 0 ? t3 : i2.selectionStart, r2 = e2 = arguments.length > 1 ? e2 : i2.selectionEnd, n2 = t3 - 1; n2 >= 0; n2--) {
      if (this._tests[n2] && this._tests[n2].test(this._buffer[n2])) {
        o2 = n2 + 1;
        break;
      }
      o2 = n2;
    }
    for (n2 = e2 - 1; n2 >= 0; n2--) {
      if (this._tests[n2] && this._tests[n2].test(this._buffer[n2])) {
        r2 = n2 + 1;
        break;
      }
      r2 = n2;
    }
    if (o2 != t3 || r2 != e2) {
      for (n2 = o2; n2 <= t3 && !this._tests[n2]; n2++) o2++;
      for (n2 = r2; n2 <= e2 && !this._tests[n2]; n2++) r2++;
      return i2.setSelectionRange(o2, r2), true;
    }
    return o2 != t3 || r2 != e2;
  }, t2.prototype.$_setCaret = function(t3, e2) {
    this._editor._editor.setSelectionRange(t3, e2);
  }, t2.prototype.$_parseDefinitions = function(t3) {
    for (var e2 in t3) "string" == typeof t3[e2] && (this._definitions[e2] = new RegExp(t3[e2]));
  }, t2.prototype.$_parseMask = function(t3) {
    var e2 = this._tests = [], i2 = this._definitions, o2 = t3.split("");
    this._editMask = t3, this._buffer = [];
    for (var r2 = 0, n2 = o2.length; r2 < n2; r2++) e2.push(i2[o2[r2]]), this._buffer.push(i2[o2[r2]] ? this.$_getPlaceHolder(r2) : o2[r2]);
  }, t2.prototype.$_getPlaceHolder = function(t3) {
    return this._placeHolder && this._placeHolder.length > t3 ? this._placeHolder[t3] : this._tests[t3] ? "_" : this._editMask && this._editMask.length > t3 ? this._editMask[t3] : "_";
  }, t2.prototype.$_seekPrev = function(t3) {
    for (; --t3 >= 0 && !this._tests[t3]; ) ;
    return Math.max(0, t3);
  }, t2.prototype.$_seekNext = function(t3) {
    for (; ++t3 < this._editMask.length && !this._tests[t3]; ) ;
    return Math.min(this._editMask.length, t3);
  }, t2.prototype.$_shiftL = function(t3, e2) {
    var i2 = this._editMask.length, o2 = this._buffer;
    if (t3 >= 0) {
      for (var r2 = t3, n2 = this.$_seekNext(e2); i2 > r2; r2++) if (this._tests[r2]) {
        if (!(i2 > n2 && this._tests[r2].test(o2[n2]))) break;
        o2[r2] = o2[n2], this._defBuffer[r2] = this._defBuffer[n2], o2[n2] = this.$_getPlaceHolder(n2), this._defBuffer[n2] = "", n2 = this.$_seekNext(n2);
      }
    }
  }, t2.prototype.$_shiftR = function(t3) {
    for (var e2, i2, o2 = this._editMask.length, r2 = this._buffer, n2 = t3, s2 = this.$_getPlaceHolder(t3); o2 > n2; n2++) if (this._tests[n2]) {
      if (e2 = this.$_seekNext(n2), i2 = r2[n2], this._defBuffer[n2] = s2, r2[n2] = s2, !(o2 > e2 && this._tests[e2].test(i2))) break;
      s2 = i2;
    }
  }, t2.prototype.keydown = function(t3) {
    var e2 = this._editor.editor;
    if (!e2.readOnly) {
      var i2 = t3.which || t3.keyCode, o2 = e2.selectionStart, r2 = e2.selectionEnd;
      if (46 === i2 || 8 === i2) o2 == r2 && (o2 = 46 !== i2 ? this.$_seekPrev(o2) : r2 = this.$_seekNext(o2 - 1), r2 = 46 === i2 ? this.$_seekNext(r2) : r2), this.clearBuffer(o2, r2), !this._overwrite && this.$_shiftL(o2, r2 - 1), e2.value = this.writeBuffer(), this.$_setCaret(Math.max(0, o2), Math.max(0, o2));
      else if (39 === i2 || 35 === i2) return this._moveCaret();
      this._pStart = e2.selectionStart;
    }
  }, t2.prototype.keyPress = function(t3) {
    var e2 = this._editor.editor;
    if (!e2.readOnly) {
      this.restrictNull && this._moveCaret();
      var i2, o2 = e2.selectionStart, r2 = e2.selectionEnd, n2 = t3.which || t3.keyCode;
      this.clearBuffer(o2, r2), o2 !== r2 && this.$_shiftL(o2, r2 - 1);
      var s2 = this.$_seekNext(o2 - 1);
      this._editMask && this._editMask.length > s2 && this._tests[s2] && this._tests[s2].test(i2 = String.fromCharCode(n2)) && (!this._overwrite && this.$_shiftR(o2), this._buffer[s2] = i2, this._defBuffer[s2] = i2, e2.value = this.writeBuffer(), s2 = this.$_seekNext(s2), this.$_setCaret(Math.max(0, s2), Math.max(0, s2))), this._pStart = e2.selectionStart;
    }
  }, t2.prototype.input = function(t3) {
    var e2 = this._editor.editor;
    if (!e2.readOnly) {
      var i2 = e2.value;
      /[ㄱ-ㅎㅏ-ㅣ가-힝]/.test(i2) && (e2.value = e2.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힝]/g, ""), null != this._pStart && e2.setSelectionRange(this._pStart, this._pStart));
    }
  }, t2;
}();
var La = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3._maxLength = 0, e3._fontSize = 0, e3._modified = false, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "maxLength", { get: function() {
    return this._maxLength;
  }, set: function(t3) {
    t3 != this._maxLength && (this._maxLength = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fontSize", { get: function() {
    return this._fontSize;
  }, set: function(t3) {
    this._fontSize = isNaN(t3) ? 0 : Math.max(0, t3);
  }, enumerable: false, configurable: true }), e2.prototype._createContainer = function(t3) {
    var e3 = t3.createElement("div"), i2 = e3.style;
    return e3.spellcheck = false, i2.position = "absolute", i2.width = "0px", i2.height = "0px", i2.padding = "0px", i2.margin = "0px", e3;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._maxLength = 0;
  }, Object.defineProperty(e2.prototype, "readonly", { set: function(t3) {
    this._editor.readOnly = this._readOnly = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isEdited = function() {
    return this._modified;
  }, e2.prototype.setVisible = function(e3, i2) {
    t2.prototype.setVisible.call(this, e3, i2);
    var o2 = this._container.style;
    e3 ? (o2.border = "", o2.boxShadow = "") : e3 || (o2.border = "none", o2.boxShadow = "none");
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3);
    var i2 = this._editor.style;
    Ot.isMobile() ? i2.fontSize = Math.max(this.fontSize, 16) + "px" : this.fontSize > 0 && (i2.fontSize = this.fontSize + "px");
    var o2 = e3.valueColumn;
    if (o2) switch (this._textCase == P.DEFAULT ? o2.textInputCase : this._textCase) {
      case P.LOWER:
        this._editor.style.textTransform = "lowercase";
        break;
      case P.UPPER:
        this._editor.style.textTransform = "uppercase";
        break;
      default:
        this._editor.style.textTransform = "none";
    }
  }, e2.prototype.getEditText = function() {
    return this._editor.value;
  }, e2.prototype.setEditValue = function(e3) {
    t2.prototype.setEditValue.call(this, e3), this._editor.value = this._valToStr(e3);
  }, e2.prototype.getEditValue = function(t3, e3) {
    void 0 === t3 && (t3 = true);
    var i2 = this._editField(), o2 = this._emptyValue;
    try {
      var r2 = i2.dataType, n2 = this._editor.value;
      if (r2 == a.TEXT) n2 || void 0 === this._emptyValue || (n2 = this._emptyValue), void 0 === (o2 = this._strToVal(n2)) && (o2 = "");
      else {
        if (r2 === a.OBJECT) {
          var s2 = this._editIndex.dataColumn.objectKey || i2.objectKey, l2 = this._editIndex.item.getData(i2.index) || {};
          return l2[s2] = n2, l2;
        }
        if (Ot.isWhiteSpace(n2)) if (void 0 !== this._emptyValue) o2 = this._strToVal(this._emptyValue);
        else switch (r2) {
          case a.NUMBER:
            isNaN(this._oldValue) && (o2 = NaN);
            break;
          case a.DATETIME:
            null === this._oldValue && (o2 = null);
          case a.BOOLEAN:
        }
        else o2 = this._strToVal(n2);
      }
      if (o2 === Ma.InvalidFormat) return o2;
      o2 = i2.readValue(o2);
    } catch (e4) {
      if (t3) throw e4;
      o2 = this._emptyValue;
    }
    return o2;
  }, e2.prototype._selectAll = function() {
    var t3 = this._editor;
    if (t3.select && t3.value) {
      var e3 = t3.value;
      t3.value = "", t3.value = e3, t3.select();
    }
  }, e2.prototype._setSelectionRange = function(t3, e3) {
    try {
      var i2 = this._editor;
      (!Ot.isMobile() || !this.hasList) && null != i2.selectionStart && i2.setSelectionRange(t3, e3);
    } catch (t4) {
      Ot.log("setSelectionRange fail type => ".concat(this._editor.getAttribute("type")));
    }
  }, e2.prototype._doBeginEdit = function() {
    if (this._modified = false, this.visible) return Ot.isMobile() && this.caretToLast(), true;
  }, e2.prototype._doEndEdit = function() {
    this._modified = false;
  }, e2.prototype._doCommit = function() {
  }, e2.prototype.$_createEditor = function(t3, e3) {
    var i2 = It(t3);
    this._container = this._createContainer(i2), t3.appendChild(this._container);
    var o2 = "$$_rg_editor" + this.$_hash, r2 = i2.createElement("label");
    r2.setAttribute("for", o2);
    var n2 = r2.style;
    n2.display = "none", n2.position = "absolute", n2.width = n2.height = "0px";
    var s2 = i2.createElement(e3);
    s2.id = o2, n2 = s2.style, s2.autocomplete = "off", n2.position = "absolute", n2.boxSizing = "border-box", n2.margin = "0px", n2.padding = "0px 2px", n2.wordWrap = "normal", n2.overflow = "hidden", n2.resize = "none", n2.border = "none", n2.outline = "none", n2.left = "0px", n2.top = "0px", n2.width = "100%", n2.height = "100%", n2["-webkit-user-modify"] = "read-write-plaintext-only", n2["white-space"] = "pre", n2["-webkit-transform"] = "translateZ(0)", s2.tabIndex = -1, this._container.appendChild(s2), this._container.appendChild(r2), s2.onkeydown = this._keyDownHandler.bind(this), s2.onkeyup = this._keyUpHandler.bind(this), s2.onkeypress = this._keyPressHandler.bind(this), s2.oninput = this._inputHandler.bind(this), s2.onpaste = this._pasteHandler.bind(this), s2.oncopy = this._copyHandler.bind(this), s2.oncut = this._copyHandler.bind(this);
    var a2 = this._grid.container;
    return a2.$_addListener(s2, "compositionstart", this._compositionstartHandler.bind(this), false), a2.$_addListener(s2, "compositionupdate", this._compositionupdateHandler.bind(this), false), a2.$_addListener(s2, "compositionend", this._compositionendHandler.bind(this), false), s2;
  }, e2;
}(Ma);
var Na = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._editor.$_owner = null, this._editor.onkeydown = null, this._editor.onkeyup = null, this._editor.onkeypress = null, this._editor.oninput = null, this._editor.onpaste = null, this._editor.oncopy = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "mask", { get: function() {
    return this._mask;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._editor.value;
  }, set: function(t3) {
    !this._editor || t3 == this._editor.value && t3 == this._controller.getData(this._editIndex) || (this._editor.value = t3, this._doChanged());
  }, enumerable: false, configurable: true }), e2.prototype.setMask = function(t3) {
    this._mask = null, t3 && (this._mask = new Fa(this, t3));
  }, e2.prototype.setAlignment = function(t3) {
    this._container.style.textAlign = "left";
  }, e2.prototype._createEditor = function(e3) {
    var i2 = t2.prototype.$_createEditor.call(this, e3, "input");
    return this._defMaxLength = i2.maxLength > 0 ? i2.maxLength : 1e6, i2;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._editor.readOnly = this._readOnly = false, this._mask && (this._mask = this._mask.dispose());
  }, e2.prototype.applyOptions = function(e3) {
    t2.prototype.applyOptions.call(this, e3), e3.mask && this.setMask(e3.mask);
  }, e2.prototype.caretToLast = function() {
    var t3 = Ot.toStr(this._editor.value).length;
    this._setSelectionRange(t3, t3);
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3), this._editor.maxLength = this.maxLength > 0 ? this.maxLength : this._defMaxLength;
  }, e2.prototype.setEditorZIndex = function(t3) {
    var e3 = this._editor.style, i2 = this._grid.displayOptions.baseZindex;
    t3 ? e3.zIndex = String(i2 + 0) : e3.removeProperty("z-index");
  }, e2.prototype._doChanged = function() {
    this._requestStart(), this._started && (this._textReadOnly || !this._editor.readOnly || this.allowEmpty && "" === this.text) && (this._modified = true, this._dispatchChange());
  }, e2.prototype.setBounds = function(t3, e3, i2, o2, r2) {
    Ot.setBounds(this._container, t3, e3, i2, o2), 0 == i2 || 0 == o2 ? this._editor.style.width = "100%" : r2 > 0 && (this._editor.style.height = Math.round(o2 - 4) + "px", this._editor.style.width = r2 + "px");
  }, e2.prototype._doPaste = function(e3, i2) {
    if (this._mask) {
      e3.preventDefault();
      var o2 = this._editor, r2 = o2.value, n2 = o2.selectionStart, s2 = o2.selectionEnd;
      r2 = r2.substr(0, n2) + i2 + r2.substr(s2), o2.value = this._mask.writeBuffer(r2, true);
    } else t2.prototype._doPaste.call(this, e3, i2);
  }, e2.prototype._keyDownHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = this._editor, i2 = t3.keyCode, o2 = Ot.ctrlKey(t3);
      if (o2) {
        if (this.visible && Ot.included(i2, 89, 90, 121, 122)) return;
        if (Ot.isIE) {
          if (86 === i2 && e3.readOnly) return t3.preventDefault(), this._pasteHandler(t3), false;
          if ((88 === i2 || 67 === i2 || 45 === i2) && "" == e3.value && Ma.copyCutProc(this, t3)) return false;
        }
      }
      switch (this._inputValue = e3.value, i2) {
        case 8:
        case 46:
          this._sendToParent(t3) || (!this.visible && this._requestStart() ? e3.readOnly && !this.allowEmpty || !this._controller._getData(this._editIndex) || (this._mask ? (t3.preventDefault(), t3.stopImmediatePropagation(), this._mask.keydown(t3), this._doChanged()) : this.text = "") : this._mask && (t3.preventDefault(), t3.stopImmediatePropagation(), this._mask.keydown(t3), this._doChanged()), 8 === i2 && e3.readOnly && (t3.preventDefault(), t3.stopImmediatePropagation()));
          break;
        case 9:
          return !this._sendToParent(t3);
        case 37:
          if (!this.visible || 0 == e3.selectionEnd && e3.selectionEnd == e3.selectionStart) return !this._sendToParent(t3);
          if (e3.readOnly && Ot.isChrome) return !this._sendToParent(t3);
          t3.stopImmediatePropagation();
          break;
        case 39:
          if (!this.visible || e3.selectionEnd == e3.value.length && e3.selectionEnd == e3.selectionStart) return !this._sendToParent(t3);
          if (e3.readOnly && Ot.isChrome) return !this._sendToParent(t3);
          if (!Ot.specialKey(t3) && this._mask && this._mask.restrictNull) {
            var r2 = e3.selectionStart;
            this._mask._moveCaret(r2 + 1, r2 + 1) && (t3.preventDefault(), t3.stopImmediatePropagation());
          }
          t3.stopImmediatePropagation();
          break;
        case 36:
          if (!this.visible) return !this._sendToParent(t3);
          t3.stopImmediatePropagation();
          break;
        case 35:
          if (!this.visible) return !this._sendToParent(t3);
          if (this._mask && this._mask.restrictNull) {
            var n2 = e3.value ? e3.value.length - 1 : 0;
            this._mask._moveCaret(n2, n2) && (t3.preventDefault(), t3.stopImmediatePropagation());
          }
          t3.stopImmediatePropagation();
          break;
        case 32:
          if (!this.visible || o2 || t3.altKey) return !this._sendToParent(t3);
          break;
        case 38:
        case 33:
        case 40:
        case 34:
        case 13:
        case 27:
        case 113:
        case 45:
          return t3.preventDefault(), t3.stopImmediatePropagation(), !this._sendToParent(t3);
        case 229:
          this._sendToParent(t3);
          break;
        default:
          return !this._sendToParent(t3, null, true);
      }
      return Ot.isFirefox ? !o2 && !t3.altKey && 229 !== i2 && i2 >= 32 && (i2 < 112 || i2 > 130) && this._requestStart() : Ot.isIE, true;
    }
  }, e2.prototype._keyUpHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = t3.keyCode;
      switch (8 != e3 && 46 != e3 || Ot.ieOld && this.visible && !this._editor.readOnly && this._editor.value != this._inputValue && this._doChanged(), t3.keyCode) {
        case 37:
        case 39:
        case 36:
        case 35:
        case 32:
          this.visible || this._sendToParent(t3, 3);
          break;
        default:
          this._sendToParent(t3, 3);
      }
    }
  }, e2.prototype._keyPressHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = t3.which || t3.keyCode, i2 = Ot.isMac && t3.metaKey, o2 = Ot.ctrlKey(t3);
      this._sendToParent(t3, 2), Ot.isFirefox ? o2 || t3.altKey || !(0 == e3 || e3 >= 32) || (this._requestStart() ? this._mask && (this._mask._pStart = t3.target.selectionStart, this._mask.keyPress(t3), this._doChanged(), t3.preventDefault()) : t3.preventDefault()) : !i2 || 122 !== e3 && 121 !== e3 ? (!i2 || 99 !== e3 && 118 !== e3 && 120 !== e3) && (i2 && t3.shiftKey && 32 === e3 || e3 >= 32 && (this._requestStart() ? this._mask && (this._mask._pStart = t3.target.selectionStart, this._mask.keyPress(t3), this._doChanged(), t3.preventDefault()) : t3.preventDefault())) : t3.preventDefault();
    }
  }, e2.prototype._compositionstartHandler = function(t3) {
    this.isDisabled() || (this._composing = true);
  }, e2.prototype._compositionendHandler = function() {
    this._composing = false;
  }, e2.prototype._compositionupdateHandler = function() {
    this._composing = true, !this._started && this._requestStart(), this._started && !this._editor.readOnly && (this._checkHangeul = true);
  }, e2.prototype._changeHandler = function(t3) {
  }, e2.prototype._inputHandler = function(t3) {
    this.isDisabled() || (!Ot.isIE || this._started || this._composing) && "historyUndo" !== t3.inputType && "historyRedo" !== t3.inputType && (this._mask && this._mask.input(t3), this._doChanged());
  }, e2.prototype._getInputSelector = function() {
    return null;
  }, e2;
}(La);
var $a = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "inputCharacters", { get: function() {
    return this._inputCharacters;
  }, set: function(t3) {
    this._inputCharacters = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ignoreCharacters", { get: function() {
    return this._ignoreCharacters;
  }, set: function(t3) {
    this._ignoreCharacters = t3;
  }, enumerable: false, configurable: true }), e2.prototype.initOptions = function() {
    this._inputCharacters = null, this._ignoreCharacters = null, t2.prototype.initOptions.call(this);
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype._inputHandler = function(e3) {
    this.$_resetValue(e3), t2.prototype._inputHandler.call(this, e3);
  }, e2.prototype._keyDownHandler = function(e3) {
    return this._pStart = e3.target.selectionStart, t2.prototype._keyDownHandler.call(this, e3);
  }, e2.prototype._createEditor = function(e3) {
    var i2 = t2.prototype._createEditor.call(this, e3);
    return i2.tabIndex = -1, i2;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.$_resetValue = function(t3) {
    var e3, i2, o2 = this, r2 = this._editor, n2 = r2.value, s2 = function(e4) {
      e4.test(n2) && (i2 = true, "insertFromPaste" === t3.inputType ? (n2 = n2.replace(e4, ""), o2._pStart += t3.data.replace(e4, "").length) : n2 = o2._inputValue ? o2._inputValue.replace(e4, "") : n2.replace(e4, ""));
    };
    this.visible && ((e3 = this.inputCharacters) && s2.call(this, new RegExp("[^" + e3 + "]", "g")), (e3 = this.ignoreCharacters) && s2.call(this, new RegExp("[" + e3 + "]", "g")), i2 && (r2.value = n2, null != this._pStart && r2.setSelectionRange(this._pStart, this._pStart)), this._pStart = null);
  }, e2.INPUT_CSS = "rg-text-editor", e2;
}(Na);
var Aa = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._createEditor = function(e3) {
    var i2 = t2.prototype._createEditor.call(this, e3);
    return i2.setAttribute("type", "password"), i2.tabIndex = -1, i2;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype.prepare = function() {
  }, e2.INPUT_CSS = "rg-password-editor", e2;
}(Na);
var Ba = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._editor.onkeydown = null, this._editor.onkeyup = null, this._editor.onkeypress = null, this._editor.oninput = null, this._editor.onpaste = null, this._editor.oncopy = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "minHeight", { get: function() {
    return this._minHeight;
  }, set: function(t3) {
    t3 != this._minHeight && (this._minHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "height", { get: function() {
    return this._height;
  }, set: function(t3) {
    this._height = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minWidth", { get: function() {
    return this._minWidth;
  }, set: function(t3) {
    this._minWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    this._width = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "altEnterNewLine", { get: function() {
    return this._altEnterNewLine;
  }, set: function(t3) {
    t3 != this._altEnterNewLine && (this._altEnterNewLine = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._editor.value;
  }, enumerable: false, configurable: true }), e2.prototype.setAlignment = function(t3) {
    this._container.style.textAlign = "left";
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._minHeight = 0, this._height = 0, this._minWidth = 0, this._width = 0, this._altEnterNewLine = false, this._editor.style.setProperty("overflow", "hidden"), this.setReadOnly(false);
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3), this._editor.maxLength = this.maxLength > 0 ? this.maxLength : 2e9;
  }, e2.prototype.setCellEditValue = function(e3) {
    t2.prototype.setCellEditValue.call(this, e3, false);
  }, e2.prototype.setEditorZIndex = function(t3) {
    function e3(t4, e4, i3) {
      var o2 = e4.style;
      t4 ? o2.zIndex = String(i3 + 0) : o2.removeProperty("z-index");
    }
    var i2 = this._grid.displayOptions.baseZindex;
    e3(t3, this._editor, i2), this._grid.accessibility && e3(t3, this._container, i2);
  }, e2.prototype._doChanged = function() {
    this._requestStart(), this._started && !this._editor.readOnly && (this._modified = true, this._dispatchChange(), this.$_resetBounds());
  }, e2.prototype.$_resetBounds = function() {
    var t3, e3, i2 = Ot.getSize(this._container), o2 = this._editor, r2 = this._grid.getEditCellBounds(this, this._editIndex);
    this._height < 0 ? t3 = r2.height + (Ot.isMobile() ? 3 : 1) : this._height > 0 && (t3 = this._height), this._width < 0 ? e3 = r2.width + (Ot.isMobile() ? 3 : 1) : this._width > 0 && (e3 = this._width);
    var n2 = i2.cx, s2 = i2.cy, a2 = i2.width, l2 = Math.round(i2.height), h2 = (t3 && o2.scrollHeight - o2.clientHeight) > 0 ? Ot.isMac ? 0 : 15 : 0, u2 = (e3 && o2.scrollWidth - o2.clientWidth) > 0 ? Ot.isMac ? 0 : 15 : 0;
    t3 ? (o2.style.overflowY = "auto", l2 = t3) : o2.scrollHeight + u2 > l2 && (l2 = o2.scrollHeight + 6 + u2), e3 ? (o2.style.overflowX = "auto", a2 = e3) : o2.scrollWidth + h2 > a2 && (a2 = o2.scrollWidth + 6 + h2);
    var c2 = isNaN(this._minHeight) ? 0 : this._minHeight;
    c2 > 0 && (l2 = Math.max(l2, c2));
    var d2 = isNaN(this._minWidth) ? 0 : this._minWidth;
    d2 > 0 && (a2 = Math.max(a2, d2)), i2 = Ot.getSize(this._parentElement), a2 = Math.min(i2.width, a2), l2 = Math.min(i2.height, l2), n2 + a2 > i2.width && (n2 = i2.width - a2), s2 + l2 > i2.height && (s2 = i2.height - l2), Ot.setBounds(this._container, Math.max(n2, 0), Math.max(s2, 0), a2, l2);
  }, e2.prototype._createEditor = function(e3) {
    var i2 = t2.prototype.$_createEditor.call(this, e3, "textarea"), o2 = It(e3), r2 = i2.style;
    r2.padding = "0px";
    var n2 = this._dummyEditor = o2.createElement("input");
    return (r2 = n2.style).width = "1px", r2.height = "1px", r2.position = "absolute", r2.top = "0px", r2.zIndex = "-1", r2.border = "none", n2.tabIndex = -1, Ot.isWin && this._container.appendChild(n2), i2;
  }, e2.prototype.setBounds = function(t3, e3, i2, o2) {
    Ot.setBounds(this._container, t3, e3, i2, o2), t3 > Ot.$_INVISIBLE_EDIT_BOUNDS.x && this.$_resetBounds();
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype._compositionstartHandler = function(t3) {
    this.isDisabled() || (this._composing = true, this._requestStart());
  }, e2.prototype._compositionendHandler = function() {
    this._composing = false;
  }, e2.prototype._compositionupdateHandler = function() {
    this._composing = true;
  }, e2.prototype._keyDownHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = this._editor, i2 = t3.keyCode;
      if (Ot.ctrlKey(t3)) {
        if (this.visible && (90 === i2 || 89 === i2)) return;
        if (Ot.isIE) {
          if (86 === i2 && e3.readOnly) return t3.preventDefault(), this._pasteHandler(t3), false;
          if ((88 === i2 || 67 === i2 || 45 === i2) && "" == e3.value && Ma.copyCutProc(this, t3)) return false;
        }
      }
      switch (i2) {
        case 8:
        case 46:
          this._sendToParent(t3) || !this.visible && this._requestStart() && (t3.preventDefault(), t3.stopImmediatePropagation(), !this._editor.readOnly && this._controller.getData(this._editIndex) && (this._editor.value = "", this._modified = true, this._dispatchChange()));
          break;
        case 9:
          return !this._sendToParent(t3);
        case 37:
          if (!this.visible || 0 == e3.selectionEnd && e3.selectionEnd == e3.selectionStart) return !this._sendToParent(t3);
          break;
        case 39:
          if (!this.visible || e3.selectionEnd == e3.value.length && e3.selectionEnd == e3.selectionStart) return !this._sendToParent(t3);
          break;
        case 36:
        case 35:
        case 38:
        case 33:
        case 40:
        case 34:
          if (!this.visible) return !this._sendToParent(t3);
          t3.stopImmediatePropagation();
          break;
        case 32:
          if (!this.visible) return !this._sendToParent(t3);
          break;
        case 13:
          var o2 = Ot.ctrlKey(t3);
          if (this.altEnterNewLine) {
            if (!(t3.altKey && this.editing || t3.shiftKey)) return !this._sendToParent(t3);
          } else if (!(o2 && this.editing || t3.shiftKey)) return !this._sendToParent(t3);
          if ((this.altEnterNewLine && t3.altKey || !this.altEnterNewLine && o2) && !t3.shiftKey) {
            t3.preventDefault(), t3.stopImmediatePropagation();
            var r2 = e3.value;
            if (r2) try {
              this._grid.container._dummyFocus = true, Ot.isWin && this._dummyEditor && this._dummyEditor.focus();
              var n2 = e3.selectionEnd;
              r2 = r2.substring(0, n2) + "\r\n" + r2.substring(n2), e3.value = r2, e3.setSelectionRange(n2 + 1, n2 + 1), Ot.isWin && e3.focus(), this._doChanged();
            } finally {
              this._grid.container._dummyFocus = false;
            }
          }
          break;
        case 27:
        case 113:
        case 45:
          return t3.preventDefault(), t3.stopImmediatePropagation(), !this._sendToParent(t3);
        case 229:
          break;
        default:
          return this._sendToParent(t3, null, true), true;
      }
      return t3.keyCode, true;
    }
  }, e2.prototype._keyUpHandler = function(t3) {
    if (!this.isDisabled()) {
      var e3 = t3.keyCode;
      switch (8 != e3 && 46 != e3 || Ot.ieOld && this.visible && !this._editor.readOnly && this._editor.value != this._inputValue && this._doChanged(), t3.keyCode) {
        case 37:
        case 39:
        case 36:
        case 35:
        case 32:
          this.visible || this._sendToParent(t3, 3);
          break;
        default:
          this._sendToParent(t3, 3);
      }
    }
  }, e2.prototype._keyPressHandler = function(t3) {
    var e3 = t3.which || t3.keyCode, i2 = Ot.isMac && t3.metaKey;
    this.isDisabled() || (!i2 || 122 !== e3 && 121 !== e3 ? (!i2 || 99 !== e3 && 118 !== e3) && (i2 && t3.shiftKey && 32 === e3 || e3 >= 32 && !this._requestStart() && t3.preventDefault()) : t3.preventDefault());
  }, e2.prototype._inputHandler = function(t3) {
    this.isDisabled() || "historyUndo" !== t3.inputType && "historyRedo" !== t3.inputType && this._doChanged();
  }, e2.INPUT_CSS = "rg-multiline-editor", e2;
}(La);
var Va = /[ㄱ-ㅎㅏ-ㅣ가-힝]/g;
var ja = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._regxAll = /[\d]|,|\.|\-|\+|e|E/, o2._regxPos = /[\d]|,|\.|\+|e|E/, o2._regxInt = /[\d]|,|\+|\-/, o2._regxPosInt = /[\d]|,|\+/, o2._regx = o2._regxAll, o2._decLen = void 0, o2._decimalFormatter = void 0, o2._isMultiple = false, o2._active = false, o2._stepChanged = false, o2._editor.style["ime-mode"] = "disabled", o2._editor.style["-webkit-ime-mode"] = "disabled", o2._editor.style["-moz-ime-mode"] = "disabled", o2._editor.style["-ms-ime-mode"] = "disabled", o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "positiveOnly", { get: function() {
    return this._positiveOnly;
  }, set: function(t3) {
    t3 != this._positiveOnly && (this._positiveOnly = t3, this.$_resetRistrict());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "integerOnly", { get: function() {
    return this._integerOnly;
  }, set: function(t3) {
    t3 != this._integerOnly && (this._integerOnly = t3, this.$_resetRistrict());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editFormat", { get: function() {
    return this._editFormat;
  }, set: function(t3) {
    if (t3 != this._editFormat) if (this._editFormat = t3, t3) {
      var e3 = this._decimalFormatter = new ze(t3);
      e3 && (this._decSep = e3.separator || Ge.messages.decimalSeparator, this._groupSep = e3.groupSep || Ge.messages.thousandsSeparator, this._decLen = Math.max(e3.minDigits, e3.maxDigits));
    } else this._decimalFormatter = void 0, this._decSep = Ge.messages.decimalSeparator, this._groupSep = Ge.messages.thousandsSeparator, this._decLen = void 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "multipleChar", { get: function() {
    return this._multipleChar;
  }, set: function(t3) {
    t3 != this._multipleChar && (this._multipleChar = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "addString", { get: function() {
    return this._addString;
  }, set: function(t3) {
    t3 != this._addString && (this._addString = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxLengthExceptComma", { get: function() {
    return this._maxLengthExceptComma;
  }, set: function(t3) {
    t3 != this._maxLengthExceptComma && (this._maxLengthExceptComma = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxIntegerLength", { get: function() {
    return this._maxIntegerLength;
  }, set: function(t3) {
    t3 != this._maxIntegerLength && (this._maxIntegerLength = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blankWhenSpace", { get: function() {
    return this._blankWhenSpace;
  }, set: function(t3) {
    t3 != this._blankWhenSpace && (this._blankWhenSpace = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "step", { get: function() {
    return this._step;
  }, set: function(t3) {
    t3 !== this._step && 0 != t3 && (this._step = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "max", { get: function() {
    return this._max;
  }, set: function(t3) {
    this._max = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "min", { get: function() {
    return this._min;
  }, set: function(t3) {
    this._min = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "delay", { get: function() {
    return this._delay;
  }, set: function(t3) {
    t3 !== this._delay && (this._delay = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textReadOnly", { get: function() {
    return this._textReadOnly;
  }, set: function(t3) {
    this._setTextReadOnly(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "direction", { get: function() {
    return this._direction;
  }, set: function(t3) {
    this._direction = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showStepButton", { get: function() {
    return this._showStepButton;
  }, set: function(t3) {
    this._showStepButton = t3;
  }, enumerable: false, configurable: true }), e2.prototype.setMask = function(t3) {
    this._mask = null;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this.editFormat = void 0, this._positiveOnly = false, this._integerOnly = false, this._multipleChar = void 0, this._addString = "000", this._blankWhenSpace = false, this._maxLengthExceptComma = false, this._maxIntegerLength = 0, this._step = 1, this._min = this._max = void 0, this._delay = 100, this._active = false, this._direction = "vertical", this._showStepButton = false, this._textReadOnly = false, this.$_resetRistrict();
  }, e2.prototype.initDefaultOptions = function() {
    var t3 = this._grid;
    t3 && Ma.initDefault(this, Ke.editor.numberCellEditor, t3.editorOptions.numberCellEditor);
  }, e2.prototype.hasButton = function(t3, e3) {
    return null != e3.showStepButton && e3.showStepButton;
  }, Object.defineProperty(e2.prototype, "buttonCount", { get: function() {
    return 2;
  }, enumerable: false, configurable: true }), e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3), this._editor.maxLength = this.maxLengthExceptComma || this.maxLength <= 0 ? this._defMaxLength : this.maxLength;
  }, e2.prototype._inputHandler = function(e3) {
    e3.data && e3.data.match(Va) ? e3.target.value = this._inputValue : (this._editFormat && this.$_editFormatting(e3), t2.prototype._inputHandler.call(this, e3));
  }, e2.prototype._keyPressHandler = function(e3) {
    var i2 = e3.keyCode || e3.which;
    if (Ot.isFirefox) {
      if (e3.ctrlKey || 0 === e3.charCode) return void t2.prototype._keyPressHandler.call(this, e3);
    } else if (Ot.isSafari && Ot.ctrlKey(e3) && Ot.included(i2, 99, 118, 120)) return void t2.prototype._keyPressHandler.call(this, e3);
    var o2 = true, r2 = String.fromCharCode(e3.keyCode || e3.charCode);
    (!this._regx.test(r2) || e3.target.value && e3.target.value.indexOf(this._decSep) >= 0 && r2 == this._decSep) && (this._multipleChar && r2 === this._multipleChar || (o2 = false, (!this.blankWhenSpace || " " !== r2) && e3.preventDefault()));
    var n2 = e3.target.selectionStart, s2 = e3.target.selectionEnd, a2 = e3.target.value, l2 = new RegExp("\\" + this._groupSep, "g"), h2 = a2 ? a2.split("") : [];
    if (h2.splice(n2, s2 - n2, r2 === this._multipleChar ? this._addString : r2), h2 = h2.join("").replace(l2, ""), this.maxLength > 0 && o2 && this.maxLengthExceptComma && a2) {
      var u2 = h2 && "-" === h2[0];
      u2 && (h2 = h2.substr(1)), h2.length > this.maxLength && e3.preventDefault(), h2 = u2 ? "-" + h2 : h2;
    }
    if (this._maxIntegerLength > 0 && r2 !== this._decSep) {
      var c2 = Math.floor(this.$_strToNum(h2));
      if (!isNaN(c2)) {
        var d2 = Math.abs(c2).toString().length;
        this._maxIntegerLength < d2 && e3.preventDefault();
      }
    }
    this._isMultiple = r2 == this._multipleChar, t2.prototype._keyPressHandler.call(this, e3);
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = e3.keyCode || e3.charCode;
      if (this._isMultiple = false, (8 === i2 || 46 === i2) && this.editing && this._editFormat) {
        var o2 = e3.target, r2 = o2.value, n2 = r2.length, s2 = r2 && r2.split(""), a2 = o2.selectionStart, l2 = o2.selectionEnd;
        if (a2 !== l2) return t2.prototype._keyDownHandler.call(this, e3);
        var h2 = r2[8 === i2 ? a2 - 1 : a2];
        if (h2 === this._groupSep || h2 === this._decSep) if (h2 === this._decSep && a2 === (8 === i2 ? r2.length : r2.length - 1)) ;
        else {
          s2.splice(8 === i2 ? a2 - 2 : a2 + 1, 1), o2.value = s2.join(""), this.$_editFormatting(e3), r2 = o2.value;
          var u2 = n2 - (8 === i2 ? r2.length : n2);
          o2.setSelectionRange(a2 - u2, l2 - u2), this._doChanged(), e3.preventDefault();
        }
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._compositionstartHandler = function(t3) {
    this.isDisabled() || this._requestStart();
  }, e2.prototype._dispatchChange = function() {
    this.visible && (this.$_resetValue(), t2.prototype._dispatchChange.call(this));
  }, e2.prototype.setEditValue = function(t3) {
    var e3 = parseFloat(t3);
    isNaN(e3) ? this._editor.value = "" : this._editFormat && "number" == typeof e3 ? this._editor.value = this._decimalFormatter.getText(t3) : this._editor.value = e3;
  }, e2.prototype.getEditValue = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = false), this.$_resetValue();
    var i2 = this._emptyValue;
    try {
      var o2 = this._editor.value;
      if (o2 = o2 && o2.trim()) {
        var r2 = new RegExp("\\" + this._groupSep, "g"), n2 = new RegExp("[\\" + this._decSep + "]+", "g");
        o2 = (o2 = (o2 = (o2 = (o2 = (o2 = o2.replace(r2, "")).replace(n2, ".")).replace(/\++/g, "+")).replace(/\-+/g, "-")).replace(/\+\-/g, "+")).replace(/\-\+/g, "-");
      }
      o2 ? (i2 = parseFloat(o2), e3 && (i2 = null != this._max ? Math.min(i2, this._max) : i2, i2 = null != this._min ? Math.max(i2, this._min) : i2)) : i2 = null != i2 ? i2 : void 0;
    } catch (e4) {
      if (t3) throw e4;
    }
    return i2;
  }, e2.prototype.setCellEditValue = function(t3) {
    !this.readOnly && this._requestStart() && ("string" != typeof t3 && "number" != typeof t3 || (t3 = this.$_strToNum(t3), this.setEditValue(t3), this._doChanged()));
  }, e2.prototype.buttonDown = function(t3, e3) {
    var i2, o2 = e3.target;
    Ot.stopEvent(e3), "up" === o2.$_editButtonType ? i2 = this.step : "down" === o2.$_editButtonType && (i2 = -this.step), i2 && (this.$_changeStepValue(i2), this._active = true, setTimeout((function() {
      this._active && !this._stepTimer && (this._stepTimer = setInterval((function() {
        this.$_changeStepValue(i2);
      }).bind(this), this._delay));
    }).bind(this), 300));
  }, e2.prototype.buttonUp = function(t3, e3) {
    this._active = false, clearInterval(this._stepTimer), this._stepTimer = null;
  }, e2.prototype.setButtonStyle = function(t3, e3, i2, o2, r2) {
    var n2 = t3.style;
    i2 ? (0 === e3 ? n2.top = "0px" : n2.removeProperty("top"), 0 === e3 ? n2.removeProperty("bottom") : n2.bottom = "0px", n2.right = o2 + "px", n2.height = "9px") : (n2.top = "0px", n2.removeProperty("bottom"), n2.right = o2 + r2 * e3 + "px", n2.height = "100%"), n2.width = r2 + "px";
    var s2 = 0 === e3 ? "rg-button-step-up" : "rg-button-step-down";
    return t3.className = s2, t3.$_editButtonType = 0 === e3 ? "up" : "down", true;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.setFocus = function() {
    !this._stepChanged && t2.prototype.setFocus.call(this);
  }, e2.prototype.$_strToNum = function(t3) {
    t3 = "" + t3;
    var e3 = new RegExp("\\" + this._decSep, "g"), i2 = new RegExp("\\" + this._groupSep, "g"), o2 = "-" === t3[0];
    t3 = t3.replace(i2, "").replace(e3, ".").replace(/\+/g, "");
    var r2 = parseFloat(t3);
    return isNaN(r2) ? NaN : o2 ? -Math.abs(r2) : r2;
  }, e2.prototype.$_formatNum = function(t3, e3, i2) {
    var o2 = t3, r2 = o2 < 0 || 0 == o2 && 1 / o2 == -1 / 0 ? "-" : "", n2 = Math.max(e3, i2);
    n2 = isNaN(n2) ? 2 : n2;
    var s2 = parseInt(o2 = Math.abs(+o2 || 0).toFixed(n2)) + "", a2 = s2.length > 3 ? s2.length % 3 : 0;
    if (o2.indexOf(".") >= 0) {
      for (var l2 = o2.split(".")[1].split(""); l2.length > 0 && "0" === l2[l2.length - 1] && l2.length > e3; ) l2.splice(l2.length - 1, 1);
      o2 = l2.join(""), n2 = l2.length;
    }
    return r2 + (a2 ? s2.substr(0, a2) + this._groupSep : "") + s2.substr(a2).replace(/(\d{3})(?=\d)/g, "$1" + this._groupSep) + (n2 ? this._decSep + o2 : "");
  }, e2.prototype.$_editFormatting = function(t3) {
    var e3 = t3.target, i2 = e3.value, o2 = i2 && "-" === i2[0], r2 = i2 && i2[i2.length - 1] == this._decSep, n2 = e3.selectionStart, s2 = e3.selectionEnd;
    this._isMultiple && this._addString && (i2 = i2.replace(new RegExp("\\" + this._multipleChar, "gi"), this._addString), n2 += this._addString.length, s2 += this._addString.length);
    var a2, l2 = i2.split(this._decSep);
    l2.length > 1 && (l2.length = 2, l2[1] = l2[1].substr(0, this._decimalFormatter._maxDigits), i2 = l2.join(this._decSep)), a2 = 2 == l2.length ? Math.min(l2[1].length, null != this._decLen ? this._decLen : 99) : 0;
    var h2 = this.$_strToNum(i2);
    if (!isNaN(h2)) {
      if (this.maxLength > 0 || this.maxIntegerLength > 0) {
        h2 = Math.abs(h2);
        var u2 = String(h2).split(".");
        this.maxIntegerLength > 0 && (u2[0] = u2[0].substr(0, this.maxIntegerLength));
        var c2 = u2.join(".");
        this.maxLength > 0 && (c2 = c2.substr(0, this.maxLength)), h2 = parseFloat(c2), o2 && (h2 = -h2);
      }
      i2 = this.$_formatNum(h2, a2, this._decimalFormatter.maxDigits);
      var d2 = (i2 = r2 && this._decLen && i2.indexOf(this._decSep) < 0 ? i2 + this._decSep : i2).length, p2 = e3.value.length;
      1 == Math.abs(d2 - p2) && (d2 > p2 ? (n2++, s2++) : i2.indexOf(this._decSep) >= n2 - 1 && (n2--, s2--)), e3.value = i2, e3.setSelectionRange(Math.max(n2, 0), Math.max(s2, 0));
    }
  }, e2.prototype.$_resetValue = function() {
    if (this.visible) {
      var t3 = this._editor, e3 = t3.selectionStart, i2 = t3.selectionEnd, o2 = t3.value ? t3.value.length : 0;
      t3.value = t3.value.replace(Va, "").trim(), (t3.value ? t3.value.length : 0) == o2 ? t3.setSelectionRange(e3, i2) : t3.setSelectionRange(i2, i2);
    }
  }, e2.prototype.$_resetRistrict = function() {
    this._positiveOnly && this._integerOnly ? this._regx = this._regxPosInt : this._positiveOnly ? this._regx = this._regxPos : this._integerOnly ? this._regx = this._regxInt : this._regx = this._regxAll;
  }, e2.prototype.$_changeStepValue = function(t3) {
    var e3 = this.getEditValue();
    e3 = null == e3 || e3 == isNaN(e3) ? 0 : e3, e3 += t3, null != this._max && (e3 = Math.min(this._max, e3)), null != this._min && (e3 = Math.max(this._min, e3)), this.setEditValue(e3), this._stepChanged = true, this._doChanged(), this._stepChanged = false;
  }, e2.INPUT_CSS = "rg-number-editor", e2;
}(Na);
var Ha = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-editor-marquee";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), e3.style.pointerEvents = "none";
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype.spread = function() {
    var t3 = this._dom, e3 = t3.style, i2 = t3.parentElement, o2 = Ot.getSize(i2);
    e3.left = o2.left + "px", e3.top = -o2.top + "px", e3.width = o2.width + "px", e3.height = o2.height + "px", this._setClassName(t3);
  }, e2;
}(_a);
var Wa = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    if (o2._isMobile) {
      var r2 = It(i2);
      o2._marquee = new Ha(r2);
    }
    return o2;
  }
  return i(e2, t2), e2.prototype.hasButton = function(t3, e3) {
    return true;
  }, Object.defineProperty(e2.prototype, "buttonCount", { get: function() {
    return 1;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hasList", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.isShowMarquee = function() {
    return this._isMobile && this._grid.editorOptions.showMarquee && !this._isTablet;
  }, e2.prototype._showMarquee = function(t3) {
    this._marquee && (t3.appendChild(this._marquee._dom), this._marquee.spread());
  }, e2.prototype.registerPositionListener = function() {
    this._grid.container.addPositionListener(this);
  }, e2.prototype.unRegisterPositionListener = function() {
    this._grid.container.removePositionListener(this);
  }, e2.prototype._centerPopup = function(t3, e3) {
    var i2 = Ot.getSize(e3), o2 = Ot.getSize(t3), r2 = xt(t3), n2 = Ot.getZoom(t3), s2 = r2.innerHeight / n2;
    t3.appendChild(e3), e3.style.left = (o2.width - i2.width) / 2 + "px", e3.style.top = (s2 - i2.height) / 2 - o2.top + "px";
  }, e2.prototype._closeMarquee = function() {
    this._marquee && Ot.detach(this._marquee._dom);
  }, e2.prototype._isMarquee = function(t3) {
    return this._marquee && t3 === this._marquee._dom;
  }, Object.defineProperty(e2.prototype, "textReadOnly", { get: function() {
    return this._textReadOnly;
  }, set: function(t3) {
    this._setTextReadOnly(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "allowEmpty", { get: function() {
    return this._allowEmpty;
  }, set: function(t3) {
    this._setAllowEmpty(t3);
  }, enumerable: false, configurable: true }), e2;
}(Na);
!function(t2) {
  t2.BUTTON = "button", t2.EDITOR = "editor";
}(ma || (ma = {})), function(t2) {
  t2.NONE = "none", t2.ASCENDING = "ascending", t2.DESCENDING = "descending";
}(ba || (ba = {})), function(t2) {
  t2.VALUE = "value", t2.LABEL = "label", t2.VALUE_LABEL = "valueLabel", t2.LABEL_VALUE = "labelValue";
}(va || (va = {}));
var Ga;
var Ua;
var Ya = function(t2) {
  function e2(i2) {
    var o2 = t2.call(this) || this;
    return o2._items = null, o2._itemIndex = -1, o2._viewGridInside = false, o2._selected = false, o2._clickHandler = (function(t3) {
      var i3 = t3.currentTarget, o3 = Ot.getChildIndex(i3);
      o3 >= 0 && (this._itemIndex = o3, this._selected = true, this.fireEvent(e2.CLOSE_UP, true));
    }).bind(o2), o2._nextClickHandler = (function(t3) {
      var e3 = t3.currentTarget;
      this.$_addMoreItems(e3);
    }).bind(o2), o2._container = i2, o2._element = o2._createList(i2.doc), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._container = null, this._containerElement = null, this._items = null, Ot.clearElements(this._element), this._element.parentNode && this._element.parentNode.removeChild(this._element), this._element = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items;
  }, set: function(t3) {
    if (this._items = [], t3) for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) this._items.push({ label: t3[e3].label, value: t3[e3].value, item: t3[e3].item, index: e3 });
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._itemIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "viewGridInside", { get: function() {
    return this._viewGridInside || Ot.isSlotMode();
  }, set: function(t3) {
    this._viewGridInside = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return this._containerElement && this._containerElement.contains(this._element);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return 0 == this.initCount ? this._items && this._items.length : this._element.children.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueIndex", { get: function() {
    var t3 = this._items, e3 = this._itemIndex;
    return t3 && e3 >= 0 && e3 < t3.length ? t3[e3].index : -1;
  }, set: function(t3) {
    if (t3 = Math.max(-1, t3), this._itemIndex = -1, t3 >= 0) {
      for (var e3 = 0, i2 = this._items.length; e3 < i2; e3++) if (this._items[e3].index == t3) {
        this._itemIndex = e3;
        break;
      }
    }
    this._itemIndex >= 0 && this.listing && this._refreshItems();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selected", { get: function() {
    return this._selected;
  }, enumerable: false, configurable: true }), e2.prototype.setItemIndex = function(t3, e3, i2) {
    var o2 = this._element.childNodes;
    if ((t3 = Math.max(-1, t3)) < this._items.length && (e3 || t3 != this._itemIndex || t3 >= o2.length - 1)) {
      if (i2 && t3 >= o2.length - 1) {
        var r2 = o2[o2.length - 1];
        if (r2.isMoreButton) {
          var n2 = t3 - (o2.length - 1);
          n2 = (Math.floor(n2 / this.moreItemCount) + 1) * this.moreItemCount, this.$_addMoreItems(r2, n2);
        }
      }
      this._itemIndex = t3, this.listing && this._refreshItems(), this._selected = t3 >= 0;
    }
  }, e2.prototype.setZIndex = function(t3) {
    this._element.style.zIndex = String(t3);
  }, e2.prototype.show = function(t3, e3, i2, o2, r2) {
    this._containerElement = this.viewGridInside ? this._container._container : t3, this.sortStyle != ba.NONE && this.$_sortItems(), this._show(e3, i2, o2, r2);
  }, e2.prototype.hide = function() {
    Ot.detach(this._element), this._containerElement = null;
  }, e2.prototype.currentIsMore = function(t3) {
    var e3 = this._element.childNodes[null != t3 ? t3 : this._itemIndex];
    return e3 && e3.isMoreButton;
  }, e2.prototype.addMoreItems = function() {
    if (this.currentIsMore(null)) {
      var t3 = this._element.childNodes[this._itemIndex];
      this.$_addMoreItems(t3, 0);
    }
  }, e2.prototype._changed = function() {
  }, e2.prototype._createList = function(t3) {
    var e3 = t3.createElement("div");
    return e3.className = "rg-dropdownlist", e3.id = "rg-dropdown-list-" + za.$$_LIST_ID++, e3.setAttribute("role", "listbox"), e3;
  }, e2.prototype.$_sortItems = function() {
    this.sortStyle == ba.ASCENDING ? this._items.sort(function(t3, e3) {
      return t3.label < e3.label ? -1 : t3.label > e3.label ? 1 : 0;
    }) : this._items.sort(function(t3, e3) {
      return t3.label > e3.label ? -1 : t3.label < e3.label ? 1 : 0;
    });
  }, e2.prototype._show = function(t3, e3, i2, o2) {
    var r2 = this._element;
    if (r2) {
      var n2 = r2.style;
      n2.position = "absolute", n2.cssFloat = "none", n2.clear = "both", n2.boxSizing = "border-box", n2.minWidth = "20px", n2.minHeight = "10px", n2.overflow = "auto", n2.top = "-10000px", n2.maxHeight = "9999px", n2.removeProperty("width"), n2.removeProperty("height"), this._firstChild = null, Ot.clearChildren(r2), Ot.disableSelection(r2), this._containerElement.appendChild(r2), this._cellWidth = i2, this._itemIndex = -1, this._buildItems(), this.$_resetHeight(), n2.removeProperty("max-height"), this._resetWidth(i2), this.$_resetPosition(t3, e3, i2, o2), this._selected = false;
    }
  }, e2.prototype._getListElement = function() {
    return this._element;
  }, e2.prototype.$_resetHeight = function() {
    var t3 = this._getListElement();
    if (this._firstChild) {
      var e3 = xt(this._firstChild), i2 = Ot.getSize(this._firstChild), o2 = this._firstChild.currentStyle || e3.getComputedStyle(this._firstChild), r2 = parseInt(o2.marginTop.replace("px", ""));
      r2 = isNaN(r2) ? 0 : r2;
      var n2 = parseInt(o2.marginBottom.replace("px", ""));
      n2 = isNaN(n2) ? 0 : n2;
      var s2 = this.dropDownCount > 0 ? Math.min(this.dropDownCount, this._items.length) : this._items.length;
      t3.style.height = (i2.height + r2) * s2 + 4 + n2 + "px";
    } else t3.style.height = "10px";
  }, e2.prototype._resetWidth = function(t3) {
    var e3 = this._element, i2 = Ot.getSize(e3), o2 = this.dropDownWidth, r2 = o2, n2 = e3.offsetWidth ? e3.offsetWidth + (Ot.ieOld && "border-box" === e3.style.boxSizing ? 17 : 0) : 0;
    r2 <= 0 ? (e3.style.removeProperty("width"), r2 = r2 < 0 ? t3 : 10) : e3.style.width = r2 + "px";
    var s2 = 0;
    if (this._firstChild) {
      var a2 = xt(this._firstChild), l2 = this._firstChild.currentStyle || a2.getComputedStyle(this._firstChild), h2 = parseInt(l2.marginLeft.replace("px", ""));
      h2 = isNaN(h2) ? 0 : h2;
      var u2 = parseInt(l2.marginRight.replace("px", ""));
      u2 = isNaN(u2) ? 0 : u2;
      for (var c2 = e3.childNodes, d2 = 0; d2 < c2.length; d2++) s2 = Math.max(s2, c2[d2].scrollWidth);
      s2 += e3.offsetWidth - e3.clientWidth + h2 + u2;
    }
    o2 < 0 && (s2 = Math.max(s2, r2));
    var p2 = Ot.getBrowserSize();
    r2 = s2 = Math.min(s2, p2.width), Ot.ieOld && (o2 >= 0 || s2 > r2) && (r2 += 20), r2 < i2.width ? e3.style.overflowX = "hidden" : e3.style.overflowX = "auto", e3.style.width = Math.max(r2, n2) + "px";
  }, e2.prototype.$_resetPosition = function(t3, e3, i2, o2) {
    this._viewGridInside ? Ot.resetPosition(this._container._container, this._container._container, this._element, t3, e3, i2, o2, this.dropDownPosition != ma.EDITOR) : Ot.resetPosition(this._containerElement, this._container._container, this._element, t3, e3, i2, o2, this.dropDownPosition != ma.EDITOR);
  }, e2.prototype._resetItems = function(t3, e3, i2, o2) {
    Ot.clearChildren(this._element), this._firstChild = null, this._buildItems(), this.$_resetHeight(), this._resetWidth(i2), this.$_resetPosition(t3, e3, i2, o2);
  }, e2.prototype._buildItems = function(t3, e3) {
    var i2 = this;
    void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = 0);
    var o2, r2 = It(this._element), n2 = 0, s2 = function(t4, e4) {
      var i3 = e4 && e4.value ? e4.value.toString() : "", o3 = r2.createElement("span");
      return o3.style.whiteSpace = "pre", o3.innerHTML = i3 ? Ot.htmlEncode(i3) : "&nbsp;", o3.tabIndex = -1, o3.className = "rg-dropdown-value", Ot.disableSelection(o3), t4.appendChild(o3), o3;
    }, a2 = function(t4, e4) {
      var o3 = e4 && e4.label ? e4.label.toString() : "";
      o3 = i2.trimLabelText ? o3.trim() : o3;
      var n3 = r2.createElement("span");
      return !i2.trimLabelText && (n3.style.whiteSpace = "pre"), n3.innerHTML = o3 ? Ot.htmlEncode(o3) : "&nbsp;", n3.tabIndex = -1, n3.className = "rg-dropdown-label", Ot.disableSelection(n3), t4.appendChild(n3), n3;
    }, l2 = function(t4, e4) {
      var i3 = r2.createElement("span");
      i3.style.whiteSpace = "pre", i3.innerHTML = e4 ? Ot.htmlEncode(e4) : "&nbsp;", i3.tabIndex = -1, i3.className = "rg-dropdown-seperator", Ot.disableSelection(i3), t4.appendChild(i3);
    }, h2 = function(t4) {
      var e4 = Ot.getTextLength(t4.textContent);
      e4 > n2 && (o2 = t4, n2 = e4);
    }, u2 = this._items, c2 = e3 || (this._element.children.length > 0 ? this.moreItemCount : this.initCount);
    if (u2 && !(u2.length < 1)) {
      for (var d2 = t3, p2 = u2.length; d2 < p2; d2++) {
        if (this.initCount && d2 - t3 >= c2 && d2 < p2) {
          var f2 = r2.createElement("div"), _2 = f2.style;
          _2.position = "relative", _2.cssFloat = "none", _2.paddingTop = "1px", _2.paddingBottom = "1px", _2.paddingLeft = "2px", _2.paddingRight = "2px", _2.whiteSpace = "nowrap", _2.cursor = "pointer", _2.textAlign = "center", Ot.disableSelection(f2), f2.nextIndex = d2, f2.onclick = this._nextClickHandler, f2.isMoreButton = true, f2.className = "rg-dropdown-more", a2(f2, { label: this.moreText }), this._element.appendChild(f2);
          break;
        }
        var g2 = u2[d2], y2 = r2.createElement("div");
        y2.setAttribute("role", "option"), y2.id = this._element.id + "-" + d2.toString(), y2.tabIndex = -1;
        var m2 = y2.style;
        m2.position = "relative", m2.cssFloat = "none", m2.paddingTop = "1px", m2.paddingBottom = "1px", m2.paddingLeft = "2px", m2.paddingRight = "2px", m2.whiteSpace = "nowrap", m2.cursor = "default", y2.className = d2 == this._itemIndex ? "rg-dropdown-select rg-dropdown-item" : "rg-dropdown-item", d2 === this._itemIndex ? y2.setAttribute("aria-selected", "true") : y2.removeAttribute("aria-selected"), Ot.disableSelection(y2), this._element.appendChild(y2), 0 == d2 && (this._firstChild = y2), y2.onclick = this._clickHandler;
        var b2 = null;
        if (this._templateCallback) this._templateCallback(y2, g2);
        else {
          switch (this.displayLabels) {
            case va.LABEL:
              a2(y2, g2);
              break;
            case va.VALUE:
              s2(y2, g2);
              break;
            case va.LABEL_VALUE:
              b2 = a2(y2, g2), l2(y2, this.separator), s2(y2, g2);
              break;
            case va.VALUE_LABEL:
              b2 = s2(y2, g2), l2(y2, this.separator), a2(y2, g2);
          }
          b2 && this.itemColumned && h2(b2);
        }
      }
      if (this.itemColumned && o2) {
        var v2 = Math.ceil(Ot.getSize(o2).width);
        for (d2 = 0, p2 = this._element.childNodes.length; d2 < p2; d2++) {
          (b2 = this._element.childNodes[d2].firstChild).style.display = "inline-block", b2.style.width = v2 + "px";
        }
      }
    }
  }, e2.prototype.$_addMoreItems = function(t3, i2) {
    var o2 = t3.nextIndex;
    t3.parentNode && t3.parentNode.removeChild(t3), this._buildItems(o2, i2), this._resetWidth(this._cellWidth), this.fireEvent(e2.EDITOR_FOCUS);
  }, e2.prototype._refreshItems = function() {
    for (var t3 = this._element.childNodes, i2 = 0; i2 < t3.length; i2++) {
      (o2 = t3[i2]).className = i2 == this._itemIndex ? "rg-dropdown-select rg-dropdown-item" : "rg-dropdown-item", i2 == this._itemIndex ? o2.setAttribute("aria-selected", "true") : o2.removeAttribute("aria-selected"), i2 == this._itemIndex && this.fireEvent(e2.ACTIVE_DESCENDENT, o2.id);
    }
    var o2, r2 = this._itemIndex;
    if (r2 >= 0 && r2 < t3.length) if ((o2 = t3[r2]).offsetTop < this._element.scrollTop) this._element.scrollTop = o2.offsetTop;
    else {
      var n2 = o2.offsetTop + Ot.getSize(o2).height;
      n2 >= this._element.scrollTop + this._element.clientHeight && (this._element.scrollTop = n2 - this._element.clientHeight);
    }
  }, e2.prototype.$_search = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    try {
      if (this._items && this._items.length > 0 && t3) {
        for (var i2 = this._items, o2 = i2.length, r2 = this.caseSensitive ? t3 : t3.toLowerCase(), n2 = [], s2 = 0; s2 < o2; s2++) {
          if (u2 = i2[s2].label.toString()) {
            if (u2 = this.caseSensitive ? u2 : u2.toLowerCase(), this.partialMatch) {
              for (var a2 = "", l2 = 0; l2 < u2.length; l2++) {
                var h2 = Ot.hangulToChosung(u2[l2]);
                a2 += Ot.hangulToChosung(r2[l2]).org ? h2.org : h2.cho;
              }
              if (a2 == r2) return void this.setItemIndex(s2, e3, true);
            } else if (u2 == r2) return void this.setItemIndex(s2, e3, true);
          }
          n2.push(u2);
        }
        for (s2 = 0; s2 < o2; s2++) {
          var u2 = n2[s2];
          if (this.partialMatch) {
            var c2 = false;
            for (l2 = 0; l2 < r2.length; l2++) {
              var d2 = Ot.hangulToChosung(u2[l2]);
              if (!(d2.org && d2.org == r2[l2] || d2.cho && d2.cho == r2[l2])) {
                c2 = false;
                break;
              }
              c2 = true;
            }
            if (c2) return void this.setItemIndex(s2, e3, true);
          } else if (u2 && 0 == u2.indexOf(r2)) return void this.setItemIndex(s2, e3, true);
        }
        for (s2 = 0; s2 < o2; s2++) {
          u2 = n2[s2];
          if (this.partialMatch) {
            var p2 = Ot.hangulToChosungAll(u2), f2 = Ot.hangulToChosungAll(r2), _2 = p2.indexOf(f2);
            a2 = u2.substr(0, _2);
            if (~_2) {
              l2 = 0;
              for (var g2 = _2, y2 = r2.length; l2 < y2; l2++, g2++) {
                h2 = Ot.hangulToChosung(u2[g2]);
                a2 += Ot.hangulToChosung(r2[l2]).org ? h2.org : h2.cho;
              }
            }
            if (a2 && a2.indexOf(r2) > 0) return void this.setItemIndex(s2, e3, true);
          } else if (u2 && u2.indexOf(r2) > 0) return void this.setItemIndex(s2, e3, true);
        }
      }
      this.setItemIndex(-1);
    } finally {
      e3 && (this._selected = true);
    }
  }, e2.CLOSE_UP = "onDropDownListCloseUp", e2.EDITOR_FOCUS = "onDropDownListEditorFocus", e2.ACTIVE_DESCENDENT = "onDropDownListActiveDescendant", e2;
}(Oe);
var za = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    o2._trimLabelText = true, o2._lookup = false, o2._labeling = false, o2._domain = null, o2._closing = false, o2._selectedIndex = -1, o2._globalMouseHandler = function(t3) {
      var e4 = t3.target;
      if (o2._isMarquee(e4)) o2.closeUp(false, false);
      else {
        var i3 = o2._grid.editController._commandView;
        if (!(Ot.isMobile() && i3 && i3._dom && i3._dom.contains(e4))) {
          for (; e4; ) {
            if (e4 == o2._list._element) return;
            e4 = e4.parentElement;
          }
          o2.closeUp(true, true);
        }
      }
    };
    var r2 = o2._list = o2._createDropDown(e3.container);
    return o2._setEditorAria("aria-owns", r2._element.id), o2._setEditorAria("aria-expanded", "false"), o2._setEditorAria("aria-haspopup", "true"), o2._setEditorAria("role", "combobox"), o2._list.addListener(o2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._globalMouseHandler = null, this._list.removeListener(this), this._list.dispose(), this._list = this._items = this._values = this._labels = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "values", { get: function() {
    return this._values;
  }, set: function(t3) {
    (t3 = Ot.makeArray(t3, true)) ? this._values = t3.map(function(t4) {
      return null != t4 ? String(t4) : t4;
    }) : this._values = [];
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labels", { get: function() {
    return this._labels;
  }, set: function(t3) {
    this._labels = t3 ? t3.slice() : [];
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayLabels", { get: function() {
    return this._displayLabels;
  }, set: function(t3) {
    this._displayLabels = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "domainOnly", { get: function() {
    return this._domainOnly;
  }, set: function(t3) {
    this._domainOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWidth", { get: function() {
    return this._dropDownWidth;
  }, set: function(t3) {
    this._dropDownWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownPosition", { get: function() {
    return this._dropDownPosition;
  }, set: function(t3) {
    this._dropDownPosition = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownCount", { get: function() {
    return this._dropDownCount;
  }, set: function(t3) {
    this._dropDownCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWhenEnter", { get: function() {
    return this._dropDownWhenEnter;
  }, set: function(t3) {
    this._dropDownWhenEnter = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemSortStyle", { get: function() {
    return this._itemSortStyle;
  }, set: function(t3) {
    this._itemSortStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "caseSensitive", { get: function() {
    return this._caseSensitive;
  }, set: function(t3) {
    this._caseSensitive = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "partialMatch", { get: function() {
    return this._partialMatch;
  }, set: function(t3) {
    this._partialMatch = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitOnSelect", { get: function() {
    return this._commitOnSelect;
  }, set: function(t3) {
    this._commitOnSelect = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWhenClick", { get: function() {
    return this._dropDownWhenClick;
  }, set: function(t3) {
    this._dropDownWhenClick = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "trimLabelText", { get: function() {
    return this._trimLabelText;
  }, set: function(t3) {
    this._trimLabelText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "separator", { get: function() {
    return this._separator;
  }, set: function(t3) {
    this._separator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemColumned", { get: function() {
    return this._itemColumned;
  }, set: function(t3) {
    this._itemColumned = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listCallback", { get: function() {
    return this._listCallback;
  }, set: function(t3) {
    this._listCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateCallback", { get: function() {
    return this._templateCallback;
  }, set: function(t3) {
    this._templateCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return this._list.listing;
  }, enumerable: false, configurable: true }), e2.prototype.dropDown = function(t3, e3) {
    var i2 = this;
    if (void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = true), !this.readOnly && !this.listing && !this._closing) {
      e3 && this._refreshItems(false, false, true);
      var o2 = It(this._container), r2 = xt(this._container);
      if (t3 || this._items && this._items.length > 0) {
        var n2 = this._list, s2 = this._options, a2 = o2.body, l2 = Ot.getSize(this._container);
        if (this._grid.accessibility) {
          var h2 = Ot.getSize(this._grid.container._containerDiv);
          l2.cx = l2.x - h2.x + l2.cx, l2.cy = l2.y - h2.y + l2.cy;
        }
        n2.viewGridInside = s2.viewGridInside, n2.displayLabels = this.displayLabels, n2.separator = this.separator, n2.itemColumned = this.itemColumned, n2.items = this._items, this._saveIndex = this._selectedIndex, this._saveText = this._editor.value, n2.caseSensitive = this._caseSensitive, n2.partialMatch = this._partialMatch, n2.dropDownCount = this._dropDownCount, n2.dropDownWidth = this._dropDownWidth, n2.dropDownPosition = this._dropDownPosition, n2.sortStyle = this._itemSortStyle, n2.trimLabelText = this._trimLabelText, n2._templateCallback = function() {
          if (i2._templateCallback) return function(t4, e4) {
            return i2._templateCallback(i2._grid.handler, i2.editIndex.toProxy(), t4, e4.value, e4.label, e4.item);
          };
        }();
        var u2 = this._grid.displayOptions;
        return n2.setZIndex(u2.baseZindex + 3), this.isShowMarquee() ? (this._showMarquee(a2), n2.viewGridInside = false, n2.show(a2, 0, 0, 0, null), this._centerPopup(a2, n2._element)) : (n2.show(a2, l2.cx + 1, l2.cy + l2.height, this._cellBounds.width, Ot.getSize(this._editor)), this.registerPositionListener()), n2.valueIndex = this._selectedIndex, this._setEditorAria("aria-expanded", "true"), !Ot.isSlotMode() && r2.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), true;
      }
    }
    return false;
  }, e2.prototype.resetPosition = function() {
    var t3 = Ot.getSize(this._container), e3 = this._list;
    if (this._grid.accessibility) {
      var i2 = Ot.getSize(this._grid.container._containerDiv);
      t3.cx = t3.x - i2.x + t3.cx, t3.cy = t3.y - i2.y + t3.cy;
    }
    e3.$_resetPosition(t3.cx + 1, t3.cy + t3.height, this._cellBounds.width, Ot.getSize(this._editor));
  }, e2.prototype.closeUp = function(t3, e3) {
    if (this.unRegisterPositionListener(), this.listing) {
      this._closing = true;
      var i2 = this._list, o2 = this._items;
      try {
        var r2 = xt(this._container);
        !Ot.isSlotMode() && r2.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), this._closeMarquee(), i2.hide();
        var n2 = void 0;
        if (t3 && i2.selected && (n2 = i2.valueIndex) >= 0 && o2 && o2.length > n2) {
          this._selectedIndex = n2;
          var s2 = this._labeling ? o2[n2].label : o2[n2].value;
          this._editor.value = s2, n2 == this._saveIndex && s2 == this._saveText || this._dispatchChange(), e3 && this._commitOnSelect && this._dispatchCommit();
        }
      } finally {
        this._closing = false, this._setEditorAria("aria-expanded", "false"), this.setActiveDescendant(null);
      }
      return true;
    }
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._values = [], this._labels = [], this._displayLabels = va.LABEL, this._separator = " - ", this._itemColumned = false, this._domainOnly = false, this._textReadOnly = false, this._dropDownWidth = -1, this._dropDownPosition = ma.BUTTON, this._dropDownCount = 8, this._itemSortStyle = ba.NONE, this._caseSensitive = false, this._partialMatch = false, this._commitOnSelect = true, this._dropDownWhenClick = false, this._dropDownWhenEnter = false, this._listCallback = null, this._templateCallback = null, this._tempItems = null, this._viewGridInside = false, this._setEditorAria("aria-activedescendant", null);
  }, e2.prototype.initDefaultOptions = function() {
    var t3 = this._grid;
    t3 && Ma.initDefault(this, Ke.editor.dropdownCellEditor, t3.editorOptions.dropdownCellEditor);
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3), this._lookup = false, this._labeling = false, this._domain = null, this._items = null, this._refreshItems(false, false, false);
  }, e2.prototype.setEditValue = function(e3) {
    var i2 = this, o2 = -1, r2 = function(e4, o3) {
      var r3;
      t2.prototype.setEditValue.call(i2, e4 ? ((r3 = {})[e4] = o3, r3) : o3);
    };
    this._value = e3;
    var n2 = this._editIndex.dataColumn, s2 = n2.getField(), a2 = n2.objectKey || s2.objectKey;
    if (e3 = a2 && e3 ? e3[a2] : e3, this._lookup) {
      var l2 = this._domain;
      if (l2) {
        var h2 = o2 = l2.keys ? l2.keys.indexOf(e3) : -1;
        h2 >= 0 && l2.values && l2.values.length > h2 ? l2.values[h2] : e3;
      } else o2 = this._editIndex.dataColumn.getLookupIndex(e3);
      this._labeling ? r2(a2, l2 ? o2 >= 0 && l2.values && l2.values.length > o2 ? l2.values[o2] : e3 : o2 >= 0 ? this._editIndex.dataColumn.getLookupLabel(e3, false) : e3) : r2(a2, e3);
    } else this._values && this._labeling && this._labels ? (o2 = this._values.indexOf(e3), r2(a2, this._labels[o2] || e3)) : r2(a2, e3);
    this._selectedIndex = o2;
  }, e2.prototype.isEdited = function() {
    var e3 = t2.prototype.isEdited.call(this);
    return e3 && this.domainOnly && (e3 = void 0 !== this.$_getEditValue(false)), e3;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype._setEditorAria = function(t3, e3) {
    e3 ? this._editor.setAttribute(t3, e3) : this._editor.removeAttribute(t3);
  }, e2.prototype._createDropDown = function(t3) {
    return new Ya(t3);
  }, e2.prototype.setCellEditValue = function(e3, i2) {
    t2.prototype.setCellEditValue.call(this, e3, i2);
  }, e2.prototype.getEditValue = function(t3, e3) {
    return void 0 === t3 && (t3 = true), !this.isEdited() && this._selectedIndex < 0 ? this._value : this.$_getEditValue(t3, e3);
  }, e2.prototype.getEditListItem = function() {
    var t3 = this._selectedIndex;
    if (this.isEdited() || !(t3 < 0)) return this._list.items && t3 >= 0 && t3 < this._list.items.length ? this._list.items[t3].item : void 0;
  }, e2.prototype.setBounds = function(e3, i2, o2, r2, n2) {
    t2.prototype.setBounds.call(this, e3, i2, o2, r2, n2);
  }, e2.prototype._createEditor = function(e3) {
    return t2.prototype._createEditor.call(this, e3);
  }, e2.prototype._textHandler = function() {
    this._requestStart();
  }, e2.prototype._compositionstartHandler = function(e3) {
    t2.prototype._compositionstartHandler.call(this, e3);
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list, o2 = i2.itemIndex;
      switch (e3.keyCode) {
        case 8:
        case 46:
          var r2 = Ot.ctrlKey(e3);
          if (!r2 && !e3.shiftKey && this.domainOnly && this.allowEmpty) ;
          else if (!r2 && !e3.shiftKey && this.textReadOnly) return this._requestStart(), e3.preventDefault(), true;
          break;
        case 32:
          if (this.listing && i2.currentIsMore(o2)) return i2.addMoreItems(), e3.preventDefault(), true;
          break;
        case 13:
          if (this.dropDownWhenEnter && !this.listing) return this._requestStart(), e3.preventDefault(), true;
          if (this.listing && i2.currentIsMore(o2)) return i2.addMoreItems(), e3.preventDefault(), true;
          if (this.closeUp(true, false)) return !this._sendToParent(e3);
          break;
        case 27:
          if (this.closeUp(false, false)) return e3.preventDefault(), true;
          break;
        case 40:
          if (!e3.shiftKey && e3.altKey && !this.listing) return this._requestStart(), e3.preventDefault(), true;
          if (this.listing) return this._list.setItemIndex(Math.min(i2.itemCount - 1, o2 + 1)), e3.preventDefault(), true;
          break;
        case 34:
          if (this.listing) return this._list.setItemIndex(Math.min(i2.itemCount - 1, o2 + i2.dropDownCount)), e3.preventDefault(), true;
          break;
        case 38:
          if (e3.altKey && this.listing) return this.closeUp(false, false), e3.preventDefault(), true;
          if (this.listing) return this._list.setItemIndex(Math.max(0, o2 - 1)), e3.preventDefault(), true;
          break;
        case 33:
          if (this.listing) return this._list.setItemIndex(Math.max(0, o2 - i2.dropDownCount)), e3.preventDefault(), true;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._keyPressHandler = function(e3) {
    this.isDisabled() || (t2.prototype._keyPressHandler.call(this, e3), e3.keyCode && this.textReadOnly && e3.preventDefault());
  }, e2.prototype._inputHandler = function(e3) {
    this.isDisabled() || (this.textReadOnly && (e3.target.value = this._oldValue || ""), t2.prototype._inputHandler.call(this, e3));
  }, e2.prototype._requestStart = function(e3) {
    return !!t2.prototype._requestStart.call(this, e3) && (this._isMobile ? e3 && this.dropDown() : false !== e3 && this.dropDown(), true);
  }, e2.prototype._doChanged = function() {
    this._selectedIndex = -1, t2.prototype._doChanged.call(this), this.listing && this._list.$_search(this._editor.value);
  }, e2.prototype.dropDownList = function(t3) {
    this.dropDown(t3) && this._setEditorAria("aria-expanded", "true");
  }, e2.prototype.closeList = function(t3) {
    this.closeUp(t3, false), this._setEditorAria("aria-expanded", "false");
  }, e2.prototype.$_setItems = function(t3, e3, i2) {
    this._items = [];
    for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) this._items.push({ value: t3[o2], label: e3 && e3.length > o2 ? e3[o2] : t3[o2], item: i2 && i2[o2] });
  }, e2.prototype._refreshItems = function(t3, e3, i2) {
    var o2, r2 = this, n2 = function() {
      return r2.displayLabels !== va.VALUE && r2._labels && r2._labels.length >= r2._values.length;
    }, s2 = function(t4) {
      if (t4 && t4.list) {
        var e4 = [], i3 = [], o3 = [], s3 = t4.value || "value", a3 = t4.label || "label";
        t4.list.forEach(function(t5) {
          e4.push(t5[s3]), i3.push(null != t5[a3] ? t5[a3] : t5[s3]), o3.push(t5);
        }), r2.$_setItems(r2._values = e4, r2._labels = i3, o3);
      }
      r2._labeling = n2();
    }, a2 = function() {
      if (l2.dataColumn && l2.item && (l2.dataRow >= 0 || $o(h2.itemState))) {
        var t4 = l2.dataColumn;
        if (t4.lookupSource) {
          for (var e4 = t4.lookupKeyFieldIds, o3 = [], s3 = 0; s3 < e4.length - 1; s3++) o3.push(h2.getData(e4[s3]));
          var a3 = t4.lookupSource.getTextDomain(o3);
          a3 && a3.values && a3.values.length > 0 && (r2.$_setItems(a3.keys, a3.values, a3.listItem), r2._labeling = true, r2._lookup = true, r2._domain = a3, i2 && r2.setEditValue(r2._value));
        } else t4.values && t4.values.length > 0 && (r2.$_setItems(t4.values, t4.labels, t4.listItem), r2._labeling = n2(), r2._lookup = true);
      }
    }, l2 = this.editIndex, h2 = l2.item;
    if ((i2 = i2 && !!this._listCallback) && (o2 = this._listCallback(this._grid.handler, this.editIndex.toProxy())), o2 ? (this._lookup = false, this._domain = null, o2 instanceof Promise ? (this._items = null, o2.then(function(t4) {
      t4 ? s2(t4) : a2(), r2.dropDown(false, false);
    })) : s2(o2)) : this._values && (this._values.length > 0 || e3) ? (this.$_setItems(this._values, this._labels, null), this._labeling = n2()) : a2(), t3 && this.listing) {
      this._list.items = this._items;
      var u2 = Ot.getSize(this._container);
      this._list._resetItems(u2.cx + 1, u2.cy + u2.height, this._cellBounds.width, Ot.getSize(this._editor));
    }
  }, e2.prototype.$_getEditValue = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = false);
    var i2 = this.text, o2 = Na.prototype.getEditValue.call(this, t3, e3), r2 = this._editIndex.dataColumn, n2 = this._selectedIndex, s2 = n2 >= 0, l2 = r2.getField(), h2 = l2.dataType === a.OBJECT && (r2.objectKey || l2.objectKey), u2 = h2 && o2 ? o2[h2] : o2;
    if (this._lookup) {
      if (this._domain) {
        if (this._labeling) u2 = (c2 = s2 ? n2 : this._domain.values ? this._domain.values.indexOf(i2) : -1) >= 0 && this._domain.keys && this._domain.keys.length > c2 ? this._domain.keys[c2] : u2;
        if (this.domainOnly && u2 && (!this._domain.keys || this._domain.keys.indexOf(u2) < 0)) return Ma.Unselected;
      } else if (this._labeling && (u2 = s2 ? r2.getLookupValue(n2) : r2.getSourceValue(i2) || (h2 ? o2[h2] : o2)), this.domainOnly && u2 && (!r2.values || r2.values.indexOf(u2) < 0)) return Ma.Unselected;
    } else {
      var c2;
      if (this._labeling) (c2 = s2 ? n2 : this._labels ? this._labels.indexOf(i2) : -1) >= 0 && c2 < this._values.length && (u2 = this._values[c2]);
      if (this.domainOnly && u2 && (!this._values || this._values.indexOf(u2) < 0)) return Ma.Unselected;
    }
    return h2 ? (o2[h2] = u2, o2) : u2;
  }, e2.prototype.setActiveDescendant = function(t3) {
    this._setEditorAria("aria-activedescendant", t3);
  }, e2.prototype.onDropDownListCloseUp = function(t3, e3) {
    !Ot.isMobile() && this.setFocus(), this.closeUp(e3, true);
  }, e2.prototype.onDropDownListEditorFocus = function() {
    this.setFocus();
  }, e2.prototype.onDropDownListActiveDescendant = function(t3, e3) {
    this.setActiveDescendant(e3);
  }, e2.INPUT_CSS = "rg-list-editor", e2.$$_LIST_ID = 0, e2;
}(Wa);
var qa = function(t2) {
  function e2(i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._selectItemIndices = [], o2._acceptText = null, o2._cancelText = null, o2._showButtons = false, o2._showAllCheck = false, o2._acceptClickHandler = (function(t3) {
      this.fireEvent(e2.CLOSE_UP_2, true);
    }).bind(o2), o2._cancelClickHandler = (function(t3) {
      this.fireEvent(e2.CANCEL, false);
    }).bind(o2), o2._checkClickHandler = (function(t3) {
      t3.stopImmediatePropagation();
      var e3 = t3.currentTarget, i3 = e3.parentElement;
      if (i3) {
        var o3 = Ot.getChildIndex(i3), r2 = e3.checked;
        this.$_changeCheckIndex(i3, o3, r2, true);
      }
    }).bind(o2), o2._allCheckClickHandler = (function(t3) {
      if (t3.stopImmediatePropagation(), 2 == t3.eventPhase && t3.currentTarget == this._allCheckElement) this._allCheck.checked = !this._allCheck.checked, this.$_toggleAllCheck();
      else if (2 == t3.eventPhase && t3.currentTarget == this._allCheck) return void this.$_toggleAllCheck();
    }).bind(o2), o2._divClickHandler = (function(t3) {
      Ot.stopEvent(t3, true), t3.currentTarget.firstElementChild.click();
    }).bind(o2), o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "valueIndices", { get: function() {
    return this._selectItemIndices.slice();
  }, set: function(t3) {
    this._selectItemIndices = [], null != t3 && (this._selectItemIndices = t3.slice(), this.listing && this._refreshItems(), this._selected = false);
  }, enumerable: false, configurable: true }), e2.prototype.changeCheckIndex = function(t3, e3, i2) {
    var o2 = this._listElement.childNodes;
    if (t3 >= 0 && t3 < o2.length) {
      for (var r2 = o2[t3], n2 = r2.getElementsByTagName("input"), s2 = void 0, a2 = 0, l2 = n2.length; a2 < l2; a2++) if ("checkbox" == n2[a2].type) {
        s2 = n2[a2];
        break;
      }
      s2 && (s2.checked = null != e3 ? e3 : !s2.checked, this.$_changeCheckIndex(r2, t3, s2.checked, i2));
    }
  }, e2.prototype.$_changeCheckIndex = function(t3, i2, o2, r2) {
    var n2 = this._selectItemIndices;
    if (!(i2 < 0 || i2 >= this._items.length)) {
      var s2 = this._items[i2].index;
      o2 ? n2.indexOf(s2) < 0 && n2.push(s2) : n2.indexOf(s2) >= 0 && n2.splice(n2.indexOf(s2), 1), t3.className = "rg-multicheck-item" + (o2 ? " rg-multicheck-select" : ""), t3.setAttribute("aria-selected", o2 ? "true" : "false"), this._selected = true, this.$_changeAllCheck(), r2 && this.fireEvent(e2.CHECK_CLICK);
    }
  }, e2.prototype._createList = function() {
    var t3 = this._container.doc, e3 = t3.createElement("div");
    e3.tabIndex = -1, e3.className = "rg-multicheck", e3.id = "rg-dropdown-list-" + za.$$_LIST_ID++, e3.setAttribute("role", "listbox");
    var i2 = t3.createElement("div");
    i2.className = "rg-multicheck-allcheck", this._allCheckElement = i2, i2.style.paddingLeft = "2px", Ot.disableSelection(i2), e3.appendChild(i2);
    var o2 = t3.createElement("div");
    o2.className = "rg-multicheck-list", this._listElement = o2, e3.appendChild(o2);
    var r2 = t3.createElement("div");
    return r2.style.textAlign = "center", r2.style.whiteSpace = "nowrap", r2.className = "rg-multicheck-button", this._buttonElement = r2, r2.style.margin = "2px", Ot.disableSelection(r2), e3.appendChild(r2), e3;
  }, e2.prototype._getListElement = function() {
    return this._listElement;
  }, e2.prototype.setZIndex = function(t3) {
    var e3 = this._element.style;
    e3.zIndex = String(t3), (e3 = this._listElement.style).zIndex = String(t3);
  }, e2.prototype.$_toggleAllCheck = function() {
    for (var t3 = this._listElement.childElementCount, i2 = this._allCheck.checked, o2 = 0; o2 < t3; o2++) this.changeCheckIndex(o2, i2, false);
    this.fireEvent(e2.CHECK_CLICK);
  }, e2.prototype.$_changeAllCheck = function() {
    if (this._showAllCheck) {
      for (var t3 = true, e3 = this._listElement.children, i2 = 0; i2 < e3.length; i2++) {
        var o2 = e3[i2].firstElementChild;
        t3 = t3 && o2.checked;
      }
      this._allCheck.checked = t3;
    }
  }, e2.prototype._show = function(t3, e3, i2, o2) {
    var r2 = this._element;
    if (r2) {
      var n2 = r2.style;
      n2.position = "absolute", n2.cssFloat = "none", n2.clear = "both", n2.boxSizing = "border-box", n2.minWidth = "20px", n2.minHeight = "10px", n2.overflow = "visible", n2.removeProperty("width"), n2.removeProperty("height"), (n2 = this._listElement.style).position = "relative", n2.cssFloat = "none", n2.clear = "both", n2.boxSizing = "border-box", n2.minWidth = "20px", n2.minHeight = "10px", n2.overflow = "auto", (n2 = this._buttonElement.style).position = "relative", n2.cssFloat = "none", n2.clear = "both", n2.boxSizing = "border-box", n2.marginLeft = "0px", n2.marginRight = "0px", this._firstChild = null, Ot.clearChildren(this._listElement), Ot.disableSelection(this._listElement), this._containerElement.appendChild(r2), this._buildItems(), this.$_buildButtons(), this.$_resetHeight(), this._resetWidth(i2), this.$_resetPosition(t3, e3, i2, o2), this._itemIndex = -1, this._selectItemIndices.length && this.setItemIndex(this._selectItemIndices.slice().sort(function(t4, e4) {
        return t4 - e4;
      })[0]), this._selected = false;
    }
  }, e2.prototype._resetWidth = function(e3) {
    t2.prototype._resetWidth.call(this, e3);
    var i2 = this._element, o2 = Math.floor(Ot.getSize(this._buttonElement).width), r2 = Ot.getSize(i2).width;
    isNaN(o2) || (r2 = Math.max(r2, o2)), i2.style.width = r2 + "px";
  }, e2.prototype._resetItems = function(t3, e3, i2, o2) {
    Ot.clearChildren(this._listElement), this._firstChild = null, this._buildItems(), this.$_buildButtons(), this.$_resetHeight(), this._resetWidth(i2), this.$_resetPosition(t3, e3, i2, o2);
  }, e2.prototype._buildItems = function() {
    var t3, i2 = this._container.doc, o2 = 0, r2 = (function(t4, e3, o3) {
      var r3 = e3 ? e3.value.toString() : "", n3 = i2.createElement("label");
      return n3.style.whiteSpace = "pre", n3.innerHTML = r3 ? Ot.htmlEncode(r3) : "&nbsp;", n3.htmlFor = o3 && o3.id, n3.tabIndex = -1, n3.className = "rg-dropdown-value", Ot.disableSelection(n3), t4.appendChild(n3), n3;
    }).bind(this), n2 = (function(t4, e3, o3) {
      var r3 = e3 ? e3.label.toString() : "";
      r3 = this._trimLabelText ? r3.trim() : r3;
      var n3 = i2.createElement("label");
      return !this._trimLabelText && (n3.style.whiteSpace = "pre"), n3.innerHTML = r3 ? Ot.htmlEncode(r3) : "&nbsp;", n3.htmlFor = o3 && o3.id, n3.tabIndex = -1, n3.className = "rg-dropdown-label", Ot.disableSelection(n3), t4.appendChild(n3), n3;
    }).bind(this), s2 = (function(t4, e3) {
      var o3 = i2.createElement("span");
      o3.style.whiteSpace = "pre", o3.style.pointerEvents = "none", o3.innerHTML = e3 ? Ot.htmlEncode(e3) : "&nbsp;", o3.tabIndex = -1, o3.className = "rg-dropdown-separator", Ot.disableSelection(o3), t4.appendChild(o3);
    }).bind(this), a2 = (function(e3) {
      var i3 = Ot.getTextLength(e3.textContent);
      i3 > o2 && (t3 = e3, o2 = i3);
    }).bind(this), l2 = this._items;
    if (l2 && !(l2.length < 1)) {
      for (var h2 = 0, u2 = l2.length; h2 < u2; h2++) {
        var c2 = l2[h2], d2 = i2.createElement("div");
        d2.setAttribute("role", "option"), d2.id = this._element.id + "-" + h2.toString();
        var p2 = d2.style;
        p2.position = "relative", p2.cssFloat = "none", p2.paddingTop = "1px", p2.paddingBottom = "1px", p2.paddingLeft = "2px", p2.paddingRight = "2px", p2.whiteSpace = "nowrap", p2.cursor = "default";
        var f2 = this._selectItemIndices.indexOf(l2[h2].index) >= 0;
        d2.className = "rg-multicheck-item" + (f2 ? " rg-multicheck-select" : ""), Ot.disableSelection(d2), this._listElement.appendChild(d2), 0 == h2 && (this._firstChild = d2), d2.onclick = this._divClickHandler;
        var _2 = i2.createElement("input");
        _2.id = "$multiCheck_item_" + e2.$_checkId++, _2.type = "checkBox", _2.onclick = this._checkClickHandler, _2.checked = f2, d2.setAttribute("aria-selected", f2 ? "true" : "false"), d2.appendChild(_2);
        var g2 = null;
        if (this._templateCallback) {
          var y2 = document.createElement("div");
          y2.style.display = "inline-block", d2.appendChild(y2), this._templateCallback(y2, c2);
        } else switch (this.displayLabels) {
          case va.LABEL:
            n2(d2, c2, _2);
            break;
          case va.VALUE:
            r2(d2, c2, _2);
            break;
          case va.LABEL_VALUE:
            g2 = n2(d2, c2, _2), s2(d2, this.separator), r2(d2, c2, _2);
            break;
          case va.VALUE_LABEL:
            g2 = r2(d2, c2, _2), s2(d2, this.separator), n2(d2, c2, _2);
        }
        g2 && this.itemColumned && (a2(g2), d2._span = g2);
      }
      if (this.itemColumned && t3) {
        var m2 = Math.ceil(Ot.getSize(t3).width);
        if (m2 > 0) for (h2 = 0, u2 = this._listElement.childNodes.length; h2 < u2; h2++) {
          (g2 = this._listElement.childNodes[h2]._span) && (g2.style.display = "inline-block", g2.style.width = m2 + "px");
        }
      }
    }
  }, e2.prototype.setButtonOptions = function(t3, e3, i2, o2, r2) {
    this._acceptText = t3, this._cancelText = e3, this._showButtons = i2, this._showAllCheck = o2, this._allCheckText = r2, this.$_buildButtons();
  }, e2.prototype.$_buildButtons = function() {
    var t3 = this._container.doc;
    if (this._buttonElement) {
      this._buttonElement.style.display = this._showButtons ? "" : "none", Ot.clearChildren(this._buttonElement);
      var i2 = t3.createElement("label"), o2 = i2.style;
      i2.innerHTML = this._acceptText, i2.onclick = this._acceptClickHandler, i2.className = "rg-multicheck-accept", o2.cursor = "pointer", Ot.disableSelection(i2), this._buttonElement.appendChild(i2), o2 = (i2 = t3.createElement("label")).style, i2.innerHTML = this._cancelText, i2.onclick = this._cancelClickHandler, i2.className = "rg-multicheck-cancel", o2.marginLeft = "2px", o2.cursor = "pointer", Ot.disableSelection(i2), this._buttonElement.appendChild(i2);
      var r2 = this._allCheckElement;
      if (r2.onclick = this._allCheckClickHandler, Ot.clearChildren(r2), this._showAllCheck) {
        r2.style.display = "";
        var n2 = t3.createElement("input");
        n2.type = "checkbox", n2.id = "$multiCheck_item_" + e2.$_checkId++, n2.onclick = this._allCheckClickHandler, this._allCheck = n2, r2.appendChild(n2);
        var s2 = t3.createElement("label");
        s2.innerHTML = this._allCheckText, s2.htmlFor = n2.id, s2.tabIndex = -1, Ot.disableSelection(s2), r2.appendChild(s2), this.$_changeAllCheck();
      } else r2.style.display = "none";
    }
  }, e2.prototype._refreshItems = function() {
    for (var t3 = this._listElement.childNodes, e3 = -1, i2 = 0; i2 < t3.length; i2++) {
      e3 = i2 < this._items.length ? this._items[i2].index : -1;
      var o2 = t3[i2];
      i2 === this._itemIndex ? (Ot.addClassName(o2, "rg-multicheck-selectitem"), this.fireEvent(Ya.ACTIVE_DESCENDENT, o2.id)) : Ot.removeClassName(o2, "rg-multicheck-selectitem");
    }
    if ((e3 = this._itemIndex) >= 0 && e3 < t3.length) if ((o2 = t3[e3]).offsetTop < this._listElement.scrollTop) this._listElement.scrollTop = o2.offsetTop;
    else {
      var r2 = o2.offsetTop + Ot.getSize(o2).height;
      r2 >= this._listElement.scrollTop + this._listElement.clientHeight && (this._listElement.scrollTop = r2 - this._listElement.clientHeight);
    }
  }, e2.CLOSE_UP_2 = "onMultiCheckListCloseUp", e2.CANCEL = "onMultiCheckListCancel", e2.CHECK_CLICK = "onMultiCheckListCheckClick", e2.$_checkId = 0, e2;
}(Ya);
var Ka = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._showButtons = true, o2._showAllCheck = false, o2._setEditorAria("aria-multiselectable", "true"), o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "showButtons", { get: function() {
    return this._showButtons;
  }, set: function(t3) {
    this._showButtons = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "acceptText", { get: function() {
    return this._acceptText || Ge.messages.checkListAcceptText;
  }, set: function(t3) {
    this._acceptText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cancelText", { get: function() {
    return this._cancelText || Ge.messages.checkListCancelText;
  }, set: function(t3) {
    this._cancelText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "allCheckText", { get: function() {
    return this._allCheckText || Ge.messages.checkListAllCheckText;
  }, set: function(t3) {
    this._allCheckText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showAllCheck", { get: function() {
    return this._showAllCheck;
  }, set: function(t3) {
    this._showAllCheck = t3;
  }, enumerable: false, configurable: true }), e2.prototype._createDropDown = function(t3) {
    return new qa(t3);
  }, e2.prototype.setMask = function(t3) {
    this._mask = null;
  }, e2.prototype.dropDown = function(t3, e3) {
    var i2 = this;
    if (void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = true), !this.readOnly && !this.listing && !this._closing) {
      e3 && this._refreshItems(false, false, true);
      var o2 = It(this._container), r2 = xt(this._container);
      if (t3 || this._items && this._items.length > 0) {
        var n2 = this._list, s2 = this._options;
        this._selectedIndices = function(t4, e4, i3) {
          if (!e4) return [];
          var o3 = e4.split(i3);
          return t4.map(function(t5, e5) {
            if (o3.indexOf(t5.value) >= 0) return e5;
          }).filter(function(t5) {
            return null != t5;
          });
        }(this._items, this._value, this._editIndex.dataColumn.valueSeparator) || [], n2.viewGridInside = s2.viewGridInside, n2.displayLabels = this.displayLabels, n2.separator = this.separator, n2.itemColumned = this.itemColumned, n2.items = this._items;
        var a2 = Ot.getSize(this._container);
        if (this._grid.accessibility) {
          var l2 = Ot.getSize(this._grid.container._containerDiv);
          a2.cx = a2.x - l2.x + a2.cx, a2.cy = a2.y - l2.y + a2.cy;
        }
        this._saveIndices = this._selectedIndices.slice(), this._saveText = this._editor.value, n2.caseSensitive = this.caseSensitive, n2.dropDownCount = this.dropDownCount, n2.dropDownWidth = this.dropDownWidth, n2.dropDownPosition = this.dropDownPosition, n2.setButtonOptions(this.acceptText, this.cancelText, this.showButtons, this.showAllCheck, this.allCheckText), n2.sortStyle = this.itemSortStyle, n2.valueIndices = this._selectedIndices.slice(), n2.trimLabelText = this.trimLabelText, n2._templateCallback = function() {
          if (i2._templateCallback) return function(t4, e4) {
            return i2._templateCallback(i2._grid.handler, i2.editIndex.toProxy(), t4, e4.value, e4.label, e4.item);
          };
        }();
        var h2 = this._grid.displayOptions;
        n2.setZIndex(h2.baseZindex + 3);
        var u2 = o2.body;
        return this.isShowMarquee() ? (n2.viewGridInside = false, this._showMarquee(u2), n2.show(u2, 0, 0, 0, null), this._centerPopup(u2, n2._element)) : (n2.show(u2, a2.cx + 1, a2.cy + a2.height, this._cellBounds.width, Ot.getSize(this._editor)), this.registerPositionListener()), !Ot.isSlotMode() && r2.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), true;
      }
    }
    return false;
  }, e2.prototype.getCheckValues = function(t3, e3, i2) {
    for (var o2 = [], r2 = 0, n2 = t3.length; r2 < n2; r2++) t3[r2] >= 0 && t3[r2] < e3.length && o2.push(this._labeling && !i2 ? e3[t3[r2]].label : e3[t3[r2]].value);
    return o2;
  }, e2.prototype.closeUp = function(t3, e3) {
    if (this.unRegisterPositionListener(), this.listing) {
      this._closing = true;
      try {
        var i2 = this._list, o2 = this.editIndex && this.editIndex.dataColumn, r2 = xt(this._container);
        !Ot.isSlotMode() && r2.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), this._closeMarquee(), i2.hide(), t3 && i2.selected ? (this._selectedIndices = i2.valueIndices.slice(), this._editor.value = this.getCheckValues(this._selectedIndices, this._items).join(o2.valueSeparator), Ot.equalArrays(this._saveIndices, this._selectedIndices) && this._editor.value == this._saveText || (this._dispatchChange(), e3 && this.commitOnSelect && this._dispatchCommit())) : this._selectedIndices = this._saveIndices.slice();
      } finally {
        this._closing = false;
      }
      return true;
    }
    return false;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._showButtons = true, this._showAllCheck = false;
  }, e2.prototype.initDefaultOptions = function() {
    var t3 = this._grid;
    t3 && Ma.initDefault(this, Ke.editor.multiCheckCellEditor, t3.editorOptions.multiCheckCellEditor);
  }, e2.prototype.applyOptions = function(e3) {
    t2.prototype.applyOptions.call(this, e3);
  }, e2.prototype.setEditValue = function(t3) {
    var e3 = this, i2 = [], o2 = -1, r2 = this._editIndex.dataColumn, n2 = r2.getField(), s2 = r2.objectKey || n2.objectKey, a2 = function(t4) {
      Ma.prototype.setEditValue.call(e3, t4), e3._editor.value = null == t4 ? "" : t4;
    };
    s2 && t3 && (t3 = t3[s2]);
    var l2 = Ot.isArray(t3) ? t3 : t3 ? t3.split(this._editIndex.dataColumn.valueSeparator) : [];
    if (this._value = t3, this._lookup) {
      var h2 = this._domain;
      if (h2) for (var u2 = 0, c2 = l2.length; u2 < c2; u2++) (o2 = h2.keys.indexOf(l2[u2])) >= 0 && i2.push(o2 < h2.values.length ? h2.values[o2] : l2[u2]);
      this._labeling ? a2(h2 ? i2.join(this._editIndex.dataColumn.valueSeparator) : this._editIndex.dataColumn.getLookupLabel(t3, false)) : a2(t3);
    } else if (this._values) {
      for (u2 = 0, c2 = l2.length; u2 < c2; u2++) (o2 = this._values.indexOf(l2[u2])) >= 0 && i2.push(this._labels && o2 >= 0 && this._labels.length > o2 ? this._labels[o2] : l2[u2]);
      this._labeling && this._labels ? a2(i2.join(this._editIndex.dataColumn.valueSeparator)) : a2(t3);
    } else a2(t3);
  }, e2.prototype.setCellEditValue = function(e3, i2) {
    t2.prototype.setCellEditValue.call(this, e3, i2);
  }, e2.prototype.getEditValue = function(t3, e3) {
    return void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = false), this.isEdited() || this._list.selected ? this.$_getEditValue(t3, e3) : this._value;
  }, e2.prototype.getEditListItem = function() {
    var t3 = this;
    if (this.isEdited() || !(this._selectedIndices.length < 0)) {
      var e3 = this._list.items.map(function(e4, i2) {
        if (t3._selectedIndices.indexOf(i2) >= 0) return e4 && e4.item;
      }).filter(function(t4) {
        return null != t4;
      });
      return e3 && e3.length > 0 ? e3 : void 0;
    }
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list;
      if (Ot.ctrlKey(e3) && 65 == e3.keyCode && this.listing) return e3.preventDefault(), i2._allCheck.checked = !i2._allCheck.checked, i2.$_toggleAllCheck(), true;
      if (32 === e3.keyCode) {
        if (this.listing) return i2.changeCheckIndex(i2.itemIndex, null, true), e3.preventDefault(), true;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._keyPressHandler = function(e3) {
    t2.prototype._keyPressHandler.call(this, e3), this._list._selected = false;
  }, e2.prototype._inputHandler = function(e3) {
    t2.prototype._inputHandler.call(this, e3), this._list._selected = false;
  }, e2.prototype.$_getEditValue = function(t3, e3) {
    function i2(t4, e4, i3, o3, r3) {
      var n3 = [], s3 = e4 && e4.split(r3.valueSeparator);
      if (s3 && s3.length > 0) for (var a2 = 0, l3 = s3.length; a2 < l3; a2++) o3.indexOf(s3[a2]) >= 0 && o3.indexOf(s3[a2]) < i3.length ? n3.push(i3[o3.indexOf(s3[a2])]) : (i3.indexOf(s3[a2]) >= 0 || !t4.domainOnly) && n3.push(s3[a2]);
      return n3;
    }
    void 0 === t3 && (t3 = false), void 0 === e3 && (e3 = false);
    var o2 = this._strToVal(this.text), r2 = Na.prototype.getEditValue.call(this, t3, e3), n2 = this._editIndex.dataColumn, s2 = n2.getField(), l2 = s2.dataType === a.OBJECT && (n2.objectKey || s2.objectKey), h2 = l2 ? r2[l2] : r2, u2 = this._selectedIndices.slice(), c2 = [], d2 = this._list.selected;
    if (this._lookup) {
      if (this._domain) {
        if (this._labeling) {
          if (d2) for (var p2 = 0, f2 = u2.length; p2 < f2; p2++) u2[p2] < this._domain.keys.length && c2.push(this._domain.keys[u2[p2]]);
          else o2 && (c2 = i2(this, o2, this._domain.keys, this._domain.values, n2));
          h2 = c2.join(n2.valueSeparator);
        }
      } else if (this._labeling && void 0 === (h2 = d2 ? n2.getLookupValues(u2) : n2.getSourceValues(o2)) && (h2 = r2), this.domainOnly && h2) {
        if (!n2.values) return Ma.Unselected;
        for (p2 = (h2 = Ot.isArray(h2) ? h2 : h2 && h2.split ? h2.split(n2.valueSeparator) : [h2]).length - 1; p2 >= 0; p2--) n2.values.indexOf(h2[p2]) < 0 && h2.splice(p2, 1);
      }
    } else {
      if (this._labeling) {
        if (d2) for (p2 = 0, f2 = u2.length; p2 < f2; p2++) u2[p2] < this._values.length && c2.push(this._values[u2[p2]]);
        else o2 && (c2 = i2(this, o2, this._values, this._labels, n2));
        h2 = c2.join(n2.valueSeparator);
      }
      if (this.domainOnly && h2) {
        if (!this._values) return Ma.Unselected;
        for (p2 = (h2 = Ot.isArray(h2) ? h2 : h2 && h2.split ? h2.split(n2.valueSeparator) : [h2]).length - 1; p2 >= 0; p2--) this._values.indexOf(h2[p2]) < 0 && h2.splice(p2, 1);
      }
    }
    return h2 = Ot.isArray(h2) ? h2.join(n2.valueSeparator) : h2, l2 ? (r2[l2] = h2, r2) : h2;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.onMultiCheckListCloseUp = function(t3, e3) {
    !this._isMobile && this.setFocus(), this.closeUp(e3, true);
  }, e2.prototype.onMultiCheckListCheckClick = function(t3) {
    this._editor.value = this.getCheckValues(t3._selectItemIndices, this._items).join(this.editIndex.dataColumn.valueSeparator), this._selectedIndices = t3._selectItemIndices.slice(), this._saveIndices = t3._selectItemIndices.slice(), this._modified = true, this._dispatchChange(), !this._isMobile && this._editor.focus();
  }, e2.prototype.onMultiCheckListCancel = function() {
    this._controller.cancelEditor(true);
  }, e2.INPUT_CSS = "rg-multicheck-editor", e2;
}(za);
var Xa = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._searchLength = 1, o2._searchDelay = 1e3, o2._useCtrlEnterKey = false, o2._useEnterKey = false, o2._initCount = 0, o2._moreItemCount = 25, o2._reInquery = true, o2._timer = void 0, o2._editor.setAttribute("aria-autocomplate", "list"), o2.assignFrom(Ke.editor.searchCellEditor), o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "searchLength", { get: function() {
    return this._searchLength;
  }, set: function(t3) {
    this._searchLength = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "searchDelay", { get: function() {
    return this._searchDelay;
  }, set: function(t3) {
    this._searchDelay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useCtrlEnterKey", { get: function() {
    return this._useCtrlEnterKey;
  }, set: function(t3) {
    this._useCtrlEnterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useEnterKey", { get: function() {
    return this._useEnterKey;
  }, set: function(t3) {
    this._useEnterKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "initCount", { get: function() {
    return this._initCount;
  }, set: function(t3) {
    this._initCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "moreItemCount", { get: function() {
    return this._moreItemCount;
  }, set: function(t3) {
    this._moreItemCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "moreText", { get: function() {
    return this._moreText || Ge.messages.searchEditorMoreText;
  }, set: function(t3) {
    this._moreText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "reInquery", { get: function() {
    return this._reInquery;
  }, set: function(t3) {
    this._reInquery = t3;
  }, enumerable: false, configurable: true }), e2.prototype.fillItems = function(t3, e3, i2, o2) {
    if (this.listing && t3 == this.getEditText()) {
      if (o2 && !e3) {
        e3 = [], i2 = [];
        var r2 = o2.value || "value", n2 = o2.label || "label";
        o2.list.forEach(function(t4) {
          e3.push(t4[r2]), i2.push(t4[n2] || t4[r2]);
        });
      }
      return this.values = e3, this.labels = i2, this._tempItems = o2 && o2.list, this._refreshItems(true, true, false), this._list.$_search(this._editor.value, true), true;
    }
    return false;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this.initCount = 0, this.moreItemCount = 25;
  }, e2.prototype.initDefaultOptions = function() {
    var t3 = this._grid;
    t3 && Ma.initDefault(this, Ke.editor.searchCellEditor, t3.editorOptions.searchCellEditor);
  }, e2.prototype.$_setItems = function(e3, i2) {
    t2.prototype.$_setItems.call(this, e3, i2, this._tempItems), (!this.values || this.values.length <= 0) && (this.values = e3, this.labels = i2);
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = 13 == e3.keyCode, o2 = Ot.ctrlKey(e3);
      if (i2 && (i2 = o2 ? this.useCtrlEnterKey : this.useEnterKey && (!this._items || this._items.length < 1)), i2 && this.editing) {
        Ot.stopEvent(e3), this.$_stopTimer();
        var r2 = this.getEditText();
        return (o2 || r2 && r2 != this._searchKey) && (this.listing || this.dropDown(true), this._searchKey = r2, this._dispatchSearch(r2)), true;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._inputHandler = function(e3) {
    this.isDisabled() || (t2.prototype._inputHandler.call(this, e3), this.$_search());
  }, e2.prototype._doEndEdit = function() {
    t2.prototype._doEndEdit.call(this), this.$_stopTimer(), this._searchKey = null;
  }, e2.prototype.$_getEditValue = function(t3, e3) {
    void 0 === t3 && (t3 = true), void 0 === e3 && (e3 = false);
    var i2 = this.text, o2 = Na.prototype.getEditValue.call(this, t3, e3), r2 = this._selectedIndex, n2 = r2 >= 0;
    if (this._labeling) {
      var s2 = n2 ? r2 : this._labels ? this._labels.indexOf(i2) : -1;
      s2 >= 0 && s2 < this._values.length && (o2 = this._values[s2]);
    }
    return this.domainOnly && o2 && (!this._values || this._values.indexOf(o2) < 0) ? Ma.Unselected : o2;
  }, e2.prototype.dropDown = function(e3) {
    var i2 = this._list;
    return i2 && (i2.initCount = this.initCount, i2.moreItemCount = this.moreItemCount, i2.moreText = this.moreText), t2.prototype.dropDown.call(this, true);
  }, e2.prototype.buttonClicked = function(t3) {
    this.dropDown();
    var e3 = this.getEditText(), i2 = this._dispatchSearchCellButtonClick(e3);
    i2 && "object" == typeof i2 && (i2.values || i2.list) && this.fillItems(e3, i2.values, i2.labels, i2);
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.isShowMarquee = function() {
    return false;
  }, e2.prototype._requestStart = function(e3) {
    return t2.prototype._requestStart.call(this, true);
  }, e2.prototype.$_search = function() {
    var t3 = this.getEditText();
    t3 && t3.length >= this._searchLength ? this.$_startTimer() : this.$_stopTimer();
  }, e2.prototype.$_startTimer = function() {
    this.$_stopTimer(), !this.reInquery && this.listing && this._list._items.length > 0 || (this._timer = setTimeout((function() {
      var t3 = this.getEditText();
      t3 && t3 != this._searchKey && (this._searchKey = t3, this.$_stopTimer(), this._dispatchSearch(t3, true));
    }).bind(this), this._searchDelay));
  }, e2.prototype.$_stopTimer = function() {
    this._timer && clearTimeout(this._timer);
  }, e2.INPUT_CSS = "rg-search-editor", e2;
}(za);
var Za = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._values = null, o2._items = null, o2._labels = null, o2._sortStyle = ba.NONE, o2._itemIndex = -1, o2._displayLabels = null, o2._separator = null, o2._itemColumned = false, o2._trimLabelText = true, o2.$_selectChanged = null, o2._handled = false, o2._globalKeyDownHandler = (function(t3) {
      var e4 = xt(this._container);
      if (!(t3.target instanceof e4.HTMLTableCellElement)) return this._keyDownHandler(t3);
    }).bind(o2), o2;
  }
  return i(e2, t2), e2.prototype._dodispose = function() {
    this._editor && this._editor.removeEventListener("change", this.$_selectChanged), this._values = null, this._labels = null, this._items = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "native", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonCount", { get: function() {
    return 1;
  }, enumerable: false, configurable: true }), e2.prototype.hasButton = function(t3, e3) {
    return null == t3 || t3;
  }, e2.prototype._createEditor = function(t3) {
    var e3 = It(t3);
    this._container = this._createContainer(e3), t3.appendChild(this._container);
    var i2 = e3.createElement("select"), o2 = i2.style;
    return i2.setAttribute("aria-hidden", "true"), o2.position = "absolute", o2.boxSizing = "border-box", o2.margin = "0px", o2.padding = "0px", o2.wordWrap = "normal", o2.overflow = "hidden", o2.resize = "none", o2.border = "none", o2.outline = "none", o2.left = "0px", o2.top = "0px", o2.width = "100%", o2.height = "100%", this.$_selectChanged = (function(t4) {
      var e4 = t4.target;
      this._itemIndex !== e4.selectedIndex && (this._dispatchChange(), this._dispatchCommit());
    }).bind(this), i2.addEventListener("change", this.$_selectChanged), this._container.appendChild(i2), i2;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._values = [], this._labels = [], this._items = [], this._itemIndex = -1;
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3), this._refreshItems(), this._resetPosition();
  }, e2.prototype.setEditValue = function(e3) {
    t2.prototype.setEditValue.call(this, e3), this._itemIndex = -1;
    for (var i2 = this._editor.options, o2 = 0, r2 = i2.length; o2 < r2; o2++) i2[o2].value === e3 ? (this._itemIndex = o2, i2[o2].selected = true) : i2[o2].selected = false;
  }, e2.prototype.prepare = function() {
    var t3 = xt(this._container);
    this._handled || (!Ot.isSlotMode() && t3.addEventListener("keydown", this._globalKeyDownHandler), this._handled = true);
  }, e2.prototype.unprepare = function() {
    var t3 = xt(this._container);
    !Ot.isSlotMode() && t3.removeEventListener("keydown", this._globalKeyDownHandler), this._handled = false;
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = e3.keyCode, o2 = Ot.isIE && this.visible;
      switch (i2) {
        case 40:
          if (e3.altKey) return this._requestStart(), true;
          if (o2) return false;
          break;
        case 13:
        case 38:
        case 33:
        case 34:
        case 36:
        case 35:
          if (o2) return false;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._resetPosition = function() {
    var t3 = this._grid.getEditCellBounds(this, this._editIndex);
    t3.x--, t3.y--, this.setBounds(t3.x, t3.y, 0, 0, 0);
  }, e2.prototype._refreshItems = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var i2 = this.editIndex, o2 = i2.item;
    if (this._values && (this._values.length > 0 || e3)) this.$_setItems(this._values, this._labels);
    else if (i2.dataColumn && i2.item && (i2.dataRow >= 0 || $o(o2.itemState))) {
      var r2 = i2.dataColumn;
      if (r2.lookupSource) {
        for (var n2 = r2.lookupKeyFieldIds, s2 = [], a2 = 0; a2 < n2.length - 1; a2++) s2.push(o2.getData(n2[a2]));
        var l2 = r2.lookupSource.getTextDomain(s2);
        l2 && l2.values && l2.values.length > 0 && this.$_setItems(l2.keys, l2.values);
      } else r2.values && r2.values.length > 0 && this.$_setItems(r2.values, r2.labels);
    }
  }, e2.prototype.$_setItems = function(t3, e3) {
    this._items = [];
    for (var i2 = this._editor, o2 = i2.options, r2 = It(i2), n2 = o2.length - 1; n2 >= 0; n2--) o2.remove(n2);
    n2 = 0;
    for (var s2 = t3.length; n2 < s2; n2++) {
      var a2 = r2.createElement("option");
      a2.value = t3[n2], a2.text = e3 && e3.length > n2 ? e3[n2] : t3[n2], this._items.push({ value: a2.value, label: a2.text }), i2.options.add(a2, null);
    }
  }, e2.prototype.getEditValue = function() {
    return this.$_getEditValue();
  }, e2.prototype.$_getEditValue = function() {
    return this._editor.value;
  }, e2.INPUT_CSS = "rg-nlist-editor", e2;
}(Na);
!function(t2) {
  t2.NONE = "none", t2.HOUR = "hour", t2.MINUTE = "minute", t2.SECOND = "second";
}(Ga || (Ga = {})), function(t2) {
  t2.DAY = "day", t2.MONTH = "month", t2.YEAR = "year";
}(Ua || (Ua = {}));
var Ja = /[ㄱ-ㅎㅏ-ㅣ가-힝]/g;
var Qa = function(t2) {
  if (!t2) return null;
  (t2 = String(t2)) && (t2 = t2.replace(/[^0-9]/g, ""));
  var e2 = parseInt(t2.substr(0, 4)), i2 = parseInt(t2.substr(4, 2));
  if (isNaN(e2) || e2 <= 0 || isNaN(i2) || i2 < 0) return null;
  var o2 = new Date(e2, 0, 1), r2 = 4 - o2.getDay() + 1;
  return o2.setDate(r2), o2.getFullYear() == e2 && i2--, r2 = 7 * i2, o2.setDate(o2.getDate() + r2), o2;
};
var tl = function(t2, e2, i2) {
  var o2, r2 = function(t3) {
    var i3 = new Date(t3), o3 = i3.getDay();
    o3 = o3 < e2 ? -3 - o3 : 4 - o3;
    var r3 = i3.getDate();
    return i3.setDate(r3 + o3), i3;
  }, n2 = t2.getFullYear(), s2 = r2(new Date(n2, 0, 1)), a2 = r2(new Date(n2, t2.getMonth(), t2.getDate())), l2 = s2.getFullYear(), h2 = a2.getFullYear();
  return h2 < n2 ? (s2 = r2(new Date(l2, 0, 1)), o2 = Math.ceil((a2.valueOf() - s2.valueOf()) / 6048e5) + (s2.getFullYear() === h2 ? 1 : 0)) : o2 = h2 > n2 ? 1 : Math.ceil((a2.valueOf() - s2.valueOf()) / 6048e5) + (l2 === h2 ? 1 : 0), String(h2) + (null != i2 ? i2 : "") + (o2 < 10 ? "0" + o2 : String(o2));
};
var el = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._tooltips = [], i2._items = [], i2._enabled = true, i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._owner = null, this._tooltips = null, this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "tooltips", { get: function() {
    return this._tooltips;
  }, set: function(t3) {
    this._tooltips = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items;
  }, set: function(t3) {
    this._items = t3.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    this._enabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items && this._items.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName || "";
  }, set: function(t3) {
    this._styleName = t3;
  }, enumerable: false, configurable: true }), e2.prototype.load = function(t3) {
    this.clear();
  }, e2.prototype.clear = function() {
    this._items = [], this._tooltips = [];
  }, e2.prototype.contains = function(t3) {
    return false;
  }, e2.prototype.getTooltip = function(t3) {
    return null;
  }, e2;
}(Ft);
var il = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return i2 && o2.load(i2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.load = function(e3) {
    if (t2.prototype.load.call(this, e3), e3) {
      var i2 = Ot.makeArray(e3.dates, true);
      e3.tooltips = Ot.makeArray(e3.tooltips, true);
      for (var o2 = 0, r2 = i2.length; o2 < r2; o2++) {
        var n2 = i2[o2], s2 = void 0;
        if (n2 instanceof Date || "number" == typeof n2) (s2 = new Date(n2)).setHours(0, 0, 0, 0);
        else if ("string" == typeof n2) {
          4 !== n2.length && 8 !== n2.length || !/^[0-9]*$/.test(n2) || (n2 = 4 === n2.length ? n2.replace(/(\d{2})(\d{2})/, "$1/$2") : n2.replace(/(\d{4})(\d{2})(\d{2})/, "$1/$2/$3"));
          var a2 = n2.split(/[.//-]/);
          if (2 == a2.length) try {
            s2 = parseInt(a2[0]).toString() + "/" + parseInt(a2[1]).toString();
          } catch (t3) {
            Ot.log("잘못된 날짜형식 (".concat(n2, ")"));
          }
          else 3 == a2.length && (s2 = Tt.getSimpleDateNull(n2));
        }
        s2 && (this._items.push(s2), e3.tooltips[o2] && this._tooltips.push(e3.tooltips[o2]));
      }
      null != e3.enabled && (this.enabled = !!e3.enabled), this.styleName = e3.styleName;
    }
  }, e2.prototype.getItemIndex = function(t3) {
    for (var e3 = 0, i2 = this._items.length; e3 < i2; e3++) {
      var o2 = this._items[e3];
      if (o2 instanceof Date && o2.getFullYear() === t3.getFullYear() && o2.getMonth() === t3.getMonth() && o2.getDate() === t3.getDate()) return e3;
      if (o2 === t3.getMonth() + 1 + "/" + t3.getDate()) return e3;
    }
    return -1;
  }, e2.prototype.contains = function(t3) {
    return this.getItemIndex(t3) >= 0;
  }, e2.prototype.getTooltip = function(t3) {
    var e3 = this.getItemIndex(t3);
    return e3 >= 0 ? this._tooltips[e3] : null;
  }, e2;
}(el);
var ol = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return i2 && o2.load(i2), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.load = function(e3) {
    t2.prototype.load.call(this, e3), e3 && (this._items = Ot.makeArray(e3.days, true), this._tooltips = Ot.makeArray(e3.tooltips, true), this.enabled = !!e3.enabled, this.styleName = e3.styleName);
  }, e2.prototype.contains = function(t3) {
    return t3 instanceof Date && this._items.indexOf(t3.getDay()) >= 0;
  }, e2.prototype.getTooltip = function(t3) {
    var e3 = t3 instanceof Date ? this._items.indexOf(t3.getDay()) : this._items.indexOf(t3);
    return e3 >= 0 ? this._tooltips[e3] : null;
  }, e2;
}(el);
var rl = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._items = [], e3._count = -1, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._editor = null, this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items;
  }, set: function(t3) {
    this._items = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editor", { get: function() {
    return this._editor;
  }, set: function(t3) {
    this._editor = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isNull", { get: function() {
    return -1 == this._count;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._count;
  }, enumerable: false, configurable: true }), e2.prototype.setNull = function() {
    this.clear();
  }, e2.prototype.clear = function() {
    for (var t3 = 0, e3 = this._items.length; t3 < e3; t3++) this._items[t3].clear();
    this._items = [], this._count = -1;
  }, e2.prototype.load = function(t3) {
    if (this.clear(), t3) {
      for (var e3 = 0, i2 = (t3 = Ot.isArray(t3) ? t3 : [t3]).length; e3 < i2; e3++) {
        var o2 = t3[e3], r2 = void 0;
        switch (o2.type) {
          case "day":
            r2 = new ol(this, o2);
            break;
          case "date":
            r2 = new il(this, o2);
        }
        r2.count > 0 && this._items.push(r2);
      }
      this._count = this._items.length;
    } else this._count = -1;
  }, e2.prototype.contains = function(t3) {
    for (var e3 = 0, i2 = this._items.length; e3 < i2; e3++) if (this._items[e3].contains(t3)) return this._items[e3];
    return null;
  }, e2;
}(Ft);
var nl = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3.dropDownPosition = ma.BUTTON, e3.selected = false, e3._viewGridInside = false, e3._date = /* @__PURE__ */ new Date(), e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "viewGridInside", { get: function() {
    return this._viewGridInside || Ot.isSlotMode();
  }, set: function(t3) {
    this._viewGridInside = t3;
  }, enumerable: false, configurable: true }), e2.prototype.$_resetPosition = function(t3, e3, i2, o2) {
    this._viewGridInside ? Ot.resetPosition(this._container._container, this._container._container, this._element, t3, e3, i2, o2, this.dropDownPosition != ma.EDITOR) : Ot.resetPosition(this._containerElement, this._container._container, this._element, t3, e3, i2, o2, this.dropDownPosition != ma.EDITOR);
  }, e2;
}(Oe);
var sl = function(t2) {
  function e2(i2, o2) {
    var r2 = t2.call(this) || this;
    return r2.minWidth = 0, r2.maxWidth = 0, r2.showToday = true, r2.showWeeks = false, r2.startWeek = 0, r2.weekSelectable = false, r2.weekSeparator = "", r2._currentMode = Ua.DAY, r2._focused = true, r2._canceled = false, r2._touchs = null, r2._applyTouchs = null, r2._clickHandler = function(t3) {
      var i3 = r2.$_getCellDate(r2._currDate, t3.currentTarget.$_day + 1);
      if (r2._editor.containsRange(i3)) {
        var o3 = r2.holidays && r2.holidays.contains(i3);
        o3 && !o3.enabled || (r2.date = new Date(i3), r2.selected = true, r2.focused = true, r2._editor.$_selectDate(r2._date), !r2.showButtons && r2._editor.timeSelectType === Ga.NONE && r2.fireEvent(e2.CLOSE_UP, true));
      }
    }, r2._dblClickHandler = function(t3) {
      r2.fireEvent(e2.CLOSE_UP, true);
    }, r2._yearWeekClickHandler = function(t3) {
      var i3, o3 = t3.currentTarget.$_yearWeek;
      o3 && (i3 = Qa(o3)), i3 && r2._editor.containsRange(i3) && (r2._date = new Date(i3), r2.selected = true, r2._editor.$_selectDate(r2._date), !r2.showButtons && r2.fireEvent(e2.CLOSE_UP, true));
    }, r2._mouseupHandler = (function(t3) {
      !this._isMobile && this._editor.setFocus();
    }).bind(r2), r2._timeWheelHandler = function(t3) {
      Ot.stopEvent(t3), r2._doTimeWheel(t3);
    }, r2._timeClickHandler = function(t3) {
      Ot.stopEvent(t3), r2._doTimeClick(t3);
    }, r2._touchStartHandler = function(t3) {
      r2._touchs = [], r2._applyTouchs = [], r2._swipeTimer = clearInterval(r2._swipeTimer), 1 != t3.touches.length && (r2._touchId = void 0), r2._touchId = t3.touches[0].identifier;
      var e3 = t3.touches[0];
      r2._touchs.push({ x: e3.clientX, y: e3.clientY, t: t3.timeStamp }), r2._applyTouchs.push({ x: e3.clientX, y: e3.clientY, t: t3.timeStamp });
    }, r2._touchEndHandler = function(t3) {
      r2._checkSwipe(t3.target), r2._touchs = r2._applyTouchs = null;
    }, r2._touchMoveHandler = function(t3) {
      if (!(t3.touches.length > 1)) {
        Ot.stopEvent(t3);
        var e3 = r2._touchs, i3 = r2._applyTouchs, o3 = t3.touches[0], n2 = { x: o3.clientX, y: o3.clientY, t: t3.timeStamp };
        e3.push(n2), i3.push(n2);
        var s2 = i3[0].y, a2 = i3[i3.length - 1].y;
        Math.abs(s2 - a2) > 13 && (r2._applyTouchs = [], r2._doTimeScroll(t3.target, s2 - a2));
      }
    }, r2._checkSwipe = function(t3) {
      var e3 = r2._touchs, i3 = e3.length;
      if (!(i3 < 2)) {
        for (var o3 = e3[i3 - 1], n2 = e3[i3 - 2], s2 = i3 - 3; s2 >= 0 && !(o3.t - n2.t > 100); s2--) n2 = e3[s2];
        var a2 = n2.x, l2 = n2.y, h2 = o3.x, u2 = o3.y, c2 = Math.sqrt(Math.pow(a2 - h2, 2) + Math.pow(l2 - u2, 2)) / Math.max(16, o3.t - n2.t), d2 = 0.998;
        if (c2 > 0.1) {
          var p2 = Math.log(0.1 / c2) / Math.log(d2), f2 = c2 * (1 - Math.pow(d2, p2 + 1)) / (1 - d2), _2 = "right", g2 = Math.round(180 * Math.atan2(u2 - l2, h2 - a2) / Math.PI);
          return g2 < 0 && (g2 = 360 + g2), g2 > 45 && g2 <= 135 ? _2 = "bottom" : g2 > 135 && g2 <= 225 ? _2 = "left" : g2 > 225 && g2 <= 315 && (_2 = "top"), r2.onSwipeHandler(p2, f2, _2, t3);
        }
        return false;
      }
    }, r2.$_scrollRow = function() {
      Ot.getTimer() - r2._swipeStarted < r2._swipeDuration ? r2._doTimeScroll(r2._swipeTarget, r2._swipeDistance) : r2._swipeTimer = clearInterval(r2._swipeTimer);
    }, r2.$_nextMonth = function(t3) {
      Ot.incMonth(r2._currDate, 1), r2.$_buildCalendar();
    }, r2.$_prevMonth = function(t3) {
      Ot.incMonth(r2._currDate, -1), r2.$_buildCalendar();
    }, r2.$_nextYearMonth = function(t3) {
      Ot.incYear(r2._currDate, 1), r2.$_buildMonths();
    }, r2.$_prevYearMonth = function(t3) {
      Ot.incYear(r2._currDate, -1), r2.$_buildMonths();
    }, r2.$_nextYear = function() {
      var t3 = r2._yearTable.tBodies[0].rows[2].cells[3], e3 = parseInt(t3.getAttribute("year"));
      r2.$_buildYear(e3);
    }, r2.$_prevYear = function() {
      var t3 = r2._yearTable.tBodies[0].rows[0].cells[0], e3 = parseInt(t3.getAttribute("year")) - 4;
      r2.$_buildYear(e3);
    }, r2._editor = o2, r2._container = i2, r2._element = r2.$_createPicker(o2), r2._element.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerup", r2._mouseupHandler), r2;
  }
  return i(e2, t2), e2.prototype.onSwipeHandler = function(t3, e3, i2, o2) {
    this._swipeDuration = t3, this._swipeStarted = Ot.getTimer(), this._swipeTarget = o2;
    var r2 = 1;
    switch (i2) {
      case "bottom":
        r2 = -1;
      case "top":
        this._swipeDistance = r2 * e3 / 20, this._swipeTimer = setInterval(this.$_scrollRow, 40);
    }
    return true;
  }, e2.prototype._doDispose = function() {
    var e3 = this;
    if (this._element) {
      var i2 = function(t3) {
        t3 && (t3.removeEventListener("wheel", e3._timeWheelHandler), t3.removeEventListener("click", e3._timeClickHandler), t3.removeEventListener("touchstart", e3._touchStartHandler), t3.removeEventListener("touchend", e3._touchEndHandler), t3.removeEventListener("touchmove", e3._touchMoveHandler), t3.removeEventListener("dblclick", e3._dblClickHandler));
      };
      this._element.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerup", this._mouseupHandler), i2(this._hourElement.$_UL), i2(this._minuteElement.$_UL), i2(this._secondElement.$_UL), Ot.detach(this._element);
    }
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "date", { get: function() {
    return this._date;
  }, set: function(t3) {
    if (t3) {
      if ((!this._date || this._date.getTime() !== t3.getTime()) && (this._currDate = new Date(t3), this._date = new Date(t3), this.listing)) {
        switch (this._currentMode) {
          case Ua.DAY:
            this.$_buildCalendar();
            break;
          case Ua.MONTH:
            this.$_buildMonths();
            break;
          case Ua.YEAR:
            this.$_buildYear(this._date.getFullYear());
        }
        this._setTime(this._date, false);
      }
    } else null === t3 && (this._date = null);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return this._containerElement && this._containerElement.contains(this._element);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canceled", { get: function() {
    return this._canceled;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focused", { get: function() {
    return this._focused;
  }, set: function(t3) {
    t3 != this._focused && (this._focused = t3, this._element.style.border = t3 ? "1px solid rgba(50, 50, 50, 1)" : "1px solid rgba(50, 50, 50, 0.3)", this._element.style.boxShadow = t3 ? "rgba(0, 0, 0, 0.8) 1px 2px 5px" : "rgba(0, 0, 0, 0.5) 1px 2px 5px", this._headerElement.style.backgroundColor = t3 ? "rgba(0, 200, 200, 0.1)" : "#e8e8e8", this._calendar.tHead.style.opacity = t3 ? "1.0" : "0.5");
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "today", { get: function() {
    return this.date = /* @__PURE__ */ new Date();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "currentMode", { get: function() {
    return this._currentMode;
  }, set: function(t3) {
    if (this._currentMode !== t3) {
      this._currentMode = t3;
      for (var e3 = this._bodyElement, i2 = void 0, o2 = this._header, r2 = o2.$_prev, n2 = o2.$_next, s2 = this._currDate || /* @__PURE__ */ new Date(); i2 = e3.lastElementChild; ) e3.removeChild(i2);
      var a2 = s2.getMonth(), l2 = s2.getFullYear();
      switch (this._currentMode) {
        case Ua.MONTH:
          e3.appendChild(this._monthsElement), this.$_buildMonths(), r2.onclick = this.$_prevYearMonth, n2.onclick = this.$_nextYearMonth, r2.title = "".concat(l2 - 1, "/").concat(a2 + 1), n2.title = "".concat(l2 + 1, "/").concat(a2 + 1);
          break;
        case Ua.YEAR:
          e3.appendChild(this._yearsElement), this.$_buildYear(s2.getFullYear()), r2.onclick = this.$_prevYear, n2.onclick = this.$_nextYear, r2.title = "".concat(10 * Math.floor(l2 / 10) - 11, "-").concat(10 * Math.floor(l2 / 10)), n2.title = "".concat(10 * Math.floor(l2 / 10) + 11, "-").concat(10 * Math.floor(l2 / 10) + 20);
          break;
        default:
          e3.appendChild(this._calendarElement), this.$_buildCalendar(), r2.onclick = this.$_prevMonth, n2.onclick = this.$_nextMonth, r2.title = 0 == a2 ? l2 - 1 + "/12" : l2 + "/" + Ot.pad(a2), n2.title = n2.title = 11 == a2 ? l2 + 1 + "/01" : l2 + "/" + Ot.pad(a2 + 2);
      }
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hours", { get: function() {
    return this._hours;
  }, set: function(t3) {
    if (t3) this._hours = t3.slice();
    else {
      this._hours = [];
      for (var e3 = 0; e3 < 24; e3++) this._hours.push(e3);
    }
    this.$_buildHourMinutes(Ga.HOUR);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minutes", { get: function() {
    return this._minutes;
  }, set: function(t3) {
    if (t3) this._minutes = t3.slice();
    else {
      this._minutes = [];
      for (var e3 = 0; e3 < 60; e3++) this._minutes.push(e3);
    }
    this.$_buildHourMinutes(Ga.MINUTE);
  }, enumerable: false, configurable: true }), e2.prototype.setWeekDays = function(t3) {
    this._weekDays = t3.slice();
  }, e2.prototype.show = function(t3, e3, i2, o2, r2) {
    this._containerElement = !Ot.isMobile() && this.viewGridInside ? this._container._container : t3, this._element.style.removeProperty("width"), this._timeContainer.style.setProperty("height", "0px"), this.$_show(e3, i2, o2, r2);
  }, e2.prototype.hide = function() {
    this.focused = false, Ot.detach(this._element), this._containerElement = null;
  }, e2.prototype.incDay = function(t3) {
    var e3;
    return this._date.getMonth() == this._currDate.getMonth() ? (e3 = new Date(this._date)).setDate(this._date.getDate() + t3) : (e3 = this._currDate, e3 = new Date(e3.getFullYear(), e3.getMonth(), 1)), this.date = e3;
  }, e2.prototype.incMonth = function(t3) {
    var e3;
    return this._date.getMonth() == this._currDate.getMonth() ? (e3 = new Date(this._date), Ot.incMonth(e3, t3)) : (e3 = this._currDate, e3 = new Date(e3.getFullYear(), e3.getMonth(), 1)), this.date = e3;
  }, e2.prototype.startDay = function() {
    var t3 = new Date(this._currDate), e3 = t3.getDay() - this.startWeek;
    return t3.setDate(t3.getDate() - (e3 + 7) % 7), this.date = t3;
  }, e2.prototype.endDay = function() {
    var t3 = new Date(this._currDate), e3 = t3.getDay() - this.startWeek;
    return t3.setDate(t3.getDate() + (6 - e3)), this.date = t3;
  }, e2.prototype.incHour = function(t3) {
    var e3, i2 = new Date(this._currDate), o2 = i2.getHours(), r2 = this._hours;
    return r2 ? (e3 = r2.indexOf(o2)) >= 0 ? null == (o2 = r2[e3 + t3]) && (o2 = 1 === t3 ? r2[0] : r2[r2.length - 1]) : o2 = r2[0] : o2 = (24 + o2 + t3) % 24, i2.setHours(o2), this.$_setTime(this._hourElement, null, o2, true), this.date = i2;
  }, e2.prototype.incMinute = function(t3) {
    var e3, i2 = new Date(this._currDate), o2 = this._minutes, r2 = i2.getMinutes();
    return o2 ? (e3 = o2.indexOf(r2)) >= 0 ? null == (r2 = o2[e3 + t3]) && (r2 = 1 === t3 ? o2[0] : o2[o2.length - 1]) : r2 = o2[0] : r2 = (24 + r2 + t3) % 24, i2.setMinutes(r2), this.$_setTime(this._minuteElement, null, r2, true), this.date = i2;
  }, e2.prototype.incSecond = function(t3) {
    var e3 = new Date(this._currDate), i2 = e3.getSeconds();
    return i2 = (60 + i2 + t3) % 60, e3.setSeconds(i2), this.$_setTime(this._secondElement, null, i2, true), this.date = e3;
  }, e2.prototype.setCurrentLoc = function(t3) {
    var e3 = "focused";
    1 === t3 ? Ot.addClassName(this._hourElement, e3) : Ot.removeClassName(this._hourElement, e3), 2 === t3 ? Ot.addClassName(this._minuteElement, e3) : Ot.removeClassName(this._minuteElement, e3), 3 === t3 ? Ot.addClassName(this._secondElement, e3) : Ot.removeClassName(this._secondElement, e3);
  }, e2.prototype._changed = function() {
  }, e2.prototype.$_getCellDate = function(t3, e3) {
    var i2 = new Date(t3);
    return i2.setDate(e3), i2;
  }, e2.prototype.$_createPicker = function(t3) {
    var e3 = this._container.doc, i2 = e3.createElement("div");
    this._id = i2.id = "rg-calendar-" + al.$$_LIST_ID++, i2.tabIndex = -1;
    var o2 = i2.style;
    return o2.position = "absolute", o2.boxSizing = "border-box", o2.margin = "0px", o2.overflow = "auto", o2.zIndex = String(t3._baseZindex + 2), i2.className = "rg-calendar", this._header = this.$_createHeader(e3), i2.appendChild(this._header), this._bodyElement = this.$_createBody(e3), i2.appendChild(this._bodyElement), this._calendarElement = this.$_createCalTable(e3), this._monthsElement = this.$_createMonths(e3), this._yearsElement = this.$_createYears(e3), this._footer = this.$_createFooter(e3), i2.appendChild(this._footer), i2;
  }, e2.prototype.$_createBody = function(t3) {
    var e3 = t3.createElement("div");
    return e3.className = "rg-calendar-body", e3;
  }, e2.prototype.$_createCalTable = function(t3) {
    var e3, i2 = t3.createElement("div");
    (e3 = i2.style).display = "flex", e3.flexDirection = "row";
    var o2 = this._dateContainer = t3.createElement("div");
    (e3 = o2.style).display = "inline-block", i2.appendChild(o2), this._calendar = this.$_createCalendar(t3), o2.appendChild(this._calendar);
    var r2 = this._timeContainer = t3.createElement("div");
    return i2.appendChild(r2), (e3 = r2.style).display = "none", e3.overflow = "hidden", e3.height = "0px", r2.appendChild(this._hourElement = this.$_createHour(t3)), r2.appendChild(this._minuteElement = this.$_createMinute(t3)), r2.appendChild(this._secondElement = this.$_createSecond(t3)), i2;
  }, e2.prototype._getCell = function(t3) {
    for (var e3 = xt(t3); t3 && !(t3 instanceof e3.HTMLTableCellElement); ) t3 = t3.parentElement;
    return t3;
  }, e2.prototype.$_setCurrentTime = function(t3, e3, i2) {
    for (var o2 = t3.parentElement.clientHeight, r2 = t3.offsetTop, n2 = 0, s2 = 0; s2 < t3.childElementCount; s2++) {
      var a2 = t3.children[s2];
      e3 && (a2.setAttribute("time-value", e3[s2].toString()), a2[Ot.TextProp] = Ot.pad(e3[s2])), e3[s2] === i2 ? Ot.addClassName(a2, "rg-cal-time-select") : Ot.removeClassName(a2, "rg-cal-time-select"), (r2 += n2 || (n2 = a2.clientHeight + 2)) > o2 ? a2.style.visibility = "hidden" : a2.style.removeProperty("visibility");
    }
  }, e2.prototype._doTimeScroll = function(t3, e3) {
    for (var i2 = xt(this._containerElement), o2 = t3; !(o2 instanceof i2.HTMLUListElement) || null == o2; ) o2 = o2.parentElement;
    if (o2) {
      var r2 = o2.parentElement;
      if (!(r2.scrollHeight <= r2.clientHeight)) {
        var n2;
        switch (o2.firstElementChild.getAttribute("kind")) {
          case Ga.HOUR:
            n2 = this._currDate.getHours();
            break;
          case Ga.MINUTE:
            n2 = this._currDate.getMinutes();
            break;
          case Ga.SECOND:
            n2 = this._currDate.getSeconds();
        }
        if (o2) {
          for (var s2 = [], a2 = 0; a2 < o2.childElementCount; a2++) s2.push(Number(o2.children[a2].getAttribute("time-value")));
          e3 > 0 ? s2.push(s2.shift()) : s2.unshift(s2.pop()), this.$_setCurrentTime(o2, s2, n2);
        }
      }
    }
  }, e2.prototype._doTimeWheel = function(t3) {
    this._doTimeScroll(t3.target, t3.deltaY);
  }, e2.prototype._doTimeClick = function(t3) {
    var i2 = t3.target, o2 = new Date(this._currDate), r2 = i2.getAttribute("kind"), n2 = Number(i2.getAttribute("time-value"));
    switch (r2) {
      case Ga.HOUR:
        o2.setHours(n2);
        break;
      case Ga.MINUTE:
        o2.setMinutes(n2);
        break;
      case Ga.SECOND:
        o2.setSeconds(n2);
    }
    this._editor.$_selectDate(this.date = o2), this.selected = true, r2 === this._editor.timeSelectType && !this.showButtons && this.fireEvent(e2.CLOSE_UP, true);
  }, e2.prototype._changeCurrent = function(t3) {
    switch (this._currentMode) {
      case Ua.DAY:
        this.currentMode = t3 ? Ua.MONTH : Ua.DAY;
        break;
      case Ua.MONTH:
        this.currentMode = t3 ? Ua.YEAR : Ua.DAY;
        break;
      case Ua.YEAR:
        this.currentMode = t3 ? Ua.YEAR : Ua.MONTH;
    }
  }, e2.prototype.$_createHeader = function(t3) {
    var e3 = this, i2 = function(t4, e4) {
      var i3 = t4.createElement("span"), o3 = i3.style;
      return o3.position = "relative", o3.minWidth = "17px", o3.minHeight = "17px", i3;
    }, o2 = this, r2 = this._headerElement = t3.createElement("div"), n2 = r2.style;
    n2.position = "relative", n2.display = "flex", r2.className = "rg-cal-header";
    var s2 = r2.appendChild(r2.$_prev = i2(t3));
    s2.className = "rg-cal-prev-month", s2.onclick = this.$_prevMonth;
    var a2 = t3.createElement("div");
    (n2 = a2.style).position = "relative", n2.textAlign = "center", n2.display = "flex", n2.alignItems = "center", n2.justifyContent = "center", n2.height = "100%", n2.flexGrow = "1", r2.appendChild(r2.$_title = a2), a2.className = "rg-cal-yearmonth";
    var l2 = t3.createElement("div");
    (n2 = l2.style).position = "relative", n2.fontSize = "14px", l2.className = "rg-cal-year", a2.appendChild(a2.$_year = l2), l2.onclick = function(t4) {
      e3._currentMode !== Ua.YEAR && e3._changeCurrent(true);
    };
    var h2 = this._todayElement = t3.createElement("span");
    (n2 = h2.style).position = "relative", h2.className = "rg-cal-today-button", r2.appendChild(h2), h2.onclick = function(t4) {
      var e4 = /* @__PURE__ */ new Date();
      o2.focused = true, o2.date = e4, o2.selected = true, o2.currentMode = o2.viewMode || Ua.DAY, o2._editor.$_selectDate(o2._currDate), o2._setTime(e4, true);
    };
    var u2 = r2.appendChild(r2.$_next = i2(t3));
    return u2.className = "rg-cal-next-month", u2.onclick = this.$_nextMonth, r2;
  }, e2.prototype.$_createFooter = function(t3) {
    var i2, o2 = this, r2 = t3.createElement("div"), n2 = r2.style;
    return n2.display = "none", r2.className = "rg-cal-buttons", (i2 = this._deleteElement = t3.createElement("span")).className = "rg-cal-delete-button", (n2 = i2.style).float = "left", i2.onclick = function(t4) {
      o2.selected = true, o2.date = null, o2._editor.$_selectDate(null);
    }, r2.appendChild(i2), (i2 = this._saveElement = t3.createElement("span")).className = "rg-cal-save-button", (n2 = i2.style).float = "right", i2.onclick = function(t4) {
      o2.fireEvent(e2.CLOSE_UP, true);
    }, r2.appendChild(i2), (i2 = this._cancelElement = t3.createElement("span")).className = "rg-cal-cancel-button", (n2 = i2.style).float = "right", i2.onclick = function(t4) {
      o2.selected = false, o2._canceled = true, o2.fireEvent(e2.CLOSE_UP, false);
    }, r2.appendChild(i2), r2;
  }, e2.prototype.$_createCalendar = function(t3) {
    var i2 = e2.weeksClass, o2 = t3.createElement("table"), r2 = o2.style;
    r2.margin = "2px", o2.className = "rg-cal-days-table";
    var n2 = o2.createTHead();
    n2.className = "rg-cal-weeks";
    var s2 = t3.createElement("tr");
    n2.appendChild(s2);
    var a2 = [], l2 = t3.createElement("th");
    (r2 = l2.style).minWidth = "20px", r2.textAlign = "center", l2.className = "rg-cal-week-year-week", s2.appendChild(l2);
    var h2 = t3.createElement("span");
    l2.appendChild(h2), n2.$_weeks = l2;
    for (var u2 = 0; u2 < 7; u2++) {
      var c2 = t3.createElement("th");
      (r2 = c2.style).minWidth = "20px", r2.textAlign = "center", c2.className = "rg-cal-week-" + i2[u2], s2.appendChild(c2);
      var d2 = t3.createElement("span");
      c2.appendChild(d2), a2.push(d2);
    }
    n2.$_cells = a2;
    var p2 = t3.createElement("tbody");
    p2.className = "rg-cal-days", o2.appendChild(o2.$_body = p2);
    for (var f2 = p2.$_rows = [], _2 = p2.$_yearweeks = [], g2 = 0; g2 < 6; g2++) {
      var y2 = t3.createElement("tr");
      p2.appendChild(y2), f2.push(y2), y2.$_cells = a2 = [];
      var m2 = t3.createElement("td");
      (r2 = m2.style).padding = "1px", y2.appendChild(m2);
      var b2 = t3.createElement("span");
      m2.appendChild(m2.$_span = b2), _2.push(m2);
      for (u2 = 0; u2 < 7; u2++) {
        var v2 = t3.createElement("td");
        (r2 = v2.style).padding = "1px", v2.className = "rg-cal-day rg-cal-week-" + i2[(u2 + this.startWeek) % 7], y2.appendChild(v2), v2.onclick = this._clickHandler, v2.ondblclick = this._dblClickHandler;
        var w2 = t3.createElement("span");
        v2.appendChild(v2.$_span = w2), v2.id = this._id + "-" + g2.toString() + "-" + u2.toString(), a2.push(v2);
      }
    }
    return o2;
  }, e2.prototype.$_buildYear = function(t3) {
    for (var e3 = this._yearTable.tBodies[0], i2 = this._currDate.getFullYear(), o2 = t3 = 10 * Math.floor(t3 / 10) - 1, r2 = 0; r2 < 3; r2++) for (var n2 = e3.rows[r2], s2 = 0; s2 < 4; s2++) {
      var a2 = n2.cells[s2];
      a2.setAttribute("year", t3.toString()), a2.firstElementChild[Ot.TextProp] = Ot.htmlEncode(this.yearDisplayFormat ? this.yearDisplayFormat.replace("{Y}", t3 + "") : t3 + ""), i2 === t3 ? Ot.addClassName(a2, "rg-cal-focusday") : Ot.removeClassName(a2, "rg-cal-focusday"), t3++;
    }
    var l2 = "".concat(this.yearDisplayFormat ? this.yearDisplayFormat.replace("{Y}", o2 + "") : o2, " - ").concat(this.yearDisplayFormat ? this.yearDisplayFormat.replace("{Y}", --t3 + "") : --t3);
    this._headerElement.$_title.$_year[Ot.TextProp] = Ot.htmlEncode(l2);
  }, e2.prototype.$_buildMonths = function() {
    for (var t3 = this.months, e3 = 0, i2 = this._currDate.getMonth(), o2 = this._monthTable.tBodies[0], r2 = 0; r2 < 3; r2++) for (var n2 = o2.rows[r2], s2 = 0; s2 < 4; s2++) {
      var a2 = n2.cells[s2];
      a2.setAttribute("month", e3.toString());
      var l2 = a2.firstElementChild;
      t3 && t3[e3] ? l2[Ot.TextProp] = Ot.htmlEncode(t3[e3]) : l2[Ot.TextProp] = this.monthDisplayFormat ? this.monthDisplayFormat.replace("{M}", e3 + 1 + "") : "".concat(e3 + 1), i2 === e3 ? Ot.addClassName(a2, "rg-cal-focusday") : Ot.removeClassName(a2, "rg-cal-focusday"), e3++;
    }
    var h2 = this._currDate.getFullYear(), u2 = "".concat(this.yearDisplayFormat ? this.yearDisplayFormat.replace("{Y}", h2 + "") : h2);
    this._headerElement.$_title.$_year[Ot.TextProp] = Ot.htmlEncode(u2);
  }, e2.prototype.$_buildHourMinutes = function(t3) {
    var e3, i2, o2 = this._container.doc;
    switch (t3) {
      case Ga.HOUR:
        e3 = this._hourElement, i2 = this._hours;
        break;
      case Ga.MINUTE:
        e3 = this._minuteElement, i2 = this._minutes;
    }
    var r2 = e3.$_UL;
    if (r2) {
      for (; r2.lastElementChild; ) r2.removeChild(r2.lastElementChild);
      i2.forEach(function(e4) {
        var i3 = o2.createElement("li");
        i3.className = "rg-cal-time-item", i3.setAttribute("time-value", e4.toString()), i3[Ot.TextProp] = Ot.pad(e4, 2), i3.setAttribute("kind", t3), r2.appendChild(i3);
      });
    }
  }, e2.prototype.$_monthClick = function(t3, i2) {
    var o2 = this._getCell(t3.target);
    if (o2) {
      var r2 = parseInt(o2.getAttribute("month")), n2 = this._currDate.getDate(), s2 = new Date(this._currDate.getFullYear(), r2 + 1, 0).getDate();
      if (this._currDate.setMonth(r2, Math.min(n2, s2)), this.viewMode === Ua.MONTH) return this.selected = true, this.date = this._currDate, this._editor.$_selectDate(this._currDate), void (this.showButtons && !i2 ? this.$_buildMonths() : this.fireEvent(e2.CLOSE_UP, true));
      this._changeCurrent(false), this.$_buildCalendar();
    }
  }, e2.prototype.$_createMonths = function(t3) {
    var e3 = this, i2 = t3.createElement("div"), o2 = this._monthTable = t3.createElement("table");
    o2.className = "rg-cal-month-table";
    var r2 = t3.createElement("tbody");
    o2.appendChild(r2);
    for (var n2 = 0; n2 < 3; n2++) {
      var s2 = r2.appendChild(t3.createElement("tr"));
      s2.className = "rg-cal-month-row";
      for (var a2 = 0; a2 < 4; a2++) {
        var l2 = s2.appendChild(t3.createElement("td"));
        l2.className = "rg-cal-month-cell", l2.appendChild(t3.createElement("div"));
      }
    }
    return i2.appendChild(o2), o2.onclick = function(t4) {
      e3.$_monthClick(t4, false);
    }, o2.ondblclick = function(t4) {
      e3.showButtons && e3.$_monthClick(t4, true);
    }, i2;
  }, e2.prototype.$_yearClick = function(t3, i2) {
    var o2 = this._getCell(t3.target);
    if (o2) {
      var r2 = parseInt(o2.getAttribute("year"));
      if (this._currDate.setFullYear(r2), this.viewMode === Ua.YEAR) return this.selected = true, this.date = this._currDate, this._editor.$_selectDate(this._currDate), void (this.showButtons && !i2 ? this.$_buildYear(this._currDate.getFullYear()) : this.fireEvent(e2.CLOSE_UP, true));
      this._changeCurrent(false);
    }
  }, e2.prototype.$_createYears = function(t3) {
    var e3 = this, i2 = t3.createElement("div"), o2 = this._yearTable = t3.createElement("table");
    o2.className = "rg-cal-year-table";
    for (var r2 = o2.appendChild(t3.createElement("tbody")), n2 = 0; n2 < 3; n2++) {
      var s2 = r2.appendChild(t3.createElement("tr"));
      s2.className = "rg-cal-year-row";
      for (var a2 = 0; a2 < 4; a2++) {
        var l2 = s2.appendChild(t3.createElement("td"));
        l2.className = "rg-cal-year-cell", l2.appendChild(t3.createElement("div"));
      }
    }
    return i2.appendChild(o2), o2.onclick = function(t4) {
      e3.$_yearClick(t4, false);
    }, o2.ondblclick = function(t4) {
      e3.showButtons && e3.$_yearClick(t4, true);
    }, i2;
  }, e2.prototype.$_createTimeElt = function(t3, e3, i2, o2) {
    var r2 = e3.style;
    e3.className = "rg-cal-time rg-cal-time-".concat(o2), r2.display = "inline-block", r2.height = "100%", r2.overflow = "hidden", r2.position = "relative";
    var n2 = t3.createElement("div");
    n2.className = "rg-time-header";
    var s2 = t3.createElement("div");
    s2.className = "rg-time-title", e3.$_Label = s2, n2.appendChild(s2), e3.appendChild(n2);
    var a2 = t3.createElement("ul");
    a2.addEventListener("wheel", this._timeWheelHandler), a2.addEventListener("click", this._timeClickHandler), a2.addEventListener("touchstart", this._touchStartHandler), a2.addEventListener("touchend", this._touchEndHandler), a2.addEventListener("touchmove", this._touchMoveHandler), a2.addEventListener("dblclick", this._dblClickHandler), a2.className = "rg-cal-time-list";
    for (var l2 = 0; l2 < i2; l2++) {
      var h2 = t3.createElement("li");
      h2.className = "rg-cal-time-item", h2.setAttribute("time-value", l2.toString()), h2[Ot.TextProp] = Ot.pad(l2, 2), h2.setAttribute("kind", o2), a2.appendChild(h2);
    }
    e3.appendChild(a2), e3.$_UL = a2;
  }, e2.prototype.$_createHour = function(t3) {
    var e3 = t3.createElement("div");
    return this.$_createTimeElt(t3, e3, 24, Ga.HOUR), e3;
  }, e2.prototype.$_createMinute = function(t3) {
    var e3 = t3.createElement("div");
    return this.$_createTimeElt(t3, e3, 60, Ga.MINUTE), e3;
  }, e2.prototype.$_createSecond = function(t3) {
    var e3 = t3.createElement("div");
    return this.$_createTimeElt(t3, e3, 60, Ga.SECOND), e3;
  }, e2.prototype.$_show = function(t3, e3, i2, o2) {
    this.focused = false, this.selected = false, this._canceled = false, this.showButtons ? (this._footer.style.display = "", this._saveElement && (this._saveElement[Ot.TextProp] = Ot.htmlEncode(this.saveLabel)), this._cancelElement && (this._cancelElement[Ot.TextProp] = Ot.htmlEncode(this.cancelLabel)), this._deleteElement && (this._deleteElement[Ot.TextProp] = Ot.htmlEncode(this.deleteLabel))) : this._footer.style.display = "none", this.showToday ? (this._todayElement && (this._todayElement[Ot.TextProp] = Ot.htmlEncode(this.todayLabel)), this._todayElement.style.removeProperty("display")) : this._todayElement.style.setProperty("display", "none");
    var r2 = this._date;
    this._currDate = r2 ? new Date(r2) : /* @__PURE__ */ new Date(), this._today = /* @__PURE__ */ new Date();
    for (var n2, s2 = this._bodyElement; n2 = s2.lastElementChild; ) s2.removeChild(n2);
    this._bodyElement.appendChild(this._calendarElement), this.currentMode = this.viewMode || Ua.DAY, this.setCurrentLoc(0), this.$_buildCalendar(), Ot.disableSelection(this._element), this._containerElement.appendChild(this._element), this._timeContainer.style.height = Ot.getSize(this._dateContainer).height + "px", this.$_setTimeSelector(), this._setTime(this._currDate, true), this.$_resetPosition(t3, e3, i2, o2), this._element.style.setProperty("width", Math.ceil(Ot.getSize(this._element).width) + "px");
  }, e2.prototype.$_checkFocusedWeek = function(t3, e3, i2) {
    var o2 = ["rg-cal-week-year-week"];
    this.$_isFocusedWeek(t3, e3.$_yearWeek) && o2.push("rg-cal-week-year-focusweek"), this.weekSelectable && o2.push("rg-week-selectable"), e3.className = o2.join(" ");
  }, e2.prototype.$_isFocusedWeek = function(t3, e3) {
    return t3 && e3 && tl(t3, this.startWeek) == e3;
  }, e2.prototype.$_isFocusedDay = function(t3, e3) {
    var i2 = this._date;
    return i2 && t3.getFullYear() == i2.getFullYear() && t3.getMonth() == i2.getMonth() && e3 == i2.getDate();
  }, e2.prototype.$_isToday = function(t3, e3) {
    var i2 = this._today;
    return i2 && t3.getFullYear() == i2.getFullYear() && t3.getMonth() == i2.getMonth() && e3 == i2.getDate();
  }, e2.prototype.$_setTime = function(t3, e3, i2, o2) {
    var r2 = t3.$_UL, n2 = t3.$_Label;
    if (r2) {
      n2 && e3 && (n2[Ot.TextProp] = Ot.htmlEncode(e3));
      var s2 = [].map.call(r2.children, function(t4) {
        return Number(t4.getAttribute("time-value"));
      }), a2 = s2.indexOf(i2);
      if (!(a2 < 0)) {
        if (!this.listing || o2) {
          if (a2 > 2) {
            var l2 = s2.splice(0, a2 - 2);
            s2.push.apply(s2, l2);
          } else if (a2 < 2) {
            l2 = s2.splice(s2.length - a2);
            s2.unshift.apply(s2, l2);
          }
        }
        this.$_setCurrentTime(r2, s2, i2);
      }
    }
  }, e2.prototype._setTime = function(t3, e3) {
    this.$_setTime(this._hourElement, this._editor.hourLabel, t3.getHours(), e3), this.$_setTime(this._minuteElement, this._editor.minuteLabel, t3.getMinutes(), e3), this.$_setTime(this._secondElement, this._editor.secondLabel, t3.getSeconds(), e3);
  }, e2.prototype.$_setTimeSelector = function() {
    var t3 = this._editor.timeSelectType, e3 = this._hourElement.style, i2 = this._minuteElement.style, o2 = this._secondElement.style;
    if (e3.display = i2.display = o2.display = "none", this.viewMode === Ua.DAY) {
      var r2 = 0;
      switch (t3) {
        case Ga.SECOND:
          o2.display = "inline-block", r2++;
        case Ga.MINUTE:
          i2.display = "inline-block", r2++;
        case Ga.HOUR:
          e3.display = "inline-block", r2++;
      }
      var n2 = this._headerElement.clientHeight + "px";
      this._hourElement.firstElementChild.style.height = this._minuteElement.firstElementChild.style.height = this._secondElement.firstElementChild.style.height = n2, this._timeContainer.style.display = r2 ? "inline-block" : "none";
    }
  }, e2.prototype.$_buildCalendar = function() {
    var t3, i2, o2 = e2.weeksClass, r2 = this._header, n2 = this._currDate, s2 = r2.$_title, a2 = n2.getFullYear(), l2 = n2.getMonth(), h2 = "";
    if (this.yearMonthDisplayFormat) {
      var u2 = this.yearMonthDisplayFormat, c2 = this.months && this.months[l2];
      h2 = u2.replace("{Y}", a2 + ""), h2 = c2 ? h2.replace("{MM}", c2).replace("{M}", c2) : h2.replace("{MM}", Ot.pad(l2 + 1, 2)).replace("{M}", l2 + 1 + "");
    } else h2 = (this.yearDisplayFormat ? this.yearDisplayFormat.replace("{Y}", a2 + "") : a2) + "&nbsp;", this.months && this.months.length > 0 ? h2 += this.months[l2] : h2 += this.monthDisplayFormat ? this.monthDisplayFormat.replace("{M}", (l2 + 1).toString()) : l2 + 1;
    s2.$_year.innerHTML = h2, h2 = s2.$_year.innerText;
    for (var d2 = this._calendar.tHead.$_cells, p2 = 0; p2 < 7; p2++) {
      var f2 = d2[(p2 + 7 - this.startWeek) % 7];
      f2.innerHTML = Ot.htmlEncode(this._weekDays[p2]), f2.parentElement.className = "rg-cal-week-" + e2.weeksClass[p2];
    }
    this._calendar.tHead.$_weeks.style.display = this.showWeeks ? "" : "none";
    for (var _2 = this._calendar.$_body, g2 = _2.$_yearweeks, y2 = (p2 = 0, g2.length); p2 < y2; p2++) g2[p2].style.display = this.showWeeks ? "" : "none", g2[p2].onclick = this.weekSelectable ? this._yearWeekClickHandler : null, g2[p2].ondblclick = this.weekSelectable ? this._dblClickHandler : null;
    var m2 = _2.$_rows, b2 = Ot.month_days[Ot.isLeapYear(a2) ? 1 : 0][l2], v2 = new Date(n2);
    v2.setDate(1);
    var w2 = (v2.getDay() + 7 - this.startWeek) % 7;
    30 == b2 && 6 == w2 || 31 == b2 && w2 >= 5 ? Ot.addChild(_2, m2[5]) : Ot.removeChild(_2, m2[5]), 28 == b2 && 0 == w2 ? Ot.removeChild(_2, m2[4]) : Ot.addChild(_2, m2[4]);
    var C2, x2, I2 = 0, E2 = g2[0];
    if (d2 = m2[0].$_cells, w2 > 0) {
      var S2 = a2, O2 = l2 - 1;
      O2 < 0 && (S2--, O2 = 11);
      var R2 = Ot.month_days[Ot.isLeapYear(S2) ? 1 : 0][O2];
      for (p2 = 0; p2 < w2; p2++) {
        (F2 = d2[p2]).removeAttribute("title");
        var P2 = new Date(this._currDate);
        F2.$_day = p2 - w2, P2.setDate(F2.$_day + 1);
        var k2 = this._editor.containsRange(P2);
        0 === p2 && (E2.$_yearWeek = tl(P2, this.startWeek), E2.$_span.innerText = E2.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, E2, k2)), F2.$_span.innerHTML = R2 - w2 + p2 + 1, F2.className = "rg-cal-day rg-cal-prev-day " + (k2 ? "" : "rg-cal-disable-day ") + "rg-cal-week-" + o2[(p2 + this.startWeek) % 7];
      }
    }
    for (p2 = w2; p2 < 7; p2++) {
      (F2 = d2[p2]).removeAttribute("title"), F2.$_day = I2++, F2.$_span.innerHTML = I2, (v2 = new Date(this._currDate)).setDate(I2);
      k2 = this._editor.containsRange(v2);
      0 === p2 && (E2.$_yearWeek = tl(v2, this.startWeek), E2.$_span.innerText = E2.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, E2, k2)), C2 = this.$_isFocusedDay(n2, I2), x2 = this.$_isToday(n2, I2), C2 && this._editor._editor.setAttribute("aria-activedescendant", F2.id), F2.setAttribute("aria-label", h2 + " " + I2.toString()), x2 ? F2.setAttribute("aria-current", "date") : F2.removeAttribute("aria-current"), k2 ? F2.removeAttribute("aria-disabled") : F2.setAttribute("aria-disabled", "true"), t3 = "rg-cal-day " + (C2 ? "rg-cal-focusday " : ""), t3 += x2 ? "rg-cal-today " : "", t3 += (i2 = this.holidays && this.holidays.contains(v2)) ? i2.styleName + " rg-cal-holiday " : "", t3 += k2 ? "" : "rg-cal-disable-day ", t3 += "rg-cal-week-" + o2[(p2 + this.startWeek) % 7], F2.className = t3, i2 && (t3 = i2.getTooltip(this.$_getCellDate(n2, I2))) && (F2.title = t3);
    }
    for (var D2 = 1; D2 < 6 && I2 < b2; D2++) {
      d2 = m2[D2].$_cells;
      var T2 = g2[D2];
      for (p2 = 0; p2 < 7; p2++) if (I2 < b2) {
        (F2 = d2[p2]).removeAttribute("title"), F2.$_day = I2++, (v2 = new Date(this._currDate)).setDate(I2);
        k2 = this._editor.containsRange(v2);
        0 === p2 && (T2.$_yearWeek = tl(v2, this.startWeek), T2.$_span.innerText = T2.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, T2, k2)), F2.$_span.innerHTML = I2, C2 = this.$_isFocusedDay(n2, I2), x2 = this.$_isToday(n2, I2), C2 && this._editor._editor.setAttribute("aria-activedescendant", F2.id), F2.setAttribute("aria-label", h2 + " " + I2.toString()), x2 ? F2.setAttribute("aria-current", "date") : F2.removeAttribute("aria-current"), k2 ? F2.removeAttribute("aria-disabled") : F2.setAttribute("aria-disabled", "true"), t3 = "rg-cal-day " + (C2 ? "rg-cal-focusday " : ""), t3 += this.$_isToday(n2, I2) ? "rg-cal-today " : "", t3 += (i2 = this.holidays && this.holidays.contains(v2)) ? i2.styleName + " rg-cal-holiday " : "", t3 += k2 ? "" : "rg-cal-disable-day ", t3 += "rg-cal-week-" + o2[(p2 + this.startWeek) % 7], F2.className = t3, i2 && (t3 = i2.getTooltip(this.$_getCellDate(n2, I2))) && (F2.title = t3);
      } else for (var M2 = 1; p2 < 7; p2++) {
        var F2;
        (F2 = d2[p2]).removeAttribute("title"), F2.$_day = I2++, (v2 = new Date(this._currDate)).setDate(I2);
        k2 = this._editor.containsRange(v2);
        F2.$_span.innerHTML = M2++, F2.className = "rg-cal-day rg-cal-next-day " + (k2 ? "" : "rg-cal-disable-day ") + "rg-cal-week-" + o2[(p2 + this.startWeek) % 7];
      }
    }
  }, e2.CLOSE_UP = "onDatePickerCloseUp", e2.weeksClass = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], e2;
}(nl);
var al = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    o2._holidays = null, o2._currentLoc = 0, o2._holidayCollection = new rl(), o2._closing = false, o2._regx = /[\d\-.:/apmz+ ]/i, o2._globalMouseHandler = (function(t3) {
      var e4 = t3.target;
      if (this._isMarquee(e4)) this.closeUp(false);
      else {
        for (; e4; ) {
          if (e4 === this._list._element) return;
          e4 = e4.parentElement;
        }
        this.closeUp(true);
      }
    }).bind(o2), o2.assignFrom(Ke.editor.dateCellEditor), o2._baseZindex = e3.displayOptions.baseZindex, o2._list = new sl(e3.container, o2), o2._list.addListener(o2);
    var r2 = o2._editor;
    return r2.setAttribute("aria-owns", o2._list._element.id), r2.setAttribute("aria-expanded", "false"), r2.setAttribute("aria-haspopup", "true"), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._globalMouseHandler = null, this._holidayCollection = this._holidayCollection.dispose(), this._list = this._list && this._list.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "editFormat", { get: function() {
    return this.datetimeFormat;
  }, set: function(t3) {
    t3 != this.datetimeFormat && (this.datetimeFormat = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minDate", { get: function() {
    return this._minDate;
  }, set: function(t3) {
    t3 != this._minDate && (this._minDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxDate", { get: function() {
    return this._maxDate;
  }, set: function(t3) {
    t3 != this._maxDate && (this._maxDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownPosition", { get: function() {
    return this._dropDownPosition;
  }, set: function(t3) {
    this._dropDownPosition = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWhenClick", { get: function() {
    return this._dropDownWhenClick;
  }, set: function(t3) {
    t3 != this._dropDownWhenClick && (this._dropDownWhenClick = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWhenEnter", { get: function() {
    return this._dropDownWhenEnter;
  }, set: function(t3) {
    this._dropDownWhenEnter = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showToday", { get: function() {
    return this._showToday;
  }, set: function(t3) {
    this._showToday = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "yearDisplayFormat", { get: function() {
    var t3 = this._grid;
    return this._yearDisplayFormat || t3 && t3.editorOptions.dateCellEditor.yearDisplayFormat || Ge.messages.dateEditorYearDisplayFormat;
  }, set: function(t3) {
    this._yearDisplayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "monthDisplayFormat", { get: function() {
    var t3 = this._grid;
    return this._monthDisplayFormat || t3 && t3.editorOptions.dateCellEditor.monthDisplayFormat || Ge.messages.dateEditorMonthDisplayFormat;
  }, set: function(t3) {
    this._monthDisplayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "yearMonthDisplayFormat", { get: function() {
    var t3 = this._grid;
    return this._yearMonthDisplayFormat || t3 && t3.editorOptions.dateCellEditor.yearMonthDisplayFormat || Ge.messages.dateEditorYearMonthDisplayFormat;
  }, set: function(t3) {
    this._yearMonthDisplayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "months", { get: function() {
    var t3 = this._grid;
    return this._months || t3 && t3.editorOptions.dateCellEditor.months || Ge.messages.dateEditorMonths;
  }, set: function(t3) {
    this._months = Array.isArray(t3) ? t3.slice() : void 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "weekDays", { get: function() {
    var t3 = this._grid;
    return this._weekDays || t3 && t3.editorOptions.dateCellEditor.weekDays || Ge.messages.dateEditorWeekDays;
  }, set: function(t3) {
    this._weekDays = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showWeeks", { get: function() {
    return this._showWeeks;
  }, set: function(t3) {
    this._showWeeks = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startWeek", { get: function() {
    return this._startWeek;
  }, set: function(t3) {
    t3 = null == t3 || isNaN(t3 = Math.floor(t3)) ? 0 : t3, this._startWeek = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "weekSelectable", { get: function() {
    return this._weekSelectable;
  }, set: function(t3) {
    this._weekSelectable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "weekSeparator", { get: function() {
    return this._weekSeparator;
  }, set: function(t3) {
    this._weekSeparator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitOnSelect", { get: function() {
    return this._commitOnSelect;
  }, set: function(t3) {
    t3 != this._commitOnSelect && (this._commitOnSelect = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultShowDate", { get: function() {
    return this._defaultShowDate;
  }, set: function(t3) {
    t3 != this._defaultShowDate && (this._defaultShowDate = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultDate", { get: function() {
    return this._defaultDate;
  }, set: function(t3) {
    t3 != this._defaultDate && (this._defaultDate = t3 instanceof Date ? new Date(t3) : t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "holidays", { get: function() {
    return this._holidays;
  }, set: function(t3) {
    this._holidays = t3, t3 ? (this._holidayCollection = this._holidayCollection || new rl(), this._holidayCollection.editor = this, this._holidayCollection.load(t3)) : this._holidayCollection.setNull(), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return this._list.listing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showButtons", { get: function() {
    return this._showButtons;
  }, set: function(t3) {
    this._showButtons = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "saveLabel", { get: function() {
    return this._saveLabel || Ge.messages.dateEditorSaveLabel;
  }, set: function(t3) {
    this._saveLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cancelLabel", { get: function() {
    return this._cancelLabel || Ge.messages.dateEditorCancelLabel;
  }, set: function(t3) {
    this._cancelLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deleteLabel", { get: function() {
    return this._deleteLabel || Ge.messages.dateEditorDeleteLabel;
  }, set: function(t3) {
    this._deleteLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "todayLabel", { get: function() {
    return this._todayLabel || Ge.messages.dateEditorTodayLabel;
  }, set: function(t3) {
    this._todayLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hourLabel", { get: function() {
    return this._hourLabel || Ge.messages.dateEditorHourLabel;
  }, set: function(t3) {
    this._hourLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minuteLabel", { get: function() {
    return this._minuteLabel || Ge.messages.dateEditorMinuteLabel;
  }, set: function(t3) {
    this._minuteLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "secondLabel", { get: function() {
    return this._secondLabel || Ge.messages.dateEditorSecondLabel;
  }, set: function(t3) {
    this._secondLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hours", { get: function() {
    return this._hours;
  }, set: function(t3) {
    var e3 = this;
    if ("string" == typeof t3) {
      this._hours = [];
      try {
        t3.split(",").forEach(function(t4) {
          var i2 = t4.split("-");
          if (1 === i2.length && i2[0] && !isNaN(parseInt(i2[0]))) e3._hours.push(parseInt(i2[0]));
          else if (i2.length = 2) for (var o2 = parseInt(i2[0]), r2 = parseInt(i2[1]), n2 = o2; n2 < r2; n2++) e3._hours.indexOf(n2) < 0 && e3._hours.push(n2);
        });
      } catch (t4) {
        this._hours = void 0;
      }
    } else this._hours = t3 ? t3.slice() : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minutes", { get: function() {
    return this._minutes;
  }, set: function(t3) {
    this._minutes = t3 ? t3.slice() : null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "timeSelectType", { get: function() {
    return this._timeSelectType;
  }, set: function(t3) {
    this._timeSelectType = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "viewMode", { get: function() {
    return this._viewMode;
  }, set: function(t3) {
    this._viewMode = t3;
  }, enumerable: false, configurable: true }), e2.prototype.dropDown = function(t3) {
    if (!(this.readOnly || this._controller._readOnly || this.listing || this._closing)) {
      var e3 = It(this._container), i2 = Et(e3), o2 = this._grid.editorOptions, r2 = this._list, n2 = e3.body, s2 = Ot.getSize(this._container);
      if (this._grid.accessibility) {
        var a2 = Ot.getSize(this._grid.container._containerDiv);
        s2.cx = s2.x - a2.x + s2.cx, s2.cy = s2.y - a2.y + s2.cy;
      }
      return this._currentLoc = 0, r2.viewGridInside = o2.viewGridInside, r2.dropDownPosition = this._dropDownPosition, r2.showToday = this._showToday, r2.yearDisplayFormat = this.yearDisplayFormat, r2.monthDisplayFormat = this.monthDisplayFormat, r2.yearMonthDisplayFormat = this.yearMonthDisplayFormat, r2.months = this.months, r2.minDate = this._minDate, r2.maxDate = this._maxDate, r2.showWeeks = this._showWeeks, r2.startWeek = this._startWeek || 0, r2.weekSelectable = this.weekSelectable, r2.weekSeparator = this.weekSeparator, r2.showButtons = this.showButtons, r2.saveLabel = this.saveLabel, r2.cancelLabel = this.cancelLabel, r2.deleteLabel = this.deleteLabel, r2.todayLabel = this.todayLabel, r2.currentMode = Ua.DAY, r2.holidays = this._holidayCollection.isNull ? o2._holidayCollection : this._holidayCollection, r2.hours = this.hours, r2.minutes = this.minutes, r2.viewMode = this.viewMode, r2.setWeekDays(this.weekDays), this.$_setListDate(), this.isShowMarquee() ? (this._showMarquee(n2), r2.show(n2, 0, 0, 0, null), this._centerPopup(n2, r2._element)) : (r2.show(n2, s2.cx + 1, s2.cy + s2.height, this._cellBounds.width, Ot.getSize(this._editor)), this.registerPositionListener()), r2.focused = t3, this._editor.setAttribute("aria-expanded", "true"), !Ot.isSlotMode() && i2.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), true;
    }
  }, e2.prototype.resetPosition = function() {
    var t3 = this._list, e3 = Ot.getSize(this._container);
    if (this._grid.accessibility) {
      var i2 = Ot.getSize(this._grid.container._containerDiv);
      e3.cx = e3.x - i2.x + e3.cx, e3.cy = e3.y - i2.y + e3.cy;
    }
    t3.$_resetPosition(e3.cx + 1, e3.cy + e3.height, this._cellBounds.width, Ot.getSize(this._editor));
  }, e2.prototype.closeUp = function(t3) {
    if (this.unRegisterPositionListener(), this.listing) {
      var e3 = Et(It(this._container));
      this._closing = true;
      try {
        e3.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), this._closeMarquee(), this._list.hide(), t3 && this._list.selected ? (this.$_selectDate(this._list.date), (this._commitOnSelect || this._isMobile) && this._dispatchCommit()) : this._list.canceled && this._controller.cancelEditor(false);
      } finally {
        this._closing = false, this._editor.setAttribute("aria-expanded", "false");
      }
      return true;
    }
  }, e2.prototype.containsRange = function(t3) {
    return (!this._minDate || t3 >= this._minDate) && (!this._maxDate || t3 <= this._maxDate);
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._textReadOnly = false, this._minDate = new Date(1970, 0, 1), this._maxDate = new Date(2100, 11, 31), this._dropDownPosition = ma.BUTTON, this._dropDownWhenClick = false, this._dropDownWhenEnter = false, this._showToday = true, this._showWeeks = false, this._startWeek = 0, this._weekSelectable = false, this._weekSeparator = "", this._commitOnSelect = false, this._defaultShowDate = k.NORMAL, this._showButtons = true, this._cancelLabel = null, this._saveLabel = null, this._deleteLabel = null, this._todayLabel = null, this._timeSelectType = Ga.NONE, this._hours = null, this._minutes = null, this._viewMode = Ua.DAY, this._holidayCollection && this._holidayCollection.setNull(), this._yearDisplayFormat = this._monthDisplayFormat = this._yearMonthDisplayFormat = null;
  }, e2.prototype.initDefaultOptions = function() {
    var t3 = this._grid;
    t3 && Ma.initDefault(this, Ke.editor.dateCellEditor, t3.editorOptions.dateCellEditor);
  }, e2.prototype.setEditIndex = function(e3) {
    var i2;
    t2.prototype.setEditIndex.call(this, e3);
    var o2 = null === (i2 = this._editField()) || void 0 === i2 ? void 0 : i2.dataType;
    this._weekSelectable = this._weekSelectable && o2 !== a.DATE && o2 !== a.DATETIME;
  }, e2.prototype.setEditValue = function(e3) {
    t2.prototype.setEditValue.call(this, e3), this.weekSelectable ? this._date = Qa(e3) : this._date = "string" == typeof e3 ? this._dateConverter.getDateNull(e3) : e3;
  }, e2.prototype.getEditValue = function(e3, i2) {
    void 0 === e3 && (e3 = true), void 0 === i2 && (i2 = false);
    var o2 = t2.prototype.getEditValue.call(this, e3), r2 = this._editField().dataType;
    return o2 && i2 && (r2 == a.DATE || r2 == a.DATETIME) && (o2 = this._minDate ? Math.max(this._minDate.getTime(), o2) : o2, (o2 = this._maxDate ? Math.min(this._maxDate.getTime(), o2) : o2) && (o2 = new Date(o2))), o2;
  }, e2.prototype._createEditor = function(e3) {
    return t2.prototype._createEditor.call(this, e3);
  }, e2.prototype._textHandler = function() {
    this._requestStart(false);
  }, e2.prototype._compositionstartHandler = function(t3) {
    this.isDisabled() || this._requestStart(false);
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list, o2 = this.listing, r2 = o2 && i2.focused, n2 = this._list.currentMode;
      switch (e3.keyCode) {
        case 13:
          if ((e3.altKey || this.dropDownWhenEnter) && 13 === e3.keyCode && !o2) return this._requestStart(), Ot.stopEvent(e3, true), this._list.focused = true, this.$_setListDate(), true;
          var s2 = true;
          if (o2 && r2 && Ot.included(n2, Ua.YEAR, Ua.MONTH)) {
            if (this._viewMode !== n2) return s2 = false, i2.currentMode = n2 === Ua.YEAR ? Ua.MONTH : Ua.DAY, i2.currentMode === Ua.DAY && i2.$_buildCalendar(), void Ot.stopEvent(e3, true);
            s2 = true;
          }
          if (s2 && this.closeUp(true)) return Ot.stopEvent(e3, true), !this._sendToParent(e3);
          break;
        case 27:
          if (this.closeUp(false)) return Ot.stopEvent(e3, true), true;
          break;
        case 36:
        case 35:
          if (r2) return Ot.stopEvent(e3, true), this.$_selectDate(36 === e3.keyCode ? i2.startDay() : i2.endDay()), true;
          break;
        case 37:
        case 39:
          if (r2) {
            if (0 === this._currentLoc) {
              switch (this._list.currentMode) {
                case Ua.DAY:
                  this.$_selectDate(i2.incDay(37 === e3.keyCode ? -1 : 1));
                  break;
                case Ua.MONTH:
                  this.$_selectDate(i2.incMonth(37 === e3.keyCode ? -1 : 1));
                  break;
                case Ua.YEAR:
                  this.$_selectDate(i2.incMonth(37 === e3.keyCode ? -12 : 12));
              }
              return Ot.stopEvent(e3, true), true;
            }
            if (this._setLocation(39 === e3.keyCode)) return Ot.stopEvent(e3, true), true;
          }
          break;
        case 33:
        case 34:
          if (r2) {
            Ot.stopEvent(e3, true);
            var a2 = 33 === e3.keyCode ? -1 : 1, l2 = e3.shiftKey ? 12 : 1;
            return n2 === Ua.MONTH ? l2 = 12 : n2 === Ua.YEAR && (l2 = 120), this.$_selectDate(i2.incMonth(a2 * l2)), true;
          }
          break;
        case 40:
        case 38:
          if (e3.altKey && 40 === e3.keyCode && !o2) return this._requestStart(), Ot.stopEvent(e3, true), this._list.focused = true, this.$_setListDate(), true;
          if (e3.altKey && 38 === e3.keyCode && o2) return this.closeUp(false), Ot.stopEvent(e3, true), true;
          if (o2) {
            if (Ot.stopEvent(e3, true), r2) {
              a2 = 40 === e3.keyCode ? 1 : -1;
              0 === this._currentLoc ? n2 === Ua.MONTH ? this.$_selectDate(i2.incMonth(4 * a2)) : n2 === Ua.YEAR ? this.$_selectDate(i2.incMonth(48 * a2)) : this.$_selectDate(i2.incDay(7 * a2)) : 1 === this._currentLoc ? this.$_selectDate(i2.incHour(1 * a2)) : 2 === this._currentLoc ? this.$_selectDate(i2.incMinute(1 * a2)) : 3 === this._currentLoc && this.$_selectDate(i2.incSecond(1 * a2));
            } else this._list.focused = true;
            return true;
          }
          break;
        case 84:
          e3.altKey && o2 && (Ot.stopEvent(e3, true), this._list.date = /* @__PURE__ */ new Date(), this.$_selectDate(this._list.date));
          break;
        case 9:
          if (r2 && this.timeSelectType !== Ga.NONE && this._setLocation(!e3.shiftKey)) return Ot.stopEvent(e3, true), true;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._setLocation = function(t3) {
    var e3 = this._timeSelectType, i2 = this._currentLoc, o2 = 1;
    if (e3 !== Ga.NONE) {
      switch (e3) {
        case Ga.SECOND:
          o2++;
        case Ga.MINUTE:
          o2++;
        case Ga.HOUR:
          o2++;
      }
      return t3 ? ++i2 : --i2, i2 < 0 || i2 >= o2 ? false : (this._list.setCurrentLoc(this._currentLoc = i2), true);
    }
    this._currentLoc = 0;
  }, e2.prototype._keyPressHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list, o2 = e3.keyCode || e3.which, r2 = String.fromCharCode(o2);
      if (r2.toLocaleLowerCase() == this.todayChar) {
        if (Ot.stopEvent(e3, true), this.listing) return i2.focused = true, this.$_selectDate(i2.today), i2._setTime(i2.today, true), true;
      } else {
        if (Ot.isFirefox && (e3.ctrlKey || 0 === o2)) return void t2.prototype._keyPressHandler.call(this, e3);
        if (Ot.isSafari && Ot.ctrlKey(e3) && Ot.included(o2, 99, 118, 120)) return void t2.prototype._keyPressHandler.call(this, e3);
        if (!this._regx.test(r2)) return void e3.preventDefault();
      }
      t2.prototype._keyPressHandler.call(this, e3), e3.keyCode && this.textReadOnly && e3.preventDefault();
    }
  }, e2.prototype.$_resetValue = function(t3) {
    if (void 0 === t3 && (t3 = false), this.visible || t3) {
      var e3 = this._editor, i2 = e3.selectionStart, o2 = e3.selectionEnd, r2 = e3.value ? e3.value.length : 0;
      e3.value = e3.value.replace(Ja, "");
      var n2 = e3.value ? e3.value.length : 0;
      this._isMobile || (n2 == r2 ? e3.setSelectionRange(i2, o2) : e3.setSelectionRange(o2, o2));
    }
  }, e2.prototype._dispatchChange = function() {
    (this._isMobile || this.visible) && (this.$_resetValue(this._isMobile), t2.prototype._dispatchChange.call(this));
  }, e2.prototype._changeHandler = function(e3) {
    t2.prototype._changeHandler.call(this, e3);
  }, e2.prototype._requestStart = function(e3) {
    return !!t2.prototype._requestStart.call(this) && (this._isMobile ? e3 && this.dropDown(false) : false !== e3 && this.dropDown(false), true);
  }, e2.prototype.setBounds = function(e3, i2, o2, r2, n2) {
    t2.prototype.setBounds.call(this, e3, i2, o2, r2, n2);
  }, e2.prototype._doChanged = function() {
    this._isMobile ? !this._controller.readOnly && this._controller.editable && (this._modified = true, this._dispatchChange()) : (!this._started && this._requestStart(), this._started && !this._controller.readOnly && this._controller.editable && (this._modified = true, this._dispatchChange()));
  }, e2.prototype.dropDownList = function(t3) {
    this.dropDown(true);
  }, e2.prototype.closeList = function(t3) {
    this.closeUp(t3);
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.skipMaskChar = function(t3) {
    return " " === t3;
  }, e2.prototype._isDateEditor = function() {
    var t3 = this._editField().dataType;
    return t3 == a.DATE || t3 == a.DATETIME || !this.weekSelectable;
  }, e2.prototype.$_selectDate = function(t3) {
    if (t3) {
      if (this._date = t3, this.containsRange(t3)) {
        var e3 = void 0;
        e3 = this.weekSelectable ? tl(t3, this._startWeek, this.weekSeparator) : this._dateConverter.getText(this._date), this._mask && (e3 = this._mask.writeBuffer(e3)), this._editor.value = e3, this._doChanged();
      }
    } else this._date = null, this._mask && this._mask.clearBuffer(), this._editor.value = "", this._doChanged();
  }, e2.prototype.$_setListDate = function() {
    var t3, e3 = this._defaultDate instanceof Date ? new Date(this._defaultDate) : this._dateConverter.getDateNull(this._defaultDate), i2 = this._editor.value;
    switch (this._mask && (i2 = this._mask.getStripValue()), t3 = this.weekSelectable ? Qa(i2) : this._dateConverter.getDateNull(i2), this._defaultShowDate) {
      case k.TODAY:
        t3 = /* @__PURE__ */ new Date();
        break;
      case k.NORMAL:
        break;
      case k.TODAY_WHEN_NULL:
        t3 = t3 || /* @__PURE__ */ new Date();
        break;
      case k.DEFAULT_WHEN_NULL:
        t3 = t3 || e3;
        break;
      case k.DEFAULT:
        t3 = e3;
    }
    t3 && (this._list.date = t3);
  }, e2.prototype.onDatePickerCloseUp = function(t3, e3) {
    !this._isMobile && this.setFocus(), this.closeUp(e3);
  }, e2.INPUT_CSS = "rg-date-editor", e2.$$_LIST_ID = 0, e2;
}(Wa);
var ll = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    r2._focused = false;
    var n2 = Et(e3.doc);
    return r2._jquery = n2 && n2.jQuery, r2._editor = i2, r2._container = e3, r2._btOptions = o2, r2._element = r2.$_createList(e3.doc), r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._jquery = null, this._editor = null, this._container = null, this._containerElement = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "date", { get: function() {
    return this._date;
  }, set: function(t3) {
    if (this._date = t3, t3.getTime() !== this._date.getTime() && (this._currDate = new Date(t3), this._date = new Date(t3), this.listing)) {
      var e3 = new Date(t3.getFullYear(), t3.getMonth(), t3.getDate());
      this._jquery && this._jquery(this._element).datepicker("update", e3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "listing", { get: function() {
    return this._jquery && this._jquery(this._element).data("datepicker");
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focused", { get: function() {
    return this._focused;
  }, set: function(t3) {
    t3 != this._focused && (this._focused = t3, this._element.style.border = t3 ? "1px solid rgba(50, 50, 50, 1)" : "1px solid rgba(50, 50, 50, 0.3)", this._element.style.boxShadow = t3 ? "rgba(0, 0, 0, 0.8) 1px 2px 5px" : "rgba(0, 0, 0, 0.5) 1px 2px 5px");
  }, enumerable: false, configurable: true }), e2.prototype.$_destroy = function() {
    this._jquery && this._jquery(this._element).datepicker("destroy");
  }, e2.prototype.keydown = function(t3) {
    if (this._jquery) {
      this._jquery(this._element).datepicker("keydown", t3);
      var e3 = this._jquery(this._element).data("datepicker").viewDate;
      e3 instanceof Date && (this.date = e3, this._editor && this._editor.selectDate(this._date));
    }
  }, e2.prototype.$_createList = function(t3) {
    var e3 = t3.createElement("div");
    e3.tabIndex = -1, e3.id = "rg-calendar-" + al.$$_LIST_ID++, e3.className = "rg-calendar";
    var i2 = e3.style;
    return i2.position = "absolute", i2.cssFloat = "none", i2.clear = "both", i2.boxSizing = "border-box", i2.zIndex = String(this._editor._baseZindex + 2), i2.margin = "0px", i2.overflow = "auto", e3;
  }, e2.prototype.show = function(t3, e3, i2, o2, r2) {
    if (this._containerElement = !Ot.isMobile() && this._viewGridInside ? this._container._container : t3, !this.$_createCalendar()) return alert("BootStrap DatePicker Not Include"), false;
    this.$_show(e3, i2, o2, r2);
  }, e2.prototype.$_createCalendar = function() {
    var t3, e3 = this, i2 = this._element, o2 = this._btOptions;
    return this._date && (t3 = new Date(this._date.getFullYear(), this._date.getMonth(), this._date.getDate())), !!this._jquery && (this._jquery(i2).datepicker && this._jquery(i2).datepicker(o2).datepicker("setDate", t3).on("changeDate", function(t4) {
      var i3 = t4.date;
      i3 && !e3._editor.containsRange(i3) || (i3 ? (e3._date = new Date(i3), e3.selected = true) : (e3._date = void 0, e3.selected = true), e3.fireEvent(sl.CLOSE_UP, true));
    }), true);
  }, e2.prototype.$_show = function(t3, e3, i2, o2) {
    this.focused = false, this.selected = false, this._containerElement.appendChild(this._element);
    var r2 = this._date;
    this._currDate = r2 ? new Date(r2) : /* @__PURE__ */ new Date(), this.$_resetPosition(t3, e3, i2, o2), this._element.style.setProperty("width", Math.ceil(Ot.getSize(this._element).width) + "px");
  }, e2.prototype.today = function() {
    return this.date = /* @__PURE__ */ new Date();
  }, e2.prototype.incDay = function(t3) {
    var e3;
    return this._date.getMonth() == this._currDate.getMonth() ? (e3 = new Date(this._date), this._date && e3.setDate(this._date.getDate() + t3)) : (e3 = this._currDate, e3 = new Date(e3.getFullYear(), e3.getMonth(), 1)), this.date = e3;
  }, e2.prototype.incMonth = function(t3) {
    var e3;
    return this._date.getMonth() == this._currDate.getMonth() ? (e3 = new Date(this._date), this._date && Ot.incMonth(e3, t3)) : (e3 = this._currDate, e3 = new Date(e3.getFullYear(), e3.getMonth(), 1)), this.date = e3;
  }, e2.prototype.firstDay = function() {
    var t3 = new Date(this._currDate);
    return this._date && t3.setDate(1), this.date = t3;
  }, e2.prototype.lastDay = function() {
    var t3 = new Date(this._currDate);
    if (this._date) {
      var e3 = t3.getFullYear(), i2 = t3.getMonth(), o2 = Ot.month_days[Ot.isLeapYear(e3) ? 1 : 0][i2];
      t3.setDate(o2);
    }
    return this.date = t3;
  }, e2;
}(nl);
var hl = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._minDate = new Date(1970, 0, 1), o2._maxDate = new Date(2100, 11, 31), o2._dropDownPosition = ma.BUTTON, o2._dropDownWhenClick = false, o2._commitOnSelect = false, o2._regx = /[0-9]|\.|\-|\/|a|A|p|P|m/, o2._closing = false, o2._globalMouseHandler = (function(t3) {
      var e4 = t3.target;
      if (this._isMarquee(e4)) this.closeUp(false);
      else {
        for (; e4; ) {
          if (e4 == this._list._element) return;
          e4 = e4.parentNode;
        }
        this.closeUp(true);
      }
    }).bind(o2), o2._baseZindex = o2._grid.displayOptions.baseZindex, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._globalMouseHandler = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "list", { get: function() {
    return this._list;
  }, set: function(t3) {
    this._list = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "btOptions", { get: function() {
    return this._btOptions;
  }, set: function(t3) {
    this._btOptions = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editFormat", { get: function() {
    return this.datetimeFormat;
  }, set: function(t3) {
    this.datetimeFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minDate", { get: function() {
    return this._minDate;
  }, set: function(t3) {
    this._minDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxDate", { get: function() {
    return this._maxDate;
  }, set: function(t3) {
    this._maxDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownWhenClick", { get: function() {
    return this._dropDownWhenClick;
  }, set: function(t3) {
    this._dropDownWhenClick = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitOnSelect", { get: function() {
    return this._commitOnSelect;
  }, set: function(t3) {
    this._commitOnSelect = t3;
  }, enumerable: false, configurable: true }), e2.prototype.resetPosition = function() {
    var t3 = this._list, e3 = this._grid, i2 = Ot.getSize(this._container);
    if (e3.accessibility) {
      var o2 = Ot.getSize(this._grid.container._containerDiv);
      i2.cx = i2.x - o2.x + i2.cx, i2.cy = i2.y - o2.y + i2.cy;
    }
    t3.$_resetPosition(i2.cx + 1, i2.cy + i2.height, this._cellBounds.width, Ot.getSize(this._editor));
  }, e2.prototype.dropDown = function() {
    if (!(this.readOnly || this._controller._readOnly || this.listing || this._closing)) {
      var t3 = It(this._container), e3 = Et(t3), i2 = this._grid, o2 = this._list = new ll(i2.container, this, this._btOptions), r2 = t3.body, n2 = Ot.getSize(this._container);
      if (i2.accessibility) {
        var s2 = Ot.getSize(this._grid.container._containerDiv);
        n2.cx = n2.x - s2.x + n2.cx, n2.cy = n2.y - s2.y + n2.cy;
      }
      return o2.addListener(this), o2.viewGridInside = this._options && this._options.viewGridInside, o2.dropDownPosition = this._dropDownPosition, o2.minDate = this._minDate, o2.maxDate = this._maxDate, this.$_setListDate(), this.isShowMarquee() ? (this._showMarquee(r2), o2.show(r2, 0, 0, 0, null), this._centerPopup(r2, o2._element)) : (o2.show(r2, n2.cx + 1, n2.cy + n2.height, this._cellBounds.width, Ot.getSize(this._editor)), this.registerPositionListener()), !Ot.isSlotMode() && e3.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), true;
    }
    return false;
  }, e2.prototype.closeUp = function(t3) {
    if (this.unRegisterPositionListener(), this.listing) {
      var e3 = Et(It(this._container));
      this._closing = true;
      try {
        !Ot.isSlotMode() && e3.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseHandler), this._closeMarquee(), t3 && this._list.selected && (this.$_selectDate(this._list.date), (this._isMobile || this._commitOnSelect) && this._dispatchCommit());
      } finally {
        this.$_listDestroy(), this._closing = false;
      }
      return true;
    }
    return false;
  }, e2.prototype.dropDownList = function() {
    this.dropDown();
  }, e2.prototype.closeList = function(t3) {
    this.closeUp(t3);
  }, e2.prototype.$_setListDate = function() {
    var t3 = this._editor.value;
    t3 && this._mask && (t3 = this._mask.getStripValue());
    var e3 = this._dateConverter.getDateNull(t3);
    e3 && (this._list.date = e3);
  }, e2.prototype.selectDate = function(t3) {
    this.$_selectDate(t3);
  }, e2.prototype.$_selectDate = function(t3) {
    if (t3 && t3 != this._date) {
      if (this._date = t3, this.containsRange(t3)) {
        var e3 = this._dateConverter.getText(this._date);
        this._mask && (e3 = this._mask.writeBuffer(e3)), this._editor.value = e3, this._doChanged();
      }
    } else void 0 === t3 && (this._editor.value = this._mask ? (this._mask.clearBuffer(), this._mask.writeBuffer(null)) : "", this._doChanged());
  }, e2.prototype.containsRange = function(t3) {
    return (!this._minDate || t3 >= this._minDate) && (!this._maxDate || t3 <= this._maxDate);
  }, Object.defineProperty(e2.prototype, "listing", { get: function() {
    return !!this._list && this._list.listing;
  }, enumerable: false, configurable: true }), e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this), this._dropDownWhenClick = false, this._textReadOnly = false, this._viewGridInside = false, this._minDate = new Date(1970, 0, 1), this._maxDate = new Date(2100, 11, 31), this._commitOnSelect = false;
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype._isDateEditor = function() {
    return true;
  }, e2.prototype.setEditValue = function(e3) {
    t2.prototype.setEditValue.call(this, e3), this._date = "string" == typeof e3 ? this._dateConverter.getDateNull(e3) : e3;
  }, e2.prototype.getEditValue = function(e3, i2) {
    var o2 = t2.prototype.getEditValue.call(this, e3), r2 = this._editField().dataType;
    return o2 && i2 && (r2 == a.DATE || r2 == a.DATETIME) && (o2 = o2.getTime(), o2 = this._minDate ? Math.max(this._minDate.getTime(), o2) : o2, (o2 = this._maxDate ? Math.min(this._maxDate.getTime(), o2) : o2) && (o2 = new Date(o2))), o2;
  }, e2.prototype._requestStart = function(e3) {
    return !!t2.prototype._requestStart.call(this, e3) && (this._isMobile ? e3 && this.dropDown() : false !== e3 && this.dropDown(), true);
  }, e2.prototype._textHandler = function() {
    this._requestStart();
  }, e2.prototype._compositionstartHandler = function() {
    this._requestStart();
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list, o2 = this.listing, r2 = o2 && i2.focused;
      switch (e3.keyCode) {
        case 13:
          if (this.closeUp(true)) return Ot.stopEvent(e3, true), !this._sendToParent(e3);
          break;
        case 27:
          if (this.closeUp(false)) return Ot.stopEvent(e3, true), true;
          break;
        case 36:
          if (r2) return Ot.stopEvent(e3, true), this.$_selectDate(i2.firstDay()), true;
          break;
        case 35:
          if (r2) return Ot.stopEvent(e3, true), this.$_selectDate(i2.lastDay()), true;
          break;
        case 37:
        case 39:
          if (r2) return Ot.stopEvent(e3, true), i2 && i2.keydown(e3), true;
          break;
        case 33:
          if (r2) return Ot.stopEvent(e3, true), this.$_selectDate(i2.incMonth(-1)), true;
          break;
        case 34:
          if (r2) return Ot.stopEvent(e3, true), this.$_selectDate(i2.incMonth(1)), true;
          break;
        case 40:
          if (e3.altKey && !o2) return this._requestStart(), Ot.stopEvent(e3, true), true;
          if (o2) return Ot.stopEvent(e3, true), r2 ? i2.keydown(e3) : (i2.focused = true, this.$_setListDate()), true;
          break;
        case 38:
          if (e3.altKey && o2) return this.closeUp(false), Ot.stopEvent(e3, true), true;
          if (o2) {
            if (Ot.stopEvent(e3, true), r2) i2.date.getDate() <= 7 ? i2.focused = false : i2.keydown(e3);
            else i2.focused = false;
            return true;
          }
          break;
        case 84:
          e3.altKey && o2 && (Ot.stopEvent(e3, true), i2.date = /* @__PURE__ */ new Date(), this.$_selectDate(i2.date));
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype._keyPressHandler = function(e3) {
    if (!this.isDisabled()) {
      var i2 = this._list, o2 = Ot.ctrlKey(e3), r2 = e3.keyCode || e3.which, n2 = String.fromCharCode(e3.keyCode || e3.charCode);
      if (n2.toLocaleLowerCase() == this.todayChar) {
        if (Ot.stopEvent(e3, true), this.listing) return i2.focused = true, this.$_selectDate(i2.today()), true;
      } else {
        if (Ot.isFirefox && (e3.ctrlKey || 0 === r2)) return t2.prototype._keyPressHandler.call(this, e3);
        if (Ot.isSafari && o2 && Ot.included(r2, 99, 118, 120)) return void t2.prototype._keyPressHandler.call(this, e3);
        if (!this._regx.test(n2)) return void e3.preventDefault();
      }
      t2.prototype._keyPressHandler.call(this, e3), e3.keyCode && this.textReadOnly && e3.preventDefault();
    }
  }, e2.prototype.$_resetValue = function(t3) {
    if (void 0 === t3 && (t3 = false), this.visible || t3) {
      var e3 = this._editor, i2 = e3.selectionStart, o2 = e3.selectionEnd, r2 = e3.value ? e3.value.length : 0;
      e3.value = e3.value.replace(Ja, "");
      var n2 = e3.value ? e3.value.length : 0;
      this._isMobile || (n2 == r2 ? e3.setSelectionRange(i2, o2) : e3.setSelectionRange(o2, o2));
    }
  }, e2.prototype.setBounds = function(e3, i2, o2, r2, n2) {
    t2.prototype.setBounds.call(this, e3, i2, o2, r2, n2);
  }, e2.prototype._doChanged = function() {
    this._isMobile ? !this._controller.readOnly && this._controller.editable && (this._modified = true, this._dispatchChange()) : (this._started && this._requestStart(), this._started && !this._controller.readOnly && this._controller.editable && (this._modified = true, this._dispatchChange()));
  }, e2.prototype._dispatchChange = function() {
    (this._isMobile || this.visible) && (this.$_resetValue(this._isMobile), t2.prototype._dispatchChange.call(this));
  }, e2.prototype.onDatePickerCloseUp = function(t3, e3) {
    !this._isMobile && this.setFocus(), this.closeUp(e3);
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.$_listDestroy = function() {
    var t3 = this._list && this._list._element.parentElement;
    this._list && (this._list.$_destroy(), t3.removeChild(this._list._element), this._list.dispose(), delete this._list);
  }, e2.INPUT_CSS = "rg-btdate-editor", e2;
}(Wa);
var ul = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._minDate = new Date(1970, 0, 1), o2._maxDate = new Date(2100, 11, 31), o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "minDate", { get: function() {
    return this._minDate;
  }, set: function(t3) {
    t3 != this._minDate && (this._minDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxDate", { get: function() {
    return this._maxDate;
  }, set: function(t3) {
    t3 != this._maxDate && (this._maxDate = t3 ? t3 instanceof Date ? t3 : "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "native", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonCount", { get: function() {
    return 1;
  }, enumerable: false, configurable: true }), e2.prototype._createEditor = function(e3) {
    var i2 = t2.prototype._createEditor.call(this, e3);
    return i2.setAttribute("type", "date"), i2.tabIndex = this._isMobile ? -1 : 0, i2;
  }, e2.prototype._getInputSelector = function() {
    return e2.INPUT_CSS;
  }, e2.prototype.initOptions = function() {
    t2.prototype.initOptions.call(this);
  }, e2.prototype.initDefaultOptions = function() {
  }, e2.prototype.hasButton = function(t3, e3) {
    return null == t3 || t3;
  }, e2.prototype.setVisible = function(e3, i2) {
    void 0 === i2 && (i2 = false), t2.prototype.setVisible.call(this, e3, i2), this.visible && this._editor.click();
  }, e2.prototype.setEditIndex = function(e3) {
    t2.prototype.setEditIndex.call(this, e3);
    var i2 = this._editor;
    i2.min = this._minDate ? this.$_toInputDate(this._minDate) : "", i2.max = this._maxDate ? this.$_toInputDate(this._maxDate) : "";
  }, e2.prototype.setEditValue = function(t3) {
    this._date = "string" == typeof t3 ? this._dateConverter.getDateNull(t3) : t3, this._editor.value = this.$_toInputDate(this._date);
  }, e2.prototype._keyDownHandler = function(e3) {
    if (!this.isDisabled()) {
      if (40 === e3.keyCode) {
        if (e3.altKey) return this._requestStart(), true;
      }
      return t2.prototype._keyDownHandler.call(this, e3);
    }
  }, e2.prototype.setBounds = function(e3, i2, o2, r2, n2) {
    t2.prototype.setBounds.call(this, e3, i2, o2, r2, 0), this._editor && Ot.isiOS && (this._editor.style.minWidth = o2 + "px", this._editor.style.width = o2 + "px");
  }, e2.prototype.$_toInputDate = function(t3) {
    return t3 ? e2.Formatter.getText(t3) : "";
  }, e2.INPUT_CSS = "rg-ndate-editor", e2.Formatter = He.getFormatter("yyyy-MM-dd"), e2;
}(Na);
var cl = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.lastLayout = function() {
    throw new Error("Method not implemented.");
  }, e2.prototype.getText = function(t3, e3, i2, o2) {
    throw new Error("Method not implemented.");
  }, e2.prototype.getCellText = function(t3, e3) {
    throw new Error("Method not implemented.");
  }, e2.prototype.getRows = function(t3, e3, i2) {
    throw new Error("Method not implemented.");
  }, e2.prototype.getCell = function(t3, e3, i2) {
    throw new Error("Method not implemented.");
  }, e2;
}(Ft);
var dl = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    return r2._colCount = 0, r2._blockPaste = false, r2._lines = [], r2._colCount = 0, r2._blockPaste = false, r2._parse(e3, i2, o2), r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._lines.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "colCount", { get: function() {
    return this._colCount;
  }, set: function(t3) {
    this._colCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "empty", { get: function() {
    return 0 == this._lines.length || 0 == this._colCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "single", { get: function() {
    return 1 == this._lines.length && 1 == this._colCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blockPaste", { get: function() {
    return this._blockPaste;
  }, set: function(t3) {
    this._blockPaste = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startIndex", { get: function() {
    return this._startIndex;
  }, enumerable: false, configurable: true }), e2.prototype.get = function(t3) {
    return this._lines[t3];
  }, e2.prototype._parse = function(t3, e3, i2) {
    var o2, r2, n2, s2, a2, l2 = this._lines, h2 = [], u2 = t3.length, c2 = 0, d2 = "";
    if ("" === t3) h2.push(t3), l2.push(h2), this._colCount = 1;
    else {
      for (; c2 < u2; ) a2 = false, o2 = t3.charAt(c2), r2 = c2 < u2 - 1 ? t3.charAt(c2 + 1) : "", '"' == o2 ? s2 ? n2 && '"' == r2 ? (d2 += o2, c2++) : n2 ? n2 = false : d2 += o2 : (s2 = true, n2 = true) : n2 || "\r" != o2 && "\n" != o2 && "	" != o2 ? (s2 = true, d2 += o2) : ("	" == o2 && (h2.push(d2), a2 = true), "\r" != o2 && "\n" != o2 || (h2.push(d2), this._colCount = Math.max(this._colCount, h2.length), l2.push(h2), h2 = [], "\r" == o2 && "\n" == r2 && c2++), d2 = "", s2 = false), c2++;
      n2 && (d2 = '"' + d2), (d2.length > 0 || a2) && h2.push(d2), h2.length > 0 && (this._colCount = Math.max(this._colCount, h2.length), l2.push(h2));
    }
    if (e3 && e3 instanceof Ea && !e3.single && (!i2 || 1 === this._colCount && 1 === l2.length)) {
      var p2 = e3.startIndex, f2 = e3.endIndex;
      if (p2 && f2) {
        var _2 = e3.grid, g2 = p2.layout, y2 = f2.layout, m2 = p2.itemIndex, b2 = f2.itemIndex;
        if (g2.col > y2.col) {
          var v2 = g2;
          g2 = y2, y2 = v2;
        }
        if (m2 > b2) {
          var w2 = m2;
          m2 = b2, b2 = w2;
        }
        g2 = _2.activeCellLayout.getTopOf(g2);
        for (var C2 = (y2 = _2.activeCellLayout.getBottomOf(y2, true)).col - g2.col + 1, x2 = 0, I2 = m2; I2 <= b2; I2++) {
          var E2 = _2.getItem(I2);
          E2 && E2.isDataRow && x2++;
        }
        var S2 = (y2.row - g2.row + 1) * x2;
        c2 = 0;
        for (var O2 = 0, R2 = l2.length; O2 < R2; O2++) {
          for (var P2 = l2[O2].slice(), k2 = P2.length; k2 < C2; k2++) l2[O2].push(P2[c2]), c2 = c2 >= P2.length ? 0 : c2;
          this._colCount = Math.max(this._colCount, l2[O2].length);
        }
        c2 = 0;
        for (O2 = l2.length; O2 < S2; O2++) l2.push(l2[c2++]), c2 = c2 >= l2.length ? 0 : c2;
        this._blockPaste = true, this._startIndex = Ts.temp(_2, m2, g2);
      }
    }
  }, e2;
}(Ft);
var pl = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._lastLayout = null, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return t2.prototype._doDispose.call(this);
  }, e2.prototype.lastLayout = function() {
    return this._lastLayout;
  }, e2.prototype.getText = function(t3, e3, i2, o2) {
    var r2, n2, s2, a2, l2, h2 = t3.grid, u2 = this._rangeToCells(t3, null, e3, o2), c2 = [];
    if (h2.copyOptions.includeHeaderText) for (s2 = 0; s2 < u2.length; s2++) {
      var d2 = [];
      for (a2 = 0; a2 < u2[s2].length; a2++) (r2 = Ot.cast(u2[s2][a2], as)) ? d2.push(Ot.addQuot(r2.header.displayText)) : d2.push("");
      c2.push(d2.join("	"));
    }
    if (!i2) {
      i2 = [];
      for (var p2 = e3.r1, f2 = e3.r2; p2 <= f2; p2++) i2.push(p2);
    }
    return i2.forEach(function(e4) {
      var i3 = h2.getItem(e4);
      if (i3.dataRow >= 0 || Ao(i3.itemState)) for (s2 = 0; s2 < u2.length; s2++) {
        var o3 = [];
        for (a2 = 0; a2 < u2[s2].length; a2++) (r2 = Ot.cast(u2[s2][a2], as)) && !r2.blankWhenCopy ? (n2 = Ts.temp(h2, e4, r2).clone(), o3.push(t3.getData(n2))) : o3.push("");
        l2 = 0 != o3.join("	").length, c2.push(o3.join("	"));
      }
    }), c2.join("\r\n") + (l2 ? "" : "\r\n");
  }, e2.prototype.getCellText = function(t3, e3) {
    var i2 = "";
    return t3.grid.copyOptions.includeHeaderText && (i2 = e3.valueColumn.header.displayText + "\r\n"), i2 += t3.getData(e3);
  }, e2.prototype.getRows = function(t3, e3, i2) {
    if (null == e3) return null;
    var o2, r2 = i2.grid, n2 = r2.pasteOptions, s2 = r2.getSelection(), a2 = i2.dataColumn;
    if (s2 && s2.single && !r2.isTree() && a2 && a2.mergeEdit && r2.editOptions.commitByCell) {
      var l2 = r2.getMergedItems(i2.itemIndex, a2, true, true), h2 = new Ts(r2, l2[0], a2), u2 = new Ts(r2, l2[l2.length - 1], a2);
      s2 = new Ea(r2.selections, Js.BLOCK, h2, u2), o2 = true;
    } else {
      if (n2.selectBlockPaste && r2.selections.count > 1) return void alert("multi selection paste not supported");
      s2 = n2.selectBlockPaste && s2;
    }
    var c2 = new dl(e3, s2, o2);
    if (c2.empty) return null;
    if (c2.single) return c2.get(0)[0];
    c2.blockPaste && c2.startIndex && i2.assign(c2.startIndex);
    for (var d2 = r2.activeCellLayout._dataCells, p2 = d2[0][i2.layout.col], f2 = d2[d2.length - 1][Math.min(d2[0].length - 1, i2.layout.col + c2.colCount - 1)], _2 = new Ts(r2, i2.itemIndex, p2), g2 = new Ts(r2, i2.itemIndex, f2), y2 = Ns.create(_2, g2), m2 = this._rangeToCells(t3, c2, y2, null), b2 = void 0, v2 = void 0, w2 = void 0, C2 = void 0, x2 = [], I2 = 0, E2 = c2.rowCount; I2 < E2; ) {
      var S2 = { columns: [], values: [] };
      for (b2 = 0; b2 < m2.length && I2 < E2; b2++, I2++) {
        var O2 = m2[b2], R2 = c2.get(I2);
        for (S2.columns.push(O2), S2.values.push(C2 = []), w2 = Math.min(R2.length, O2.length), v2 = 0; v2 < w2; v2++) O2[v2] ? C2.push(R2[v2]) : C2.push("");
      }
      x2.push(S2);
    }
    return x2;
  }, e2.prototype.getCell = function(t3, e3, i2) {
    if (!e3) return null;
    var o2 = new dl(e3);
    return o2.empty ? null : o2.get(0)[0];
  }, e2.prototype._rangeToCells = function(t3, e3, i2, o2) {
    i2.normalizeData(), this._lastLayout = null;
    var r2 = i2.c1, n2 = i2.c2, s2 = t3.grid.activeCellLayout._dataCells, a2 = r2 === n2 ? r2.row : 0, l2 = r2 === n2 ? r2.row : s2.length - 1, h2 = [];
    if (o2) {
      for (var u2 = [], c2 = a2; c2 <= l2; c2++) {
        for (var d2 = [], p2 = 0; p2 < s2[0].length; p2++) {
          var f2 = s2[c2][p2];
          o2.indexOf(f2) >= 0 ? (d2.push(f2.firstColumn), u2[p2] = u2[p2] || f2) : d2.push(null);
        }
        h2.push(d2);
      }
      for (p2 = s2[0].length - 1; p2 >= 0; p2--) for (c2 = a2; c2 <= l2; c2++) !u2[p2] && h2[c2].splice(p2, 1);
    } else for (c2 = a2; c2 <= l2; c2++) {
      d2 = [];
      var _2 = r2.source, g2 = n2.source, y2 = _2.col, m2 = g2.col + g2._defColSpan - 1;
      for (p2 = y2; p2 <= m2; p2++) {
        (f2 = s2[c2][p2]) instanceof _s ? d2.push(f2.firstColumn) : d2.push(null);
      }
      h2.push(d2);
    }
    return this._lastLayout = s2[l2][n2.col], h2;
  }, e2;
}(cl);
var fl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._values = null, i2._dataRow = -1, i2._grid = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "isLeaf", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._grid.dataSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return 0 != (1 & this._getExtents());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return B.ROW;
  }, enumerable: false, configurable: true }), e2.prototype._getExtents = function() {
    return 0;
  }, e2.prototype._setExtents = function(t3) {
  }, Object.defineProperty(e2.prototype, "values", { set: function(t3) {
    this._values = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRow", { get: function() {
    return this._dataRow;
  }, set: function(t3) {
    this._dataRow = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataId", { get: function() {
    return this.dataSource.getRowId(this._dataRow);
  }, enumerable: false, configurable: true }), e2.prototype.getRowObject = function() {
    for (var t3 = {}, e3 = this.dataSource, i2 = this._dataRow >= 0 && e3.getRow(this._dataRow), o2 = 0, r2 = e3.fieldCount; o2 < r2; o2++) {
      var n2 = e3.getOrgFieldName(o2), s2 = this._values.hasOwnProperty(o2) ? this._values[o2] : i2 && i2[o2];
      t3[n2] = s2;
    }
    return t3;
  }, e2.prototype.getRowData = function() {
    for (var t3 = [], e3 = this.dataSource, i2 = this._dataRow >= 0 && e3.getRow(this._dataRow), o2 = 0, r2 = e3.fieldCount; o2 < r2; o2++) {
      var n2 = this._values.hasOwnProperty(o2) ? this._values[o2] : i2 && i2[o2];
      t3[o2] = n2;
    }
    return t3;
  }, e2.prototype.getData = function(t3) {
    return t3 = this.dataSource.getFieldIndex(t3), this._values.hasOwnProperty(t3) || this._dataRow < 0 ? this._values[t3] : this.dataSource.getRow(this._dataRow)[t3];
  }, e2.prototype.setIndex = function(t3) {
    this._setIndex(t3);
  }, e2;
}(jo);
var _l = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2._item = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, enumerable: false, configurable: true }), e2;
}(Ts);
var gl = function() {
  function t2(t3) {
    this._grid = t3, this._data = new pl(), this._appendingItem = new fl(t3), this._appendingIndex = new _l(t3, this._appendingItem);
  }
  return t2.prototype.dispose = function() {
    return null;
  }, Object.defineProperty(t2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "appendingIndex", { get: function() {
    return this._appendingIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "isPasting", { get: function() {
    return this._pasting;
  }, enumerable: false, configurable: true }), t2.prototype.getDataRoots = function() {
    var t3 = this._grid._activeCellLayout._dataCells, e2 = [];
    if (!t3.length || !t3[0].length) return e2;
    for (var i2 = 0, o2 = t3[0].length; i2 < o2; i2++) e2.push(t3[0][i2].dataRoot);
    return e2;
  }, t2.prototype.getData = function(t3) {
    var e2, i2, o2 = this.grid, r2 = t3.layout.firstColumn, n2 = o2.getItem(t3.itemIndex), s2 = o2.copyOptions, l2 = s2.datetimeFormat ? He.getFormatter(s2.datetimeFormat) : null, h2 = s2.booleanFormat ? We.getFormatter(s2.booleanFormat) : null, u2 = s2.copyTextCallback;
    if (!n2 || !(Ao(n2.itemState) || n2.dataRow >= 0)) return "";
    if (i2 = t3.value, r2 && !r2.blankWhenCopy) {
      if (null == (e2 = u2 ? u2.call(this, o2, t3.itemIndex, r2, i2) : void 0)) if (s2.copyDisplayText || r2 instanceof hs) e2 = o2.getDisplayText(t3);
      else {
        switch (r2 instanceof ls ? r2.valueType : a.TEXT) {
          case a.DATETIME:
          case a.DATE:
            e2 = i2 ? l2 ? l2.getText(i2) : String(i2) : "";
            break;
          case a.BOOLEAN:
            e2 = null != i2 ? h2 ? h2.formatValue(i2) : String(i2) : "";
            break;
          case a.NUMBER:
            e2 = null == i2 || isNaN(i2) ? "" : String(i2);
            break;
          case a.OBJECT:
            e2 = i2 && "object" == typeof i2 ? JSON.stringify(i2) : "";
            break;
          default:
            e2 = s2.lookupDisplay && r2 instanceof ls && (r2.lookupDisplay || r2.labelField) ? mr.getText(n2, r2) : null != i2 ? String(i2) : "";
        }
      }
      return Ot.addQuot(e2);
    }
    return "";
  }, t2.prototype.copyEmtpyToClipboard = function() {
    return "";
  }, t2.prototype.copyToClipboard = function(t3, e2, i2) {
    return this._data.getText(this, t3, e2, i2);
  }, t2.prototype.copyCellToClipboard = function(t3) {
    return this._data.getCellText(this, t3);
  }, t2.prototype.pasteCellFromClipboard = function(t3, e2) {
    if ((t3 = this._correctIndex(t3)) && this._grid.isValid(t3) && null != e2) {
      var i2 = this._data.getCell(this, e2, t3);
      this._pasteSingleCell(t3, i2);
    }
  }, t2.prototype.pasteFromClipboard = function(t3, e2) {
    var i2 = t3.clone(), o2 = this.grid.pasteOptions.forceAppend;
    if ((t3 = this._correctIndex(t3)) && this._grid.isValid(t3)) {
      if (null != e2) {
        var r2 = this._data.getRows(this, e2, t3);
        null != r2 && ("string" == typeof r2 ? this._pasteSingleCell(t3, r2) : 1 != r2.length || o2 ? (r2.length > 1 || 1 === r2.length && o2) && this._pasteMultiLines(t3, r2) : this._pasteSingleLine(t3, r2[0]));
      }
      Ts.areEquals(t3, i2) || this._grid.setFocusedIndex(i2, false, false);
    }
  }, t2.prototype._correctIndex = function(t3) {
    if (t3) {
      var e2 = this._grid;
      if (t3.normalize(e2), this._grid.isValid(t3) && e2.pasteOptions.selectionBase && e2.selections.count > 0) {
        var i2 = e2.selections.getItem(0).getBounds().firstCell;
        t3.column = i2.column, t3.itemIndex = i2.itemIndex;
      }
    }
    return t3;
  }, t2.prototype._convertValue = function(t3, e2, i2, o2, r2, n2) {
    var s2, l2 = void 0, h2 = i2.dataIndex, u2 = t3.getField(h2), c2 = this._grid, d2 = function() {
      var t4 = c2.body.getIndexCellStyle(n2).editor || i2.editor || {};
      "string" == typeof t4 && (t4 = { type: t4 });
      var e3 = c2.delegate.getCellEditor(Ma.getEditorType(t4));
      return e3.initOptions(), e3.initDefaultOptions(), e3.applyOptions(t4), e3;
    };
    switch (u2.dataType) {
      case a.NUMBER:
        l2 = NaN;
        var p2 = void 0;
        if (o2) {
          var f2 = void 0;
          (e2.applyNumberFormat || e2.applyMaxLength) && (f2 = s2 = d2());
          var _2 = i2.name;
          if (e2.applyNumberFormat) {
            var g2 = f2 && f2.editFormat || i2.numberFormat || c2.formatOptions.numberFormat;
            g2 && (p2 = new ze(g2));
          }
          var y2 = e2.numberCharExpOfCol(_2);
          y2 && (o2 = o2.replace(y2, ""));
          var m2 = e2.numberSeparatorOfCol(_2);
          if (m2 && (o2 = o2.replace(m2, ".")), l2 = p2 ? +parseFloat(o2).toFixed(p2.maxDigits) : parseFloat(o2), e2.applyMaxLength) {
            var b2 = String(l2).split(".");
            f2 && f2.maxIntegerLength > 0 && (b2[0] = b2[0].substr(0, f2.maxIntegerLength)), o2 = b2.join("."), f2 && f2.maxLength > 0 && (o2 = o2.substr(0, f2.maxLength)), l2 = parseFloat(o2);
          }
        } else "" == o2 && (l2 = null);
        break;
      case a.DATETIME:
        l2 = null;
        var v2 = e2.dateReaders;
        if (o2 && v2) for (var w2 = 0; w2 < v2.length && !(l2 = v2[w2].toDate(o2, false)); w2++) ;
        null === l2 && (l2 = new Date(o2), isNaN(l2.getTime()) && (l2 = null)), null === l2 && (l2 = u2.readValue(o2));
        break;
      case a.BOOLEAN:
        l2 = void 0;
        var C2 = e2.boolReader;
        o2 && C2 && (l2 = C2.toBoolStrict(o2)), void 0 === l2 && (l2 = u2.readValue(o2));
        break;
      default:
        if (o2 = String(o2)) if ((s2 = d2()) instanceof za) {
          var x2 = e2.checkDomainOnly && s2.domainOnly, I2 = e2.convertLookupLabel, E2 = -1, S2 = [], O2 = [];
          if (x2 || I2) if (s2.values && s2.values.length > 0) O2 = s2.values, S2 = s2.labels;
          else if (i2.lookupSource) {
            var R2 = i2.lookupSource, k2 = i2.lookupKeyFieldIds, D2 = [];
            for (w2 = 0; w2 < k2.length - 1; w2++) D2.push(r2[k2[w2]]);
            var T2 = R2.getTextDomain(D2);
            O2 = T2 && T2.keys, S2 = T2 && T2.values;
          } else i2.values && i2.values.length > 0 && (O2 = i2.values, S2 = i2.labels);
          o2 = I2 && O2 && S2 && O2.indexOf(o2) < 0 && (E2 = S2.indexOf(o2)) >= 0 ? O2[E2] : o2, o2 = O2 && O2.indexOf(o2) >= 0 ? o2 : x2 ? "" : o2;
        } else s2 instanceof al ? (s2.mask && s2.mask.writeBuffer(o2, true), o2 = null == (l2 = s2._strToVal(o2)) ? void 0 : l2) : (e2.applyMaxLength && s2 && s2 instanceof Na && s2.maxLength > 0 && (o2 = o2.substr(0, s2.maxLength)), i2.textInputCase == P.LOWER ? o2 = o2.toLocaleLowerCase() : i2.textInputCase == P.UPPER && (o2 = o2.toLocaleUpperCase()));
        l2 = o2;
    }
    if (e2.applyEditMask || e2.applyInputChars) {
      if (s2 || (s2 = d2()), e2.applyEditMask && "string" == typeof l2) {
        var M2 = s2.mask;
        M2 && (M2.clearBuffer(), M2.writeBuffer(l2, true), l2 = M2.checkValid() ? M2.getStripValue() : null);
      }
      if (e2.applyInputChars && s2 instanceof $a) {
        var F2 = s2.inputCharacters, L2 = void 0;
        s2.inputCharacters && (L2 = new RegExp("[^" + F2 + "]", "g")).test(l2) && (l2 = l2.replace(L2, "")), (F2 = s2.ignoreCharacters) && (L2 = new RegExp("[" + F2 + "]", "g")).test(l2) && (l2 = l2.replace(L2, ""));
      }
    }
    return l2;
  }, t2.prototype._fireRowsPasted = function(t3) {
    for (var e2 = this._grid, i2 = [], o2 = 0; o2 < t3.length; o2++) i2.push(e2.getItemIndexOfRow(t3[o2]));
    i2.length > 0 && e2._fireItemsPasted(i2);
  }, t2.prototype._cellWritable = function(t3, e2, i2) {
    var o2 = this._grid, r2 = o2._fireCellPasting(t3, i2.value, i2);
    if ("boolean" == typeof r2) return r2;
    if (!o2.pasteOptions.checkReadOnly) return true;
    var n2 = o2.body.getIndexCellStyle(t3);
    if (n2 && (null != n2.readOnly || null != n2.editable)) return null != n2.editable ? n2.editable && !n2.readOnly : !n2.readOnly;
    var s2 = o2.body.getRowStyle(t3.item, t3.itemIndex < o2.fixedOptions.rowCount);
    if ("object" == typeof s2 && (null != s2.readOnly || null != s2.editable)) return null != s2.editable ? s2.editable && !s2.readOnly : !s2.readOnly;
    var a2 = o2.fixedOptions;
    if ((t3.colFixed || t3.rightFixed) && !a2.editable || t3.rowFixed && !a2.rowEditable) return false;
    var l2, h2 = t3.item && t3.item.itemState;
    switch (e2 || h2) {
      case vo.NORMAL:
      case vo.FOCUSED:
      case vo.UPDATING:
        l2 = o2.canUpdate(t3.item, t3.dataField);
        break;
      default:
        l2 = true;
    }
    var u2 = this.grid.getBodyCellAt(t3, false);
    if (u2 && u2.renderer2 && u2.renderer2.canEdit()) return l2 && !t3.dataColumn.readOnly;
    if (!u2) {
      var c2 = n2.renderer || t3.dataColumn.renderer;
      if (c2) {
        if ("check" === ("string" == typeof c2 ? c2 : c2.type)) {
          var d2 = null == c2.editable || c2.editable;
          return l2 && d2 && !t3.dataColumn.readOnly;
        }
      }
    }
    return l2 && t3.dataColumn.isWritable();
  }, t2.prototype._pasteSingleCell = function(t3, e2) {
    var i2, o2 = this._grid, r2 = o2.dataSource, n2 = t3.dataColumn, s2 = o2.pasteOptions;
    if (null != e2 && r2 && n2 && !o2.editOptions.readOnly && t3.item.canEdit()) {
      e2.lastIndexOf("\r\n") == e2.length - 1 && (e2 = e2.substr(0, e2.length - 2)), e2.lastIndexOf("\n") == e2.length - 1 && (e2 = e2.substr(0, e2.length - 1));
      var a2 = { text: e2, value: this._convertValue(r2, s2, n2, e2, t3.item && t3.item.getRowData(), t3), oldValue: t3.item.getData(t3.dataField) };
      if (this._cellWritable(t3, null, a2)) if (o2.isItemEditing() || /*!grid.editOptions.commitByCell &&*/
      s2.startEdit && o2.edit(t3)) {
        i2 = t3.item;
        var l2 = [], h2 = [];
        h2[t3.dataField] = a2.value, l2[t3.dataField] = i2.getData(t3.dataField), o2.setCellUpdateEventLock(s2.noEditEvent);
        try {
          i2.setData(n2.dataIndex, a2.value);
        } finally {
          o2.setCellUpdateEventLock(false);
        }
        o2.validateCellCommit(t3, a2.value), o2.editOptions.commitByCell && o2.commit(false, false, true), o2._fireEditItemPasted(i2, [t3.dataField], l2, h2), o2.refreshView();
      } else {
        this._pasting = true;
        try {
          var u2 = o2.validationManager, c2 = s2.forceRowValidation, d2 = s2.forceColumnValidation;
          i2 = t3.item;
          var p2 = this._appendingItem.values = c2 || d2 ? i2.getRowData() : [];
          p2[n2.dataIndex] = a2.value;
          var f2 = Ao(i2.itemState);
          if (this._appendingItem.dataRow = i2.dataRow, this._appendingItem.setIndex(i2.index), this._appendingIndex.column = null, this._appendingIndex.itemIndex = t3.itemIndex, c2 && u2.validateRow(this._appendingItem, f2, true, true), d2) {
            this._appendingIndex.column = n2;
            try {
              u2.validateCell(this._appendingIndex, f2, true);
            } catch (t4) {
              if (!(t4 instanceof Tn)) throw t4;
              if (tt(t4.level, o2.editOptions.commitLevel) < 0) throw t4;
            }
          }
          u2.clearInvalidCell(this._appendingIndex), o2.updatePastedRow(i2, p2, !c2);
        } finally {
          this._pasting = false;
        }
      }
    }
  }, t2.prototype._pasteSingleLine = function(t3, e2) {
    var i2, o2, r2, n2, s2, a2, l2, h2 = this._grid, u2 = h2.dataSource, c2 = h2.pasteOptions, d2 = h2.editOptions, p2 = false;
    if (u2 && !d2.readOnly && u2) {
      if (h2.isItemEditing() || /*!editOptions.commitByCell && */
      c2.startEdit && h2.edit(t3)) {
        var f2 = [], _2 = [], g2 = [], y2 = t3.column;
        for (o2 = t3.item, r2 = Math.min(e2.columns.length, e2.values.length), n2 = 0; n2 < r2; n2++) {
          var m2 = e2.columns[n2], b2 = e2.values[n2];
          for (s2 = 0; s2 < b2.length; s2++) {
            l2 = m2[s2];
            var v2 = b2[s2];
            if (l2 && l2 instanceof ls) {
              var w2 = Ts.temp(h2, t3.itemIndex, l2);
              o2.getData(l2.dataIndex);
              var C2 = { text: v2, value: i2 = this._convertValue(u2, c2, l2, v2, o2 && o2.getRowData(), w2), oldValue: t3.item.getData(t3.dataField) };
              h2.setCellUpdateEventLock(c2.noEditEvent);
              try {
                (a2 = this._cellWritable(w2, null, C2)) && o2.setData(l2.dataIndex, C2.value);
              } finally {
                h2.setCellUpdateEventLock(false);
              }
              a2 && (t3.column = l2, h2.validateCellCommit(t3, C2.value), f2.push(l2.dataIndex), _2[l2.dataIndex] = t3.item.getData(t3.dataField), g2[l2.dataIndex] = C2.value, p2 = true);
            }
          }
        }
        if (p2) d2.commitByCell && h2.commit(false), h2._fireEditItemPasted(o2, f2, _2, g2), t3.column = y2, h2.refreshView();
        else {
          var x2 = t3.item;
          x2 && !Ao(x2.itemState) && h2.cancel();
        }
      } else {
        this._pasting = true;
        try {
          var I2 = h2.validationManager, E2 = c2.forceRowValidation, S2 = c2.forceColumnValidation, O2 = this._appendingItem;
          o2 = t3.item, O2.setIndex(o2.index), O2.dataRow = o2.dataRow, this._appendingIndex.column = null, this._appendingIndex.itemIndex = t3.itemIndex;
          g2 = O2.values = E2 || S2 ? o2.getRowData() : [];
          r2 = Math.min(e2.columns.length, e2.values.length);
          m2 = void 0, b2 = void 0;
          for (n2 = 0; n2 < r2; n2++) for (m2 = e2.columns[n2], b2 = e2.values[n2], s2 = 0; s2 < b2.length; s2++) if ((l2 = m2[s2]) && l2 instanceof ls) {
            w2 = Ms.tempItem(h2, O2, l2);
            i2 = this._convertValue(u2, c2, l2, b2[s2], O2 && O2.getRowData(), w2);
            C2 = { text: b2[s2], value: i2, oldValue: t3.item.getData(t3.dataField) };
            (a2 = this._cellWritable(w2, null, C2)) && (g2[l2.dataIndex] = C2.value, p2 = true);
          }
          if (p2) {
            var R2 = Ao(o2.itemState);
            if (E2 && I2.validateRow(O2, R2, true, true), S2) for (n2 = 0; n2 < r2; n2++) for (m2 = e2.columns[n2], b2 = e2.values[n2], s2 = 0; s2 < b2.length; s2++) {
              this._appendingIndex.column = m2[s2];
              try {
                I2.validateCell(this._appendingIndex, R2, true);
              } catch (t4) {
                if (!(t4 instanceof Tn)) throw t4;
                if (tt(t4.level, d2.commitLevel) < 0) throw t4;
              }
            }
            I2.clearInvalidCells(o2.dataId), h2.updatePastedRow(o2, g2, !E2);
          }
        } finally {
          this._pasting = false;
        }
      }
      h2.selections.clear(true), p2 && h2.selections.add(t3, new Ts(h2, t3.itemIndex, this._data.lastLayout()), Js.BLOCK, true);
    }
  }, t2.prototype._pasteMultiLines = function(t3, e2) {
    var i2 = this._grid, o2 = i2.dataSource;
    if (o2) {
      var r2 = i2.pasteOptions, n2 = r2.forceAppend, s2 = r2.checkReadOnly;
      if (s2 && i2.editOptions.readOnly) return;
      var a2 = r2.noDataEvent, l2 = e2.length, h2 = t3.itemIndex, u2 = o2.fieldCount, p2 = i2.getDataColumns(false), f2 = p2.length, _2 = i2.validationManager, g2 = r2.forceRowValidation, y2 = r2.forceColumnValidation, m2 = this._appendingItem, b2 = this._appendingIndex, v2 = void 0, w2 = void 0, C2 = void 0, x2 = void 0, I2 = r2.eventEachRow, E2 = [];
      r2.commitEdit && i2.commit(false) || i2.cancel();
      var S2 = i2.itemCount;
      a2 && o2.beginUpdate();
      var O2 = void 0, R2 = void 0, P2 = true;
      if (!i2.isTree()) {
        var k2 = i2.itemSource;
        O2 = k2.filterMode, R2 = k2.sortMode, k2.filterMode = d.EXPLICIT, k2.sortMode = c.EXPLICIT, P2 = k2.isFiltered(null) && k2.filterMode !== O2 || k2.sorted && k2.sortMode !== R2;
      }
      try {
        for (this._pasting = true, v2 = 0; v2 < l2 && h2 < S2 && !n2; v2++) try {
          if ((Y2 = i2.getItem(h2)).itemState == vo.APPENDING) break;
          for (; Y2 && Y2.dataRow < 0; ) h2++, Y2 = i2.getItem(h2);
          if (null == Y2) break;
          var D2 = e2[v2], T2 = m2.values = g2 || y2 ? Y2.getRowData() : [], M2 = g2 || y2 ? Y2.getRowData() : [], F2 = false, L2 = [];
          for (m2.setIndex(Y2.index), m2.dataRow = Y2.dataRow, C2 = Math.min(D2.columns.length, D2.values.length), w2 = 0; w2 < C2; w2++) {
            var N2 = D2.columns[w2], $2 = D2.values[w2];
            for (x2 = 0; x2 < $2.length; x2++) {
              if ((H2 = N2[x2]) && H2 instanceof ls) {
                var A2 = Ms.tempItem(i2, m2, H2), B2 = this._convertValue(o2, r2, H2, $2[x2], m2 && m2.getRowData(), A2), V2 = { text: $2[x2], value: B2, oldValue: Y2.getData(H2.dataIndex) };
                (W2 = this._cellWritable(A2, null, V2)) && (F2 = F2 || W2 || !s2, L2.push(H2.dataIndex), M2[H2.dataIndex] = Y2.getData(H2.dataIndex), T2[H2.dataIndex] = V2.value);
              }
            }
          }
          if (F2) try {
            b2.column = null, b2.itemIndex = Y2.index;
            var j2 = Ao(Y2.itemState);
            if (g2 && _2.validateRow(m2, j2, true, true), y2) for (x2 = 0; x2 < f2; x2++) {
              var H2 = p2[x2];
              b2.column = H2;
              try {
                _2.validateCell(b2, j2, true);
              } catch (t4) {
                if (!(t4 instanceof Tn)) throw t4;
                if (tt(t4.level, i2.editOptions.commitLevel) < 0) throw t4;
              }
            }
            i2.updatePastedRow(Y2, T2, !g2), _2.clearInvalidCells(m2.dataId), I2 && i2._fireEditItemPasted(Y2, L2, M2, T2), E2.push(Y2.dataRow);
          } catch (t4) {
            if (r2.stopOnError) throw t4;
          }
          h2++;
        } catch (e3) {
          throw h2 = Math.max(t3.itemIndex, h2 - 1), i2.setFocusedIndex(t3, false), i2.selections.clear(true), i2.selections.add(t3, new Ts(i2, h2, this._data.lastLayout()), Js.BLOCK, true), e3;
        }
        if (v2 < l2 && r2.enableAppend) {
          for (; v2 < l2; v2++) {
            D2 = e2[v2], T2 = m2.values = [], M2 = [];
            m2.dataRow = -1, m2.setIndex(-1);
            try {
              L2 = [];
              for (C2 = Math.min(D2.columns.length, D2.values.length), w2 = 0; w2 < C2; w2++) {
                N2 = D2.columns[w2], $2 = D2.values[w2];
                for (x2 = 0; x2 < $2.length; x2++) {
                  if ((H2 = N2[x2]) && H2 instanceof ls) {
                    var W2;
                    A2 = Ms.tempItem(i2, m2, H2), B2 = this._convertValue(o2, r2, H2, $2[x2], T2, A2), V2 = { text: $2[x2], value: B2, oldValue: void 0 };
                    (W2 = this._cellWritable(A2, vo.APPENDING, V2)) && (L2.push(H2.dataIndex), T2[H2.dataIndex] = V2.value, M2[H2.dataIndex] = void 0);
                  }
                }
              }
              if (r2.fillColumnDefaults) for (x2 = 0; x2 < f2; x2++) {
                (H2 = p2[x2]).dataIndex > -1 && void 0 === T2[H2.dataIndex] && void 0 !== H2.defaultValue && (T2[H2.dataIndex] = H2.defaultValue);
              }
              if (r2.fillFieldDefaults) {
                for (x2 = 0; x2 < u2; x2++) if (void 0 === T2[x2]) {
                  var G2 = o2.getField(x2);
                  void 0 !== G2.defaultValue && (T2[x2] = G2.defaultValue);
                }
              }
              try {
                if (this._appendingIndex.column = null, this._appendingIndex.itemIndex = -1, g2 && _2.validateRow(m2, true, true, true), r2.forceColumnValidation) for (x2 = 0; x2 < f2; x2++) {
                  H2 = p2[x2];
                  this._appendingIndex.column = H2;
                  try {
                    _2.validateCell(this._appendingIndex, true, true);
                  } catch (t4) {
                    if (!(t4 instanceof Tn)) throw t4;
                    if (tt(t4.level, i2.editOptions.commitLevel) < 0) throw t4;
                  }
                }
                var U2 = i2.appendPastedRow(T2);
                if (I2) {
                  var Y2 = i2.getItem(i2.getItemIndexOfRow(U2));
                  i2._fireEditItemPasted(Y2, L2, M2, T2);
                }
                E2.push(U2);
              } catch (t4) {
                if (r2.stopOnError) throw t4;
              }
            } catch (e3) {
              throw h2 = Math.max(t3.itemIndex, i2.itemCount - 1), i2.setFocusedIndex(t3, false), i2.selections.clear(true), i2.selections.add(t3, new Ts(t3.grid, h2, this._data.lastLayout()), Js.BLOCK, true), e3;
            }
          }
          h2 = a2 ? -1 : i2.itemCount;
        }
        this._fireRowsPasted(E2);
      } catch (t4) {
        throw this._fireRowsPasted(E2), t4;
      } finally {
        if (this._pasting = false, a2 && (o2.endUpdate(P2), h2 < 0 && (h2 = o2.rowCount)), !i2.isTree()) {
          var z2 = i2.itemSource;
          P2 && (z2.filterMode = O2, z2.sortMode = R2, z2._refreshItems());
        }
      }
      n2 && E2.length > 0 && ((t3 = t3.clone()).itemIndex = h2 - E2.length), i2.setFocusedIndex(t3, false), i2.selections.clear(true), i2.selections.add(t3, new Ts(t3.grid, h2 - 1, this._data.lastLayout()), Js.BLOCK, true);
    }
  }, t2;
}();
var yl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._cellButtonWidth = 16, i2._editButtonWidth = 16, i2._editButtonHeight = 16, i2._errorIconWidth = 16, i2._showChangeMarker = false, i2._formatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "", text: null }, i2._buttonHeight = 16, i2._dataCell = new mr(), i2._hiddenCell = new br(), i2._literalCell = new vr(), i2._seriesCell = new wr(), i2._cs = new ns(), i2._rowCs = new Vo(), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._dataCell = this._dataCell.dispose(), this._hiddenCell = this._hiddenCell.dispose(), this._literalCell = this._literalCell.dispose(), this._seriesCell = this._seriesCell.dispose(), this._cs = null, this._rowCs = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "cellStyleCallback", { get: function() {
    return this._cellStyleCallback;
  }, set: function(t3) {
    t3 !== this._cellStyleCallback && (this._cellStyleCallback = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowStyleCallback", { get: function() {
    return this._rowStyleCallback;
  }, set: function(t3) {
    t3 !== this._rowStyleCallback && (this._rowStyleCallback = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ariaLabelCallback", { get: function() {
    return this._ariaLabelCallback;
  }, set: function(t3) {
    this._ariaLabelCallback = t3, this.refreshOwner();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellButtonWidth", { get: function() {
    return this._cellButtonWidth;
  }, set: function(t3) {
    t3 != this._cellButtonWidth && (this._cellButtonWidth = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editButtonWidth", { get: function() {
    return this._editButtonWidth;
  }, set: function(t3) {
    t3 != this._editButtonWidth && (this._editButtonWidth = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editButtonHeight", { get: function() {
    return this._editButtonHeight;
  }, set: function(t3) {
    t3 != this._editButtonHeight && (this._editButtonHeight = t3, this._buttonHeight = Math.max(16, t3), this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "errorIconWidth", { get: function() {
    return this._errorIconWidth;
  }, set: function(t3) {
    t3 != this._errorIconWidth && (this._errorIconWidth = t3, this.refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonHeight", { get: function() {
    return this._buttonHeight;
  }, enumerable: false, configurable: true }), e2.prototype.getCell = function(t3) {
    return this.getCellAt(t3.item, t3.column);
  }, e2.prototype.getCellAt = function(t3, e3) {
    var i2, o2 = this._grid;
    if (e3 instanceof ls ? t3.index < 0 || t3 instanceof fl ? (i2 = this._hiddenCell, this._hiddenCell.setItem(t3)) : i2 = this._dataCell : i2 = e3 instanceof hs ? this._seriesCell : e3 instanceof us ? this._literalCell : this._dataCell, i2.setIndex2(o2, t3 ? t3.index : -1, e3), e3 instanceof ls) {
      var r2 = o2.validationManager.getError(i2.index);
      r2 ? (i2.error = r2.message, i2.errorLevel = r2.level) : (i2.error = null, i2.errorLevel = w.IGNORE);
    }
    return i2;
  }, e2.prototype.getIndexCellStyle = function(t3, e3) {
    var i2 = this.getCell(t3);
    return this.getCellStyle(i2, this._cs.clear(), false, e3);
  }, e2.prototype.getCellStyle = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = true);
    var r2, n2 = t3.valueColumn, s2 = this._cellStyleCallback;
    s2 && (r2 = s2(this._grid.handler, t3), e3.assign(r2)), n2 && (r2 = n2.getCellStyle(t3), e3.assign(r2));
    var a2 = this.getUserCellStyle(t3.index.dataRow, t3.valueColumn.name);
    a2 && e3.assign(a2);
    var l2 = e3.styleName || n2 && n2.styleName || "";
    return o2 && (e3.styleName = "rg-data-cell " + (i2 ? "rg-merged-cell " : "") + l2), e3;
  }, e2.prototype.getCellFormatters = function(t3, e3, i2, o2) {
    if (e3 ? (e3.numberFormatter = e3.numberFormatter || t3.numberFormatter, e3.datetimeWriter = e3.datetimeWriter || t3.datetimeWriter, e3.booleanFormatter = e3.booleanFormatter || t3.boolFormatter, e3.textFormatter = e3.textFormatter || t3.textFormatter, e3.prefix = e3.prefix || t3.prefix, e3.suffix = e3.suffix || t3.suffix) : ((e3 = this._formatter).numberFormatter = t3.numberFormatter, e3.datetimeWriter = t3.datetimeWriter, e3.booleanFormatter = t3.boolFormatter, e3.textFormatter = t3.textFormatter, e3.prefix = t3.prefix, e3.suffix = t3.suffix, e3.text = null), i2) {
      var r2 = i2.grid, n2 = r2.body.getCell(i2);
      e3 = (o2 = r2.body.getCellStyle(n2, o2)).toFormatter(e3);
    }
    return e3;
  }, e2.prototype.getRowStyle = function(t3, i2, o2, r2) {
    void 0 === o2 && (o2 = false), void 0 === r2 && (r2 = true);
    var n2 = this._grid, s2 = this._rowCs;
    if (s2.clear(), r2) {
      var a2 = this._rowStyleCallback;
      if (a2) {
        var l2 = a2(n2.handler, t3, i2) || {};
        s2.assign(l2);
      }
      var h2 = this.getUserCellStyle(t3.dataRow, -1);
      h2 && s2.assign(h2);
    }
    if (!s2.styleName) {
      var u2 = e2.ROW_STYLE;
      t3.index % 2 && n2.displayOptions.useAlternateRowStyle && (u2 += e2.ALTERNATE_ROW_STYLE), i2 && (u2 += e2.FIXED_ROW_STYLE), o2 || (u2 += e2.STATE_ROW_STYLES[t3.rowState] || ""), t3.checked && (u2 += e2.CHECKED_ROW_STYLE), s2.styleName = u2;
    }
    return s2;
  }, e2.prototype.addUserCellStyle = function(t3, e3, i2) {
    var o2 = this._grid, r2 = o2.getItemOfRow(t3, true);
    r2 && (o2.itemSource.addCellStyle(r2.dataId, e3, i2) && o2.refreshView());
  }, e2.prototype.removeUserCellStyle = function(t3, e3) {
    var i2 = this._grid, o2 = null != t3 ? i2.getItemOfRow(t3, true) : null;
    (o2 || null == t3) && (i2.itemSource.removeCellStyle(o2 ? o2.dataRowId : null, e3) && i2.refreshView());
  }, e2.prototype.getUserCellStyle = function(t3, e3) {
    var i2 = this._grid, o2 = i2.getItemOfRow(t3, true);
    if (o2) return i2.itemSource.getUserCellStyle(o2.dataId, e3);
  }, e2.prototype._prepareUpdate = function() {
    var t3 = this._grid = this.owner;
    this._ds = t3.dataSource, this._showChangeMarker = t3.displayOptions.showChangeMarker;
  }, e2.ROW_STYLE = " rg-data-row", e2.ALTERNATE_ROW_STYLE = " rg-alternate-row", e2.FIXED_ROW_STYLE = " rg-fixed-row", e2.CHECKED_ROW_STYLE = " rg-checked-row", e2.STATE_ROW_STYLES = { created: " rg-created-row", deleted: " rg-deleted-row", createAndDeleted: " rg-deleted-row", updated: " rg-updated-row" }, e2;
}(cr);
var ml = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this._grid && this._grid.optionsChanged(this);
  }, e2.prototype._invalidateOwner = function() {
    this._grid && this._grid.invalidate();
  }, e2.prototype._layoutOwner = function() {
    this._grid && this._grid.invalidateLayout();
  }, e2.prototype._refreshOwner = function() {
    this._grid && this._grid.refreshView();
  }, e2;
}(Ft);
var bl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._colCount = 0, i2._rightCount = 0, i2._rowCount = 0, i2._rightFixed = true, i2._exceptFromFiltering = true, i2._exceptFromSorting = true, i2._editable = true, i2._rowEditable = true, i2._resizable = false, i2._rowResizable = false, i2._movable = false, i2._colBarWidth = 3, i2._rightBarWidth = 3, i2._rowBarHeight = 3, i2._mergeRows = false, i2._blankRows = false, i2.assignFrom(Ke.fixed), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "colCount", { get: function() {
    return this._colCount;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._colCount && (this._colCount = t3, this.grid && this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightCount", { get: function() {
    return this._rightCount;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._rightCount && (this._rightCount = t3, this.grid && this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._rowCount;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._rowCount && (this._rowCount = t3, this.$_resetItemSource());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightFixed", { get: function() {
    return this._rightFixed;
  }, set: function(t3) {
    t3 != this._rightFixed && (this._rightFixed = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exceptFromFiltering", { get: function() {
    return this._exceptFromFiltering;
  }, set: function(t3) {
    t3 != this._exceptFromFiltering && (this._exceptFromFiltering = t3, this.$_resetItemSource());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exceptFromSorting", { get: function() {
    return this._exceptFromSorting;
  }, set: function(t3) {
    t3 != this._exceptFromSorting && (this._exceptFromSorting = t3, this.$_resetItemSource());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, set: function(t3) {
    t3 != this._editable && (this._editable = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowEditable", { get: function() {
    return this._rowEditable;
  }, set: function(t3) {
    t3 != this._rowEditable && (this._rowEditable = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resizable", { get: function() {
    return this._resizable;
  }, set: function(t3) {
    t3 != this._resizable && (this._resizable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowResizable", { get: function() {
    return this._rowResizable;
  }, set: function(t3) {
    t3 != this._rowResizable && (this._rowResizable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "movable", { get: function() {
    return this._movable;
  }, set: function(t3) {
    t3 != this._movable && (this._movable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "colBarWidth", { get: function() {
    return this._colBarWidth;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._colBarWidth && (this._colBarWidth = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightBarWidth", { get: function() {
    return this._rightBarWidth;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._rightBarWidth && (this._rightBarWidth = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowBarHeight", { get: function() {
    return this._rowBarHeight;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._rowBarHeight && (this._rowBarHeight = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeRows", { get: function() {
    return this._mergeRows;
  }, set: function(t3) {
    t3 != this._mergeRows && (this._mergeRows = t3, this.grid._columnMergeRuleChanged(null));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blankRows", { get: function() {
    return this._blankRows;
  }, set: function(t3) {
    t3 != this._blankRows && (this._blankRows = t3, this.$_resetItemSource(true));
  }, enumerable: false, configurable: true }), e2.prototype._refreshOwner = function() {
    t2.prototype._refreshOwner.call(this), this.grid && this.grid.invalidateColumns();
  }, e2.prototype.$_resetItemSource = function(t3) {
    var e3, i2 = this.grid;
    i2 && (e3 = i2.itemSource) ? (e3.setFixed(this._rowCount, !this._exceptFromSorting, !this._exceptFromFiltering, t3), this._dirty = false) : this._dirty = true;
  }, e2.ROW_BAR_STYLE = "rg-fixed-row-bar", e2.ROW_BAR_CELL_STYLE = "rg-fixed-row-bar-cell", e2.COLUMN_BAR_STYLE = "rg-fixed-column-bar", e2;
}(ml);
var vl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._refreshMode = $.ALL, i2._columnResizable = true, i2._columnMovable = true, i2._columnResizeThreshold = 3, i2._minCellWidth = 8, i2._defaultColumnWidth = 100, i2._fitStyle = S.NONE, i2._rowResizable = false, i2._eachRowResizable = false, i2._autoClearHeights = true, i2._rowHeight = 0, i2._refCalcHeights = true, i2._dataHeights = null, i2._minTableRowHeight = 23, i2._minRowHeight = 23, i2._maxRowHeight = 0, i2._hscrollBar = true, i2._vscrollBar = true, i2._liveScroll = true, i2._scrollDuration = 0, i2._hscrollDuration = 0, i2._hintDelay = 0, i2._showTooltip = false, i2._tooltipEllipsisOnly = false, i2._rowChangeDelay = 0, i2._horzPageScroll = false, i2._showEmptyMessage = false, i2._focusVisible = true, i2._focusType = W.LAYER, i2._rowFocusType = R.NONE, i2._groupFocusVisible = false, i2._wheelEnabled = true, i2._wheelScrollLines = 3, i2._wheelScrollHorz = 16, i2._wheelAccelDelay = 0, i2._wheelAccelScroll = null, i2._wheelDeltaY = 0, i2._wheelEventPropagate = true, i2._rightClickable = true, i2._remergeWhenColumnMoved = true, i2._editItemMerging = false, i2._showInnerFocus = true, i2._toastZIndex = 3e3, i2._popupDropdownCount = 0, i2._popupViewDistance = 0, i2._selectionMode = Zs.SINGLE, i2._selectionStyle = Js.BLOCK, i2._selectionDisplay = Qs.CELL, i2._selectAndImmediateDrag = false, i2._altSelectAndImmediateDrag = false, i2._selectAtSingleRow = false, i2._rowHoverType = R.NONE, i2._rowBlockType = R.NONE, i2._showEmptyTooltip = false, i2._showChangeMarker = true, i2._showNativeEditButton = false, i2._baseZindex = 2e3, i2._useAlternateRowStyle = true, i2._useFocusClass = false, i2._watchDisplayChange = true, i2._syncGridHeight = Y.NONE, i2._groupFocusLevel = -1, i2._selectionRemovable = false, i2.assignFrom(Ke.display), Ot.isMobile() && (i2._selectionStyle = Js.NONE), (Ot.ieNine || Ot.ieTen) && (i2._focusType = W.LINE), e3.setWatchTimer(i2._watchDisplayChange), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "refreshMode", { get: function() {
    return this._refreshMode;
  }, set: function(t3) {
    t3 != this._refreshMode && (this._refreshMode = t3, this.grid.setNeedRefresh(true), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "columnResizable", { get: function() {
    return this._columnResizable;
  }, set: function(t3) {
    this._columnResizable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "columnMovable", { get: function() {
    return this._columnMovable;
  }, set: function(t3) {
    this._columnMovable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "columnResizeThreshold", { get: function() {
    return this._columnResizeThreshold;
  }, set: function(t3) {
    this._columnResizeThreshold = Math.min(Math.max(3, t3), 10);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultColumnWidth", { get: function() {
    return this._defaultColumnWidth;
  }, set: function(t3) {
    t3 != this._defaultColumnWidth && (this._defaultColumnWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fitStyle", { get: function() {
    return this._fitStyle;
  }, set: function(t3) {
    t3 != this._fitStyle && (this._fitStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fitStyleIncludeFixed", { get: function() {
    return this._fitStyleIncludeFixed;
  }, set: function(t3) {
    t3 != this._fitStyleIncludeFixed && (this._fitStyleIncludeFixed = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowResizable", { get: function() {
    return this._rowResizable;
  }, set: function(t3) {
    this._rowResizable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "eachRowResizable", { get: function() {
    return this._eachRowResizable;
  }, set: function(t3) {
    this._eachRowResizable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "autoClearHeights", { get: function() {
    return this._autoClearHeights;
  }, set: function(t3) {
    t3 != this._autoClearHeights && (this._autoClearHeights = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "refCalcHeights", { get: function() {
    return this._refCalcHeights;
  }, set: function(t3) {
    t3 != this._refCalcHeights && (this._refCalcHeights = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowHeight", { get: function() {
    return this._rowHeight;
  }, set: function(t3) {
    t3 != this._rowHeight && (this._rowHeight = t3, this._autoClearHeights && this.grid && this.grid.clearRowHeights(false), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataHeights", { get: function() {
    return this._dataHeights;
  }, set: function(t3) {
    t3 && t3.length > 0 ? this._dataHeights = t3.slice() : this._dataHeights = null, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minTableRowHeight", { get: function() {
    return this._minTableRowHeight;
  }, set: function(t3) {
    (t3 = Math.max(e2.MIN_TABLE_ROW_HEIGHT, t3)) != this._minTableRowHeight && (this._minTableRowHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minRowHeight", { get: function() {
    return this._minRowHeight;
  }, set: function(t3) {
    (t3 = Math.max(e2.MIN_TABLE_ROW_HEIGHT, t3)) != this._minRowHeight && (this._minRowHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxRowHeight", { get: function() {
    return this._maxRowHeight;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._maxRowHeight && (this._maxRowHeight = t3, this._autoClearHeights && this.grid && this.grid.clearRowHeights(false), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minCellWidth", { get: function() {
    return this._minCellWidth;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._minCellWidth && (this._minCellWidth = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hscrollBar", { get: function() {
    return this._hscrollBar;
  }, set: function(t3) {
    t3 != this._hscrollBar && (this._hscrollBar = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vscrollBar", { get: function() {
    return this._vscrollBar;
  }, set: function(t3) {
    t3 != this._vscrollBar && (this._vscrollBar = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "liveScroll", { get: function() {
    return this._liveScroll;
  }, set: function(t3) {
    t3 != this._liveScroll && (this._liveScroll = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollDuration", { get: function() {
    return this._scrollDuration;
  }, set: function(t3) {
    this._scrollDuration = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hscrollDuration", { get: function() {
    return this._hscrollDuration;
  }, set: function(t3) {
    this._hscrollDuration = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hintDelay", { get: function() {
    return this._hintDelay;
  }, set: function(t3) {
    this._hintDelay = Math.max(t3, 0);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    this._showTooltip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tooltipEllipsisOnly", { get: function() {
    return this._tooltipEllipsisOnly;
  }, set: function(t3) {
    this._tooltipEllipsisOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowChangeDelay", { get: function() {
    return this._rowChangeDelay;
  }, set: function(t3) {
    this._rowChangeDelay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "horzPageScroll", { get: function() {
    return this._horzPageScroll;
  }, set: function(t3) {
    this._horzPageScroll = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "emptyMessage", { get: function() {
    return this._emptyMessage;
  }, set: function(t3) {
    t3 != this._emptyMessage && (this._emptyMessage = t3, this.grid.setEmptyMessage(t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showEmptyMessage", { get: function() {
    return this._showEmptyMessage;
  }, set: function(t3) {
    t3 != this._showEmptyMessage && (this._showEmptyMessage = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focusVisible", { get: function() {
    return this._focusVisible;
  }, set: function(t3) {
    t3 != this._focusVisible && (this._focusVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focusType", { get: function() {
    return this._focusType;
  }, set: function(t3) {
    t3 !== this.focusType && (this._focusType = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowFocusType", { get: function() {
    return this._rowFocusType;
  }, set: function(t3) {
    t3 != this._rowFocusType && (this._rowFocusType = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFocusVisible", { get: function() {
    return this._groupFocusVisible;
  }, set: function(t3) {
    t3 !== this._groupFocusVisible && (this._groupFocusVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFocusLevel", { get: function() {
    return this._groupFocusLevel;
  }, set: function(t3) {
    t3 != this._groupFocusLevel && (this._groupFocusLevel = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelEnabled", { get: function() {
    return this._wheelEnabled;
  }, set: function(t3) {
    this._wheelEnabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelScrollLines", { get: function() {
    return this._wheelScrollLines;
  }, set: function(t3) {
    this._wheelScrollLines = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelScrollHorz", { get: function() {
    return this._wheelScrollHorz;
  }, set: function(t3) {
    this._wheelScrollHorz = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelAccelDelay", { get: function() {
    return this._wheelAccelDelay;
  }, set: function(t3) {
    this._wheelAccelDelay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelAccelScroll", { get: function() {
    return this._wheelAccelScroll;
  }, set: function(t3) {
    this._wheelAccelScroll = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelDeltaY", { get: function() {
    return this._wheelDeltaY;
  }, set: function(t3) {
    this._wheelDeltaY = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "wheelEventPropagate", { get: function() {
    return this._wheelEventPropagate;
  }, set: function(t3) {
    this._wheelEventPropagate = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightClickable", { get: function() {
    return this._rightClickable;
  }, set: function(t3) {
    this._rightClickable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "remergeWhenColumnMoved", { get: function() {
    return this._remergeWhenColumnMoved;
  }, set: function(t3) {
    this._remergeWhenColumnMoved = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editItemMerging", { get: function() {
    return this._editItemMerging;
  }, set: function(t3) {
    t3 != this._editItemMerging && (this._editItemMerging = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showInnerFocus", { get: function() {
    return this._showInnerFocus;
  }, set: function(t3) {
    t3 != this._showInnerFocus && (this._showInnerFocus = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "toastZIndex", { get: function() {
    return this._toastZIndex;
  }, set: function(t3) {
    this._toastZIndex = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupDropdownCount", { get: function() {
    return this._popupDropdownCount;
  }, set: function(t3) {
    this._popupDropdownCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectionMode", { get: function() {
    return this._selectionMode;
  }, set: function(t3) {
    t3 != this._selectionMode && (this._selectionMode = t3, this.grid.clearAddSelection());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectionStyle", { get: function() {
    return this._selectionStyle;
  }, set: function(t3) {
    t3 != this._selectionStyle && (this.grid.selections.clear(true), this._selectionStyle = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectionDisplay", { get: function() {
    return this._selectionDisplay;
  }, set: function(t3) {
    t3 != this._selectionDisplay && (this._selectionDisplay = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectAndImmediateDrag", { get: function() {
    return this._selectAndImmediateDrag;
  }, set: function(t3) {
    this._selectAndImmediateDrag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "altSelectAndImmediateDrag", { get: function() {
    return this._altSelectAndImmediateDrag;
  }, set: function(t3) {
    this._altSelectAndImmediateDrag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectAtSingleRow", { get: function() {
    return this._selectAtSingleRow;
  }, set: function(t3) {
    this._selectAtSingleRow = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowHoverType", { get: function() {
    return this._rowHoverType;
  }, set: function(t3) {
    t3 != this._rowHoverType && (this._rowHoverType = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowBlockType", { get: function() {
    return this._rowBlockType;
  }, set: function(t3) {
    t3 != this._rowBlockType && (this._rowBlockType = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowBlockCallback", { get: function() {
    return this._rowBlockCallback;
  }, set: function(t3) {
    t3 !== this._rowBlockCallback && (this._rowBlockCallback = t3, this._rowBlockType != R.NONE && this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showEmptyTooltip", { get: function() {
    return this._showEmptyTooltip;
  }, set: function(t3) {
    this._showEmptyTooltip = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showChangeMarker", { get: function() {
    return this._showChangeMarker;
  }, set: function(t3) {
    t3 != this._showChangeMarker && (this._showChangeMarker = t3, this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollMessageCallback", { get: function() {
    return this._scrollMessageCallback;
  }, set: function(t3) {
    this._scrollMessageCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showNativeEditButton", { get: function() {
    return this._showNativeEditButton;
  }, set: function(t3) {
    t3 != this._showNativeEditButton && (this._showNativeEditButton = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "baseZindex", { get: function() {
    return this._baseZindex;
  }, set: function(t3) {
    this._baseZindex = Math.max(t3, 0);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useAlternateRowStyle", { get: function() {
    return this._useAlternateRowStyle;
  }, set: function(t3) {
    t3 != this._useAlternateRowStyle && (this._useAlternateRowStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useFocusClass", { get: function() {
    return this._useFocusClass;
  }, set: function(t3) {
    t3 != this._useFocusClass && (t3 || (this.grid.setFocusedClass(this.grid.focusedIndex, false), this.grid.setFocusedRowClass(this.grid.focusedIndex, false)), this._useFocusClass = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editButtonHeight", { get: function() {
    return this.grid.body.editButtonHeight;
  }, set: function(t3) {
    this.grid.body.editButtonHeight = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "watchDisplayChange", { get: function() {
    return this._watchDisplayChange;
  }, set: function(t3) {
    t3 != this._watchDisplayChange && (this._watchDisplayChange = t3, this.grid.setWatchTimer(t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "syncGridHeight", { get: function() {
    return this._syncGridHeight;
  }, set: function(t3) {
    t3 != this._syncGridHeight && (this._syncGridHeight = t3, t3 !== Y.ALWAYS && this.grid.recallHeight(), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "popupViewDistance", { get: function() {
    return this._popupViewDistance;
  }, set: function(t3) {
    this._popupViewDistance = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowHeightCallback", { get: function() {
    return this._rowHeightCallback;
  }, set: function(t3) {
    this._rowHeightCallback = t3, this.grid.clearRowHeights(false), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectionRemovable", { get: function() {
    return this._selectionRemovable;
  }, set: function(t3) {
    this._selectionRemovable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltipWhileEditing", { get: function() {
    return this._tooltipOnEditing;
  }, set: function(t3) {
    this._tooltipOnEditing = t3;
  }, enumerable: false, configurable: true }), e2.MIN_TABLE_ROW_HEIGHT = 15, e2;
}(ml);
var wl = function() {
  function t2(t3, e2) {
    void 0 === t3 && (t3 = 0), void 0 === e2 && (e2 = 0), this.width = t3, this.height = e2;
  }
  return t2.empty = function() {
    return new t2();
  }, t2.create = function(e2, i2) {
    return void 0 === e2 && (e2 = 0), void 0 === i2 && (i2 = 0), new t2(e2, i2);
  }, Object.defineProperty(t2.prototype, "isEmpty", { get: function() {
    return 0 === this.width || 0 === this.height;
  }, enumerable: false, configurable: true }), t2.prototype.clone = function() {
    return new t2(this.width, this.height);
  }, t2.prototype.equals = function(t3) {
    return t3 === this || t3 && this.width === t3.width && this.height === t3.height;
  }, t2.prototype.setEmpty = function() {
    return this.width = this.height = 0, this;
  }, t2.prototype.set = function(t3, e2) {
    return this.width = t3, this.height = e2, this;
  }, t2.prototype.round = function() {
    var t3 = this.clone();
    return t3.width >>>= 0, t3.height >>>= 0, t3;
  }, t2.prototype.toString = function() {
    return "{width: " + this.width + ", height: " + this.height + "}";
  }, t2.EMPTY = new t2(), t2;
}();
var Cl = function(t2) {
  function e2(e3, i2) {
    return void 0 === i2 && (i2 = null), t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    for (var t3 = this.parent; t3; ) {
      if (t3 instanceof zc) return t3;
      t3 = t3.parent;
    }
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.measure = function(t3, e3, i2) {
    return this._setClassName(this._dom), this._doMeasure(t3, e3, i2);
  }, e2.prototype.layoutContent = function(t3) {
    (this.grid._loading || this.visible) && (this._doPrepareContent(t3), this._doLayoutContent(t3));
  }, e2.prototype._getCssSelector = function() {
    return "";
  }, e2.prototype._getCssDisplay = function() {
    return "table";
  }, e2.prototype._doDraw = function(t3) {
    this._doRender(t3);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    return new wl(e3, i2);
  }, e2.prototype._doPrepareContent = function(t3) {
  }, e2.prototype._doLayoutContent = function(t3) {
  }, e2.prototype._doRender = function(t3) {
  }, e2;
}(_a);
var xl;
var Il;
var El = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === o2 && (o2 = null);
    var r2 = t2.call(this, e3, o2) || this;
    return r2._ff = Ot.isFirefox, r2._chromium = Ot.isChromium, r2._textProp = Ot.TextProp, r2._cursor = "default", r2._model = i2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._model = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "model", { get: function() {
    return this._model;
  }, enumerable: false, configurable: true }), e2.prototype.setCursor = function(t3) {
    t3 !== this._cursor && (this._cursor = t3, this._dom.style.cursor = t3);
  }, e2;
}(Cl);
var Sl = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "emptyGridView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.setMessage = function(t3) {
    this._span.innerHTML = t3 || Ge.messages.displayEmptyMessage;
  }, e2.prototype.setFocus = function() {
    var t3 = this._span;
    t3.tabIndex = -1, t3.focus();
  }, e2.prototype._createDom = function(e3) {
    var i2 = t2.prototype._createDom.call(this, e3), o2 = this._span = e3.createElement("span");
    return o2.role = "gridcell", i2.appendChild(o2), i2;
  }, e2.prototype._getCssSelector = function() {
    return "rg-empty-grid";
  }, e2.prototype._doDraw = function(t3) {
    this.setMessage(this.grid.displayOptions.emptyMessage);
  }, e2;
}(Cl);
var Ol = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === o2 && (o2 = null);
    var r2 = t2.call(this, e3, i2, o2) || this;
    return r2._explicitWidth = NaN, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._tbody = this._thead = this._table = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "tableRowCount", { get: function() {
    return this._tbody.childElementCount;
  }, enumerable: false, configurable: true }), e2.prototype.getCellPoint = function(t3, e3) {
    return (e3 = e3 || new fa()).x += t3.offsetLeft, e3.y += t3.offsetTop, e3;
  }, e2.prototype._getTableHidden = function() {
    return true;
  }, e2.prototype._getTableCaption = function() {
    return "";
  }, e2.prototype._createDom = function(t3) {
    var e3 = t3.createElement("div"), i2 = this._table = t3.createElement("table"), o2 = i2.createCaption();
    o2.textContent = "grid table ";
    var r2 = o2.style;
    return r2.width = r2.height = "0px", r2.overflow = "hidden", r2.setProperty("padding", "0px", "important"), r2.boxSizing = "border-box", (r2 = i2.style).setProperty("table-layout", "fixed", "important"), r2.setProperty("width", "100%", "important"), i2.className = "rg-table", e3.appendChild(i2), this._thead = t3.createElement("thead"), i2.appendChild(this._thead), this._tbody = t3.createElement("tbody"), i2.appendChild(this._tbody), e3;
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), e3[_] = this[f], e3.style.overflow = "hidden";
  }, e2.prototype._doPrepareContent = function(t3) {
    var e3 = this._getExplicitWidth(t3);
    Ot.equalNumbers(e3, this._explicitWidth) || (this._table.style.width = e3 > 0 ? e3 + "px" : "100%", this._explicitWidth = e3), this._doPrepareTableExtents(t3), this._doPrepareTable(t3);
  }, e2.prototype._doDraw = function(t3) {
    this._doRender(t3), this._doRenderTable(this._tbody);
  }, e2.prototype._visibleChanged = function() {
    t2.prototype._visibleChanged.call(this), this.visible ? !this._table.parentElement && this._dom.appendChild(this._table) : Ot.detach(this._table);
  }, e2.prototype._getExplicitWidth = function(t3) {
    return NaN;
  }, e2.prototype._doPrepareTableExtents = function(t3) {
    this._initExec || (this._initExec = true, t3.grid.accessibility && this._getTableHidden() && this._getTableHidden() && this._table.setAttribute("aria-hidden", "true"));
  }, e2.prototype._doPrepareTable = function(t3) {
    this._doPrepareTableHead(t3, this._thead), this._doPrepareTableRows(t3, this._tbody);
  }, e2.prototype._doPrepareTableHead = function(t3, e3) {
    var i2, o2 = It(e3);
    0 == e3.childElementCount ? (i2 = o2.createElement("tr"), e3.appendChild(i2), this._getTableHidden() && i2.setAttribute("aria-hidden", "true"), (l2 = i2.style).setProperty("border", "0px none", "important")) : i2 = e3.lastElementChild;
    for (var r2 = this._getCellCount(t3); i2.childElementCount < r2; ) {
      (a2 = o2.createElement("th")).scope = "col", (l2 = a2.style).setProperty("margin", "0px", "important"), l2.setProperty("padding", "0px", "important"), l2.setProperty("font-size", "0px", "important"), l2.setProperty("line-height", "0px", "important"), l2.height = "0px", i2.appendChild(a2);
    }
    for (; i2.childElementCount > r2; ) i2.removeChild(i2.lastChild);
    for (var n2 = i2.children, s2 = 0; s2 < n2.length; s2++) {
      var a2, l2;
      (l2 = (a2 = n2[s2]).style).width = this._getCellWidth(t3, s2) + "px";
    }
  }, e2.prototype._prepareTableRowCells = function(t3, e3) {
    for (var i2 = this._getCellCount(t3), o2 = It(e3), r2 = e3.childElementCount; r2 < i2; ) {
      var n2 = o2.createElement("td");
      e3.appendChild(n2);
      var s2 = this._prepareCellContent(n2, r2++);
      n2.appendChild(s2);
    }
    for (; e3.childElementCount > i2; ) {
      s2 = e3.lastElementChild;
      this._cleanCellContent(s2), e3.removeChild(e3.lastElementChild);
    }
    return e3.childElementCount;
  }, e2.prototype._isFixedHeight = function(t3) {
    return true;
  }, e2.prototype._getMinRowHeight = function(t3) {
    return t3.minRowHeight;
  }, e2.prototype._doPrepareTableRow = function(t3, e3, i2, o2) {
    this._prepareTableRowCells(t3, o2);
    var r2 = this._isFixedHeight(t3), n2 = o2.children, s2 = this._isDataTable(), a2 = r2 ? this._getTableRowHeight(t3, i2) : this._getMinRowHeight(t3), l2 = isNaN(a2) || a2 < 2 ? "0px" : a2 - 2 + "px", h2 = o2.style;
    o2[_] = this[f], o2.$_fix = r2, o2.$_hei = r2 ? a2 : 0, s2 || r2 ? h2.setProperty("height", a2 + "px") : h2.removeProperty("height"), h2.display = "";
    for (var u2 = this._getStartCell(t3) - this._getFirstCell(t3), c2 = n2.length; u2 < c2 && u2 <= this._getEndCell(t3); u2++) {
      var d2 = n2[u2];
      this._ff && (d2.style.height = "100%");
      var p2 = d2.firstElementChild;
      p2 || (p2 = this._prepareCellContent(d2, u2), d2.appendChild(p2));
      var g2 = p2.style, y2 = r2 ? l2 : "";
      !r2 && s2 && g2.removeProperty("height"), y2 != g2.maxHeight && (g2.maxHeight = y2), "hidden" !== g2.overflow && (g2.overflow = "hidden");
    }
  }, e2.prototype._doRenderTable = function(t3) {
    for (var e3 = t3.children, i2 = 0; i2 < e3.length; i2++) {
      var o2 = e3[i2];
      this._renderRow(o2, i2);
    }
  }, e2.prototype._renderRow = function(t3, e3) {
    this._doDrawRow(e3, t3);
    for (var i2 = t3.children, o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2];
      this._renderCell(r2.lastElementChild, e3, o2);
    }
  }, e2.prototype._renderCell = function(t3, e3, i2) {
    this._doDrawCell(e3, i2, t3);
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return It(t3).createElement("div");
  }, e2.prototype._cleanCellContent = function(t3) {
  }, e2.prototype._doDrawRow = function(t3, e3) {
  }, e2.prototype._doDrawCell = function(t3, e3, i2) {
  }, e2.prototype._getTableRow = function(t3, e3) {
    return this._tbody.children[e3];
  }, e2.prototype._getTableRows = function(t3, e3, i2) {
    for (var o2 = [], r2 = 0; r2 < i2; r2++) o2.push(this._tbody.children[e3 + r2]);
    return o2;
  }, e2.prototype._getTableCell = function(t3, e3) {
    return this._tbody.children[t3].children[e3];
  }, e2.prototype.getCellContent = function(t3, e3) {
    return this._tbody.children[t3].children[e3].firstElementChild;
  }, e2.prototype.getContentAt = function(t3) {
    var e3, i2 = t3.grid.layoutManager, o2 = i2.fixedItemCount, r2 = t3.column ? t3.column.index : 0;
    return e3 = o2 > 0 ? t3.itemIndex < o2 ? t3.itemIndex : t3.itemIndex - i2.topIndex + 1 : t3.itemIndex - i2.topIndex, this.getCellContent(e3, r2);
  }, e2.prototype._getFirstCell = function(t3) {
    return t3.firstCell;
  }, e2.prototype._getStartCell = function(t3) {
    return t3.startCell;
  }, e2.prototype._getLastCell = function(t3) {
    return t3.lastCell;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.endCell;
  }, e2;
}(El);
var Rl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._isDataTable = function() {
    return false;
  }, e2.prototype._doPrepareTableRows = function(t3, e3) {
    for (var i2 = Math.max(0, this._getTableRowCount(t3)), o2 = It(e3); e3.childElementCount < i2; ) {
      var r2 = o2.createElement("tr");
      e3.appendChild(r2);
    }
    for (; e3.childElementCount > i2; ) e3.removeChild(e3.lastChild);
    for (var n2 = e3.children, s2 = 0; s2 < i2; s2++) {
      (r2 = n2[s2]).style.height = this._getTableRowHeight(t3, s2) + "px", this._doPrepareTableRow(t3, s2, s2, r2);
    }
  }, e2.prototype._getTableRowCount = function(t3) {
    return 1;
  }, e2;
}(Ol);
var Pl = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3._trCount = 0, e3._trs = 1, e3;
  }
  return i(e2, t2), e2.prototype._isDataTable = function() {
    return true;
  }, e2.prototype._getTrs = function(t3) {
    return 1;
  }, e2.prototype._getTableRowCount = function(t3) {
    var e3 = t3.fixedItemCount, i2 = e3 + t3.itemCount;
    return i2 *= this._trs, i2 += e3 > 0 ? 1 : 0;
  }, e2.prototype.$_getTableIndex = function(t3, e3) {
    var i2 = t3.fixedItemCount, o2 = e3 * this._trs;
    return i2 > 0 && e3 >= i2 ? o2 + 1 : o2;
  }, e2.prototype._getTableRow = function(t3, e3) {
    var i2 = this.$_getTableIndex(t3, e3);
    return this._tbody.children[i2];
  }, e2.prototype._doPrepareTableRows = function(t3, e3) {
    for (var i2 = t3.$_getItems(), o2 = this._trs = this._getTrs(t3), r2 = t3.fixedItemCount, n2 = t3.itemCount + r2, s2 = this._trCount = Math.max(0, this._getTableRowCount(t3)), a2 = It(e3); e3.childElementCount < s2; ) {
      var l2 = a2.createElement("tr");
      e3.appendChild(l2);
    }
    for (; e3.childElementCount > s2; ) e3.removeChild(e3.lastChild);
    var h2 = e3.children, u2 = 0, c2 = 0;
    if (r2 > 0) {
      for (u2 = 0; u2 < r2; u2++) for (var d2 = 0; d2 < o2; d2++, c2++) this._doPrepareTableRow(t3, u2, c2, h2[c2]);
      this.$_prepareFixedBar(t3, h2[c2++]);
    }
    for (; u2 < n2 && c2 < s2; u2++) {
      var p2 = i2[u2].isData ? o2 : 1;
      for (d2 = 0; d2 < p2 && c2 < s2; d2++, c2++) this._doPrepareTableRow(t3, u2, c2, h2[c2]);
    }
  }, e2.prototype.$_prepareFixedBar = function(t3, e3) {
    var i2 = xt(e3), o2 = this._prepareTableRowCells(t3, e3), r2 = t3.fixedBarHeight, n2 = e3.style;
    r2 > 0 ? (n2.height = t3.fixedBarHeight + "px", n2.display = "") : n2.display = "none";
    for (var s2 = e3.children, a2 = 0; a2 < o2; a2++) {
      var l2 = s2[a2];
      l2 instanceof i2.HTMLTableCellElement && (l2.rowSpan = 1, l2.style.display = ""), (l2 = s2[a2].firstElementChild) && (l2.style.maxHeight = "0px", l2.style.overflow = "hidden");
    }
    return r2;
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return t3.getTableRowHeight(e3, 1);
  }, e2.prototype._getCellContent = function(t3) {
    return t3.firstElementChild;
  }, e2.prototype._updateCellContent = function(t3, e3, i2) {
    this._doUpdateCellContent(t3, e3, this._getCellContent(i2));
  }, e2.prototype._doUpdateCellContent = function(t3, e3, i2) {
  }, e2;
}(Ol);
var kl = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._valueSeparator = ",", e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "valueSeparator", { get: function() {
    return this._valueSeparator;
  }, set: function(t3) {
    this._valueSeparator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.SERIES_TYPE;
  }, enumerable: false, configurable: true }), e2.prototype._makeText = function(t3, e3) {
    var i2 = this.valueSeparator || this.index.seriesColumn.valueSeparator;
    return e3.getDisplayText(t3, i2) || "";
  }, e2.SERIES_TYPE = "series", e2;
}(qr);
var Dl = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._baseValue = NaN, e3.$_render = (function(t3, e4, i2, o2) {
      var r2 = this._values;
      if (r2 && r2.length) {
        for (var n2 = r2.length, s2 = r2[0], a2 = r2[0], l2 = 1; isNaN(s2) && l2 < n2; ) a2 = s2 = r2[l2++];
        for (; l2 < n2; l2++) {
          var h2 = r2[l2];
          isNaN(h2) || (h2 < s2 && (s2 = h2), h2 > a2 && (a2 = h2));
        }
        var u2 = isNaN(this._baseValue) ? s2 : this._baseValue;
        isNaN(s2) || this._renderChart(e4, r2, s2, a2, u2);
      }
    }).bind(e3), e3;
  }
  return i(e2, t2), e2.interfaced = function(t3) {
    return Ot.included(t3.type, Tl.TYPE, Ml.TYPE, Fl.TYPE);
  }, Object.defineProperty(e2.prototype, "baseValue", { get: function() {
    return this._baseValue;
  }, set: function(t3) {
    this._baseValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstStyle", { get: function() {
    return this._firstStyle;
  }, set: function(t3) {
    this._firstStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastStyle", { get: function() {
    return this._lastStyle;
  }, set: function(t3) {
    this._lastStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "highStyle", { get: function() {
    return this._highStyle;
  }, set: function(t3) {
    this._highStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lowStyle", { get: function() {
    return this._lowStyle;
  }, set: function(t3) {
    this._lowStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "belowStyle", { get: function() {
    return this._belowStyle;
  }, set: function(t3) {
    this._belowStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pointStyle", { get: function() {
    return this._pointStyle;
  }, set: function(t3) {
    this._pointStyle = t3;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = this._div = e3.createElement("div");
    i2.style.position = "relative", i2.style.height = "100%", t3.appendChild(i2);
    var o2 = (this._svg = Tr.createSVG(i2)).style;
    o2.position = "absolute", o2.left = o2.top = "0px", o2.width = o2.height = "100%";
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg;
    n2.setAttribute("class", this._getChartStyle()), this._values = this._getValues(e3), Tr.renderSVG2(t3, n2, this.$_render);
  }, e2.prototype._getPoints = function(t3, e3, i2) {
    for (var o2 = t3.length, r2 = [], n2 = i2 - e3, s2 = 0; s2 < o2; s2++) {
      var a2 = t3[s2], l2 = 5 + s2 / (o2 - 1) * 90, h2 = 10 + (isNaN(a2) || 0 == n2 ? 80 : 80 * (1 - (a2 - e3) / n2));
      r2.push(l2, h2);
    }
    return r2;
  }, e2.prototype._getBasePoint = function(t3, e3, i2) {
    var o2 = e3 - t3;
    return 0 + (isNaN(i2) || 0 == o2 ? 100 : 100 * (1 - (i2 - t3) / o2));
  }, e2;
}(function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._getValues = function(t3) {
    return t3.value || [];
  }, e2;
}(zr));
var Tl = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._chartStyle = e2.CHART_STYLE, i2.lastStyle = e2.LAST_STYLE, i2.highStyle = e2.HIGH_STYLE, i2.lowStyle = e2.LOW_STYLE, i2;
  }
  return i(e2, t2), e2.interfaced = function(t3) {
    return t3.type == e2.TYPE;
  }, Object.defineProperty(e2.prototype, "chartStyle", { get: function() {
    return this._chartStyle;
  }, set: function(t3) {
    this._chartStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._getChartStyle = function() {
    return this._chartStyle;
  }, e2.prototype._renderChart = function(t3, e3, i2, o2, r2) {
    for (var n2, s2 = isNaN(r2) ? o2 : Math.max(o2, r2), a2 = isNaN(r2) ? i2 : Math.min(i2, r2), l2 = this._getPoints(e3, a2, s2), h2 = e3.length, u2 = 0; u2 < h2 - 1; u2++) if (t3.sline(null, l2[2 * u2] + "%", l2[2 * u2 + 1] + "%", l2[2 * (u2 + 1)] + "%", l2[2 * (u2 + 1) + 1] + "%"), n2 = this.pointStyle) {
      var c2 = l2[2 * u2], d2 = l2[2 * u2 + 1];
      t3.scircle(n2, c2 + "%", d2 + "%", "2");
    }
    if (n2 = this.firstStyle) {
      c2 = l2[0], d2 = l2[1];
      t3.scircle(n2, c2 + "%", d2 + "%", "2");
    }
    if (n2 = this.lastStyle) {
      c2 = l2[2 * (h2 - 1)], d2 = l2[2 * (h2 - 1) + 1];
      t3.scircle(n2, c2 + "%", d2 + "%", "2");
    }
    if (n2 = this.highStyle) {
      for (u2 = 0; u2 < h2; u2++) if (e3[u2] >= o2) {
        c2 = l2[2 * u2], d2 = l2[2 * u2 + 1];
        t3.scircle(n2, c2 + "%", d2 + "%", "2");
      }
    }
    if (n2 = this.lowStyle) {
      for (u2 = 0; u2 < h2; u2++) if (e3[u2] <= i2) {
        c2 = l2[2 * u2], d2 = l2[2 * u2 + 1];
        t3.scircle(n2, c2 + "%", d2 + "%", "2");
      }
    }
  }, e2.TYPE = "sparkline", e2.STYLE = "rg-sparkline-renderer", e2.CHART_STYLE = "rg-sparkline-renderer-chart", e2.LAST_STYLE = "rg-sparkline-renderer-last", e2.HIGH_STYLE = "rg-sparkline-renderer-high", e2.LOW_STYLE = "rg-sparkline-renderer-low", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(Dl);
var Ml = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._chartStyle = e2.CHART_STYLE, i2._barWidth = 0.8, i2.lastStyle = e2.LAST_STYLE, i2.highStyle = e2.HIGH_STYLE, i2.lowStyle = e2.LOW_STYLE, i2;
  }
  return i(e2, t2), e2.interfaced = function(t3) {
    return t3.type === e2.TYPE;
  }, Object.defineProperty(e2.prototype, "chartStyle", { get: function() {
    return this._chartStyle;
  }, set: function(t3) {
    this._chartStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "barWidth", { get: function() {
    return this._barWidth;
  }, set: function(t3) {
    this._barWidth = Math.min(1, Math.max(0, t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._getChartStyle = function() {
    return this._chartStyle;
  }, e2.prototype._renderChart = function(t3, e3, i2, o2, r2) {
    for (var n2, s2 = isNaN(r2) ? o2 : Math.max(o2, r2), a2 = isNaN(r2) ? i2 : r2, l2 = e3.length, h2 = this._getBasePoint(a2, s2, r2), u2 = 100 / l2, c2 = 0 + u2 / 2, d2 = s2 - a2, p2 = u2 * this._barWidth, f2 = 0; f2 < l2; f2++) {
      var _2 = e3[f2];
      if (!isNaN(_2)) if (n2 = _2 <= i2 && this.lowStyle ? this.lowStyle : _2 >= o2 && this.highStyle ? this.highStyle : _2 < r2 && this.belowStyle ? this.belowStyle : 0 == f2 && this.firstStyle ? this.firstStyle : f2 == l2 - 1 && this.lastStyle ? this.lastStyle : null, isNaN(this.baseValue) && a2 < 0) if (s2 < 0) {
        var g2 = 0, y2 = 0 === d2 ? 100 : Math.max(1, Math.floor(Math.abs(_2 - s2) / d2 * 100));
        t3.pbounds(n2, c2 - p2 / 2, g2, p2, y2);
      } else {
        g2 = 0 === d2 ? 100 : Math.floor(Math.abs(a2) / d2 * 100), y2 = Math.max(1, Math.floor(Math.abs(_2) / d2 * 100));
        _2 > 0 ? t3.pbounds(n2, c2 - p2 / 2, 100 - g2 - y2, p2, y2) : t3.pbounds(n2, c2 - p2 / 2, 100 - g2, p2, y2);
      }
      else {
        y2 = 0 == d2 ? 100 : Math.max(1, Math.floor(100 * (_2 - a2) / d2));
        t3.pbounds(n2, c2 - p2 / 2, h2, p2, -y2);
      }
      c2 += u2;
    }
  }, e2.TYPE = "sparkcolumn", e2.STYLE = "rg-sparkcolumn-renderer", e2.CHART_STYLE = "rg-sparkcolumn-renderer-chart", e2.LAST_STYLE = "rg-sparkcolumn-renderer-last", e2.HIGH_STYLE = "rg-sparkcolumn-renderer-high", e2.LOW_STYLE = "rg-sparkcolumn-renderer-low", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(Dl);
var Fl = function(t2) {
  function e2() {
    var i2 = t2.call(this) || this;
    return i2._chartStyle = e2.CHART_STYLE, i2._barWidth = 0.8, i2._belowHeight = 0.4, i2.belowStyle = e2.BELOW_STYLE, i2;
  }
  return i(e2, t2), e2.interfaced = function(t3) {
    return t3.type === e2.TYPE;
  }, Object.defineProperty(e2.prototype, "chartStyle", { get: function() {
    return this._chartStyle;
  }, set: function(t3) {
    this._chartStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "barWidth", { get: function() {
    return this._barWidth;
  }, set: function(t3) {
    this._barWidth = Math.min(1, Math.max(0, t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "belowHeight", { get: function() {
    return this._belowHeight;
  }, set: function(t3) {
    this._belowHeight = Math.min(1, Math.max(0, t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._getChartStyle = function() {
    return this._chartStyle;
  }, e2.prototype._renderChart = function(t3, e3, i2, o2, r2) {
    for (var n2 = e3.length, s2 = 100 / n2, a2 = 0 + s2 / 2, l2 = s2 * this._barWidth, h2 = 0 + 100 * (1 - this._belowHeight), u2 = 0; u2 < n2; u2++) {
      var c2 = e3[u2];
      if (!isNaN(c2) && c2 != r2) {
        var d2 = null;
        c2 < r2 && this.belowStyle && (d2 = this.belowStyle);
        var p2 = c2 < r2 ? 100 : 0;
        t3.pbounds(d2, Math.floor(a2 - l2 / 2), Math.floor(p2), Math.floor(l2), Math.floor(h2 - p2));
      }
      a2 += s2;
    }
  }, e2.TYPE = "sparkwinloss", e2.STYLE = "rg-sparkwinloss-renderer", e2.CHART_STYLE = "rg-sparkwinloss-renderer-chart", e2.BELOW_STYLE = "rg-sparkwinloss-renderer-below", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(Dl);
var Ll = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this, e3, i2) || this;
    return o2._domIndex = -1, o2._trs = 1, o2._fixedHeight = false, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._item.index;
  }, enumerable: false, configurable: true }), e2.prototype.updateItem = function(t3, e3, i2, o2) {
    this._item = t3, this._domIndex = e3, this._trs = i2, this._fixedHeight = o2;
  }, e2.prototype.clearContent = function(t3, e3) {
  }, e2.prototype._createDom = function() {
    return null;
  }, e2.prototype.$_getDefaultRenderer = function(t3, e3) {
    return qr.TYPE;
  }, e2.prototype._changed = function() {
    this.invalidate();
  }, e2.prototype._getTableRow = function(t3, e3) {
    return this.parent._getTableRow(t3, this._domIndex);
  }, e2.prototype._getTableRows = function(t3) {
    return this.parent._getTableRows(t3, this._domIndex, this._trs);
  }, e2.prototype._getCellContent = function(t3) {
    return this.parent.getCellContent(this._domIndex, t3);
  }, e2;
}(Cl);
var Nl = "rg-expander-expanded";
var $l = "rg-expander-collapsed";
var Al = function(t2) {
  function e2(e3, i2) {
    return void 0 === i2 && (i2 = null), t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.isExpander = function(t3) {
    var e3 = t3.className;
    return "string" == typeof e3 && (e3 == Nl || e3 == $l || e3.indexOf("rg-tree-expanded") >= 0 || e3.indexOf("rg-tree-collapsed") >= 0);
  }, e2.prototype.resetButtons = function(t3, e3, i2) {
    for (var o2 = t3.layoutManager, r2 = this._trs, n2 = this.parent._cells, s2 = this._getFirstCell(o2), a2 = this._getStartCell(o2) - s2, l2 = this._getEndCell(o2) - s2, h2 = e3 && i2 && e3.head === i2.head && t3.canMergeEditing(i2), u2 = 0; u2 < r2; u2++) for (var c2 = n2[this._domIndex + u2], d2 = a2; d2 <= l2; d2++) {
      var p2 = c2[d2], f2 = p2.layout, _2 = f2.firstColumn;
      !f2.isProxy && this._item.isDataRow && _2 instanceof as && !h2 && this.$_setButtons(t3, p2, p2.cell.firstElementChild);
    }
  }, e2.prototype.moveCellButtons = function(t3, e3, i2) {
    var o2 = Math.min(i2 - e3.item.index, e3.rowSpan - 1);
    if (!this.grid.canMergeEditing(e3) && o2 != e3.buttonsOffset) {
      var r2 = e3.rowIndex, n2 = r2 + o2, s2 = t3.getTableItemBounds(r2), a2 = t3.getTableItemBounds(n2), l2 = t3.grid.body.buttonHeight, h2 = a2.y - s2.y;
      h2 = Math.floor(h2 + (a2.height - l2) / 2), e3.buttons.style.top = h2 + "px", e3.buttonsOffset = o2;
    }
  }, e2.prototype.cellRefresh = function(t3, e3, i2, o2, r2) {
    var n2 = t3.layoutManager;
    this._updateDataCell(t3, n2, e3, i2, o2, r2);
  }, e2.prototype.clearContent = function(t3, e3) {
    for (var i2 = this.parent, o2 = this._getFirstCell(t3), r2 = this._getStartCell(t3) - o2, n2 = this._getEndCell(t3) - o2, s2 = 0; s2 < e3; s2++) for (var a2 = i2._cells[this._domIndex + s2], l2 = r2; l2 <= n2; l2++) {
      var h2 = a2[l2], u2 = h2.renderer2;
      u2 && u2.clearContent(), h2.setBorderBottom(1), h2.changedMarker && (Ot.detach(h2.changedMarker), h2.valueChanged = false);
    }
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = this._trs, o2 = e3.body, r2 = this.parent, n2 = r2._cells, s2 = this._getFirstCell(t3), a2 = this._getStartCell(t3) - s2, l2 = this._getEndCell(t3) - s2, h2 = e3.focusedIndex, u2 = h2 && h2.itemIndex == this._item.index, c2 = h2.column, d2 = this._item.index;
    this._item instanceof jr && (l2 = Math.min(l2, this._item.parent.level - 1));
    for (var p2 = Ts.temp(e3, d2), f2 = r2._tbody.rows, _2 = 0; _2 < i2; _2++) for (var g2 = n2[this._domIndex + _2], y2 = f2[this._domIndex + _2], m2 = a2; m2 <= l2; m2++) {
      var b2 = g2[m2], v2 = b2.layout;
      if (!v2.isProxy) {
        var w2 = v2.firstColumn;
        if (!(v2 instanceof _s && e3.isRecycleMode() && y2.recycle) || b2.merged || v2.blanked) {
          b2.focused = u2 && c2 === w2, b2.mouseEntered = false, p2.layout = v2;
          var C2 = o2.getCellAt(this._item, w2);
          b2.visible ? (b2.width = t3.getCellWidth(m2), b2.height = t3.getTableRowHeightFixed(b2.trow, b2.rowSpan), w2 instanceof as ? this._updateDataCell(e3, t3, o2, C2, w2, b2) : this._clearDataCell(b2)) : w2 instanceof as && this._updateDataCell(e3, t3, o2, C2, w2, b2, false);
        }
      }
    }
  }, e2.prototype._getFirstCell = function(t3) {
    return t3._firstCell;
  }, e2.prototype._getLastCell = function(t3) {
    return t3._lastCell;
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell(false);
  }, e2.prototype._getEndCell = function(t3) {
    return this._item instanceof Hr ? Math.min(t3.getStartCell(false) + this._item.groupLevel, t3.getEndCell(false)) : t3.getEndCell(false);
  }, e2.prototype._createRenderer = function(t3, e3, i2, o2, r2) {
    return t3.delegate.createRenderer(i2, o2, r2);
  }, e2.prototype.$_getRenderer = function(t3, e3, i2, o2, r2) {
    var n2, s2, a2, l2, h2 = e3.valueColumn.renderer, u2 = i2.renderer;
    "string" == typeof u2 ? a2 = u2 : u2 && (a2 = u2.type, l2 = u2), "string" == typeof h2 ? n2 = h2 : h2 && (n2 = h2.type, s2 = h2), u2 ? r2.userRenderer = true : r2.userRenderer && (r2.rendererChanged = true, r2.userRenderer = false);
    var c2 = a2 || n2 || (o2 instanceof hs ? kl.SERIES_TYPE : this.$_getDefaultRenderer(t3, e3));
    if (!r2.renderer2 || r2.rendererChanged || r2.renderer2.type != c2) return this._createRenderer(t3, e3, c2, s2, l2);
    r2.renderer2 && u2 && r2.renderer2.assignFrom(u2);
  }, e2.prototype.$_getCellWidth2 = function(t3, e3, i2) {
    return t3.getCellWidth2(e3, i2);
  }, e2.prototype.$_clearAriaProperty = function(t3) {
    t3.removeAttribute("aria-activedescendant"), t3.removeAttribute("aria-haspopup");
  }, e2.prototype._renderDataCell = function(t3, e3, i2, o2, r2, n2) {
    var s2 = r2.cell, a2 = t3.doc, l2 = false, h2 = this.$_getRenderer(t3, i2, o2, n2, r2);
    h2 && (r2.renderer2 && r2.renderer2.clearAndDispose(), r2.renderer2 = h2, r2.rendererChanged = false, l2 = true);
    var u2 = s2.firstElementChild, c2 = r2.renderer2;
    (r2.heighted = this._fixedHeight) && (u2.style.maxHeight = r2.height - 2 + "px"), !l2 && c2 && c2._dom != u2 && (c2.clearContent(), l2 = true), t3.accessibility && this.$_clearAriaProperty(s2), this.$_setButtons(t3, r2, u2);
    var d2 = false, p2 = r2.merged && t3.findGroupItem(r2.item, n2.dataIndex);
    if (p2 && n2.mergeGrouped && t3.rowGroup.$_isExpanderVisible(p2)) {
      var f2 = r2.expander;
      f2 || ((f2 = r2.expander = a2.createElement("span")).style.position = "absolute", f2.style.display = "inline-block", f2.style.top = "2px", f2.style.left = "2px", s2.appendChild(f2)), d2 = p2.expanded, f2.className = d2 ? Nl : $l;
    } else r2.clearExpander();
    var _2 = c2.styleName;
    r2.expander && (_2 += " " + (d2 ? "rg-expanded-cell" : "rg-collapsed-cell")), l2 ? c2.initContent(i2._index, u2, _2) : c2.checkClassName(_2) ? (c2.clearContent(), c2.initContent(i2._index, u2, _2)) : c2.index.assign(i2._index), c2.renderCell(t3, i2, r2);
    var g2 = e3._showChangeMarker && i2.isValueChanged();
    if (g2 != r2.valueChanged) {
      if (g2) {
        var y2 = r2.changedMarker;
        y2 || ((y2 = r2.changedMarker = a2.createElement("div")).className = "rg-changed-marker", y2.style.position = "absolute", y2.style.display = "block", y2.style.top = "0px", r2.changedMarker = y2), s2.appendChild(y2);
      } else r2.changedMarker && r2.valueChanged && Ot.detach(r2.changedMarker);
      r2.valueChanged = g2;
    }
    Wl.addEdgeMark(o2.edgeMark || n2.edgeMark, r2, a2);
  }, e2.prototype._clearDataCell = function(t3) {
    t3.setClassName(""), t3.setEditor(null, null), t3.button = F.NONE, t3.error = void 0, t3.editable = false, t3.readonly = true, t3.setBorderBottom(1);
    var e3 = t3.cell.firstElementChild;
    this._fixedHeight && (e3.style.maxHeight = t3.height - 2 + "px"), t3.renderer2 && t3.renderer2.clearContent(), t3.valueChanged = false;
  }, e2.prototype._updateDataCell = function(t3, e3, i2, o2, r2, n2, s2) {
    void 0 === s2 && (s2 = true);
    var a2 = i2.getCellStyle(o2, n2.style.clear(), n2.merged);
    (null == o2.value || "" == o2.value) && r2 instanceof ls && r2.placeHolder && (a2.styleName += " " + (o2.dataColumn.placeHolderStyleName || "rg-data-empty-cell"));
    var l2 = t3.cellGhostStyle;
    if (Ot.setStyle(l2, n2.cell), a2.style) {
      for (var h2 in a2.style) l2[h2] = void 0;
      a2.style && Ot.setStyle(a2.style, n2.cell);
    }
    n2.refreshFormatters(a2), i2.getCellFormatters(r2, n2), n2.setEditor(a2.editor, r2.editor), n2.button = a2.button || r2.button, n2.buttonWidth = a2.buttonWidth, n2.error = o2.error, n2.errorLevel = o2.errorLevel;
    var u2 = Ts.temp(t3, n2.item.index, n2.dataColumn);
    if (n2.editable = t3.getEditableAt(u2, n2.style), n2.readonly = t3.getReadOnlyAt(u2, n2.style), n2.editable && !n2.readonly || (a2.styleName += " rg-data-readonly-cell"), n2.setClassName(a2.styleName), !n2.merged && r2 instanceof ls && r2.layout.blanked && !r2.equalBlankLine) switch (o2.getBlankState()) {
      case E.HEAD:
      case E.BODY:
        n2.setBorderBottom(0);
        break;
      case E.TAIL:
      case E.NONE:
        n2.setBorderBottom(1);
    }
    else n2.setBorderBottom(1);
    s2 ? this._renderDataCell(t3, i2, o2, a2, n2, r2) : n2.renderer2 && (n2.renderer2 = n2.renderer2 && n2.renderer2.clearAndDispose());
  }, e2.prototype.$_getButtonVisible = function(t3, e3, i2, o2) {
    if (o2) {
      var r2 = t3.getIndex(e3.item.index, e3.dataColumn);
      return o2(t3.handler, r2.proxy(), e3.focused, e3.mouseEntered);
    }
    var n2 = true, s2 = e3 && e3.item, a2 = t3.getIndex(t3.focusedRow, e3.dataColumn), l2 = e3.merged ? e3.head.contains(t3.focusedIndex) : s2.index === t3.focusedRow && e3.dataColumn === t3.focusedColumn, h2 = s2.index === t3.focusedRow, u2 = e3.mouseEntered && e3.item.isDataRow, c2 = t3.focusedItem && t3.focusedItem.isDataRow;
    switch (i2) {
      case L.ALWAYS:
        n2 = !e3.mouseEntered && !e3.focused || e3.item.isDataRow;
        break;
      case L.HIDDEN:
        n2 = false;
        break;
      case L.VISIBLE:
        n2 = l2 && c2;
        break;
      case L.ROWFOCUSED:
        n2 = h2 ? c2 : u2;
        break;
      case L.DEFAULT:
      default:
        n2 = l2 ? c2 : u2;
    }
    return !h2 && e3.merged && i2 === L.ROWFOCUSED ? e3.head.contains(t3.focusedIndex) ? c2 : e3.head.contains(a2) ? e3.mouseEntered ? e3.item.isDataRow : c2 : e3.mouseEntered && e3.item.isDataRow : n2;
  }, e2.prototype.$_buttonWidth = function(t3, e3) {
    var i2 = 0;
    if (e3.button != F.NONE) {
      var o2 = e3.layout.getDataColumn();
      this.$_getButtonVisible(t3, e3, o2.buttonVisibility, o2.buttonVisibleCallback) && (i2 = e3.buttonWidth || o2.buttonWidth || t3.body.cellButtonWidth);
    }
    return i2;
  }, e2.prototype.$_editButtonWidth = function(t3, e3) {
    var i2 = 0;
    if (e3.editable && !e3.readonly) {
      var o2 = e3.layout, r2 = o2.getDataColumn(), n2 = e3.editorType, s2 = t3.delegate.getCellEditor(n2), a2 = t3.delegate.getEditConfig(n2), l2 = e3.editor || r2.editor;
      if ("string" == typeof l2 && (l2 = { type: l2 }), l2 = Ot.assign({}, a2, l2), s2.hasButton(t3.displayOptions.showNativeEditButton, l2)) {
        var h2 = false;
        Ts.equalsTo(t3.focusedIndex, e3.item.index, o2) && (h2 = !!s2 && s2.listing), t3.isEditing() && e3.contains(t3.focusedIndex) && t3.canMergeEditing(e3) && e3.$_editWidth > 0 && (h2 = true), (h2 || e3.item.isDataRow && this.$_getButtonVisible(t3, e3, r2.editButtonVisibility, null)) && (i2 = t3.body.editButtonWidth);
      }
      a2 = l2 = null;
    }
    return i2;
  }, e2.prototype.$_editButtonCount = function(t3, e3) {
    var i2 = e3.editorType, o2 = t3.delegate.getCellEditor(i2);
    return o2 ? o2.buttonCount : 0;
  }, e2.prototype.$_editButtonVerti = function(t3, e3) {
    if ("number" === e3.editorType) {
      var i2 = e3.editor || e3.dataColumn.editor || {};
      return null == i2.direction || "horizontal" !== i2.direction;
    }
  }, e2.prototype.$_errorWidth = function(t3, e3) {
    return e3.error ? t3.body.errorIconWidth : 0;
  }, e2.prototype.$_setButtons = function(t3, e3, i2, o2) {
    var r2, n2, s2 = e3.cell, a2 = t3.doc, l2 = t3.layoutManager, h2 = e3.dataColumn, u2 = this.$_buttonWidth(t3, e3), c2 = this.$_editButtonWidth(t3, e3), d2 = this.$_errorWidth(t3, e3), p2 = c2 && this.$_editButtonCount(t3, e3), f2 = c2 && this.$_editButtonVerti(t3, e3), _2 = t3.canMergeEditing(e3), g2 = h2 && (h2.buttonVisibility === L.ROWFOCUSED || h2.editButtonVisibility === L.ROWFOCUSED), y2 = 0, m2 = 0, b2 = void 0;
    if (u2 > 0 && m2++, c2 > 0 && (m2 += p2), d2 > 0 && m2++, e3.merged && (s2 = (e3 = e3.head).cell, i2 = e3.cell.firstElementChild), m2 > 0) {
      (b2 = e3.buttons) || ((b2 = e3.buttons = a2.createElement("div")).className = "rg-cell-buttons", b2.style.position = "absolute", b2.style.overflow = "hidden", s2.appendChild(b2));
      var v2 = t3.body.buttonHeight, w2 = e3.height, C2 = -100;
      if ((r2 = b2.style).height = v2 + "px", r2.right = "0px", e3.merged) {
        var x2 = e3.rowIndex, I2 = l2.getTableItemBounds(x2), E2 = x2, S2 = t3.getIndex(t3.focusedRow, e3.dataColumn);
        if (!_2 && (e3.contains(t3.focusedIndex) || g2 && e3.contains(S2) || o2)) if (t3.focusedRow < t3.topIndex) C2 = -100, e3.buttonsOffset = -1;
        else if (t3.focusedRow > t3.topIndex + l2.itemCount) C2 = 1e4, e3.buttonsOffset = -1;
        else {
          E2 = x2 + (t3.focusedRow - e3.item.index);
          var O2 = l2.getTableItemBounds(E2);
          C2 = O2.y - I2.y, C2 = Math.floor(C2 + (O2.height - v2) / 2), e3.buttonsOffset = E2 - x2;
        }
        else C2 = Ot.getSize(e3.cell).height, C2 = Math.floor((C2 - v2) / 2), e3.buttonsOffset = _2 ? 0 : -1;
      } else C2 = Math.floor((w2 - v2) / 2), e3.buttonsOffset = 0;
      r2.top = Math.floor(C2) + "px", y2 = b2.childElementCount;
    } else e3.buttons && (e3.clearButtons(), i2.style.maxWidth = "");
    for (var R2 = y2; R2 < m2; R2++) {
      var P2 = a2.createElement("span");
      (n2 = P2.style).position = "absolute", n2.display = "inline-block", n2.height = "100%", n2.top = "0px", b2.appendChild(P2);
    }
    for (R2 = y2; R2 > m2; R2--) b2.removeChild(b2.lastElementChild);
    var k2 = m2 > 0 ? b2.children : null;
    if (m2 = 0, u2 > 0) {
      if (e3.cellButton = k2[m2++], (n2 = e3.cellButton.style).right = "0px", n2.width = u2 + "px", e3.resetButtonClass(), t3.accessibility) {
        s2.removeAttribute("aria-haspopup");
        var D2 = e3.renderer2;
        D2 && e3.button == F.POPUP && !D2.itemClickable && s2.setAttribute("aria-haspopup", "true");
      }
      e3.$_buttonWidth = u2;
    } else e3.cellButton = null, e3.$_buttonWidth = 0;
    if (c2 > 0) {
      e3.editButtons = [];
      var T2 = e3.editorType, M2 = t3.delegate.getCellEditor(T2);
      for (R2 = 0; R2 < p2; R2++) {
        var N2 = k2[m2++];
        M2.setButtonStyle(N2, R2, f2, u2, c2) || ((n2 = N2.style).right = u2 + c2 * R2 + "px", n2.width = c2 + "px", e3.resetEditClass(N2, R2)), e3.editButtons.push(N2);
      }
      e3.$_editWidth = c2 * (f2 ? 1 : p2);
      var $2 = Ts.equalsTo(t3.editController.editIndex, e3.item.index, e3.layout), A2 = t3.canMergeEditing(e3) && e3.contains(t3.editController.editIndex);
      this.$_setButtonZIndex(t3, e3, t3.isEditing() && ($2 || A2), M2);
    } else e3.editButtons = null, e3.$_editWidth = 0;
    if (d2 > 0 ? (e3.errorIcon = k2[m2], (n2 = e3.errorIcon.style).right = u2 + e3.$_editWidth + "px", n2.width = d2 + "px", n2.height = "100%", e3.resetErrorClass(), e3.$_errorWidth = d2) : (e3.errorIcon = null, e3.$_errorWidth = 0), b2) {
      var B2 = e3.$_buttonWidth + e3.$_editWidth + e3.$_errorWidth, V2 = this.$_getCellWidth2(l2, e3.tcol, e3.colSpan);
      r2.width = B2 + "px", i2.style.maxWidth = V2 - B2 + "px";
    } else i2.style.maxWidth = "";
  }, e2.prototype.$_setButtonZIndex = function(t3, e3, i2, o2) {
    var r2 = e3.merged ? e3.head : e3, n2 = t3.displayOptions.baseZindex;
    function s2(t4) {
      !i2 || o2 && o2.native ? t4.removeProperty("z-index") : t4.zIndex = String(n2 + 1);
    }
    r2.editButtons && r2.editButtons.forEach(function(t4) {
      s2(t4.style);
    }), r2.cellButton && s2(r2.cellButton.style), r2.errorIcon && s2(r2.errorIcon.style);
  }, e2;
}(Ll);
var Bl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype.$_getCellWidth2 = function(t3, e3, i2) {
    return t3.getFixedCellWidth2(e3, i2);
  }, e2;
}(Al);
var Vl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype.$_getCellWidth2 = function(t3, e3, i2) {
    return t3.getRightCellWidth2(e3, i2);
  }, e2;
}(Al);
var jl = "rowspan";
var Hl = "colspan";
var Wl = function() {
  function t2(t3) {
    this.cell = null, this.layout = null, this.visible = void 0, this.spanned = false, this.rowSpan = 1, this.colSpan = 1, this.className = "", this.width = 0, this.height = 0, this.text = void 0, this.cell = t3;
  }
  return t2.addEdgeMark = function(t3, e2, i2) {
    if (t3 !== e2.edgeMark) {
      var o2 = e2.cell;
      if (t3) {
        var r2 = e2.edgeMarker;
        switch (r2 || (r2 = e2.edgeMarker = i2.createElement("div")), t3) {
          case G.LEFT_TOP:
            r2.className = "rg-edgemarker-lefttop";
            break;
          case G.LEFT_BOTTOM:
            r2.className = "rg-edgemarker-leftbottom";
            break;
          case G.RIGHT_TOP:
            r2.className = "rg-edgemarker-righttop";
            break;
          case G.RIGHT_BOTTOM:
            r2.className = "rg-edgemarker-rightbottom";
            break;
          default:
            r2.className = t3;
        }
        o2.appendChild(r2);
      } else e2.edgeMarker && o2.removeChild(e2.edgeMarker);
      e2.edgeMark = t3;
    }
  }, t2.prototype.dispose = function() {
    this.cell = null;
  }, t2.prototype.setColSpan = function(t3) {
    return this.colSpan != t3 && (this.colSpan = t3, t3 > 1 ? this.cell.colSpan = t3 : this.cell.removeAttribute(Hl)), this;
  }, t2.prototype.setRowSpan = function(t3) {
    return this.rowSpan != t3 && (this.rowSpan = t3, t3 > 1 ? this.cell.rowSpan = t3 : this.cell.removeAttribute(jl)), this;
  }, t2.prototype.setVisible = function(t3) {
    return t3 !== this.visible && (this.visible = t3, this.cell.style.display = t3 ? "" : "none"), this;
  }, t2.prototype.set = function(t3, e2, i2) {
    return this.setColSpan(t3).setRowSpan(e2).setVisible(i2);
  }, t2.prototype.clear = function(t3) {
    return this.set(1, 1, t3);
  }, t2.prototype.isClickableElt = function(t3) {
    return false;
  }, t2;
}();
var Gl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.cellButton = null, i2.editButtons = null, i2.errorIcon = null, i2.buttons = null, i2.changedMarker = null, i2.expander = null, i2.item = null, i2.grouped = false, i2.rowIndex = -1, i2.rows = 0, i2.trow = -1, i2.tcol = -1, i2.head = null, i2.merged = false, i2.spanHead = null, i2.heighted = false, i2.buttonsOffset = 0, i2.template = void 0, i2.marginRight = -1, i2.style = new ns(), i2.rendererChanged = false, i2.valueChanged = false, i2.mouseEntered = false, i2.focused = false, i2.borderBottom = 1, i2.readonly = void 0, i2.editable = void 0, i2.error = void 0, i2.errorLevel = w.IGNORE, i2.$_errorWidth = 0, i2.button = F.NONE, i2.$_buttonWidth = 0, i2.buttonWidth = 0, i2.$_editWidth = 0, i2.edgeMarker = null, i2.text = e3[Ot.TextProp], i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    t2.prototype.dispose.call(this), this.renderer2 = this.renderer2 && this.renderer2.clearAndDispose(), this.item = null, this.editButtons && this.editButtons.forEach(function(t3) {
      Ot.detach(t3);
    }), this.buttons = this.cellButton = this.editButtons = this.errorIcon = null, this.changedMarker = this.expander = null, this.layout = null;
  }, Object.defineProperty(e2.prototype, "dataColumn", { get: function() {
    return this.layout.getDataColumn();
  }, enumerable: false, configurable: true }), e2.prototype.reset = function(t3) {
    return this.renderer2 = this.renderer2 && this.renderer2.clearAndDispose(), this.editButtons && this.editButtons.forEach(function(t4) {
      Ot.detach(t4);
    }), this.buttons = this.cellButton = this.editButtons = this.errorIcon = null, this.changedMarker = this.expander = null, this.cell = t3, this;
  }, e2.prototype.span = function(t3) {
    this.spanned = true, this.spanHead = t3, this.clear(false);
  }, e2.prototype.refreshFormatters = function(t3) {
    var e3;
    this.textFormatter = null, this.numberFormatter = null, this.datetimeWriter = null, this.booleanFormatter = null, (e3 = t3.textFormat) && (this.textFormatter = Bn.getFormatter(e3)), (e3 = t3.numberFormat) && (this.numberFormatter = ze.getFormatter(e3)), (e3 = t3.datetimeFormat) && (this.datetimeWriter = He.getFormatter(e3)), (e3 = t3.booleanFormat) && (this.booleanFormatter = We.getFormatter(e3)), this.prefix = t3.prefix, this.suffix = t3.suffix, this.text = t3.text;
  }, e2.prototype.setClassName = function(t3) {
    return t3 != this.className && (this.cell.className = this.className = t3, true);
  }, e2.prototype.setEditor = function(t3, e3) {
    this.editor = t3, this.editorType = Ma.getEditorType2(t3, e3);
  }, e2.prototype.setBorderBottom = function(t3) {
    t3 != this.borderBottom && (this.borderBottom = t3, this.cell.style.borderBottom = 0 == t3 ? "0" : "");
  }, e2.prototype.setMarginRight = function(t3, e3) {
    e3 != this.marginRight && (this.marginRight = e3, t3.style.marginRight = e3 <= 0 ? "" : e3 + "px");
  }, e2.prototype.isCellButton = function(t3) {
    return t3 === this.cellButton;
  }, e2.prototype.isEditButton = function(t3) {
    return this.editButtons && this.editButtons.some(function(e3) {
      return e3 === t3;
    });
  }, e2.prototype.isButton = function(t3) {
    return t3 === this.cellButton || this.isEditButton(t3);
  }, e2.prototype.resetButtonClass = function() {
    var t3 = this.button == F.POPUP ? "rg-button-popup" : "rg-button-action";
    this.cellButton.className = t3;
  }, e2.prototype.resetEditClass = function(t3, e3) {
    var i2;
    switch (this.editorType) {
      case "date":
      case "btdate":
      case "ndate":
        i2 = "rg-button-calendar";
        break;
      default:
        i2 = "rg-button-list";
    }
    t3.className = i2;
  }, e2.prototype.resetErrorClass = function() {
    var t3;
    switch (this.errorLevel) {
      case w.ERROR:
        t3 = "rg-validation-error";
        break;
      case w.WARNING:
        t3 = "rg-validation-warning";
        break;
      case w.INFO:
        t3 = "rg-validation-info";
        break;
      default:
        t3 = "";
    }
    this.errorIcon.className = t3;
  }, e2.prototype.clearExpander = function() {
    this.expander && (this.cell.removeChild(this.expander), this.expander = null);
  }, e2.prototype.clearButtons = function() {
    this.buttons && (this.cell.removeChild(this.buttons), this.buttons = null, this.$_errorWidth = this.$_buttonWidth = this.$_editWidth = 0);
  }, e2.prototype.getEditIndex = function(t3) {
    var e3 = this.item.index;
    return this.merged && (e3 += this.buttonsOffset), t3.set(e3, this.layout.firstColumn);
  }, e2.prototype.contains = function(t3) {
    if (t3.layout === this.layout) {
      var e3 = t3.itemIndex, i2 = this.item.index, o2 = i2 + this.rowSpan / this.layout._dspan;
      return i2 <= e3 && e3 < o2;
    }
    return false;
  }, e2.prototype.toString = function() {
    return "Body Cell(" + this.layout.col + ", " + this.item.index + ", " + this.layout.row + ")";
  }, e2;
}(Wl);
var Ul = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "bodyView") || this;
    return o2._itemViews = [], o2._cells = [], o2._spanned = false, o2._ghostStyle = {}, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) i2[o2].dispose(), i2[o2] = null;
    this._cells = this._ghostStyle = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "fixed", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightFixed", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstCell", { get: function() {
    return this._cells[0][0];
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastCell", { get: function() {
    return this._cells[this.tableRowCount - 1][0];
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "spanned", { get: function() {
    return this._spanned;
  }, enumerable: false, configurable: true }), e2.prototype.bodyCellByCell = function(t3) {
    for (var e3 = t3.parentElement[g], i2 = 0; i2 < this._cells.length; i2++) {
      var o2 = this._cells[i2], r2 = o2[0].item;
      if (r2 && r2.index == e3) for (var n2 = 0; n2 < o2.length; n2++) {
        var s2 = o2[n2];
        if (s2 && s2.cell === t3) return s2;
      }
    }
  }, e2.prototype.bodyCellAt = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) {
      var i2 = this._cells[e3], o2 = i2[0].item;
      if (o2 && o2.index == t3.itemIndex) for (var r2 = 0; r2 < i2.length; r2++) {
        var n2 = i2[r2];
        if (n2 && n2.layout === t3.layout) return n2;
      }
    }
  }, e2.prototype.layoutByCell = function(t3) {
    var e3 = this.bodyCellByCell(t3);
    return e3 && e3.layout;
  }, e2.prototype.columnByCell = function(t3) {
    var e3 = this.bodyCellByCell(t3);
    return e3 && e3.layout && e3.layout._columnObj;
  }, e2.prototype.cellByLayout = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 0), void 0 === i2 && (i2 = 0);
    for (var o2 = e3; o2 < this._cells.length; o2++) for (var r2 = this._cells[o2], n2 = i2; n2 < r2.length; n2++) {
      var s2 = r2[n2];
      if (s2 && s2.layout === t3) return s2;
    }
  }, e2.prototype.getCellRectAt = function(t3, e3, i2) {
    var o2 = this.getCellAt(t3, e3);
    return o2 && this.getCellRect(t3, o2, i2);
  }, e2.prototype.getCellRect = function(t3, e3, i2) {
    i2 && e3.merged && (e3 = e3.head);
    var o2 = e3.layout, r2 = e3.trow, n2 = e3.rowSpan, s2 = i2 || n2 > 1 && n2 == o2.getDataSpan() ? n2 : e3.item.isData ? o2._dspan : 1, a2 = t3.getTableRowBounds(r2, s2), l2 = e3.tcol, h2 = e3.colSpan;
    return this.fixed ? (a2.x = t3.getFixedCellPoint(l2), a2.width = t3.getFixedCellWidth2(l2, h2)) : this.rightFixed ? (a2.x = t3.getRightCellPoint(l2), a2.width = t3.getRightCellWidth2(l2, h2)) : (a2.x = t3.getCellPoint(l2), a2.width = t3.getCellWidth2(l2, h2)), a2;
  }, e2.prototype.getRowView = function(t3) {
    for (var e3 = 0, i2 = this.childCount; e3 < i2; e3++) {
      var o2 = this.getChild(e3);
      if (o2._item === t3) return o2;
    }
  }, e2.prototype.getRowIndex = function(t3) {
    return this._cells[t3][0].item.index;
  }, e2.prototype.getViewIndex = function(t3) {
    return this._cells[t3][0].rowIndex;
  }, e2.prototype.cleanRows = function(t3, e3) {
    this.$_cleanRowViews(t3), this.$_cutTailBodyCells(e3), this.$_cleanTableRows(e3);
  }, e2.prototype.getLowerOf = function(t3) {
    for (var e3 = this._cells, i2 = t3.trow, o2 = t3.tcol, r2 = i2 + 1; r2 < e3.length; r2++) {
      var n2 = e3[r2][o2];
      if (!n2.spanned) return n2;
      if (n2.spanHead.trow === n2.trow) return n2.spanHead;
    }
  }, e2.prototype.isBottomCell = function(t3) {
    for (var e3 = this._cells, i2 = t3.rowIndex, o2 = t3.trow, r2 = t3.tcol, n2 = o2 + 1; n2 < e3.length; n2++) {
      var s2 = e3[n2][r2];
      if (s2.rowIndex != i2) break;
      if (!s2.spanned || s2.spanHead.trow === s2.trow) return false;
    }
    return true;
  }, e2.prototype.getUpperOf = function(t3) {
    for (var e3 = this._cells, i2 = t3.trow, o2 = t3.tcol, r2 = i2 - 1; r2 >= 0; r2--) {
      var n2 = e3[r2][o2];
      if (!n2.spanned) return n2;
      if (n2.spanHead.trow === n2.trow) return n2.spanHead;
    }
  }, e2.prototype.isTopCell = function(t3) {
    for (var e3 = this._cells, i2 = t3.rowIndex, o2 = t3.trow, r2 = t3.tcol, n2 = o2 - 1; n2 >= 0; n2--) {
      var s2 = e3[n2][r2];
      if (s2.rowIndex != i2) break;
      if (!s2.spanned || s2.rowIndex === t3.rowIndex && s2.trow !== t3.trow && s2.layout.source) return false;
    }
    return true;
  }, e2.prototype.getNextVisibleCell = function(t3) {
    for (var e3 = this.bodyCellAt(t3); e3 && e3.spanned; ) {
      if (!t3.next()) return false;
      e3 = this.bodyCellAt(t3);
    }
    return null != e3;
  }, e2.prototype.getPrevVisibleCell = function(t3) {
    for (var e3 = this.bodyCellAt(t3); e3 && e3.spanned; ) {
      if (!t3.prev()) return false;
      e3 = this.bodyCellAt(t3);
    }
    return null != e3;
  }, e2.prototype.tdClone = function(t3) {
    var e3 = this.grid, i2 = t3 && e3.isValid(t3) && this.getCellAt(e3.layoutManager, t3);
    if (i2) {
      var o2 = (i2 = i2.merged ? i2.head : i2).cell, r2 = o2.parentElement;
      if (r2) {
        var n2 = o2.cloneNode(false);
        n2.appendChild(o2.firstElementChild.cloneNode(false)), n2.style.display = "none", i2.rendererChanged = true, r2.insertBefore(n2, o2.nextElementSibling), i2.reset(n2), n2.setAttribute("tabindex", "0");
        var s2 = [];
        if (r2 = this._table, Ot.isIE) for (; r2 && r2 !== e3.container._containerDom; ) s2.push({ top: r2.scrollTop, left: r2.scrollLeft }), r2 = r2.parentElement;
        if (n2.style.display = "", n2.focus({ preventScroll: true }), Ot.detach(o2), r2 = this._table, Ot.isIE) for (; r2 && r2 !== e3.container._containerDom; ) {
          var a2 = s2.shift();
          a2 && a2.top !== r2.scrollTop && (r2.scrollTop = a2.top), a2 && a2.left !== r2.scrollLeft && (r2.scrollLeft = a2.left), r2 = r2.parentElement;
        }
      } else o2.focus();
    }
  }, e2.prototype.refreshTdFocused = function(t3, e3) {
    var i2 = this.grid, o2 = t3 && i2.isValid(t3) && this.getCellAt(i2.layoutManager, t3);
    if (o2) {
      o2 = o2.merged ? o2.head : o2;
      var r2 = this._tbody, n2 = Array.prototype.slice.call(r2.querySelectorAll("td"));
      e3 ? s2.call(this, o2) : setTimeout((function() {
        s2.call(this, o2);
      }).bind(this), 15);
    }
    function s2(t4) {
      var e4 = t4.cell;
      e4 && (n2.forEach(function(t5) {
        t5 !== e4 && (t5.tabIndex = -1);
      }), e4.setAttribute("tabindex", "0"), e4.focus({ preventScroll: true }));
    }
  }, e2.prototype.cleanRecycle = function() {
    for (var t3 = this._tbody, e3 = 0; e3 < t3.rows.length; e3++) t3.rows[e3].recycle = false;
  }, e2.prototype.reArrangeRows = function(t3, e3) {
    for (var i2 = this.grid, o2 = this._tbody, r2 = this._cells, n2 = i2.itemSource, a2 = 0, l2 = t3.topIndex + t3.fixedItemCount, h2 = 0; h2 < o2.rows.length; h2++) o2.rows[h2].recycle = true;
    var u2 = 0 === t3.fixedTableRowCount ? 0 : t3.fixedTableRowCount + 1;
    if (e3 < 0) {
      for (; e3++ < 0; ) {
        a2 += n2.getItem(l2 + e3 + t3.itemCount - 1).isData ? this._trs : 1;
      }
      for (; a2-- > 0; ) o2.rows[o2.rows.length - 1].recycle = false, o2.insertBefore(o2.rows[o2.rows.length - 1], o2.rows[u2]), r2.splice.apply(r2, s([u2, 0], r2.splice(-1), false));
    } else {
      for (; e3-- > 0; ) {
        a2 += n2.getItem(l2 + e3).isData ? this._trs : 1;
      }
      for (; a2-- > 0; ) {
        var c2 = o2.removeChild(o2.rows[u2]);
        c2.recycle = false, o2.appendChild(c2), r2.push.apply(r2, r2.splice(u2, 1));
      }
    }
  }, e2.prototype._doAttached = function(t3) {
  }, e2.prototype._getCssSelector = function() {
    return "rg-body";
  }, e2.prototype._getTableHidden = function() {
    return false;
  }, e2.prototype._getTableCaption = function() {
    var t3 = this.grid;
    return t3 && t3.accessibility && t3.WaiOptions && t3.WaiOptions.getDescription() || "";
  }, e2.prototype._isFixedHeight = function(t3) {
    return !t3.isAutoRowHeights();
  }, e2.prototype._getTrs = function(t3) {
    return t3.trs;
  }, e2.prototype._getTableRowCount = function(e3) {
    var i2 = e3.fixedItemCount, o2 = this.grid, r2 = this._trs;
    if (e3.syncHeight()) {
      for (var n2 = 0, s2 = 0, a2 = this.grid.itemCount; s2 < a2; s2++) n2 += o2.getItem(s2).isData ? r2 : 1;
      return n2 + (i2 ? 1 : 0);
    }
    if (e3.isAutoRowHeights()) return (a2 = Math.max(0, Math.ceil(e3._itemsBounds / e3.grid.displayOptions.minTableRowHeight) + this._trs - 1)) + (e3.grid.displayOptions.refCalcHeights ? 5 : 0);
    if (e3.isRowGrouped()) {
      for (var l2 = i2 + e3.itemCount, h2 = (n2 = 0, 0); h2 < l2; h2++) n2 += e3.getItem(h2).isData ? r2 : 1;
      return n2 += i2 ? 1 : 0;
    }
    return t2.prototype._getTableRowCount.call(this, e3);
  }, e2.prototype.$_getTableIndex = function(t3, e3) {
    var i2 = t3.fixedItemCount;
    if (e3 >= i2 && t3.isRowGrouped()) {
      var o2 = this._trs, r2 = i2 * o2;
      i2 > 0 && r2++;
      for (var n2 = i2; n2 < e3; n2++) t3.getItem(n2).isData ? r2 += o2 : r2++;
      return r2;
    }
    r2 = e3 * this._trs;
    return i2 > 0 && e3 >= i2 ? r2 + 1 : r2;
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return this.grid.doc.createElement("div");
  }, e2.prototype._doPrepareTableHead = function(e3, i2) {
    var o2 = this.grid;
    if (o2._columnsDirty || o2._needPosition || o2._cellLayoutDirty || e3.syncHeight()) {
      t2.prototype._doPrepareTableHead.call(this, e3, i2), this._table.caption.innerHTML = this._getTableCaption();
      for (var r2 = this._getFirstCell(e3), n2 = this._getLastCell(e3) - r2 + 1, s2 = e3.cellLayouts._dataCells, a2 = 0; a2 < 1; a2++) for (var l2 = s2[a2], h2 = i2.children[a2], u2 = 0; u2 < n2; u2++) {
        var c2 = l2[u2 + r2];
        c2 = c2.isProxy ? c2.source : c2;
        var d2 = h2.children[u2];
        c2 && d2 && (d2[Ot.TextProp] = c2.header.getDisplayText() || c2.firstColumn.header.displayText);
      }
    }
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    return this._spanned = false, new wl();
  }, e2.prototype.$_refreshRowCells = function(t3, e3, i2, o2, r2, n2, s2) {
    for (var a2 = this._cells, l2 = s2.children, h2 = this._getFirstCell(t3), u2 = this._getLastCell(t3) - h2 + 1, c2 = a2.length, d2 = o2 + n2; c2 < d2; c2++) a2.push([]);
    for (var p2 = 0; p2 < n2; p2++) {
      var f2 = a2[o2], _2 = l2[o2];
      this.grid.accessibility && (e3 ? _2.removeAttribute("aria-hidden") : _2.setAttribute("aria-hidden", "true")), this._ghostStyle && Ot.setStyle(this._ghostStyle, _2);
      for (var g2 = _2.children, y2 = r2[p2], m2 = 0; m2 < u2; m2++) {
        var b2 = g2[m2], v2 = y2[m2 + h2], w2 = f2[m2];
        w2 ? w2.cell !== b2 ? w2.reset(b2) : w2.layout !== v2 && (w2.rendererChanged = true, w2.layout = v2, w2.clear(true)) : (w2 = f2[m2] = new Gl(b2)).layout = v2, w2.spanned = false, w2.item = e3, w2.rowIndex = i2, w2.trow = o2, w2.tcol = m2;
      }
      o2++;
      for (m2 = u2; m2 < f2.length; m2++) Ot.isDebugging() && f2[m2], f2[m2].dispose();
      f2.length = u2;
    }
  }, e2.prototype.layoutRow = function(t3, e3, i2, o2, r2) {
    function n2(t4, e4) {
      var i3 = this._ghostStyle = this._ghostStyle || {};
      for (var o3 in t4) i3[o3] = void 0;
      Ot.setStyle(t4, e4);
    }
    var s2, a2 = t3.lm, l2 = t3.fixedItemCount, h2 = this.model, u2 = a2.cellLayouts._dataCells, c2 = this._tbody.rows, d2 = r2.isData ? this._trs : 1;
    this.$_refreshRowCells(a2, r2, i2, o2, u2, d2, this._tbody), this.childCount <= i2 ? (s2 = this.$_borrowView(r2), this.addChild(s2)) : s2 = this.getChild(i2), this.$_setRowCellsDisplay(a2, t3, e3, this._cells, r2, i2, o2, d2);
    var p2 = r2.index, f2 = c2[o2];
    if (f2.style.display = "", f2[g] = p2, f2[y] = o2, s2.updateItem(r2, o2, d2, this._isFixedHeight(a2)), r2.isDataRow || r2 instanceof Hr) {
      var _2 = a2.getItemBounds(i2);
      _2.width = this.width, s2.setRect(_2);
      var m2 = h2.getRowStyle(r2, p2 < l2), b2 = m2.styleName;
      if (r2.isDataRow) {
        r2.setEditable(m2.editable, m2.readOnly);
        for (var v2 = 1; v2 < this._trs; v2++) {
          (w2 = c2[o2 + v2])[y] = o2 + v2, w2[g] = p2, Ot.setClassName(w2, b2), m2.style && n2.call(this, m2.style, w2);
        }
      }
      s2.layoutContent(a2), Ot.setClassName(f2, b2), m2.style && n2.call(this, m2.style, f2);
    } else if (r2.isData) {
      for (v2 = 1; v2 < this._trs; v2++) {
        var w2;
        (w2 = c2[o2 + v2])[y] = o2 + v2, w2[g] = p2;
      }
      this.grid.isRecycleMode() && c2[o2].recycle || s2.clearContent(a2, this._trs), r2 instanceof jr && s2.layoutContent(a2);
    } else s2.clearContent(a2, 1);
  }, e2.prototype.layoutFixedBar = function(t3, e3) {
    var i2 = t3.cellLayouts._dataCells, o2 = this._tbody, r2 = o2.rows[e3], n2 = this.$_prepareFixedBar(t3, r2), s2 = t3.grid.hoveredCell;
    s2 && s2.trow == e3 && s2.rowIndex == t3.fixedItemCount && t3.grid.$_setHoveredCell(null, -1), r2[y] = e3, r2[g] = -99, r2.style.display = n2 > 0 ? "" : "none", Ot.setClassName(r2, bl.ROW_BAR_STYLE), this.$_refreshRowCells(t3, null, -1, e3, i2, 1, o2), this.$_setFixedBarCellsDisplay(t3, this._cells, e3);
    for (var a2 = 0, l2 = this._cells[e3]; a2 < l2.length; a2++) {
      var h2 = l2[a2];
      h2.renderer2 && h2.renderer2.clearContent(), h2.className = "", h2.clearExpander(), h2.clearButtons();
    }
    return n2;
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._getCellCount = function(t3) {
    return t3.cellCount - t3.fixedCellCount - t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getCellWidth(e3);
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return t3.getTableRowHeight(e3, 1);
  }, e2.prototype._doDrawCell = function(t3, e3, i2) {
  }, e2.prototype.getCellAt = function(t3, e3) {
    var i2 = e3.layout, o2 = t3.fixedItemCount, r2 = t3.topIndex, n2 = e3.itemIndex;
    if ((o2 > 0 && n2 < o2 || n2 >= r2 && n2 - r2 >= o2 && n2 - r2 < o2 + t3.itemCount) && (n2 >= o2 && (n2 -= r2), (n2 = this.$_getTableIndex(t3, n2)) < this._cells.length)) for (var s2 = 0; s2 < this._trs; s2++) {
      var a2 = this._cells[n2 + s2];
      if (a2) for (var l2 = 0; l2 < a2.length; l2++) {
        var h2 = a2[l2];
        if (h2 && h2.layout === i2) return h2;
      }
    }
    return null;
  }, e2.prototype.getCellView = function(t3, e3) {
    var i2 = this.getCellAt(t3, e3);
    return i2 && i2.cell;
  }, e2.prototype.spanRight = function(t3, e3) {
    if (e3) {
      var i2 = this.getCellAt(t3, e3);
      i2 && (i2.spanned && (i2 = i2.spanHead), i2 && (e3.layout = this._cells[i2.trow][i2.tcol + i2.colSpan - 1].layout));
    }
  }, e2.prototype.spanHead = function(t3, e3) {
    if (e3) {
      var i2 = this.getCellAt(t3, e3);
      i2 && (i2.spanned && (i2 = i2.spanHead), i2 && (e3.layout = i2.layout));
    }
  }, e2.prototype.setRowViewHeight = function(t3, e3) {
    var i2 = this.getRowView(t3);
    i2.height = t3.height, i2.y = e3;
  }, e2.prototype._doSizeChanged = function() {
    this.applyBounds();
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell(false);
  }, e2.prototype._getEndCell = function(t3) {
    return t3.getEndCell(false);
  }, e2.prototype.$_removeView = function(t3) {
    var e3 = this.removeChildAt(t3);
    e3.validate(), this._itemViews.push(e3);
  }, e2.prototype.$_borrowView = function(t3) {
    var e3 = this._itemViews.pop();
    return e3 || (e3 = this.createRowElement()), e3;
  }, e2.prototype.createRowElement = function() {
    return new Al(this.doc);
  }, e2.prototype.$_setFixedBarCellsDisplay = function(t3, e3, i2) {
    for (var o2 = this._getFirstCell(t3), r2 = this._getFirstCell(t3) - o2, n2 = this._getLastCell(t3) - o2, s2 = e3[i2], a2 = bl.ROW_BAR_CELL_STYLE, l2 = r2; l2 <= n2; l2++) {
      var h2 = s2[l2];
      h2.clear(true), Ot.setClassName(h2.cell, a2);
    }
  }, e2.prototype.$_setRowCellsDisplay = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    var l2 = this._getFirstCell(t3), h2 = this._getFirstCell(t3) - l2, u2 = this._getLastCell(t3) - l2, c2 = e3.grid, d2 = e3.fixedItemCount, p2 = i2, f2 = r2.isData, _2 = r2.level;
    if (f2 || e3.mergedRowGrouped) for (var g2 = 0; g2 < a2; g2++) for (var y2 = (U2 = o2[s2 + g2]).length, m2 = h2; m2 <= u2; m2++) {
      var b2 = (Y2 = U2[m2]).layout, v2 = b2.getDataColumn(), w2 = b2.parent, C2 = w2 && w2.vertical;
      if (Y2.merged = false, Y2.head = null, Y2.grouped = false, Y2.spanned) ;
      else if (b2.isProxy) {
        for (var x2 = void 0, I2 = s2; I2 < s2 + a2; I2++) {
          var E2 = o2[I2];
          if (!E2) break;
          for (var S2 = 0; S2 < E2.length; S2++) if (E2[S2].layout === b2.source) {
            x2 = E2[S2];
            break;
          }
          if (x2) break;
        }
        x2 ? Y2.span(x2) : Y2.clear(false);
      } else if (!f2 && m2 + l2 >= _2) Y2.grouped = true, Y2.clear(true);
      else {
        var O2 = true, R2 = void 0, P2 = 1;
        v2 && v2.mergeGrouped && v2.groupLevel <= r2.parent.level || r2.isDataRow && (void 0 === (P2 = (R2 = b2.spanCallback) ? R2(c2.handler, b2, Y2.item.index) : void 0) && (P2 = b2.dataSpan), void 0 === P2 && (O2 = false, P2 = b2.cellSpan));
        var k2 = 0;
        if (P2 > 1) {
          var D2 = 0, T2 = b2.vindex + 1;
          if (C2) for (P2--; D2++ < P2 && D2 < a2; ) {
            if (!(V2 = w2.getVisible(T2++))) break;
            k2 += V2._dspan, this._cells[s2 + g2 + D2][m2].span(Y2), this._spanned = true;
          }
          else {
            for (var M2 = b2._dspan, F2 = [], L2 = 0; L2 < M2; L2++) F2.push(0);
            for (var N2 = 0; N2 < M2; N2++) {
              F2[N2] += b2._defColSpan;
              for (var $2 = 1; $2 < P2 && m2 - h2 + $2 < y2; $2++) {
                var A2 = this._cells[s2 + g2 + N2][m2 + $2].layout;
                A2 && !A2.isProxy && (F2[N2] += A2._defColSpan);
              }
            }
            var B2 = Math.max.apply(Math, F2);
            for (O2 = O2 && B2 === P2; D2++ < P2 - 1 && m2 - h2 + D2 < y2 && (O2 || T2 < w2.visibleCount); ) {
              var V2;
              if (!(V2 = O2 ? U2[m2 + D2].layout : w2.getVisible(T2++))) break;
              !V2.isProxy && (k2 += V2._defColSpan);
            }
            for (b2._defColSpan + k2 !== P2 && (k2 = 0), D2 = 1; D2 < b2._defColSpan + k2; D2++) {
              if (M2 > 1 && O2) for ($2 = 1; $2 < a2 && M2 > $2; $2++) this._cells[s2 + g2 + $2][m2 + D2].span(Y2);
              U2[m2 + D2].span(Y2);
            }
          }
        }
        var j2 = b2._defColSpan, H2 = b2._dspan, W2 = b2.merged && b2.merges;
        if (W2 && r2 instanceof jr && m2 >= r2.parent.level && (W2 = null), W2) if (Y2.merged = W2.isMerged(n2, d2), W2.isHidden(n2, d2)) Y2.set(j2 + k2, H2, false), Y2.head = p2[m2 - h2];
        else {
          var G2 = void 0;
          G2 = r2.isDataRow ? (Y2.rows = W2.getMerged(n2, d2)) * H2 : W2.getMerged2(c2, r2.index, n2 - d2, H2), Y2.set(j2 + k2, G2, true), p2[m2 - h2] = Y2.head = Y2;
        }
        else C2 ? Y2.set(j2, H2 + k2, true) : Y2.set(j2 + k2, H2, true);
      }
    }
    else {
      var U2 = o2[s2];
      for (m2 = h2; m2 <= u2; m2++) {
        var Y2;
        (Y2 = U2[m2]).clear(false), Y2.merged = false, Y2.grouped = true;
      }
    }
  }, e2.prototype.$_refreshSpans = function(t3, e3, i2) {
  }, e2.prototype.$_cleanRowViews = function(t3) {
    for (; this.childCount > t3; ) this.$_removeView(this.childCount - 1);
  }, e2.prototype.$_cutTailBodyCells = function(t3) {
    for (var e3 = this._cells, i2 = t3; i2 < e3.length; i2++) for (var o2 = e3[i2], r2 = 0; r2 < o2.length; r2++) o2[r2].dispose(), o2[r2] = null;
    e3.length = t3;
  }, e2.prototype.$_cleanTableRows = function(t3) {
    var e3 = this._tbody.rows;
    if (this.grid.isRecycleMode()) for (var i2 = e3.length - 1; i2 >= t3; i2--) {
      var o2 = e3[i2];
      Ot.detach(o2);
    }
    else {
      for (i2 = e3.length - 1; i2 >= this._cells.length; i2--) for (var r2 = e3[i2].cells, n2 = r2.length; n2--; ) {
        for (var s2 = r2[n2]; s2.childElementCount > 1; ) s2.removeChild(s2.lastElementChild);
        s2.removeAttribute(jl), s2.removeAttribute(Hl);
      }
      for (i2 = e3.length - 1; i2 >= t3; i2--) {
        (o2 = e3[i2]).childElementCount > 0 ? (o2[y] = -1, o2.style.display = "none") : Ot.detach(o2);
      }
    }
  }, e2.prototype.$_resetHeights = function(t3, e3) {
    var i2 = this._tbody.children, o2 = 0;
    if (t3.length > 0) {
      for (var r2 = 1; r2 < t3.length; r2++) i2[o2++].style.height = t3[r2] - t3[r2 - 1] + "px";
      o2++;
    }
    for (r2 = 1; r2 < e3.length; r2++) i2[o2++].style.height = e3[r2] - e3[r2 - 1] + "px";
  }, e2.prototype.$_resetCellStyleHeights = function(t3, e3) {
    var i2 = this._tbody.children, o2 = 0;
    if (t3.length > 0) {
      for (var r2 = 1; r2 < t3.length; r2++) for (var n2 = t3[r2] - t3[r2 - 1], s2 = i2[o2++].cells, a2 = 0; a2 < s2.length; a2++) s2[a2].style.height = n2 + "px";
      o2++;
    }
    for (r2 = 1; r2 < e3.length; r2++) for (n2 = e3[r2] - e3[r2 - 1], s2 = i2[o2++].cells, a2 = 0; a2 < s2.length; a2++) s2[a2].style.height = n2 + "px";
  }, e2.prototype.$_resetCellHeights2 = function(t3, e3) {
    for (var i2 = t3.grid.body.buttonHeight, o2 = 0, r2 = this._cells.length; o2 < r2; o2++) for (var n2 = this._cells[o2], s2 = 0, a2 = n2.length; s2 < a2; s2++) {
      var l2 = n2[s2], h2 = l2.height, u2 = t3.getTableRowHeightFixed(l2.trow, l2.rowSpan);
      if (h2 != u2 && (l2.height = u2, (l2.$_buttonWidth > 0 || l2.$_editWidth > 0) && l2.buttons && (l2.buttons.style.top = Math.floor((u2 - i2) / 2) + "px")), e3 && !l2.heighted) {
        var c2 = Math.max(0, l2.height - 2);
        l2.cell.firstElementChild.style.maxHeight = c2 + "px", Ot.ieTen && (l2.cell.firstElementChild.style.height = c2 + "px");
      }
    }
  }, e2.prototype.$_focusChanged = function(t3, e3, i2) {
    this.$_cellStateChanged(t3, e3, "focused", i2);
  }, e2.prototype.$_mouseEnteredChanged = function(t3, e3, i2) {
    this.$_cellStateChanged(t3, e3, "mouseEntered", i2);
  }, e2.prototype.$_cellStateChanged = function(t3, e3, i2, o2) {
    var r2 = t3.canMergeEditing(e3);
    if (e3 && e3.item, e3 && o2 != e3[i2]) {
      var n2 = this.getRowView(e3.item);
      if (n2 instanceof Ll) {
        var s2 = this.model, a2 = e3.dataColumn;
        if (e3[i2] = o2, a2 && t3.getCellType(e3.cell) === O.DATA) {
          var l2 = s2.getCellAt(e3.item, a2);
          if (n2.$_setButtons(t3, e3, e3.cell.firstElementChild), e3.merged && e3.head) {
            var h2 = e3.head, u2 = t3.layoutManager, c2 = this.getCellRect(u2, e3, false), d2 = this.getCellRect(u2, e3, true), p2 = h2.renderer2;
            if (e3.focused) {
              var f2 = c2.top - d2.top + c2.height / 2 - d2.height / 2;
              p2.moveClickElement(f2, r2);
            } else e3.mouseEntered || h2.contains(t3.focusedIndex) || p2.moveClickElement(0, r2);
          }
          n2 instanceof Al && e3.renderer2 && "focused" === i2 && e3.renderer2.refreshFocusChanged && n2.cellRefresh(t3, s2, l2, a2, e3);
        }
      }
    }
  }, e2.prototype.$_buttonZIndexChanged = function(t3, e3, i2, o2) {
    var r2 = e3 && e3.item;
    if (r2 && r2.isDataRow) {
      var n2 = this.getRowView(r2);
      if (n2 instanceof Ll) e3.dataColumn && n2.$_setButtonZIndex(t3, e3, i2, o2);
    }
  }, e2.prototype.$_rendererChanged = function(t3) {
    for (var e3 = this._cells, i2 = 0; i2 < e3.length; i2++) for (var o2 = e3[i2], r2 = 0; r2 < o2.length; r2++) o2[r2].layout === t3 && (o2[r2].rendererChanged = true);
  }, e2;
}(Pl);
var Yl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "fixed", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-fixed-body";
  }, e2.prototype._getExplicitWidth = function(t3) {
    return t3.fixedWidth - t3.fixedBarWidth;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.fixedCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getFixedCellWidth(e3);
  }, e2.prototype.createRowElement = function() {
    return new Bl(this.doc);
  }, e2;
}(Ul);
var zl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "rightFixed", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-fixed-body";
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype.createRowElement = function() {
    return new Vl(this.doc);
  }, e2.prototype._getCellCount = function(t3) {
    return t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getRightCellWidth(e3);
  }, e2;
}(Ul);
var ql = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.check = null, i2.checkSpan = null, i2.sort = null, i2.filter = null, i2.popup = null, i2.textSpan = null, i2.expander = null, i2.rendererClass = "", i2.html = void 0, i2.tooltip = "", i2.checkWidth = 0, i2.marginLeft = 0, i2.marginRight = 0, i2.marginTop = 0, i2.marginBottom = 0, i2.edgeMarker = null, i2.textSpan = e3.firstElementChild.firstElementChild, i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    t2.prototype.dispose.call(this), this.textSpan = this.cell = this.check = this.sort = this.filter = this.expander = this.checkSpan = null, this.layout = null, this.renderCallback = null;
  }, e2.prototype.span = function() {
    this.spanned = true, this.clear(false);
  }, e2.prototype.clear = function(e3) {
    t2.prototype.clear.call(this, e3);
    var i2 = this.cell.firstElementChild, o2 = this.textSpan, r2 = i2.style;
    return this.check = this.check && Ot.detach(this.check), this.checkSpan = this.checkSpan && Ot.detach(this.checkSpan), this.filter = this.filter && Ot.detach(this.filter), this.sort = this.sort && Ot.detach(this.sort), this.popup = this.popup && Ot.detach(this.popup), this.expander = this.expander && Ot.detach(this.expander), this.checkWidth = 0, this.className && (this.cell.className = this.className = ""), this.rendererClass && (i2.className = this.rendererClass = ""), 0 != this.marginLeft && (r2.marginLeft = "", this.marginLeft = 0), 0 != this.marginRight && (r2.marginRight = "", this.marginRight = 0), 0 != this.marginTop && (r2.marginTop = "", this.marginTop = 0), 0 != this.marginBottom && (r2.marginBottom = "", this.marginBottom = 0), this.text && (o2[Ot.TextProp] = this.text = ""), this.html && (o2.innerHTML = this.html = "", this.renderCallback = null), this;
  }, e2.prototype.setText = function(t3, e3) {
    e3 != this.text && (t3[Ot.TextProp] = this.text = e3, this.html = "", this.renderCallback = null);
  }, e2.prototype.setHtml = function(t3, e3, i2) {
    if (e3 != this.html) return t3.innerHTML = this.html = e3, this.text = "", this.renderCallback = i2 && dn(t3, i2), true;
  }, e2.prototype.setClassName = function(t3) {
    return t3 != this.className && (this.cell.className = this.className = t3, true);
  }, e2.prototype.setRendererClassName = function(t3, e3) {
    e3 != this.rendererClass && (t3.className = this.rendererClass = e3);
  }, e2.prototype.setDivMarigns = function(t3, e3, i2, o2, r2) {
    e3 != this.marginLeft && (t3.marginLeft = e3 ? e3 + "px" : "", this.marginLeft = e3), i2 != this.marginRight && (t3.marginRight = i2 ? i2 + "px" : "", this.marginRight = i2), o2 != this.marginTop && (t3.marginTop = o2 ? o2 + "px" : "", this.marginTop = o2), r2 != this.marginBottom && (t3.marginBottom = r2 ? r2 + "px" : "", this.marginBottom = r2);
  }, e2.prototype.getIndex = function(t3) {
    return t3.set(-1, this.layout.firstColumn);
  }, e2.prototype.isClickableElt = function(t3) {
    return t3 === this.filter || t3 === this.popup || t3 === this.check || t3 === this.expander || t3 === this.checkSpan;
  }, e2;
}(Wl);
var Kl = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "headerView") || this;
    return o2._fixedHeight = true, o2._rowPoints = [], o2._cells = [], o2._pointerEnterHandler = o2.$_pointerEnter.bind(o2), o2._pointerLeaveHandler = o2.$_pointerLeave.bind(o2), o2;
  }
  return i(e2, t2), e2.renderCell = function(t3, e3) {
    e3[Ot.TextProp] = t3.text || "";
  }, e2.prototype._doDispose = function() {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) i2[o2].cell.removeEventListener("pointerenter", this._pointerEnterHandler), i2[o2].cell.removeEventListener("pointerleave", this._pointerLeaveHandler), i2[o2].dispose(), i2[o2] = null;
    this._cells = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.tableCellByCell = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2];
      if (r2 && r2.cell === t3) return r2;
    }
  }, e2.prototype.tableCellByLayout = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) if (i2[o2].layout === t3) return i2[o2];
  }, e2.prototype.tableCellByLayout2 = function(t3, e3) {
    var i2 = this._cells, o2 = i2.length;
    if (!(o2 < 1)) {
      for (var r2 = i2[0].length, n2 = this._getFirstCell(t3), s2 = this._getStartCell(t3) - n2, a2 = this._getEndCell(t3) - n2, l2 = s2; l2 <= a2; l2++) for (var h2 = 0; h2 < o2; h2++) if (i2[h2][l2].layout === e3) return i2[h2][l2];
      for (l2 = s2 - 1; l2 >= 0; l2--) for (h2 = 0; h2 < o2; h2++) if (i2[h2][l2].layout === e3) return i2[h2][l2];
      for (l2 = a2 + 1; l2 < r2; l2++) for (h2 = 0; h2 < o2; h2++) if (i2[h2][l2].layout === e3) return i2[h2][l2];
    }
  }, e2.prototype.layoutByCell = function(t3) {
    var e3 = this.tableCellByCell(t3);
    return e3 && e3.layout;
  }, e2.prototype.columnByCell = function(t3) {
    var e3 = this.layoutByCell(t3);
    return e3 && e3._columnObj;
  }, e2.prototype.getSpanRoot = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2];
      if (r2.layout === t3) {
        if (r2.spanned) {
          if (r2.layout.parent.vertical) {
            for (var n2 = e3 - 1; n2 >= 0; n2--) if (!this._cells[n2][o2].spanned) return this._cells[n2][o2].layout;
          } else for (n2 = o2 - 1; n2 >= 0; n2--) if (!i2[n2].spanned) return i2[n2].layout;
        }
        return t3;
      }
    }
  }, e2.prototype.refresh = function(t3) {
    for (var e3 = t3.focusedColumn, i2 = t3.layoutManager, o2 = this._getFirstCell(i2), r2 = this._getLastCell(i2) - o2 + 1, n2 = 0; n2 < this._cells.length; n2++) for (var s2 = this._cells[n2], a2 = 0; a2 < r2; a2++) {
      var l2 = s2[a2], h2 = l2.layout;
      if (l2.visible) {
        var u2 = l2.cell;
        h2 instanceof _s && (u2[m] = h2.isColumn(e3)), l2.setClassName(this.$_getCellSelector(h2, u2));
      }
    }
  }, e2.prototype.getRowAt = function(t3) {
    for (var e3 = 1; e3 < this._rowPoints.length - 1; e3++) if (t3 < this._rowPoints[e3]) return e3 - 1;
    return this._rowPoints.length - 2;
  }, e2.prototype.getLayoutHeight = function(t3, e3, i2) {
    var o2, r2;
    return t3 instanceof vs ? (o2 = t3.hrow, r2 = i2 ? t3.hlen : t3.hspan) : (o2 = t3.hrow, r2 = i2 ? e3.rowSpan : t3.hspan), this._rowPoints[o2 + r2] - this._rowPoints[o2];
  }, e2.prototype.getMeasureHeights = function() {
    var t3 = new Array(this._cells.length);
    return t3.forEach(function(t4, e3, i2) {
      i2[e3] = 0;
    }), this._cells.forEach(function(e3, i2) {
      e3.forEach(function(e4) {
        if (e4.visible) {
          var o2 = Ot.getSize(e4.textSpan);
          t3[i2] = Math.max(t3[i2], o2.height + 5);
        }
      });
    }), t3;
  }, e2.prototype.getLayoutPos = function(t3) {
    return this._rowPoints[t3.hrow];
  }, e2.prototype._getCssSelector = function() {
    return "rg-header";
  }, e2.prototype._isFixedHeight = function() {
    return this._fixedHeight;
  }, e2.prototype._getMinRowHeight = function(t3) {
    return this._minRowHeight;
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    var i2 = It(t3), o2 = i2.createElement("div"), r2 = i2.createElement("span");
    return t3.addEventListener("pointerenter", this._pointerEnterHandler, false), t3.addEventListener("pointerleave", this._pointerLeaveHandler, false), o2.appendChild(r2), o2;
  }, e2.prototype._cleanCellContent = function(t3) {
    t3.removeEventListener("pointerenter", this._pointerEnterHandler, false), t3.removeEventListener("pointerleave", this._pointerLeaveHandler, false);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    var o2 = this.model, r2 = t3.layoutManager.headerRows, n2 = o2.height, s2 = o2.heights, a2 = [];
    if (this._minRowHeight = o2.minRowHeight, s2 && s2.length > 0) {
      for (var l2 = 0, h2 = 0; h2 < r2; h2++) l2 += a2[h2] = Math.max(s2[h2] || this._minRowHeight, this._minRowHeight);
      n2 = l2;
    }
    return n2 = n2 <= 0 ? Math.max(this._minRowHeight, t3.heightMeasurer.headerHeight) * r2 : Math.max(this._minRowHeight * r2, n2), this._fixedHeight = n2 >= 0, n2 = Math.max(this._minRowHeight * r2, o2.minHeight, n2), o2.setCalcHeights(a2), wl.create(e3, n2);
  }, e2.prototype._doPrepareTableExtents = function(e3) {
    t2.prototype._doPrepareTableExtents.call(this, e3);
    var i2 = this.model, o2 = this._rowPoints, r2 = this.height, n2 = i2.getCalcHeights(), s2 = Math.floor(r2 / e3.headerRows);
    if (o2.length = this._getTableRowCount(e3) + 1, o2[0] = 0, o2.length > 0) {
      for (var a2 = 1; a2 < o2.length - 1; a2++) o2[a2] = o2[a2 - 1] + (n2[a2 - 1] || s2);
      o2[a2] = r2;
    }
  }, e2.prototype.$_refreshHeadTitle = function(t3, e3) {
    for (var i2 = this._cells[0], o2 = e3.children[0], r2 = 0; o2 && r2 < i2.length; r2++) {
      var n2 = i2[r2].layout.source, s2 = o2.children[r2];
      s2 && n2 && (s2[Ot.TextProp] = n2.header.getDisplayText() || n2.firstColumn.header.displayText);
    }
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = e3.focusedColumn, o2 = this.model, r2 = t3.cellLayouts._headerCells, n2 = r2.length, s2 = this._getFirstCell(t3), a2 = this._getStartCell(t3) - s2, l2 = this._getEndCell(t3) - s2;
    this.$_refreshCells(t3, r2, this._tbody), this.$_refreshSpans(t3, n2), this.$_refreshHeadTitle(t3, this._thead);
    for (var h2 = 0; h2 < n2; h2++) for (var u2 = this._cells[h2], c2 = a2; c2 <= l2; c2++) {
      var d2 = u2[c2];
      if (d2.visible || c2 === a2) {
        var p2 = void 0;
        d2.layout.isProxy ? (p2 = d2.layout.source, d2 = this.tableCellByLayout(p2)) : p2 = d2.layout;
        var f2 = d2.cell;
        if (f2[m] = p2.isColumn(i2), d2.setClassName(this.$_getCellSelector(p2, f2)), p2.isNull) d2.setText(d2.textSpan, p2.header.getDisplayText());
        else if (p2 instanceof vs) {
          var _2 = o2.getCell(p2);
          p2.hideChildHeaders && p2.tiedColumn ? (_2 = o2.getCell(p2.tiedColumn.layout), this._updateCell(e3, o2, _2, d2)) : this._updateGroupCell(e3, o2, _2, d2);
        } else {
          _2 = o2.getCell(p2);
          this._updateCell(e3, o2, _2, d2);
        }
      }
    }
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._getTableRowCount = function(t3) {
    return t3.headerRows;
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return this._rowPoints[e3 + 1] - this._rowPoints[e3];
  }, e2.prototype.$_getCellHeight = function(t3) {
    var e3 = t3.layout.hrow, i2 = this._rowPoints[e3];
    return this._rowPoints[e3 + t3.rowSpan] - i2;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.cellCount - t3.fixedCellCount - t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getCellWidth(e3);
  }, e2.prototype._getCellWidth2 = function(t3, e3, i2) {
    return t3.getCellWidth2(e3, i2);
  }, e2.prototype._doDrawCell = function(t3, e3, i2) {
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
    var n2 = this.model;
    Ot.setClassName(r2, n2.getStyleName());
  }, e2.prototype.$_getCellSelector = function(t3, e3) {
    var i2 = "", o2 = this.grid, r2 = function(t4) {
      for (var e4 = 0, i3 = t4.items; e4 < i3.length; e4++) {
        var n3 = i3[e4];
        if (n3 instanceof _s && !o2.isSelectedLayout(n3)) return false;
        if (n3 instanceof vs) return r2(n3);
      }
      return true;
    };
    if (t3 instanceof vs) {
      i2 = "rg-header-group-cell ".concat(t3.header.styleName || "").trim();
      var n2 = 1 === t3.visibleCount ? t3.first : t3;
      o2.isSelectedLayout(n2) && r2(t3) && (i2 += " rg-group-header-select");
    } else {
      i2 = "rg-header-cell", e3[m] ? i2 += " rg-header-focus" : o2.isSelectedLayout(t3) && (i2 += " rg-header-select");
      var s2 = t3.firstColumn;
      i2 += " ".concat(s2 && s2.header.styleName || "");
    }
    return i2.trim();
  }, e2.prototype.$_hoverChanged = function(t3, e3) {
    var i2 = this.grid;
    if (!i2.container._updateRequested) {
      var o2 = i2.getTableCell(t3.target), r2 = this.tableCellByCell(o2), n2 = this.model, s2 = r2.layout, a2 = n2.getCell(s2);
      r2.hovered = e3, s2 instanceof _s ? this._updateCell(this.grid, n2, a2, r2) : s2 instanceof vs && s2.hideChildHeaders && s2.tiedColumn && (a2 = n2.getCell(s2.tiedColumn.layout), this._updateCell(this.grid, n2, a2, r2));
    }
  }, e2.prototype.$_pointerEnter = function(t3) {
    this.$_hoverChanged(t3, true);
  }, e2.prototype.$_pointerLeave = function(t3) {
    this.$_hoverChanged(t3, false);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell();
  }, e2.prototype._getEndCell = function(t3) {
    return t3.getEndCell();
  }, e2.prototype.$_refreshCells = function(t3, e3, i2) {
    for (var o2 = this._cells, r2 = i2.children, n2 = r2.length, s2 = this._getFirstCell(t3), a2 = this._getLastCell(t3) - s2 + 1, l2 = o2.length; l2 < n2; l2++) o2.push([]);
    for (var h2 = 0; h2 < n2; h2++) {
      for (var u2 = o2[h2], c2 = r2[h2].children, d2 = e3[h2], p2 = 0; p2 < a2; p2++) {
        var f2 = c2[p2], _2 = d2[p2 + s2], g2 = u2[p2];
        g2 ? g2.cell !== f2 || g2.layout != _2 && (g2.layout = _2, g2.clear(true)) : (g2 = u2[p2] = new ql(c2[p2])).layout = _2, g2.height = this.$_getCellHeight(g2), g2.width = this._getCellWidth(t3, p2), g2.spanned = false;
      }
      for (p2 = a2; p2 < u2.length; p2++) u2[p2].dispose();
      u2.length = a2;
    }
    for (h2 = n2; h2 < o2.length; h2++) {
      var y2 = o2[h2];
      for (p2 = 0; p2 < y2.length; p2++) y2[p2].dispose(), y2[p2] = null;
    }
    o2.length = n2;
  }, e2.prototype.$_refreshSpans = function(t3, e3) {
    for (var i2 = this._getFirstCell(t3), o2 = this._getFirstCell(t3) - i2, r2 = this._getLastCell(t3) - i2, n2 = 0; n2 < e3; n2++) for (var s2 = this._cells[n2], a2 = s2.length, l2 = o2; l2 <= r2; l2++) {
      var h2 = s2[l2], u2 = h2.layout, c2 = u2.parent, d2 = c2 && c2.vertical;
      if (h2.spanned) ;
      else if (u2.isProxy) h2.clear(false);
      else {
        var p2 = 0, f2 = u2.getHeaderSpan() - 1;
        if (f2 > 0) {
          var _2 = 0, g2 = u2.vindex + 1;
          if (d2) for (; _2++ < f2 && _2 < e3; ) {
            p2 += c2.getVisible(g2++)._hspan, this._cells[n2 + _2][l2].span();
          }
          else for (; _2++ < f2 && l2 - o2 + _2 < a2 && g2 < c2.visibleCount; ) {
            p2 += c2.getVisible(g2++)._cspan, s2[l2 + _2].span();
          }
        }
        (u2 instanceof vs || u2.isNull) && (this.grid._columnsDirty || this.grid._cellLayoutDirty) && h2.clear(true), d2 ? h2.set(u2._cspan, u2._hspan + p2, true) : h2.set(u2._cspan + p2, u2._hspan, true), h2.width = this._getCellWidth2(t3, l2, h2.colSpan);
      }
    }
  }, e2.prototype._updateCell = function(t3, i2, o2, r2) {
    var n2 = t3.doc, s2 = t3.sortingOptions, a2 = t3.filteringOptions, h2 = r2.layout.boundColumn, u2 = o2.checkLocation, c2 = u2 && u2 != I.NONE, d2 = o2.useCheckImage, p2 = i2.checkWidth + 2, f2 = c2 ? i2.checkHeight : 0, _2 = h2 && this.$_canSortHandleVisible(s2, h2, r2), g2 = h2 && h2.sortDirection || l.NONE, y2 = _2 ? i2.sortWidth : 0, m2 = h2 && this.$_canFilterHandleVisible(a2, h2, r2) ? i2.filterWidth : 0, b2 = h2 && this.$_canPopupHandleVisible(i2, h2, r2) ? i2.popupWidth : 0, v2 = r2.cell.firstElementChild, w2 = r2.textSpan, C2 = r2.width, x2 = this.$_getCellHeight(r2), E2 = 0, S2 = 0, O2 = 0, R2 = 0, P2 = v2.style;
    r2.setRendererClassName(v2, e2.RENDERER_STYLE), P2.maxHeight = Math.max(x2 - 2, 0) + "px";
    var k2, D2 = r2.check, T2 = r2.checkSpan;
    if (r2.checkWidth = 0, c2) {
      var M2 = w2.style;
      D2 || (D2 = n2.createElement("input"), r2.check = D2, D2.type = "checkbox", D2.tabIndex = -1, D2.className = "rg-header-check", (P2 = D2.style).position = "absolute", P2.display = "inline-block", P2.verticalAlign = "middle", T2 = n2.createElement("span"), r2.checkSpan = T2, (P2 = T2.style).position = "absolute", P2.display = "inline-block", P2.verticalAlign = "middle"), P2 = (k2 = d2 ? T2 : D2).style, k2.style.setProperty("display", "inline-block"), Ot.addChild(v2, D2), Ot.addChild(v2, T2), Ot.setInert(D2, !t3.accessibility), d2 ? D2.style.setProperty("display", "none") : T2.style.setProperty("display", "none"), D2.checked = h2.checked, D2.indeterminate = h2.indeterminate, D2.title = o2.text + " " + h2.checked ? "checked" : "unchecked", T2.className = "".concat(e2.CHECK_IMAGE_STYLE, " ").concat(h2.indeterminate ? "indeterminate" : h2.checked ? "checked" : "unchecked");
      var F2 = -1, L2 = -1;
      switch (M2.removeProperty("display"), P2.removeProperty("left"), P2.removeProperty("top"), u2) {
        case I.CENTER:
          M2.display = "none", P2.position = "relative";
          break;
        case I.LEFT:
        case I.LEFT_EDGE:
          Ot.insertBefore(v2, k2, r2.textSpan), u2 === I.LEFT ? (P2.position = "relative", r2.checkWidth = p2) : (P2.position = "absolute", E2 += p2, F2 = 0, L2 = Math.floor((x2 - i2.checkHeight) / 2));
          break;
        case I.RIGHT:
        case I.RIGHT_EDGE:
          Ot.insertBefore(v2, r2.textSpan, k2), u2 === I.RIGHT ? (P2.position = "relative", r2.checkWidth = p2) : (P2.position = "absolute", S2 += p2, F2 = C2 - p2, L2 = Math.floor((x2 - i2.checkHeight) / 2));
          break;
        case "top":
        case "topEdge":
          Ot.insertBefore(v2, k2, r2.textSpan), u2 === I.TOP ? (M2.display = "block", P2.position = "relative") : (P2.position = "absolute", O2 += f2, F2 = Math.floor((C2 - y2 - m2 - i2.checkWidth) / 2), L2 = 0);
          break;
        case "bottom":
        case "bottomEdge":
          Ot.insertBefore(v2, r2.textSpan, k2), u2 === I.BOTTOM ? (M2.display = "block", P2.position = "relative") : (P2.position = "absolute", R2 += f2, F2 = Math.floor((C2 - y2 - m2 - i2.checkWidth) / 2), L2 = x2 - i2.checkHeight);
      }
      F2 > -1 && (P2.left = F2 + "px"), L2 > -1 && (P2.top = L2 + "px");
    } else w2 && w2.style.removeProperty("display"), D2 && (Ot.detach(D2), Ot.detach(T2));
    var N2 = r2.filter;
    m2 > 0 ? (N2 ? P2 = N2.style : (N2 = n2.createElement("span"), r2.filter = N2, (P2 = N2.style).position = "absolute", P2.display = "inline-block"), Ot.addChild(v2, N2), N2.className = "rg-header-filtering" + (h2.isFiltered() ? " filter-activated" : ""), S2 += m2, P2.left = C2 - S2 + "px", P2.top = Math.floor((x2 - i2.filterHeight) / 2) + "px", P2.width = m2 + "px", P2.height = i2.filterWidth + "px") : Ot.detach(N2);
    var $2 = r2.sort;
    if (_2) {
      switch ($2 ? P2 = $2.style : ($2 = n2.createElement("span"), r2.sort = $2, (P2 = $2.style).position = "absolute", P2.display = "inline-block"), Ot.addChild(v2, $2), g2) {
        case l.DESCENDING:
          $2.className = "rg-header-sort-descending";
          break;
        case l.ASCENDING:
          $2.className = "rg-header-sort-ascending";
          break;
        default:
          $2.className = "rg-header-sort-none";
      }
      S2 += y2, P2.left = C2 - S2 + "px", P2.width = y2 + "px", s2.showSortOrder && h2.sortOrder >= 0 ? ($2[Ot.TextProp] = (h2.sortOrder + 1).toString(), P2.top = Math.max(0, Math.floor((x2 - i2.sortHeight - 10) / 2)) + "px", P2.height = Math.min(r2.height, i2.sortHeight + 10) + "px", P2.backgroundPositionY = Ot.isIE ? "5px" : "70%", P2.lineHeight = Ot.isIE ? "1.5em" : "1em") : ($2[Ot.TextProp] = "", P2.backgroundPositionY = "center", P2.top = Math.floor((x2 - i2.sortHeight) / 2) + "px", P2.height = i2.sortHeight + "px");
    } else Ot.detach($2);
    var A2 = r2.popup;
    b2 > 0 ? (A2 ? P2 = A2.style : (A2 = n2.createElement("span"), r2.popup = A2, (P2 = A2.style).position = "absolute", P2.display = "inline-block"), Ot.addChild(v2, A2), A2.className = "rg-header-popup", S2 += b2, P2.left = C2 - S2 + "px", P2.top = Math.floor((x2 - i2.popupHeight) / 2) + "px", P2.width = b2 + "px", P2.height = i2.popupWidth + "px") : Ot.detach(A2), P2 = v2.style, r2.showTooltip = o2.showTooltip, r2.tooltipEllipsisOnly = o2.tooltipEllipsisOnly, r2.tooltip = o2.tooltip, r2.setDivMarigns(P2, E2, S2, O2, R2);
    var B2 = h2.header.realizeTemplate(), V2 = h2.header.templateEvents;
    if (B2) {
      var j2 = r2.setHtml(w2, B2, V2);
      r2.renderCallback && r2.renderCallback.forEach(function(e3) {
        e3.callback.call(null, t3.handler, h2.header, e3.elt, j2);
      });
    } else r2.setText(w2, o2.text || "");
    Wl.addEdgeMark(o2.edgeMark, r2, n2);
  }, e2.prototype._updateGroupCell = function(t3, e3, i2, o2) {
    var r2 = t3.doc, n2 = o2.cell.firstElementChild, s2 = o2.textSpan, a2 = this.$_getCellHeight(o2), l2 = o2.layout, h2 = 0, u2 = n2.style;
    u2.maxHeight = Math.max(a2 - 2, 0) + "px";
    var c2 = this.$_canExpanderHandleVisible(l2), d2 = o2.expander;
    if (c2) {
      o2.expander || ((d2 = o2.expander = r2.createElement("span")).style.position = "absolute", d2.style.display = "inline-block"), d2.className = l2.expanded ? "rg-column-expanded" : "rg-column-collapsed";
      var p2 = d2.style;
      p2.left = "2px", p2.top = Math.floor((a2 - e3.expanderHeight) / 2) + "px", p2.width = e3.expanderWidth + "px", p2.height = e3.expanderHeight + "px", h2 += e3.expanderWidth + 2, n2.appendChild(o2.expander);
    } else o2.expander && n2.removeChild(o2.expander);
    o2.showTooltip = i2.showTooltip, o2.tooltipEllipsisOnly = i2.tooltipEllipsisOnly, o2.tooltip = i2.tooltip, o2.setDivMarigns(u2, h2, 0, 0, 0);
    var f2 = l2.header.realizeTemplate(), _2 = l2.header.templateEvents;
    if (f2) {
      var g2 = o2.setHtml(s2, f2, _2);
      o2.renderCallback && o2.renderCallback.forEach(function(e4) {
        e4.callback.call(null, t3.handler, l2.header, e4.elt, g2);
      });
    } else o2.setText(s2, i2.text || "");
    Wl.addEdgeMark(i2.edgeMark, o2, r2);
  }, e2.prototype.$_canPopupHandleVisible = function(t3, e3, i2) {
    if (null == e3.header.popupMenuName) return false;
    switch (t3.showPopupMenu) {
      case M.VISIBLE:
      case M.ALWAYS:
        return true;
      case M.HOVERED:
        return i2.hovered;
      case M.HIDDEN:
        return false;
    }
  }, e2.prototype.$_canFilterHandleVisible = function(t3, e3, i2) {
    var o2 = t3.enabled && e3.hasFilters && e3.filterable && e3.filterIconVisible;
    if (o2) switch (t3.handleVisibility) {
      case M.HIDDEN:
        o2 = false;
        break;
      case M.HOVERED:
        o2 = i2.hovered;
        break;
      case M.ACTIVE_OR_HOVERED:
        o2 = e3.isFiltered() || i2.hovered;
    }
    return o2;
  }, e2.prototype.$_canSortHandleVisible = function(t3, e3, i2) {
    switch (t3.handleVisibility) {
      case M.VISIBLE:
        return e3.sortOrder >= 0;
      case M.HOVERED:
        return i2.hovered && e3.sortOrder >= 0;
      case M.ALWAYS:
        return e3.sortable || e3.sortOrder >= 0;
      case M.HIDDEN:
        return false;
    }
  }, e2.prototype.$_canCheckHandleVisible = function(t3, e3) {
    return false;
  }, e2.prototype.$_canExpanderHandleVisible = function(t3) {
    return t3.isExpandable();
  }, e2.prototype.$_checkHeight = function() {
    return this._dirty && this._table.offsetHeight != this._rowPoints[this._rowPoints.length - 1];
  }, e2.prototype.$_getHeights = function(t3) {
    var e3 = this._tbody.rows;
    if (0 == t3.length) for (var i2 = 0, o2 = this._rowPoints.length - 1; i2 < o2; i2++) t3[i2] = 0;
    for (i2 = 0; i2 < t3.length; i2++) t3[i2] = Math.max(t3[i2], e3[i2] ? e3[i2].offsetHeight : 0);
  }, e2.prototype.$_adjustHeights = function(t3) {
    var e3 = this._tbody.rows, i2 = this._rowPoints;
    i2[0] = 0;
    for (var o2 = 0, r2 = i2.length - 1; o2 < r2; o2++) e3[o2].style.height = t3[o2] + "px", i2[o2 + 1] = i2[o2] + t3[o2];
    return i2[i2.length - 1];
  }, e2.prototype.$_distributeHeights = function(t3, e3) {
    for (var i2 = e3.length, o2 = 0, r2 = 0; r2 < i2; r2++) o2 += e3[r2];
    if (t3 > o2) {
      var n2 = this._tbody.rows, s2 = t3 - o2, a2 = s2;
      for (r2 = 0; r2 < i2 - 1; r2++) {
        var l2 = Math.floor(s2 * e3[r2] / o2);
        e3[r2] += l2, n2[r2].style.height = e3[r2] + "px", a2 -= l2;
      }
      e3[r2] += a2, n2[r2] && (n2[r2].style.height = e3[r2] + "px");
    }
  }, e2.RENDERER_STYLE = "rg-header-renderer", e2.CHECK_IMAGE_STYLE = "rg-header-check-image", e2;
}(Rl);
var Xl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getExplicitWidth = function(t3) {
    return t3.fixedWidth - t3.fixedBarWidth;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.fixedCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getFixedCellWidth(e3);
  }, e2.prototype._getCellWidth2 = function(t3, e3, i2) {
    return t3.getFixedCellWidth2(e3, i2);
  }, e2.prototype.tableCellByLayout2 = function(t3, e3) {
    return this.tableCellByLayout(e3);
  }, e2;
}(Kl);
var Zl = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getRightCellWidth(e3);
  }, e2.prototype._getCellWidth2 = function(t3, e3, i2) {
    return t3.getRightCellWidth2(e3, i2);
  }, e2.prototype.tableCellByLayout2 = function(t3, e3) {
    return this.tableCellByLayout(e3);
  }, e2;
}(Kl);
var Jl = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._refreshMode = $.ALL, i2._leftPos = 0, i2._rightFixed = true, i2._footerCount = 0, i2._headerSummaryCount = 0, i2._layoutCount = 0, i2._fixedLayoutCount = 0, i2._rightLayoutCount = 0, i2._firstLayout = 0, i2._lastLayout = 0, i2._layoutsLength = 0, i2._layouts = [], i2._layoutPoints = [], i2._fixedLayoutPoints = [], i2._rightLayoutPoints = [], i2._cellCount = 0, i2._fixedCellCount = 0, i2._rightCellCount = 0, i2._firstCell = 0, i2._lastCell = 0, i2._startCell = 0, i2._endCell = 0, i2._cellPoints = [], i2._fixedCellPoints = [], i2._rightCellPoints = [], i2._trs = 1, i2._rowGrouped = false, i2._items = [], i2._topIndex = 0, i2._itemCount = 0, i2._fixedItemCount = 0, i2._fullItemCount = 0, i2._fixedItemPoints = [], i2._itemPoints = [], i2._fixedTableRowCount = 0, i2._tableRowCount = 0, i2._fixedTableRowPoints = [], i2._tableRowPoints = [], i2._fixedTableItemPoints = [], i2._tableItemPoints = [], i2._fixedDataHeight = 0, i2._dataRowHeights = [], i2._dataHeight = 0, i2._fixedBarWidth = 0, i2._rightBarWidth = 0, i2._fixedBarHeight = 0, i2._itemsBounds = 0, i2._fixedWidth = 0, i2._rightWidth = 0, i2._fixedHeight = 0, i2._autoRowHeights = false, i2._minRowHeight = vl.MIN_TABLE_ROW_HEIGHT, i2._minItemHeight = vl.MIN_TABLE_ROW_HEIGHT, i2._maxHeight = vl.MIN_TABLE_ROW_HEIGHT, i2._itemHeight = 0, i2._hscrolled = false, i2._vscrolled = false, i2._hscrollBar = false, i2._vscrollBar = false, i2._scrollBarWidth = 0, i2._scrollBarHeight = 0, i2._scrollWidth = 0, i2._fitStyle = void 0, i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, this._rs = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerCount", { get: function() {
    return this._footerCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerSummaryCount", { get: function() {
    return this._headerSummaryCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vscrollBar", { get: function() {
    return this._vscrollBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hscrollBar", { get: function() {
    return this._hscrollBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollBarWidth", { get: function() {
    return this._scrollBarWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollBarHeight", { get: function() {
    return this._scrollBarHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataBounds", { get: function() {
    return this._dataBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bodyBounds", { get: function() {
    return this._bodyBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedBodyBounds", { get: function() {
    return this._fixedBodyBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "gridBounds", { get: function() {
    return this._gridBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerBounds", { get: function() {
    return this._headerBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryBounds", { get: function() {
    return this._summaryBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerBounds", { get: function() {
    return this._footerBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterPanelBounds", { get: function() {
    return this._filterPanelBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topContentBounds", { get: function() {
    return this._topContentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "leftContentBounds", { get: function() {
    return this._leftContentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowBarBounds", { get: function() {
    return this._rowBarBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sideContentBounds", { get: function() {
    return this._sideContentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "contentBounds", { get: function() {
    return this._contentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedContentBounds", { get: function() {
    return this._fixedContentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nonFixedBounds", { get: function() {
    return this._nonFixedBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightContentBounds", { get: function() {
    return this._rightContentBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headBounds", { get: function() {
    return this._headBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sumBounds", { get: function() {
    return this._sumBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footBounds", { get: function() {
    return this._footBounds;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedWidth", { get: function() {
    return this._fixedWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightWidth", { get: function() {
    return this._rightWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultItemHeight", { get: function() {
    return this._itemHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topIndex", { get: function() {
    return this._topIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemCount", { get: function() {
    return this._itemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedItemCount", { get: function() {
    return this._fixedItemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fullItemCount", { get: function() {
    return this._fullItemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedTableRowCount", { get: function() {
    return this._fixedTableRowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tableRowCount", { get: function() {
    return this._tableRowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "trs", { get: function() {
    return this._cellLayouts.dataRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "leftPos", { get: function() {
    return this._leftPos;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellLayouts", { get: function() {
    return this._cellLayouts;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "layoutCount", { get: function() {
    return this._layoutCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedLayoutCount", { get: function() {
    return this._fixedLayoutCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightLayoutCount", { get: function() {
    return this._rightLayoutCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstLayout", { get: function() {
    return this._firstLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastLayout", { get: function() {
    return this._lastLayout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightFirstLayout", { get: function() {
    return this._layoutCount - this._rightLayoutCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "layoutsLength", { get: function() {
    return this._layoutsLength;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellCount", { get: function() {
    return this._cellCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedCellCount", { get: function() {
    return this._fixedCellCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightCellCount", { get: function() {
    return this._rightCellCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstCell", { get: function() {
    return this._firstCell;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lastCell", { get: function() {
    return this._lastCell;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startCell", { get: function() {
    return this._startCell;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "endCell", { get: function() {
    return this._endCell;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "isColumnFitted", { get: function() {
    return !!this._fitStyle;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollWidth", { get: function() {
    return this._scrollWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedBarWidth", { get: function() {
    return this._fixedBarWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightBarWidth", { get: function() {
    return this._rightBarWidth;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedHeight", { get: function() {
    return this._fixedHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixedBarHeight", { get: function() {
    return this._fixedBarHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGrouped", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergedRowGrouped", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupFields", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupLevels", { get: function() {
    return 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clientRect", { get: function() {
    return this._clientRect;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerRows", { get: function() {
    return this._cellLayouts.headerRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataRows", { get: function() {
    return this._cellLayouts.dataRows;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topPanelVisible", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minRowHeight", { get: function() {
    return this._minRowHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minItemHeight", { get: function() {
    return this._minItemHeight;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fitStyle", { get: function() {
    return this._fitStyle;
  }, enumerable: false, configurable: true }), e2.prototype.syncHeight = function() {
    return this.grid.displayOptions.syncGridHeight !== Y.NONE;
  }, e2.prototype.fitSyncHeight = function() {
    return this._fitSyncHeight;
  }, e2.prototype.getStartCell = function(t3) {
    if (void 0 === t3 && (t3 = true), t3) return this._firstCell;
    var e3 = this.grid, i2 = e3.isRecycleMode();
    switch (this._refreshMode) {
      case $.VISIBLE_ONLY:
        return this._startCell;
      case $.RECYCLE:
        return i2 ? e3._needRefresh && e3._horzScrolled ? this._firstCell : this._startCell : this._firstCell;
      default:
        return this._firstCell;
    }
  }, e2.prototype.getEndCell = function(t3) {
    if (void 0 === t3 && (t3 = true), t3) return this._lastCell;
    var e3 = this.grid, i2 = e3.isRecycleMode();
    switch (this._refreshMode) {
      case $.VISIBLE_ONLY:
        return this._endCell;
      case $.RECYCLE:
        return i2 ? e3._needRefresh && e3._horzScrolled ? this._lastCell : this._endCell : this._lastCell;
      default:
        return this._lastCell;
    }
  }, e2.prototype.getLayout = function(t3) {
    return this._layouts[t3];
  }, e2.prototype.getLayoutBounds = function(t3) {
    return new it(this._layoutPoints[t3], 0, this._layoutPoints[t3 + 1] - this._layoutPoints[t3], 0);
  }, e2.prototype.getLayoutWidth = function(t3) {
    return this._layoutPoints[t3 + 1] - this._layoutPoints[t3];
  }, e2.prototype.getPositionToVIndex = function(t3) {
    for (var e3 = this._layoutPoints, i2 = 0; i2 < e3.length - 1; i2++) if (t3 >= e3[i2] && t3 < e3[i2 + 1]) return i2;
    return -1;
  }, e2.prototype.getFixedLayoutWidth = function(t3) {
    return this._fixedLayoutPoints[t3 + 1] - this._fixedLayoutPoints[t3];
  }, e2.prototype.getRightLayoutWidth = function(t3) {
    return this._rightLayoutPoints[t3 + 1] - this._rightLayoutPoints[t3];
  }, e2.prototype.getCellIndex = function(t3) {
    for (var e3 = this._cellPoints, i2 = 0; i2 < e3.length - 1; i2++) if (t3 >= e3[i2] && t3 < e3[i2 + 1]) return i2;
    return -1;
  }, e2.prototype.getHorzColumnIndex = function(t3) {
    for (var e3 = t3, i2 = 0; e3; ) i2 += !e3.group || e3.group.horizontal ? e3.vindex : 0, e3 = e3.group;
    return i2;
  }, e2.prototype.getLeftCell = function() {
    return this.getCellIndex(this._leftPos);
  }, e2.prototype.getCellPoint = function(t3) {
    return this._cellPoints[t3];
  }, e2.prototype.getCellWidth = function(t3) {
    return this._cellPoints[t3 + 1] - this._cellPoints[t3];
  }, e2.prototype.getCellWidth2 = function(t3, e3) {
    var i2 = this._cellPoints;
    return i2[Math.min(i2.length - 1, t3 + e3)] - i2[t3];
  }, e2.prototype.getFixedCellPoint = function(t3) {
    return this._fixedCellPoints[t3];
  }, e2.prototype.getFixedCellWidth = function(t3) {
    return this._fixedCellPoints[t3 + 1] - this._fixedCellPoints[t3];
  }, e2.prototype.getFixedCellWidth2 = function(t3, e3) {
    var i2 = this._fixedCellPoints;
    return i2[Math.min(i2.length - 1, t3 + e3)] - i2[t3];
  }, e2.prototype.getRightCellPoint = function(t3) {
    return this._rightCellPoints[t3];
  }, e2.prototype.getRightCellWidth = function(t3) {
    return this._rightCellPoints[t3 + 1] - this._rightCellPoints[t3];
  }, e2.prototype.getRightCellWidth2 = function(t3, e3) {
    var i2 = this._rightCellPoints;
    return i2[Math.min(i2.length - 1, t3 + e3)] - i2[t3];
  }, e2.prototype.$_getItems = function() {
    return this._items;
  }, e2.prototype.getItem = function(t3) {
    return this._items[t3];
  }, e2.prototype.getDataRowHeights = function(t3) {
    var e3 = this.grid.displayOptions, i2 = [], o2 = e3.dataHeights;
    if (o2 && o2.length > 0) for (var r2 = 0; r2 < t3; r2++) {
      var n2 = Math.floor(Math.max(e3.minTableRowHeight, o2[r2] || e3.minTableRowHeight));
      i2.push(n2);
    }
    return i2.slice();
  }, e2.prototype._calcDefaultRowHeight = function(t3) {
    var e3 = this.grid.displayOptions.rowHeight, i2 = this._dataRowHeights = this.getDataRowHeights(this._trs);
    return i2 && i2.length > 0 && (e3 = i2.reduce(function(t4, e4) {
      return t4 + e4;
    }, 0)), e3 <= 0 && (e3 = t3.heightMeasurer.rowHeight * this._trs), i2.length > 0 && this._maxHeight > 0 && (e3 > this._maxHeight || e3 < this._minItemHeight) && (this._dataRowHeights = []), this._maxHeight > 0 && (e3 = Math.min(this._maxHeight, e3)), e3 = Math.max(this._minItemHeight, e3);
  }, e2.prototype.measure = function(t3, e3, i2, o2, r2) {
    var n2 = this._grid;
    this._rs = n2.itemSource, this._cellLayouts = n2._activeCellLayout, this._footerCount = n2.footers.visibleCount, this._headerSummaryCount = n2.headerSummaries.visibleCount, this._leftPos = e3, this._topIndex = i2, this._focusIndex && !n2.isValid(this._focusIndex) && this._focusIndex.normalize(n2), this._prevVscrolled = this._vscrolled, this._prevHscrolled = this._hscrolled, this._doMeasure(t3, o2, r2), this._prevVscrolled === this._vscrolled && this._prevHscrolled === this._hscrolled || (n2._columnsDirty = true);
  }, e2.prototype.layout = function(t3) {
    var e3 = this._grid;
    e3.invalidateGridObject(), this._doLayout(e3, t3), this._adjustLayout(e3, this._gridBounds.clone()), this._prevFocused = this._focusIndex, this._focusIndex = null, this._oldSyncHeight = e3.displayOptions.syncGridHeight;
  }, e2.prototype.getItemHeight = function(t3) {
    var e3 = t3.index;
    return e3 < this._fixedItemCount ? this._fixedItemPoints[e3 + 1] - this._fixedItemPoints[e3] : (e3 -= this._fixedItemCount - this._topIndex, this._itemPoints[e3 + 1] - this._itemPoints[e3]);
  }, e2.prototype.getTableItemHeight = function(t3) {
    return t3 < this._fixedItemCount ? this._fixedTableItemPoints[t3 + 1] - this._fixedTableItemPoints[t3] : (t3 -= this._fixedItemCount, this._tableItemPoints[t3 + 1] - this._tableItemPoints[t3]);
  }, e2.prototype.getTableItemIndex = function(t3) {
    for (var e3 = 0; e3 < this._fixedItemCount; e3++) if (t3 <= this._fixedTableItemPoints[e3 + 1]) return e3;
    for (e3 = 0; e3 < this._itemCount; e3++) if (t3 <= this._tableItemPoints[e3 + 1]) return e3 + this._fixedItemCount;
    return -1;
  }, e2.prototype.getTableItemTop = function(t3) {
    return t3 < this._fixedItemCount ? this._fixedTableItemPoints[t3] : (t3 -= this._fixedItemCount, this._tableItemPoints[t3]);
  }, e2.prototype.getTableItemBottom = function(t3) {
    return t3 < this._fixedItemCount ? this._fixedTableItemPoints[t3 + 1] : (t3 -= this._fixedItemCount, this._tableItemPoints[t3 + 1]);
  }, e2.prototype.getItemBounds = function(t3) {
    var e3, i2;
    return this._fixedItemCount > 0 && t3 < this._fixedItemCount ? (e3 = this._fixedItemPoints[t3], i2 = this._fixedItemPoints[t3 + 1] - e3) : (t3 -= this._fixedItemCount, e3 = this._itemPoints[t3], i2 = this._itemPoints[t3 + 1] - e3), new it(0, e3, 1e3, i2);
  }, e2.prototype.getItemRect = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var i2, o2, r2 = (e3 ? this._fixedContentBounds : this._bodyBounds).y;
    return this._fixedItemCount > 0 && t3 < this._fixedItemCount ? (i2 = this._fixedItemPoints[t3] + r2, o2 = this._fixedItemPoints[t3 + 1] + r2 - i2) : (t3 -= this._fixedItemCount, i2 = this._itemPoints[t3] + r2, o2 = this._itemPoints[t3 + 1] + r2 - i2), new it(0, i2, 1e3, o2);
  }, e2.prototype.getTableItemBounds = function(t3) {
    var e3, i2;
    return this._fixedItemCount > 0 && t3 < this._fixedItemCount ? (e3 = this._fixedTableItemPoints[t3], i2 = this._fixedTableItemPoints[t3 + 1] - e3) : (t3 -= this._fixedItemCount, e3 = this._tableItemPoints[t3], i2 = this._tableItemPoints[t3 + 1] - e3), new it(0, e3, 1e3, i2);
  }, e2.prototype.getTableRowHeightFixed = function(t3, e3) {
    var i2 = this._fixedTableRowPoints.length;
    return t3 < i2 - 1 ? this._fixedTableRowPoints[Math.min(t3 + e3, i2 - 1)] - this._fixedTableRowPoints[t3] : (i2 > 1 && (t3 -= i2), this._tableRowPoints[Math.min(t3 + e3, this._tableRowPoints.length - 1)] - this._tableRowPoints[t3]);
  }, e2.prototype.getTableRowHeight = function(t3, e3) {
    return t3 < this._fixedTableRowCount ? this._fixedTableRowPoints[Math.min(t3 + e3, this._fixedTableRowPoints.length - 1)] - this._fixedTableRowPoints[t3] : (this._fixedItemCount > 0 && (t3 -= this._fixedItemCount * this._trs + 1), this._tableRowPoints[Math.min(t3 + e3, this._tableRowPoints.length - 1)] - this._tableRowPoints[t3]);
  }, e2.prototype.getTableRowBounds = function(t3, e3) {
    var i2, o2;
    return this._fixedTableRowCount > 0 && t3 < this._fixedTableRowCount ? (i2 = this._fixedTableRowPoints[t3], o2 = this._fixedTableRowPoints[Math.min(t3 + e3, this._fixedTableRowCount)] - i2) : (this._fixedTableRowCount > 0 && (t3 -= this._fixedTableRowCount + 1), i2 = this._tableRowPoints[t3], o2 = this._tableRowPoints[Math.min(t3 + e3, this._tableRowCount)] - i2), new it(0, i2, 1e3, o2);
  }, e2.prototype.getTableRowIndex = function(t3) {
    t3 -= this.contentBounds.y + this.bodyBounds.y;
    for (var e3 = 0; e3 < this._fixedTableRowCount; e3++) if (t3 <= Math.round(this._fixedTableRowPoints[e3 + 1])) return e3;
    for (e3 = 0; e3 < this._tableRowCount; e3++) if (t3 <= Math.round(this._tableRowPoints[e3 + 1])) return e3 + (this._fixedTableRowCount > 0 ? this._fixedTableRowCount + 1 : 0);
    return -1;
  }, e2.prototype.setLeftPos = function(t3, e3) {
    var i2 = this._grid;
    this._leftPos = e3, this.$_calcLeftPos(), i2.contentPane.x = this._contentBounds.x = this.fixedContentBounds.right - this._leftPos;
  }, e2.prototype.isMergedCell = function(t3) {
    return false;
  }, e2.prototype.getMergeRoom = function(t3) {
    var e3 = t3.layout;
    if (e3 instanceof _s && e3.canMerge()) {
      var i2 = e3.merges;
      return i2 && i2.getRoom(t3);
    }
    return null;
  }, e2.prototype.getHeaderCellAt = function(t3, e3, i2) {
    void 0 === i2 && (i2 = false);
    var o2, r2 = this._grid, n2 = this._cellLayouts._headerCells, s2 = -1;
    if (t3 < this._fixedContentBounds.right) {
      o2 = r2.fixedHeaderView, t3 -= this._fixedContentBounds.x;
      for (var a2 = 0; a2 < this._fixedCellCount; a2++) if (t3 >= this._fixedCellPoints[a2] && t3 < this._fixedCellPoints[a2 + 1]) {
        s2 = a2;
        break;
      }
    } else if (t3 > this._rightContentBounds.x) {
      o2 = r2.rightHeaderView, t3 -= this._rightContentBounds.x;
      for (a2 = 0; a2 < this._rightCellCount; a2++) if (t3 >= this._rightCellPoints[a2] && t3 < this._rightCellPoints[a2 + 1]) {
        s2 = a2 + this._cellCount - this._rightCellCount;
        break;
      }
    } else {
      o2 = r2.headerView, t3 -= this._contentBounds.x;
      for (a2 = 0; a2 < this._cellPoints.length; a2++) if (t3 >= this._cellPoints[a2] && t3 < this._cellPoints[a2 + 1]) {
        s2 = a2 + this._fixedCellCount;
        break;
      }
    }
    if (s2 >= 0) {
      var l2 = n2[o2.getRowAt(e3 - this._headerBounds.y - this._contentBounds.y)][s2];
      return (l2 = o2.getSpanRoot(l2)) && !i2 ? l2.source : l2;
    }
  }, e2.prototype.getHeaderCellRect = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var i2, o2, r2 = this.grid, n2 = t3.hcol, s2 = this.cellCount - this.rightCellCount;
    if (n2 < this._fixedCellCount) {
      var a2 = this._fixedContentBounds.x, l2 = n2, h2 = (o2 = r2.fixedHeaderView.tableCellByLayout(t3)) ? o2.colSpan : t3.cols;
      i2 = new it(this._fixedCellPoints[l2] + a2, 0, this._fixedCellPoints[l2 + h2] - this._fixedCellPoints[l2], 0);
    } else if (n2 >= s2) {
      a2 = this._rightContentBounds.x + this._grid.fixedOptions.colBarWidth, l2 = n2 - s2, h2 = (o2 = r2.rightHeaderView.tableCellByLayout(t3)) ? o2.colSpan : t3.cols;
      i2 = new it(this._rightCellPoints[l2] + a2, 0, this._rightCellPoints[l2 + h2] - this._rightCellPoints[l2], 0);
    } else {
      a2 = this._contentBounds.x, l2 = n2 - this._fixedCellCount, h2 = (o2 = r2.headerView.tableCellByLayout(t3)) ? o2.colSpan : t3.cols;
      i2 = new it(this._cellPoints[l2] + a2, 0, this._cellPoints[l2 + h2] - this._cellPoints[l2], 0);
    }
    return i2.y = this._contentBounds.y + r2.headerView.getLayoutPos(t3), i2.height = r2.headerView.getLayoutHeight(t3, o2, e3), i2;
  }, e2.prototype.getDataRect = function(t3) {
    var e3, i2 = (t3 = t3.source).col, o2 = t3 instanceof vs ? t3._clen : t3._defColSpan, r2 = this.cellCount - this.rightCellCount;
    if (i2 < this._fixedCellCount) {
      var n2 = this._fixedContentBounds.x, s2 = i2;
      e3 = new it(this._fixedCellPoints[s2] + n2, 0, this._fixedCellPoints[s2 + o2] - this._fixedCellPoints[s2], 0);
    } else if (i2 >= r2) {
      n2 = this._rightContentBounds.x + this._grid.fixedOptions.colBarWidth, s2 = i2 - r2;
      e3 = new it(this._rightCellPoints[s2] + n2, 0, this._rightCellPoints[s2 + o2] - this._rightCellPoints[s2], 0);
    } else {
      n2 = this._contentBounds.x, s2 = i2 - this._fixedCellCount;
      e3 = new it(this._cellPoints[s2] + n2, 0, this._cellPoints[s2 + o2] - this._cellPoints[s2], 0);
    }
    return e3;
  }, e2.prototype.getBodyView = function(t3) {
    var e3 = this.rightFirstLayout, i2 = (t3 instanceof ps ? t3 : t3.layout).root.vindex;
    return i2 < this._fixedLayoutCount ? this._grid.fixedBodyView : i2 >= e3 ? this._grid.rightBodyView : this._grid.bodyView;
  }, e2.prototype.$_getItemIndexByPosY = function(t3, e3) {
    var i2 = this.grid, o2 = this._trs, r2 = -1, n2 = 0, s2 = function(t4, e4, i3) {
      for (var s3 = 0; s3 < e4 * o2; s3++) t4 >= i3[s3] && t4 < i3[s3 + 1] && (r2 = 0 === s3 ? 0 : Math.floor(s3 / o2), n2 = 0 === s3 ? 0 : s3 % o2);
    }, a2 = i2.bodyView.boundsByContainer();
    return t3 < i2.headerView.boundsByContainer().y ? r2 = e3 ? i2.topItem : -3 : t3 >= a2.y && t3 < a2.y + this.dataBounds.height ? (t3 -= a2.y, this._fixedItemCount > 0 && t3 < this._fixedHeight ? s2(t3, this._fixedItemCount, this._fixedTableRowPoints) : (s2(t3, this._itemCount, this._tableRowPoints), r2 >= 0 && (r2 += i2.topItem))) : e3 ? r2 = this._itemCount + i2.topItem : (s2(t3, this._footerCount, i2.footerView._rowPoints), r2 = -2), { itemIndex: r2, rowIndex: n2 };
  }, e2.prototype.mouseToIndex = function(t3, e3, i2, o2) {
    if (o2.set(-1, null), this._layoutCount < 1) return o2;
    var r2 = this.grid;
    if (o2.itemIndex = this.$_getItemIndexByPosY(i2, true).itemIndex, t3) {
      var n2 = r2.getCellViewOf(t3), s2 = n2 && r2.getBodyView(n2), a2 = s2 instanceof Ul && s2.layoutByCell(n2);
      if (a2) return o2.layout = a2, o2;
    }
    return o2;
  }, e2.prototype.mouseToIndex2 = function(t3, e3, i2) {
    var o2, r2, n2 = this.grid, s2 = this.cellLayouts._dataCells, a2 = this.$_getItemIndexByPosY(e3, i2), l2 = a2.itemIndex, h2 = function(t4, e4, i3) {
      for (var o3 = 0; o3 < e4; o3++) if (t4 >= i3[o3] && t4 < i3[o3 + 1]) return o3;
    }, u2 = s2[a2.rowIndex], c2 = this._cellCount - this._fixedCellCount - this._rightCellCount;
    return t3 > 0 && (t3 > this._rightContentBounds.x ? (r2 = h2(t3 -= this._rightContentBounds.x, this._rightCellCount, this._rightCellPoints), o2 = u2 && u2[this._fixedCellCount + c2 + r2]) : (t3 -= this._rowBarBounds.width) < this._fixedWidth ? (r2 = h2(t3, this._fixedCellCount, this._fixedCellPoints), o2 = u2 && u2[r2]) : (r2 = h2(t3 = t3 - this._fixedWidth + this.leftPos, c2, this._cellPoints), o2 = u2 && u2[this._fixedCellCount + r2])), i2 && !o2 && (o2 = t3 <= 0 ? u2 && u2[0] : u2 && u2[u2.length - 1]), new Ts(n2, l2, o2 && o2.source);
  }, e2.prototype.cellIsVisible = function(t3) {
    var e3 = t3.itemIndex, i2 = this._fixedItemCount, o2 = this._cellLayouts, r2 = this._cellPoints;
    if (e3 >= i2) {
      if (e3 < this._topIndex + i2) return false;
      if (this._itemCount + i2 === 0) return false;
      if (0 == this._fullItemCount && e3 == this._topIndex + i2) return true;
      if (e3 >= this._topIndex + i2 + this._fullItemCount) return false;
    }
    var n2 = t3.layout;
    if (o2 !== this.grid.activeCellLayout || !o2.contains(n2) || !o2.getDataCellPos(n2.firstColumn)) return false;
    var s2 = n2.col;
    if (s2 >= (i2 = this._fixedLayoutCount)) {
      if (r2[s2 = n2.col - this._fixedCellCount] < this._leftPos) return false;
      if (r2[s2 + n2.cols] - this._leftPos > this._nonFixedBounds.width) return false;
    }
    return true;
  }, e2.prototype.clearFocusRequest = function() {
    this._focusIndex = null;
  }, e2.prototype.focusIsVisible = function(t3) {
    return (t3 = t3 || this._focusIndex) && this.cellIsVisible(t3);
  }, e2.prototype.makeCellVisible = function(t3) {
    this._focusIndex = t3.clone();
  }, e2.prototype.isAutoRowHeights = function() {
    return this._autoRowHeights;
  }, e2.prototype.isRowGrouped = function() {
    return this._rowGrouped;
  }, e2.prototype.scrollToNextCell = function() {
    for (var t3 = 0; t3 < this._cellCount; t3++) if (this._cellPoints[t3] > this._leftPos) return this._cellPoints[t3];
    return this._leftPos;
  }, e2.prototype.scrollToPrevCell = function() {
    for (var t3 = this._cellCount - 1; t3 >= 0; t3--) if (this._cellPoints[t3] < this._leftPos) return this._cellPoints[t3];
    return this._leftPos;
  }, e2.prototype.needRelayout = function() {
    return this._autoRowHeights && this._fitStyleChanged && this._fitStyle == S.EVEN_FILL || this.syncHeight() && this._fitSyncChanged;
  }, e2.prototype.$_calcFixedCellPoints = function(t3, e3) {
    var i2 = this._layoutCount = e3.visibleCount, o2 = e3._cellWidths, r2 = this._fixedLayoutCount = Math.min(t3.colCount, i2);
    if (this._rightLayoutCount = Math.max(0, Math.min(t3.rightCount, i2 - r2 - 1)), this._rightFixed = t3.rightFixed, this._cellCount = 0, this._fixedCellCount = 0, this._rightCellCount = 0, this._layouts = [], this._fixedLayoutPoints = [], this._fixedWidth = 0, this._rightWidth = 0, this._rightBarWidth = 0, this._fixedCellPoints = [], r2 > 0) {
      var n2 = this._layouts, s2 = this._fixedLayoutPoints, a2 = this._fixedCellPoints, l2 = 0, h2 = 0;
      s2.push(l2), a2.push(l2);
      for (var u2 = 0; u2 < r2; u2++) {
        for (var c2 = e3.getVisible(u2), d2 = c2.cols, p2 = 0; p2 < d2; p2++) l2 += o2[h2++], a2.push(l2);
        n2.push(c2), s2.push(l2);
      }
      this._fixedCellCount = this._cellCount = h2, this._fixedWidth = s2[r2] + (this._fixedBarWidth = t3.colBarWidth);
    }
  }, e2.prototype.$_calcCellPoints = function(t3) {
    var e3 = t3.visibleCount - this._fixedLayoutCount - this._rightLayoutCount, i2 = t3._cellWidths, o2 = this._layoutPoints = [], r2 = this._cellPoints = [], n2 = this._fixedLayoutCount, s2 = this._layouts;
    if (this._firstCell = this._lastCell = this._cellCount, this._layoutsLength = 0, e3 > 0) {
      var a2 = 0, l2 = this._cellCount;
      o2.push(a2), r2.push(a2);
      for (var h2 = 0; h2 < e3; h2++) {
        for (var u2 = t3.getVisible(h2 + n2), c2 = u2.cols, d2 = 0; d2 < c2; d2++) a2 += i2[l2++], r2.push(a2);
        s2.push(u2), o2.push(a2);
      }
      this._layoutsLength = a2, this._cellCount = l2, this._lastCell = l2 - 1;
    }
  }, e2.prototype.$_calcRightCellPoints = function(t3, e3) {
    var i2 = e3._cellWidths, o2 = this._layoutCount, r2 = this._rightLayoutPoints = [], n2 = this._rightCellPoints = [], s2 = this._layouts;
    if (this._rightLayoutCount > 0) {
      var a2 = 0, l2 = this._cellCount;
      r2.push(a2), n2.push(a2);
      for (var h2 = o2 - this._rightLayoutCount; h2 < o2; h2++) {
        for (var u2 = e3.getVisible(h2), c2 = 0; c2 < u2.cols; c2++) a2 += i2[l2++], n2.push(a2);
        s2.push(u2), r2.push(a2);
      }
      this._rightCellCount = l2 - this._cellCount, this._cellCount = l2, this._rightWidth = r2[this._rightLayoutCount] + (this._rightBarWidth = t3.rightBarWidth);
    }
  }, e2.prototype.$_calcScrollWidth = function(t3) {
    this._scrollWidth = t3.width - this._leftContentBounds.width - this._sideContentBounds.width - this._fixedContentBounds.width - this._rightContentBounds.width;
  }, e2.prototype.$_calcLeftPos = function() {
    var t3 = this._focusIndex && this._focusIndex.layout, e3 = this._leftPos;
    if (t3) {
      var i2 = t3.root.vindex, o2 = this._cellPoints, r2 = this.grid, n2 = r2.editOptions.focusMoveStep === ys.GROUP;
      if (!r2.isSwiping && i2 >= this._fixedLayoutCount && i2 < this.rightFirstLayout) {
        var s2 = t3.col - this._fixedCellCount, a2 = o2[s2], l2 = r2.displayOptions.horzPageScroll && "keydown" === r2._eventFrom && r2._prevTop === this._topIndex;
        if (a2 < this._leftPos) l2 && this._leftPos >= o2[s2 + 1] && (a2 = a2 - (this.gridBounds.width + o2[s2] - o2[s2 + 1]) + (this._fixedContentBounds.width + this._rightContentBounds.width)), e3 = a2;
        else {
          var h2 = t3.getAncestor(r2.displayOptions.groupFocusLevel), u2 = o2[s2 + (n2 ? h2.cols : t3.cols)] - this._leftPos - this._scrollWidth;
          l2 && o2[s2] - this._leftPos >= this._scrollWidth && (u2 = Math.max(o2[s2] - o2[this.getLeftCell()], u2)), u2 > 0 && (e3 = Math.min(a2, this._leftPos + u2));
        }
      }
    }
    (e3 = Math.max(0, Math.min(e3, this._layoutsLength - this._scrollWidth))) !== this._leftPos && (this.grid._horzScrolled = true, this._leftPos = e3), this._firstLayout = this._fixedLayoutCount, this._lastLayout = this._layoutCount > 0 ? this._layoutCount - this._rightLayoutCount - 1 : -1;
  }, e2.prototype.$_checkFitting = function(t3, e3) {
    var i2 = t3.fitStyle, o2 = this.grid, r2 = o2.fixedOptions, n2 = o2.activeCellLayout.count;
    if (i2 != S.NONE) {
      if (n2 >= 0 && r2.colCount + r2.rightCount >= n2) return t3.fitStyleIncludeFixed ? i2 : void 0;
      var s2 = this._cellPoints, a2 = s2.length;
      if (a2 > 0) return i2 == S.EVEN_FILL || e3 - s2[a2 - 1] > 0 ? i2 : void 0;
    }
  }, e2.prototype.$_fitColumns = function(t3, e3, i2) {
    var o2 = t3.fitStyle, r2 = this._fixedLayoutCount, n2 = false;
    if (t3.fitStyleIncludeFixed && this._fixedCellCount + this._rightCellCount > 0) {
      var s2 = this._layouts.slice(0, r2), a2 = this._layouts.slice(r2, this.rightFirstLayout), l2 = this._layouts.slice(this.rightFirstLayout), h2 = [{ points: this._fixedLayoutPoints, layouts: s2, cellPoints: this._fixedCellPoints }, { points: this._layoutPoints, layouts: a2, cellPoints: this._cellPoints }, { points: this._rightLayoutPoints, layouts: l2, cellPoints: this._rightCellPoints }], u2 = 0;
      h2.forEach(function(t4) {
        var e4 = t4.points;
        e4.length > 0 && (u2 += e4[e4.length - 1]);
      });
      var c2 = this._clientRect.width - this._leftContentBounds.width - this._sideContentBounds.width - this._scrollBarWidth;
      if (c2 = c2 - (this._fixedCellCount ? this._fixedBarWidth : 0) - (this._rightCellCount ? this._rightBarWidth : 0), o2 === S.FILL) {
        var d2 = 0, p2 = 0, f2 = [];
        h2.forEach(function(t4) {
          for (var e4 = t4.points, i3 = t4.widths = [], o3 = 1; o3 < e4.length; o3++) {
            var r3 = e4[o3] - e4[o3 - 1];
            f2.push(r3), i3.push(r3);
          }
        });
        for (var _2 = 0; _2 < this._layouts.length; _2++) {
          (x2 = (k2 = this._layouts[_2]).fillWidth) > 0 ? d2 += x2 : p2 += f2[_2];
        }
        (n2 = d2 > 0) && (p2 = c2 - p2, h2.forEach(function(t4) {
          for (var e4 = t4.points, i3 = 1; i3 < e4.length; i3++) {
            var o3 = t4.layouts[i3 - 1].fillWidth;
            e4[i3] = o3 > 0 ? e4[i3 - 1] + o3 * p2 / d2 : e4[i3 - 1] + t4.widths[i3 - 1];
          }
        }));
      }
      n2 || h2.forEach(function(t4) {
        for (var e4 = t4.points, i3 = 1; i3 < e4.length; i3++) e4[i3] = Math.round(e4[i3] * (c2 / u2));
      }), h2.forEach(function(e4, i3) {
        var o3 = e4.points, r3 = e4.cellPoints, n3 = o3.length, s3 = 0;
        r3.length = 0, r3.push(s3);
        for (var a3 = 0; a3 < n3 - 1; a3++) {
          for (var l3 = e4.layouts[a3], h3 = o3[a3 + 1] - o3[a3], u3 = l3.cols, c3 = s3, d3 = l3._setFitWidth(h3, null, t3.fitStyle), p3 = 0; p3 < u3 - 1; p3++) c3 += d3[p3], r3.push(Math.round(c3));
          s3 += h3, r3.push(Math.round(s3));
        }
        r3[r3.length - 1] = o3[n3 - 1];
      }), this._layoutsLength = Ot.getLast(this._layoutPoints) || 0, this._fixedWidth = this._fixedCellCount ? Ot.getLast(this._fixedLayoutPoints) + this._fixedBarWidth : 0, this._rightWidth = this._rightCellCount ? Ot.getLast(this._rightLayoutPoints) + this._rightBarWidth : 0, this._fixedContentBounds.width = this._fixedWidth, this.$_measureFixedPane(this.grid), this._contentBounds.left = this._fixedContentBounds.right, this._contentBounds.width = this._layoutsLength, this.$_measureContentPane(this.grid), this._rightContentBounds.left = this._contentBounds.right + this._scrollBarWidth, this._rightContentBounds.width = this._rightWidth, this.$_measureRightPane(this.grid), this._nonFixedBounds = new it(this._fixedContentBounds.right, this._fixedContentBounds.y, this._layoutsLength, this._fixedContentBounds.height);
    } else {
      for (_2 = 0; _2 < this._layoutCount; _2++) {
        (k2 = this._cellLayouts.getVisible(_2)).isFixed && k2._clearFitWidth();
      }
      var g2 = this._layoutsLength, y2 = this._layoutPoints, m2 = y2.length, b2 = [];
      for (_2 = 1; _2 < y2.length; _2++) b2.push(y2[_2] - y2[_2 - 1]);
      if (m2 > 0) {
        var v2 = this._layouts;
        if (o2 == S.FILL) {
          var w2 = 0, C2 = 0;
          for (_2 = 0; _2 < m2 - 1; _2++) {
            var x2;
            (x2 = v2[_2 + r2].fillWidth) > 0 ? C2 += x2 : w2 += b2[_2];
          }
          if (n2 = C2 > 0) {
            w2 = i2 - w2;
            for (_2 = 1; _2 < m2; _2++) {
              var I2 = (k2 = v2[_2 - 1 + r2]).fillWidth;
              y2[_2] = I2 > 0 ? y2[_2 - 1] + I2 * w2 / C2 : y2[_2 - 1] + b2[_2 - 1];
            }
          }
        }
        if (!n2) for (_2 = 1; _2 < m2; _2++) y2[_2] = y2[_2] * i2 / g2;
        var E2 = 0;
        for (_2 = 0; _2 < m2 - 1; _2++) y2[_2] = Math.round(y2[_2]);
        for (_2 = 1; _2 < m2 - 1; _2++) {
          var O2 = y2[_2] - y2[_2 - 1];
          O2 < 2 ? (E2 = 2 - O2, y2[_2] += 2 - O2) : E2 > 0 && O2 > 2 + E2 && (y2[_2] -= E2, E2 = 0);
        }
        var R2 = this._cellPoints = [], P2 = 0;
        R2.push(P2);
        for (_2 = 0; _2 < m2 - 1; _2++) {
          for (var k2 = this._cellLayouts.getVisible(_2 + r2), D2 = y2[_2 + 1] - y2[_2], T2 = k2.cols, M2 = P2, F2 = k2._setFitWidth(D2, null, o2), L2 = 0; L2 < T2 - 1; L2++) M2 += F2[L2], R2.push(Math.round(M2));
          P2 += D2, R2.push(Math.round(P2));
        }
        R2[R2.length - 1] = y2[m2 - 1] = i2;
      }
      this._layoutsLength = y2[m2 - 1] = i2;
    }
  }, e2.prototype.$_measureTopPane = function(t3) {
    this._doMeasureTopPane(t3, this._topContentBounds);
  }, e2.prototype._doMeasureTopPane = function(t3, e3) {
    e3.height = 0;
  }, e2.prototype.$_measureViewHeights = function(t3, e3) {
    var i2;
    i2 = 0, t3.header.visible ? (this._headerBounds = e3.clone(), i2 = t3.headerView.measure(t3, e3.width, e3.height).height, this._headerBounds.height = i2) : this._headerBounds ? this._headerBounds.setEmpty() : this._headerBounds = new it(), this._fixedHeaderBounds = this._headerBounds.clone(), this._rightHeaderBounds = this._headerBounds.clone(), this._headBounds.y = e3.y, this._headBounds.height = i2, e3.topBy(i2), i2 = 0, t3.filterPanel.visible ? (this._filterPanelBounds = e3.clone(), i2 = t3.filterPanelView.measure(t3, e3.width, e3.height).height, this._filterPanelBounds.height = i2) : (this._filterPanelBounds = this._filterPanelBounds || new it(), this._filterPanelBounds.setEmpty()), this._fixedFilterBounds = this._filterPanelBounds.clone(), this._rightFilterBounds = this._filterPanelBounds.clone(), this._filterBounds.y = e3.y, this._filterBounds.height = i2, e3.topBy(i2), i2 = 0, t3.headerSummaries.canShow ? (this._summaryBounds = e3.clone(), i2 = t3.headerSummaryView.measure(t3, e3.width, e3.height).height, t3.fixedHeaderSummaryView, this._summaryBounds.height = i2) : this._summaryBounds ? this._summaryBounds.setEmpty() : this._summaryBounds = new it(), this._fixedSummaryBounds = this._summaryBounds.clone(), this._rightSummaryBounds = this._summaryBounds.clone(), this._sumBounds.y = e3.y, this._sumBounds.height = i2, e3.topBy(i2), i2 = 0, t3.footers.canShow ? (this._footerBounds = e3.clone(), i2 = t3.footerView.measure(t3, e3.width, e3.height).height, this._footerBounds.height = i2) : this._footerBounds ? this._footerBounds.setEmpty() : this._footerBounds = new it(), this._fixedFooterBounds = this._footerBounds.clone(), this._rightFooterBounds = this._footerBounds.clone(), this._footBounds.y = e3.bottom - this._footerBounds.height, this._footBounds.height = i2;
    var o2 = this._sumBounds.bottom;
    i2 = this._footBounds.y - o2, this._rowBarBounds.y = o2, this._rowBarBounds.height = i2;
  }, e2.prototype.$_measureLeftPane = function(t3) {
    var e3, i2 = this._leftContentBounds.clone().move();
    this._headBounds = i2.clone(), this._sumBounds = i2.clone(), this._footBounds = i2.clone(), this._filterBounds = i2.clone(), e3 = t3.rowBarContainer.measure(t3, i2.width, i2.height), this._rowBarBounds = i2.clone(), this._rowBarBounds.width = e3.width, this._leftContentBounds.width = e3.width, i2.leftBy(e3.width), this._headBounds.width = this._sumBounds.width = this._footBounds.width = this._filterBounds.width = this._leftContentBounds.width;
  }, e2.prototype._measureSidePane = function(t3) {
    var e3 = t3.sideContentPane;
    if (t3.isSidePaneVisible()) {
      var i2 = this._sideContentBounds.clone(), o2 = e3.measure(t3, i2.width, i2.height);
      this._sideContentBounds.width = o2.width;
    } else e3 && e3.measure(t3, 0, 0), this._sideContentBounds.width = 0;
  }, e2.prototype.$_measureFixedPane = function(t3) {
    var e3 = this._fixedContentBounds.width = this._fixedWidth, i2 = this._fixedContentBounds.clone().move();
    this._fixedHeaderBounds.x = i2.x, this._fixedHeaderBounds.y = i2.y, this._fixedHeaderBounds.width = i2.width, i2.topBy(this._fixedHeaderBounds.height), this._fixedFilterBounds.x = i2.x, this._fixedFilterBounds.y = i2.y, this._fixedFilterBounds.width = i2.width, i2.topBy(this._fixedFilterBounds.height), e3 > 0 && (t3.fixedFilterView._rowPoints = t3.filterPanelView._rowPoints.slice()), this._fixedSummaryBounds.x = i2.x, this._fixedSummaryBounds.y = this._fixedFilterBounds.bottom, this._fixedSummaryBounds.width = i2.width, i2.topBy(this._fixedSummaryBounds.height), e3 > 0 && (t3.fixedHeaderSummaryView._rowPoints = t3.headerSummaryView._rowPoints.slice()), this._fixedFooterBounds.x = i2.x, this._fixedFooterBounds.y = i2.bottom - this._fixedFooterBounds.height, this._fixedFooterBounds.width = i2.width, i2.bottomBy(-this._fixedFooterBounds.height), e3 > 0 && (t3.fixedFooterView._rowPoints = t3.footerView._rowPoints.slice()), this._fixedBodyBounds = i2;
  }, e2.prototype.$_measureRightPane = function(t3) {
    var e3 = this._rightWidth;
    this._rightContentBounds.width = e3;
    var i2 = this._rightContentBounds.clone();
    i2.x = this._rightBarWidth, i2.y = 0, i2.width -= i2.x, this._rightHeaderBounds.x = i2.x, this._rightHeaderBounds.y = i2.y, this._rightHeaderBounds.width = i2.width, i2.topBy(this._rightHeaderBounds.height), this._rightFilterBounds.x = i2.x, this._rightFilterBounds.y = i2.y, this._rightFilterBounds.width = i2.width, i2.topBy(this._rightFilterBounds.height), e3 > 0 && (t3.rightFilterView._rowPoints = t3.filterPanelView._rowPoints.slice()), this._rightSummaryBounds.x = i2.x, this._rightSummaryBounds.y = this._rightFilterBounds.bottom, this._rightSummaryBounds.width = i2.width, i2.topBy(this._rightSummaryBounds.height), e3 > 0 && (t3.rightHeaderSummaryView._rowPoints = t3.headerSummaryView._rowPoints.slice()), this._rightFooterBounds.x = i2.x, this._rightFooterBounds.y = i2.bottom - this._rightFooterBounds.height, this._rightFooterBounds.width = i2.width, i2.bottomBy(-this._rightFooterBounds.height), e3 > 0 && (t3.rightFooterView._rowPoints = t3.footerView._rowPoints.slice()), this._rightBodyBounds = i2;
  }, e2.prototype.$_measureContentPane = function(t3) {
    var e3 = this._layoutsLength;
    this._contentBounds.width = e3;
    var i2 = this._contentBounds.clone();
    i2.x = i2.y = 0, this._headerBounds && (this._headerBounds.x = i2.x, this._headerBounds.y = i2.y, this._headerBounds.width = i2.width, i2.topBy(this._headerBounds.height)), this._filterPanelBounds && (this._filterPanelBounds.x = i2.x, this._filterPanelBounds.y = i2.y, this._filterPanelBounds.width = i2.width, i2.topBy(this._filterPanelBounds.height)), this._summaryBounds && (this._summaryBounds.x = i2.x, this._summaryBounds.y = this._filterPanelBounds.bottom, this._summaryBounds.width = i2.width, i2.topBy(this._summaryBounds.height)), this._dataBounds = i2.clone(), this._footerBounds && (this._footerBounds.x = i2.x, this._footBounds.y = this._footerBounds.y = i2.bottom - this._footerBounds.height, this._footerBounds.width = i2.width, i2.bottomBy(-this._footerBounds.height)), this._bodyBounds = i2;
  }, e2.prototype.getRowHeightOfCallback = function(t3, e3) {
    var i2 = t3.getItem(e3), o2 = t3.displayOptions.rowHeightCallback;
    if (o2) {
      var r2 = o2.call(this, t3.handler, i2.type, e3), n2 = [], s2 = void 0, a2 = this.trs;
      if (null != r2) {
        if (Array.isArray(r2)) {
          n2 = r2.slice(0, a2);
          for (l2 = r2.length; l2 < a2; l2++) n2.push(this.minRowHeight);
        } else {
          s2 = 0;
          for (var l2 = 1; l2 < a2; l2++) {
            var h2 = Math.max(this.minRowHeight, l2 % 2 ? Math.floor(r2 / a2) : Math.round(r2 / a2));
            n2.push(h2), s2 += h2;
          }
          n2.push(Math.max(r2 - s2, this.minRowHeight));
        }
        var u2 = n2.reduce(function(t4, e4) {
          return t4 + e4;
        }, 0);
        return i2.heights = n2.slice(), u2;
      }
    }
  }, e2.prototype.$_getItemHeight = function(t3, e3) {
    var i2 = t3.getItem(e3), o2 = i2.height;
    if (!isNaN(o2)) return o2;
    if (this._autoRowHeights) return this._minItemHeight;
    if (t3.displayOptions.rowHeightCallback && Ot.included(i2.type, B.ROW, B.TREE)) {
      var r2 = this.getRowHeightOfCallback(t3, e3);
      if (r2) return r2;
      i2.heights = null;
    } else i2.heights = null;
    return this._itemHeight;
  }, e2.prototype.$_calcItemPoints = function(t3) {
    var e3 = this.grid;
    if ("mousedown" === e3._eventFrom && this._focusIndex && false !== t3 && this._topIndex < this._focusIndex.itemIndex - this._fixedItemCount - Math.max(0, this._fullItemCount - 1)) return;
    t3 = null == t3 || t3;
    var i2 = e3.itemSource, o2 = this.syncHeight(), r2 = o2 ? 1 / 0 : this._itemsBounds;
    this._topIndex = o2 ? 0 : this._topIndex;
    var n2 = 0, s2 = i2 ? Math.min(i2.fixedCount, i2.itemCount) : 0;
    if (this._fixedItemCount = 0, this._fixedBarHeight = 0, this._fixedHeight = 0, this._fixedItemPoints = [], s2 > 0) {
      this._fixedItemPoints.push(n2);
      for (var a2 = 0; a2 < s2 && n2 < r2; a2++) {
        n2 += this.$_getItemHeight(e3, a2), this._fixedItemPoints.push(n2), this._fixedItemCount++;
      }
      this._fixedHeight = n2, n2 += this._fixedBarHeight = e3.fixedOptions.rowBarHeight;
    }
    var l2 = e3.itemCount - this._fixedItemCount;
    if (this._itemPoints = [n2], this._itemCount = 0, this._fullItemCount = 0, l2 > 0 && n2 < r2) {
      var h2 = this._topIndex, u2 = -1;
      if (this._focusIndex && (u2 = this._focusIndex.itemIndex) >= this._fixedItemCount && u2 < h2 + this._fixedItemCount) {
        var c2 = u2 - this._fixedItemCount;
        null == (d2 = e3.topIndexChanging(h2, u2 - this._fixedItemCount - h2, true, false)) || isNaN(d2) || (c2 = this._topIndex + d2), h2 = this._topIndex = c2;
      }
      for (a2 = h2; a2 < l2 && n2 < r2; a2++) {
        n2 += this.$_getItemHeight(e3, a2 + this._fixedItemCount), this._itemCount++, this._itemPoints.push(n2);
      }
      if (this._fullItemCount = this._itemCount - (n2 > r2 ? 1 : 0), t3 && u2 >= this._topIndex + this._fixedItemCount + this._fullItemCount) {
        n2 = this.fixedItemCount > 0 ? this._fixedHeight + e3.fixedOptions.rowBarHeight : 0;
        var d2, p2 = u2 - this._fixedItemCount - Math.max(0, this._fullItemCount - 1) - this._topIndex;
        null == (d2 = e3.topIndexChanging(this._topIndex, p2, t3, false)) || isNaN(d2) || (p2 = d2), this._topIndex += p2, this._itemPoints = [n2], this._itemCount = 0, this._fullItemCount = 0;
        for (a2 = this._topIndex; a2 < e3.itemCount - this._fixedItemCount && n2 < r2; a2++) {
          n2 += this.$_getItemHeight(e3, a2 + this._fixedItemCount), this._itemCount++, this._itemPoints.push(n2);
        }
        this._fullItemCount = this._itemCount - (n2 >= r2 ? 1 : 0);
      }
    } else this._topIndex = 0;
  }, e2.prototype.$_updateScrollInfo = function(t3, e3, i2) {
    var o2 = this._reqScrollBarWidth, r2 = this._reqScrollBarHeight, n2 = i2 ? this._tableItemPoints : this._itemPoints, s2 = n2[n2.length - 1], a2 = this._layoutsLength, l2 = e3.fitStyle == S.EVEN_FILL, h2 = this.syncHeight();
    this._hscrolled = a2 > this._scrollWidth, this._vscrolled = !h2 && (this._topIndex > 0 || t3.itemCount > this._itemCount + this._fixedItemCount || s2 > this._bodyBounds.height);
    var u2 = r2 > 0 && this._hscrolled && !l2, c2 = o2 > 0 && this._vscrolled;
    u2 != c2 && (u2 ? o2 > 0 && !h2 && (c2 = s2 > this._bodyBounds.height - r2) : r2 > 0 && !l2 && (u2 = a2 > this._scrollWidth - o2)), this._hscrollBar = u2, this._vscrollBar = c2, this._hscrolled = this._hscrolled || u2, this._vscrolled = this._vscrolled || c2, this._scrollBarWidth = c2 ? o2 : 0, this._scrollBarHeight = u2 ? r2 : 0, this._scrollWidth -= this._scrollBarWidth;
  }, e2.prototype.$_recalcScrollInfo = function(t3) {
    this._scrollWidth += this._scrollBarWidth, this._bodyBounds.height += this._scrollBarHeight, this._gridBounds.height += this._scrollBarHeight, this._clientRect.height += this._scrollBarHeight, this.$_updateScrollInfo(t3, t3.displayOptions, true), this._bodyBounds.height -= this._scrollBarHeight, this._gridBounds.height -= this._scrollBarHeight, this._clientRect.height -= this._scrollBarHeight;
  }, e2.prototype.$_adjustVerticals = function() {
    var t3 = this._scrollBarHeight, e3 = this._itemPoints;
    if (t3 > 0) {
      this._leftContentBounds.height -= t3, this._footBounds.y -= t3, this._rowBarBounds.height -= t3, this._sideContentBounds.height -= t3, this._fixedContentBounds.height -= t3, this._fixedFooterBounds.y -= t3, this._fixedBodyBounds.height -= t3, this._nonFixedBounds.height -= t3, this._contentBounds.height -= t3, this._footerBounds.y -= t3, this._bodyBounds.height -= t3, this._rightContentBounds.height -= t3, this._rightFooterBounds.y -= t3, this._rightBodyBounds.height -= t3;
      for (var i2 = this.syncHeight() ? 1 / 0 : this._bodyBounds.height; e3[e3.length - 2] > i2; ) this._itemCount--, e3.pop();
      this._fullItemCount = Math.max(0, this._itemCount - (e3[this._itemCount] >= i2 ? 1 : 0));
      var o2 = this._focusIndex ? this._focusIndex.itemIndex : -1;
      if (o2 >= 0 && this._itemCount > this._fullItemCount && o2 >= this._topIndex + this._fixedItemCount + this._fullItemCount) {
        for (var r2 = this.grid, n2 = e3[this._itemCount], s2 = 0; n2 > i2; ) n2 -= e3[++s2];
        var a2 = r2._prevTop + 1 !== this._topIndex;
        if (s2 > 0 && "mousedown" !== r2._eventFrom) {
          var l2 = r2.topIndexChanging(this._topIndex, s2, !!this._focusIndex, true);
          null == l2 || isNaN(l2) || (s2 = l2), e3.splice(0, s2), this._topIndex += s2, this._itemCount -= s2, this._fullItemCount -= s2, n2 = e3[0];
          for (var h2 = 0; h2 < e3.length; h2++) e3[h2] -= n2;
          if (n2 = e3[e3.length - 1], r2.itemCount < this._topIndex + this._fixedItemCount + this._itemCount) this._itemCount--;
          else for (; n2 < i2 && this._topIndex + this._fixedItemCount + this._itemCount < r2.itemCount; ) e3.push(n2 += this.$_getItemHeight(r2, this._topIndex + this._fixedItemCount + this._itemCount)), this._itemCount++, this._fullItemCount++;
          a2 && (this._topIndex, this._fixedItemCount, this._fullItemCount);
        }
      }
    }
    if (this._dataBounds.height = e3[e3.length - 1], this._fullItemCount == this._itemCount) {
      var u2 = e3[e3.length - 1];
      this._rowBarBounds.height = u2;
    }
  }, e2.prototype.$_adjustHorizontals = function(t3) {
    this._rightContentBounds.x -= this._scrollBarWidth, this.$_calcLeftPos();
    var e3 = this._cellPoints, i2 = e3.length, o2 = this._leftPos, r2 = o2 + this._nonFixedBounds.width;
    this._startCell = this._endCell = this._firstCell;
    for (var n2 = 0; n2 < i2; n2++) if (e3[n2] > o2) {
      this._startCell += n2 - 1;
      break;
    }
    for (n2 = i2 - 2; n2 >= 0; n2--) if (e3[n2] < r2) {
      this._endCell += n2;
      break;
    }
  }, e2.prototype.$_calcTableRowPoints = function() {
    var t3, e3, i2 = this._trs, o2 = this._items, r2 = this._fixedItemCount, n2 = this._itemCount + r2, s2 = this._fixedTableRowPoints = [], a2 = this._tableRowPoints = [], l2 = this._dataRowHeights, h2 = 0;
    if (this._fixedTableRowCount = this._tableRowCount = 0, this._fixedDataHeight = this._dataHeight = 0, r2 > 0) {
      for (var u2 = this._fixedItemPoints; h2 < r2; h2++) {
        var c2 = u2[h2];
        if (t3 = o2[h2], s2.push(c2), this._fixedTableRowCount++, t3.isData) {
          e3 = t3.heights || l2;
          for (var d2 = Math.floor((u2[h2 + 1] - c2) / i2), p2 = Math.round(u2[h2 + 1] - c2) / i2, f2 = 1; f2 < i2; f2++) s2.push(c2 += e3[f2 - 1] ? e3[f2 - 1] : f2 % 2 ? d2 : p2), this._fixedTableRowCount++;
        }
      }
      s2.push(this._fixedDataHeight = this._fixedItemPoints[r2]);
    }
    if (this.itemCount > 0) {
      for (u2 = this._itemPoints; h2 < n2; h2++) {
        c2 = u2[h2 - r2], d2 = u2[h2 - r2 + 1] - c2;
        if (t3 = o2[h2], a2.push(c2), this._tableRowCount++, t3.isData) {
          e3 = t3.heights || l2;
          var _2 = Math.floor(d2 / i2);
          for (p2 = Math.round(d2 / i2), f2 = 1; f2 < i2; f2++) a2.push(c2 += e3[f2 - 1] ? e3[f2 - 1] : f2 % 2 ? _2 : p2), this._tableRowCount++;
        }
      }
      a2.push(this._dataHeight = u2[this._itemCount]), this._dataHeight += this._fixedDataHeight;
    }
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    var o2 = this, r2 = this._grid, n2 = r2.displayOptions, s2 = r2.fixedOptions, a2 = t3.clone();
    this._refreshMode = n2.refreshMode, this._autoRowHeights = n2.rowHeight < 0, this._items = [], this._trs = this._cellLayouts.dataRows, this._rowGrouped = this.rowGrouped || this.mergedRowGrouped, this._hscrolled = this._vscrolled = false, this._hscrollBar = this._vscrollBar = false, this._reqScrollBarWidth = e3, this._reqScrollBarHeight = i2, this._minRowHeight = n2.minTableRowHeight, this._maxHeight = n2.maxRowHeight, this._minItemHeight = Math.max(this._minRowHeight * this._trs, n2.minRowHeight), 1 == this._trs && (this._minRowHeight = this.minItemHeight), r2.heightMeasurer.measure(r2), this.$_calcFixedCellPoints(s2, this._cellLayouts), this.$_calcCellPoints(this._cellLayouts), this.$_calcRightCellPoints(s2, this._cellLayouts), this._itemHeight = this._calcDefaultRowHeight(r2);
    var l2 = r2.container._containerDiv;
    !this.syncHeight() && this._oldSyncHeight && this._oldSyncHeight !== r2.displayOptions.syncGridHeight && l2.style.height !== r2.container._orgCssHeight && (l2.style.height = r2.container._orgCssHeight), o2._topContentBounds = a2.clone(), o2.$_measureTopPane(r2), a2.topBy(o2.topPanelVisible ? o2._topContentBounds.height : 0), o2._leftContentBounds = a2.clone(), o2.$_measureLeftPane(r2), a2.leftBy(o2._leftContentBounds.width), o2._sideContentBounds = a2.clone(), o2._measureSidePane(r2), a2.leftBy(o2._sideContentBounds.width), o2.$_measureViewHeights(r2, a2.clone().move()), o2._fixedContentBounds = a2.clone(), o2.$_measureFixedPane(r2), a2.leftBy(o2._fixedContentBounds.width), o2._rightContentBounds = a2.clone(), o2.$_measureRightPane(r2), o2._rightContentBounds.x = a2.right - o2._rightContentBounds.width, a2.width -= o2._rightContentBounds.width, o2._contentBounds = a2.clone(), o2.$_measureContentPane(r2), o2._clientRect = t3.clone(), o2._nonFixedBounds = new it(o2._fixedContentBounds.right, o2._fixedContentBounds.y, t3.width - o2._fixedContentBounds.right - o2.rightContentBounds.width, o2._fixedContentBounds.height), this._itemsBounds = t3.height - this._topContentBounds.height - this._headerBounds.height - this._filterPanelBounds.height - this._summaryBounds.height - this._footBounds.height + 1, this.$_calcItemPoints(), this.$_calcScrollWidth(t3), this.$_updateScrollInfo(r2, n2);
    var h2 = this._fitStyle;
    (this._fitStyle = this.$_checkFitting(n2, this._scrollWidth)) ? (this.$_fitColumns(n2, this.cellLayouts, this.scrollWidth), this._contentBounds.width = this._layoutsLength) : r2._activeCellLayout.$_clearFitWidths(), (this._fitStyleChanged = this._fitStyle != h2) && r2.clearRowHeights(false), this.$_adjustVerticals(), this.$_adjustHorizontals(t3), this._gridBounds = new it(this._fixedContentBounds.x, this._fixedContentBounds.y, t3.right - this._fixedContentBounds.x - this._scrollBarWidth, this._footerBounds.y - 0), this._clientRect.width -= this._scrollBarWidth, this._clientRect.height -= this._scrollBarHeight, this._nonFixedBounds.width -= this._scrollBarWidth, this._topContentBounds.width -= this._scrollBarWidth;
  }, e2.prototype.$_layoutTopPane = function(t3, e3) {
    var i2 = this._topContentBounds;
    this.topPanelVisible ? e3.setRect(i2) : e3.setBounds(-10, -10, 1, 1), this._doLayoutTopPane(t3, e3);
  }, e2.prototype._doLayoutTopPane = function(t3, e3) {
  }, e2.prototype.$_layoutLeftPane = function(t3, e3) {
    var i2 = this._leftContentBounds;
    function o2(t4, e4, i3, o3) {
      (t4.visible = e4.visible) && (t4._table.parentElement !== t4._dom && t4._dom.appendChild(t4._table), i3 && (t4.setRect(o3), t4.layoutContent(this)));
    }
    (t3.rowBarContainer.visible = e3.visible = !i2.isEmpty) ? (e3.setRect(i2), o2.call(this, t3.headView, t3.header, false, this._headBounds), o2.call(this, t3.sumView, t3.headerSummaries, true, this._sumBounds), o2.call(this, t3.footView, t3.footers, true, this._footBounds), o2.call(this, t3.filterView, t3.filterPanel, true, this._filterBounds)) : [t3.headView, t3.sumView, t3.footView, t3.filterView].forEach(function(t4) {
      t4 && Ot.detach(t4._table);
    });
  }, e2.prototype._layoutSidePane = function(t3, e3) {
    var i2 = this._sideContentBounds;
    e3.setRect(i2), (e3.visible = !i2.isEmpty) && e3.layoutContent(this, i2.width, i2.height);
  }, e2.prototype._prepareItems = function(t3) {
    for (var e3 = this._topIndex + this._fixedItemCount, i2 = 0; i2 < this._fixedItemCount; i2++) {
      var o2 = this._rs.getItem(i2);
      this._items.push(o2);
    }
    var r2 = this.grid.bodyView, n2 = t3 ? r2._getTableRowCount(this) : this._itemCount;
    for (i2 = 0; i2 < n2; i2++) {
      if (!(o2 = this._rs.getItem(i2 + e3))) break;
      this._items.push(o2);
    }
    t3 && (this._itemCount = this._items.length - this._fixedItemCount);
  }, e2.prototype.$_layoutFixedPane = function(t3, e3) {
    var i2, o2 = this._fixedContentBounds;
    if (e3.visible = !o2.isEmpty) {
      var r2 = t3._columnsDirty || t3._cellLayoutDirty || t3._needPosition, n2 = r2 || t3._dataChanged || t3._itemCheckChanged;
      e3.setRect(o2), ((i2 = t3.fixedHeaderView).visible = t3.header.visible) && (i2.setRect(this._fixedHeaderBounds), i2.layoutContent(this)), ((i2 = t3.fixedHeaderSummaryView).visible = t3.headerSummaries.canShow) && (n2 || t3.headerSummaries.dirty) && (i2.setRect(this._fixedSummaryBounds), i2.layoutContent(this)), ((i2 = t3.fixedFilterView).visible = t3.filterPanel.visible) && (r2 || t3.filterPanel.dirty) && (i2.setRect(this._fixedFilterBounds), i2.layoutContent(this)), ((i2 = t3.fixedFooterView).visible = t3.footers.canShow) && (n2 || t3.footers.dirty) && (i2.setRect(this._fixedFooterBounds), i2.layoutContent(this)), (i2 = t3.fixedBodyView).visible = true, e3.layoutContent(this, o2.width, o2.height);
    } else t3.fixedHeaderView.visible = false, t3.fixedHeaderSummaryView.visible = false, t3.fixedFilterView.visible = false, t3.fixedFooterView.visible = false, t3.fixedBodyView.visible = false;
  }, e2.prototype.$_layoutRightPane = function(t3, e3) {
    var i2, o2 = this._rightContentBounds, r2 = t3._columnsDirty || t3._cellLayoutDirty || t3._needPosition, n2 = r2 || t3._dataChanged || t3._itemCheckChanged;
    (e3.visible = !o2.isEmpty) ? (this._rightFixed || this._hscrolled || (o2.x = this._contentBounds.right), e3.setRect(o2), ((i2 = t3.rightHeaderView).visible = t3.header.visible) && (i2.setRect(this._rightHeaderBounds), i2.layoutContent(this)), ((i2 = t3.rightHeaderSummaryView).visible = t3.headerSummaries.canShow) && (n2 || t3.headerSummaries.dirty) && (i2.setRect(this._rightSummaryBounds), i2.layoutContent(this)), ((i2 = t3.rightFilterView).visible = t3.filterPanel.visible) && (r2 || t3.filterPanel.dirty) && (i2.setRect(this._rightFilterBounds), i2.layoutContent(this)), ((i2 = t3.rightFooterView).visible = t3.footers.canShow) && (n2 || t3.footers.dirty) && (i2.setRect(this._rightFooterBounds), i2.layoutContent(this)), (i2 = t3.rightBodyView).visible = true, e3.layoutContent(this, o2.width, o2.height)) : (t3.rightHeaderView.visible = false, t3.rightHeaderSummaryView.visible = false, t3.rightFilterView.visible = false, t3.rightFooterView.visible = false, t3.rightBodyView.visible = false);
  }, e2.prototype.$_layoutContentPane = function(t3, e3) {
    var i2, o2 = this._contentBounds, r2 = t3._columnsDirty || t3._cellLayoutDirty || t3._needPosition, n2 = r2 || t3._dataChanged || t3._itemCheckChanged;
    (e3.visible = !o2.isEmpty) ? (o2.x -= this._leftPos, e3.setRect(o2), ((i2 = t3.headerView).visible = t3.header.visible) && (this._headerBounds.width = o2.width, i2.setRect(this._headerBounds), i2.layoutContent(this)), ((i2 = t3.filterPanelView).visible = t3.filterPanel.visible) && (r2 || t3.filterPanel.dirty) && (this._filterPanelBounds.width = o2.width, i2.setRect(this._filterPanelBounds), i2.layoutContent(this)), ((i2 = t3.headerSummaryView).visible = t3.headerSummaries.canShow) && (n2 || t3.headerSummaries.dirty) && (this._summaryBounds.width = o2.width, i2.setRect(this._summaryBounds), i2.layoutContent(this)), ((i2 = t3.footerView).visible = t3.footers.canShow) && (n2 || t3.footers.dirty) && (this._footerBounds.width = o2.width, i2.setRect(this._footerBounds), i2.layoutContent(this)), (i2 = t3.bodyView).visible = true, this._bodyBounds.width = o2.width, e3.layoutContent(this, o2.width, o2.height)) : t3.headerView.visible = t3.headerSummaryView.visible = t3.footerView.visible = t3.bodyView.visible = false;
  }, e2.prototype.$_layoutWatingPane = function(t3, e3) {
    var i2 = t3.bounds.clone();
    e3.setRect(i2), e3.layoutContent(this, i2.width, i2.height);
  }, e2.prototype._doLayout = function(t3, e3) {
    var i2;
    this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), i2 = t3._topContentPane, this.$_layoutTopPane(t3, i2), i2 = t3._leftContentPane, this.$_layoutLeftPane(t3, i2), i2 = t3._fixedContentPane, this.$_layoutFixedPane(t3, i2), i2 = t3._rightContentPane, this.$_layoutRightPane(t3, i2), i2 = t3._contentPane, this.$_layoutContentPane(t3, i2);
  }, e2.prototype.$_adjustHeader = function(t3, e3, i2, o2) {
    var r2 = t3.fixedHeaderView, n2 = t3.rightHeaderView, s2 = t3.headerView, a2 = t3.header.height, l2 = s2.height, h2 = 0, u2 = false;
    if (i2 && (u2 = r2.$_checkHeight()), !u2 && o2 && (u2 = n2.$_checkHeight()), !u2 && e3 && (u2 = s2.$_checkHeight()), u2) {
      var c2 = [], d2 = 0;
      i2 && (r2.$_getHeights(c2), a2 > 0 ? r2.$_distributeHeights(a2, c2) : d2 = Math.max(d2, r2.$_adjustHeights(c2))), o2 && (n2.$_getHeights(c2), a2 > 0 ? n2.$_distributeHeights(a2, c2) : d2 = Math.max(d2, n2.$_adjustHeights(c2))), e3 && (s2.$_getHeights(c2), a2 > 0 ? s2.$_distributeHeights(a2, c2) : d2 = Math.max(d2, s2.$_adjustHeights(c2))), a2 < 0 && (h2 += d2 - l2, this._headBounds.height = d2, i2 && this._fixedHeaderBounds.height != d2 && (this._fixedHeaderBounds.height = d2, r2.setRect(this._fixedHeaderBounds), r2.$_adjustHeights(c2)), o2 && this._rightHeaderBounds.height != d2 && (this._rightHeaderBounds.height = d2, n2.setRect(this._rightHeaderBounds), n2.$_adjustHeights(c2)), e3 && this._headerBounds.height != d2 && (this._headerBounds.height = d2, s2.setRect(this._headerBounds), s2.$_adjustHeights(c2)));
    }
    return h2;
  }, e2.prototype._adjustLayout = function(t3, e3) {
    var i2, o2 = this._autoRowHeights, r2 = t3._fixedContentPane, n2 = t3._rightContentPane, s2 = t3._contentPane, a2 = t3.fixedHeaderView, l2 = t3.rightHeaderView, h2 = t3.headerView, u2 = t3.headView.visible, c2 = r2.visible, d2 = n2.visible, p2 = s2.visible, f2 = 0, _2 = 0, g2 = this.$_adjustHeader(t3, p2, c2 && h2.visible && a2.visible, d2 && l2.visible);
    if (0 != g2 && (_2 = this._fixedFilterBounds.y = this._rightFilterBounds.y = this._filterPanelBounds.y = this._filterBounds.y += g2, c2 && (t3.fixedFilterView.y = _2), d2 && (t3.rightFilterView.y = _2), p2 && (t3.filterPanelView.y = _2), u2 && (t3.filterView.y = _2)), 0 != g2 && (this._fixedSummaryBounds.y = this._rightSummaryBounds.y = this.summaryBounds.y = this._sumBounds.y = this._filterBounds.bottom), t3.headerSummaries.canShow && 0 != g2 && (c2 && (t3.fixedHeaderSummaryView.y = this._fixedSummaryBounds.y), d2 && (t3.rightHeaderSummaryView.y = this._rightSummaryBounds.y), p2 && (t3.headerSummaryView.y = this._summaryBounds.y), u2 && (t3.sumView.y = this._sumBounds.y)), e3.topBy(this._headBounds.height + this._sumBounds.height + this._filterBounds.height), 0 != g2 && (_2 = this._sumBounds.bottom, f2 = Math.min(e3.height, this._rowBarBounds.height), this._fixedBodyBounds.y = this.bodyBounds.y = this._rightBodyBounds.y = _2, this._fixedBodyBounds.height = this._bodyBounds.height = this._rightBodyBounds.height = f2), (i2 = t3.fixedBodyView).visible && i2.setRect(this._fixedBodyBounds), (i2 = t3.bodyView).visible && i2.setRect(this._bodyBounds), (i2 = t3.rightBodyView).visible && i2.setRect(this._rightBodyBounds), this.$_layoutBodyRows(t3, c2, p2, d2, this._bodyBounds.height), this.$_adjustTableRowHeights(), o2 && this.$_recalcScrollInfo(t3), this.syncHeight()) {
      var y2 = this.topContentBounds.height + this.headerBounds.height + this.footerBounds.height + this.summaryBounds.height + this.scrollBarHeight + this._filterBounds.height, m2 = t3.container._containerDom, b2 = t3.container._containerDiv, v2 = m2.offsetWidth - m2.clientWidth, w2 = b2.offsetHeight, C2 = this._tableItemPoints[this._tableItemPoints.length - 1];
      (this._fitSyncHeight = this.itemCount > 0 && (y2 + C2 + v2 >= w2 || t3.displayOptions.syncGridHeight === Y.ALWAYS)) ? b2.style.height = y2 + C2 + v2 + "px" : (t3.recallHeight(), C2 = w2 - y2 - v2 + (this.topPanelVisible ? 0 : 1));
      var x2 = new it(0, 0, m2.clientWidth, m2.clientHeight);
      t3.setRect(x2), this._topContentBounds.width = x2.width, this.$_layoutTopPane(t3, this.grid._topContentPane), this._bodyBounds.height = this._fixedBodyBounds.height = this._rightBodyBounds.height = C2, t3.bodyView.setRect(this._bodyBounds), t3.fixedBodyView.setRect(this._fixedBodyBounds), t3.rightBodyView.setRect(this._rightBodyBounds), this._contentBounds.height = this._fixedContentBounds.height = this._rightContentBounds.height = this._headerBounds.height + this._summaryBounds.height + this._bodyBounds.height + this._footerBounds.height + this._filterBounds.height, this._contentBounds.x = this._leftContentBounds.width + this._sideContentBounds.width + this._fixedContentBounds.width, this.$_layoutContentPane(t3, t3._contentPane), this.$_layoutFixedPane(t3, t3._fixedContentPane), this.$_layoutRightPane(t3, t3._rightContentPane), this._gridBounds.height = this._headerBounds.height + this._summaryBounds.height + this._bodyBounds.height + this._filterBounds.height, this._footBounds.y = this._footerBounds.y = this._fixedFooterBounds.y = this._rightFooterBounds.y = this._bodyBounds.bottom, t3.footView.y = t3.footerView.y = t3.fixedFooterView.y = t3.rightFooterView.y = this._bodyBounds.bottom, e3 = this._gridBounds.clone();
    } else this._fitSyncHeight = false;
    if (this._topIndex > 0) {
      var I2 = o2 ? this._minItemHeight : this._itemHeight;
      if (this._contentBounds.y + this._dataBounds.bottom + I2 <= this._gridBounds.bottom && (o2 ? this.$_fillBottomAuto(t3, c2, p2, d2, this._bodyBounds.height) : this.$_fillBottomFixed(t3, c2, p2, d2, this._bodyBounds.height)), 0 == this._topIndex) {
        var E2 = this._vscrollBar;
        this.$_recalcScrollInfo(t3), this._vscrollBar != E2 && this._fitStyle && (this.$_layoutBodyRows(t3, c2, p2, d2, this._bodyBounds.height, false), this.$_adjustTableRowHeights());
      }
    }
    t3.fixedBodyView.visible && t3.fixedBodyView.$_resetCellHeights2(this, o2), t3.bodyView.visible && t3.bodyView.$_resetCellHeights2(this, o2), t3.rightBodyView.visible && t3.rightBodyView.$_resetCellHeights2(this, o2);
    var S2 = this._tableItemPoints;
    (this._dataBounds.height = S2[S2.length - 1], _2 = this._sumBounds.bottom, f2 = Math.min(e3.height, this._dataBounds.height), this._rowBarBounds.y = _2, this._rowBarBounds.height = f2, c2) && t3._fixedContentPane.layoutBars(this, this._fixedContentBounds.width, this._fixedContentBounds.height);
    d2 && t3._rightContentPane.layoutBars(this, this._rightContentBounds.width, this._rightContentBounds.height);
    (i2 = t3.headView).visible && (i2.setRect(this._headBounds), i2.layoutContent(this)), (i2 = t3.rowBarContainer).visible && (i2.setRect(this._rowBarBounds), i2.layoutContent(this));
  }, e2.prototype.$_layoutBodyRows = function(t3, e3, i2, o2, r2, n2) {
    function s2(t4, e4, i3, o3) {
      p2._items.push(t4), m2.forEach(function(r3, n3) {
        r3 && r3.layoutRow(e4, b2[n3], i3, o3, t4);
      });
    }
    function a2(e4, i3, o3, r3) {
      var n3 = e4.height, s3 = [];
      if (!t3.displayOptions.refCalcHeights || isNaN(n3)) {
        for (var a3 = 0; a3 < E2; a3++) s3[a3] = 0;
        m2.forEach(function(t4) {
          for (var e5 = t4 && t4._tbody.children, i4 = 0; e5 && i4 < E2; i4++) s3[i4] = Math.ceil(Math.max(s3[i4], I2, e5[o3 + i4].offsetHeight));
        }), e4.heights = s3;
      } else if (e4.heights) s3 = e4.heights;
      else {
        var l3 = 0, h3 = 0;
        for (a3 = 0; a3 < E2; a3++) l3 += h3 = a3 % 2 ? Math.floor(n3 / E2) : Math.round(n3 / E2), s3.push(h3);
        s3.push(w2 - l3);
      }
      n3 = 0;
      var u3 = s3.reduce(function(t4, e5) {
        return t4 + e5;
      }, 0) + 3;
      if (u3 > S2) {
        var c3 = S2 / u3;
        u3 = S2;
        for (var d3 = 0; d3 < s3.length - 1; d3++) u3 -= s3[d3] = Math.max(I2, Math.floor(s3[d3] * c3));
        s3[s3.length - 1] = Math.max(I2, u3);
      }
      for (d3 = 0; d3 < E2; d3++) n3 += s3[d3], r3.push(i3 += s3[d3]);
      return f2.setRowHeight(e4, n3, false), m2.forEach(function(t4) {
        t4 && t4.setRowViewHeight(e4, i3 - n3);
      }), n3;
    }
    void 0 === n2 && (n2 = true);
    var l2, h2 = e3 && this._fixedCellCount > 0 ? t3.fixedBodyView : null, u2 = i2 && this.cellCount > 0 ? t3.bodyView : null, c2 = (o2 && this._rightCellCount) > 0 ? t3.rightBodyView : null, d2 = this._dataRowHeights, p2 = this;
    if (n2 && this.$_checkColumnMerging(t3, this.syncHeight()), l2 = u2 || h2 || c2) {
      var f2 = t3.itemSource, _2 = f2 ? Math.min(f2.fixedCount, f2.itemCount) : 0, g2 = this._autoRowHeights, y2 = { lm: this, grid: t3, topIndex: this._topIndex, fixedItemCount: _2, mergeFixed: t3.fixedOptions.mergeRows, mergedRowGrouped: this.mergedRowGrouped, rowGroupFields: this.rowGroupFields }, m2 = [h2, u2, c2], b2 = [[], [], []];
      m2.forEach(function(t4) {
        t4 && t4._doPrepareContent(p2);
      }), r2 = this.syncHeight() ? 1 / 0 : r2;
      var v2, w2, C2, x2, I2 = this._minRowHeight, E2 = l2._trs, S2 = this._maxHeight > 0 ? Math.min(Math.max(this._maxHeight, I2 * E2), r2) : r2, O2 = Math.floor(m2.reduce(function(t4, e4) {
        return e4 ? Math.max(e4.tableRowCount, t4) : t4;
      }, 0) / E2), R2 = 0, P2 = 0, k2 = 0, D2 = [], T2 = [], M2 = [];
      this._fixedTableRowCount = 0, this._tableRowCount = 0, this._fixedDataHeight = this._dataHeight = 0, this._items = [];
      var F2 = Math.min(_2, this._fixedItemCount, Math.ceil(r2 / I2));
      if (this._fixedHeight = 0, _2 > 0) {
        D2.push(P2), T2.push(k2);
        for (var L2 = R2, N2 = 0; N2 < F2; N2++) s2(f2.getItem(N2), y2, N2, L2), L2 += E2;
        for (N2 = 0; N2 < _2 && P2 < r2; N2++) {
          x2 = f2.getItem(N2);
          var $2 = E2;
          if (this._items.indexOf(x2) < 0 && s2(x2, y2, N2, R2), g2) k2 += w2 = a2(x2, k2, R2, T2);
          else {
            v2 = k2, w2 = this._fixedItemPoints[N2 + 1] - this._fixedItemPoints[N2], C2 = Math.floor(w2 / $2);
            for (var A2 = Math.round(w2 / $2), B2 = x2.heights || d2, V2 = 0; V2 < $2 - 1; V2++) T2.push(k2 += B2[V2] ? B2[V2] : V2 % 2 ? A2 : C2);
            T2.push(k2 = v2 + w2);
          }
          this._fixedTableRowCount += $2, P2 += w2, D2.push(P2), this._fixedDataHeight = P2, R2 += $2;
        }
        this._fixedHeight = P2, P2 < r2 && (w2 = 0, m2.forEach(function(t4) {
          t4 && (w2 = t4.layoutFixedBar(p2, R2));
        }), R2++, P2 += w2, k2 += w2), O2 = O2 - this._fixedItemCount - 1;
      }
      this._fixedItemCount = D2.length ? D2.length - 1 : 0;
      var j2 = t3.itemCount - this._fixedItemCount, H2 = [P2];
      if (M2.push(P2), F2 = Math.min(j2, O2, Math.ceil((r2 - P2) / I2)), this._itemCount = 0, this._fullItemCount = 0, j2 > 0 && P2 < r2) {
        var W2 = this._topIndex, G2 = -1;
        this._focusIndex && (G2 = this._focusIndex.itemIndex) >= this._fixedItemCount && G2 < W2 + this._fixedItemCount && (W2 = this._topIndex = G2 - this._fixedItemCount);
        for (L2 = R2, N2 = 0; N2 < F2 && N2 + W2 < j2 && (x2 = f2.getItem(N2 + W2 + _2)); N2++) s2(x2, y2, this._fixedItemCount + N2, L2), L2 += x2.isData ? E2 : 1;
        for (N2 = W2; N2 < j2 && P2 < r2; N2++) {
          $2 = (x2 = f2.getItem(N2 + _2)).isData ? E2 : 1;
          if (this._items.indexOf(x2) < 0 && s2(x2, y2, this._fixedItemCount + N2 - W2, R2), x2.isData) if (g2) k2 += w2 = a2(x2, k2, R2, M2);
          else {
            v2 = k2, w2 = this._itemPoints[N2 - W2 + 1] - this._itemPoints[N2 - W2], C2 = Math.floor(w2 / $2);
            for (A2 = Math.round(w2 / $2), B2 = x2.heights || d2, V2 = 0; V2 < $2 - 1; V2++) M2.push(k2 += B2[V2] ? B2[V2] : V2 % 2 ? A2 : C2);
            M2.push(k2 = v2 + w2);
          }
          else w2 = this._itemPoints[N2 - W2 + 1] - this._itemPoints[N2 - W2], M2.push(k2 += w2);
          this._tableRowCount += $2, P2 += w2, H2.push(P2), this._itemCount++, this._dataHeight = P2, R2 += $2;
        }
        this._fullItemCount = this._itemCount - (P2 > r2 ? 1 : 0);
      }
      g2 && m2.forEach(function(t4) {
        t4 && t4.$_resetHeights(T2, M2);
      }), Ot.ieOld && m2.forEach(function(t4) {
        t4 && t4.$_resetCellStyleHeights(T2, M2);
      }), this._fixedItemPoints = D2, this._itemPoints = H2, this._fixedTableRowPoints = T2, this._tableRowPoints = M2, this._dataBounds.height = H2[H2.length - 1];
      var U2 = this._items.length = this.fixedItemCount + this._itemCount;
      m2.forEach(function(t4) {
        t4 && t4.cleanRows(U2, R2);
      });
    }
  }, e2.prototype.$_adjustTableRowHeights = function() {
    if (this.fixedItemCount + this._itemCount != 0) {
      for (var t3 = this._items, e3 = this._trs, i2 = this._fixedTableRowPoints, o2 = this._fixedTableItemPoints = [0], r2 = 0, n2 = 1, s2 = this._fixedItemCount; n2 <= s2; n2++, r2++) o2.push(i2[n2 * e3]);
      i2 = this._tableRowPoints, o2 = this._tableItemPoints = [i2[0]];
      n2 = 0;
      var a2 = 0;
      for (s2 = this._itemCount; n2 < s2; n2++, r2++) t3[r2].isData ? o2.push(i2[a2 += e3]) : o2.push(i2[++a2]);
    } else this._tableItemPoints = this._tableRowPoints.slice();
  }, e2.prototype.$_fillBottomFixed = function(t3, e3, i2, o2, r2) {
    for (var n2 = this._dataBounds.height, s2 = this._topIndex, a2 = 0; (n2 += this.$_getItemHeight(this.grid, s2--)) < this._bodyBounds.height && s2 >= 0; ) a2++;
    this._topIndex = Math.max(0, this._topIndex - a2), this.$_calcItemPoints(false), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(t3, e3, i2, o2, r2), this.$_adjustTableRowHeights();
  }, e2.prototype.$_fillBottomAuto = function(t3, e3, i2, o2, r2) {
    for (; this._topIndex > 0 && this._gridBounds.bottom - this._contentBounds.y - this._dataBounds.bottom > this._minItemHeight; ) {
      var n2 = this._tableItemPoints, s2 = n2[1] - n2[0];
      if (this._topIndex--, this.$_calcItemPoints(false), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(t3, e3, i2, o2, r2), this.$_adjustTableRowHeights(), s2 + (n2 = this._tableItemPoints)[n2.length - 1] + this._contentBounds.y + this._dataBounds.y > this._gridBounds.bottom) {
        this._topIndex++, this.$_calcItemPoints(), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(t3, e3, i2, o2, r2), this.$_adjustTableRowHeights();
        break;
      }
    }
  }, e2.prototype.$_prepareColumnMerges = function(t3, e3, i2, o2) {
    for (var r2 = this._fixedItemCount, n2 = this._itemCount, s2 = false, a2 = 0, l2 = t3.length; a2 < l2; a2++) {
      var h2 = t3[a2], u2 = h2 && h2.layout;
      if (u2 && u2.canMerge()) (c2 = u2.merges) || ((c2 = new Kn(u2)).clear(), c2.initialize(Vn.INIT_COUNT)), c2.refreshRooms(e3, i2, o2), c2.prepareCells(r2, n2), c2.refreshCells(r2, this.topIndex), u2.$_setMerged(true), s2 = true;
      else u2.$_setMerged(false);
    }
    var c2, d2 = this.grid.checkBar;
    d2.canMerge() ? ((c2 = d2.merges) || ((c2 = new pa(d2)).clear(), c2.initialize(Vn.INIT_COUNT)), c2.refreshRooms(e3, i2, o2), c2.prepareCells(r2, n2), c2.refreshCells(r2, this.topIndex), d2._merged = true) : d2._merged = false;
    return s2;
  }, e2.prototype.$_checkColumnMerging = function(t3, e3) {
    void 0 === e3 && (e3 = false);
    var i2 = t3.fixedOptions, o2 = i2.rowCount, r2 = this._contentBounds.height / this._minItemHeight - o2, n2 = this._topIndex, s2 = o2 > 0 && i2.mergeRows, a2 = e3 ? o2 : o2 + n2, l2 = e3 ? t3.itemCount - 1 : Math.min(t3.itemCount - 1, o2 + n2 + r2 - 1);
    l2 >= 0 && this.$_prepareColumnMerges(t3.getHorzColumns(), a2, l2, s2);
  }, e2;
}(Ft);
var Ql = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.summaryIndex = 0, i2.rowIndex = -1, i2.rendererClass = "", i2.style = new Zn(), i2.html = void 0, i2.text = e3[Ot.TextProp], i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    t2.prototype.dispose.call(this), this.layout = null, this.renderCallback = null;
  }, e2.prototype.span = function() {
    this.spanned = true, this.clear(false);
  }, e2.prototype.clear = function(e3) {
    t2.prototype.clear.call(this, e3);
    var i2 = this.cell.firstElementChild;
    return this.className && (this.cell.className = this.className = ""), this.rendererClass && (i2.className = this.rendererClass = ""), this.text && (i2[Ot.TextProp] = this.text = ""), this.html && (i2.innerHTML = this.html = "", this.renderCallback = null), this;
  }, e2.prototype.refreshFormatters = function(t3) {
    var e3;
    this.textFormatter = null, this.numberFormatter = null, this.datetimeWriter = null, this.booleanFormatter = null, (e3 = t3.textFormat) && (this.textFormatter = Bn.getFormatter(e3)), (e3 = t3.numberFormat) && (this.numberFormatter = ze.getFormatter(e3)), (e3 = t3.datetimeFormat) && (this.datetimeWriter = He.getFormatter(e3)), (e3 = t3.booleanFormat) && (this.booleanFormatter = We.getFormatter(e3)), this.prefix = t3.prefix, this.suffix = t3.suffix, this.text = t3.text;
  }, e2.prototype.setText = function(t3) {
    t3 !== this.displayText && (this.cell.firstElementChild[Ot.TextProp] = (this.displayText = t3) || "", this.renderCallback = null);
  }, e2.prototype.setHtml = function(t3, e3) {
    if (t3 !== this.html) {
      var i2 = this.cell.firstElementChild;
      return i2.innerHTML = (this.html = t3) || "", this.renderCallback = e3 && dn(i2, e3), true;
    }
  }, e2.prototype.setClassName = function(t3) {
    return t3 != this.className && (this.cell.className = this.className = t3, true);
  }, e2.prototype.setRendererClassName = function(t3) {
    t3 != this.rendererClass && (this.cell.firstElementChild.className = this.rendererClass = t3);
  }, e2;
}(Wl);
var th = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    return r2._rowPoints = [], r2._cells = [], r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.tableCellByCell = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2];
      if (r2 && r2.cell === t3) return r2;
    }
    return null;
  }, e2.prototype.tableCellsByLayout = function(t3) {
    for (var e3 = [], i2 = 0; i2 < this._cells.length; i2++) for (var o2 = this._cells[i2], r2 = 0; r2 < o2.length; r2++) {
      var n2 = o2[r2];
      n2 && n2.layout === t3 && e3.push(n2);
    }
    return e3;
  }, e2.prototype.layoutByCell = function(t3) {
    var e3 = this.tableCellByCell(t3);
    return e3 && e3.layout;
  }, e2.prototype.columnByCell = function(t3) {
    var e3 = this.layoutByCell(t3);
    return e3 && e3._columnObj;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.cellCount - t3.fixedCellCount - t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getCellWidth(e3);
  }, e2.prototype._doDrawCell = function(t3, e3, i2) {
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell();
  }, e2.prototype._getEndCell = function(t3) {
    return t3.getEndCell();
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return It(t3).createElement("div");
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    for (var o2 = t3.layoutManager, r2 = this._getSummaryRows(o2), n2 = this._getCollection(), s2 = this._getSummaryHeight(t3.heightMeasurer), a2 = 0, l2 = this._rowPoints = [a2], h2 = 0, u2 = t3.layoutManager.getDataRowHeights(r2), c2 = u2.reduce(function(t4, e4) {
      return t4 + e4;
    }, 0), d2 = 0, p2 = n2.visibleCount; d2 < p2; d2++) {
      var f2 = n2.getVisible(d2), _2 = Math.max(c2, f2.height);
      _2 <= 0 && (_2 = s2 * r2), _2 = Math.max(f2.minHeight, _2);
      var g2 = f2.heights;
      if (g2 && g2.length > 0) {
        for (var y2 = 0; y2 < r2; y2++) g2[y2] = isNaN(g2[y2]) || null == g2 ? s2 : g2[y2];
        _2 = g2.reduce(function(t4, e4) {
          return t4 + e4;
        }, 0);
      }
      for (var m2 = Math.floor(_2 / r2), b2 = 0, v2 = 0; v2 < r2 - 1; v2++) g2 && g2.length > 0 ? (a2 += g2[v2], l2.push(a2), b2 += g2[v2]) : u2[v2] ? (a2 += Math.round(u2[v2] * (_2 / c2)), l2.push(a2), b2 += Math.round(u2[v2] * (_2 / c2))) : (a2 += m2, l2.push(a2), b2 += m2);
      a2 += _2 - b2, l2.push(a2), h2 += _2;
    }
    return wl.create(e3, h2);
  }, e2.prototype.$_refreshHeadTitle = function(t3, e3) {
    for (var i2 = this._cells[0], o2 = e3.children[0], r2 = 0; o2 && r2 < i2.length; r2++) {
      var n2 = i2[r2].layout.source, s2 = o2.children[r2];
      s2 && n2 && (s2[Ot.TextProp] = (n2.header.getDisplayText() || n2.firstColumn.header.displayText) + " summary");
    }
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = this._getCollection(), o2 = this._getSummaryCount(t3), r2 = t3.cellLayouts._dataCells, n2 = r2.length, s2 = this._getFirstCell(t3), a2 = this._getStartCell(t3) - s2, l2 = this._getEndCell(t3) - s2;
    this._refreshCells(t3, o2, r2, this._tbody), this.$_refreshSpans(t3, n2 * o2), this.$_refreshHeadTitle(t3, this._thead);
    for (var h2 = 0; h2 < o2; h2++) for (var u2 = i2.getVisible(h2), c2 = 0; c2 < n2; c2++) {
      var d2 = this._cells[h2 * n2 + c2], p2 = this._getTableRow(t3, h2 * n2 + c2);
      Ot.setClassName(p2, u2.styleName || "");
      for (var f2 = a2; f2 <= l2; f2++) {
        var _2 = d2[f2];
        if (_2.visible) {
          var g2 = _2.layout;
          if (g2.isProxy) _2.setText(""), _2.setClassName(u2.getCellStyleName());
          else if (g2 instanceof vs) _2.setText(""), _2.setClassName(u2.getCellStyleName());
          else {
            var y2 = u2.getCell(g2);
            this._updateCell(e3, u2, y2, _2);
          }
        }
      }
    }
  }, e2.prototype._updateCell = function(t3, e3, i2, o2) {
    var r2 = i2, n2 = r2.getSummary(), s2 = e3.getCellStyle(i2, o2.style.clear());
    if (o2.setClassName(s2.styleName), o2.setRendererClassName(this._getRendererStyle()), o2.refreshFormatters(s2), n2) {
      e3.getCellFormatters(n2, o2);
      var a2 = r2.getTemplate(o2), l2 = n2.templateEvents;
      if (void 0 === a2) o2.setText(r2.getDisplayText(o2));
      else {
        var h2 = o2.setHtml(a2, l2);
        o2.renderCallback && o2.renderCallback.forEach(function(i3) {
          i3.callback.call(null, t3.handler, r2.valueColumn, n2.summaryIndex, e3, i3.elt, h2);
        });
      }
    } else o2.setText("");
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return this._rowPoints[e3 + 1] - this._rowPoints[e3];
  }, e2.prototype._refreshCells = function(t3, e3, i2, o2) {
    for (var r2 = this._cells, n2 = o2.children, s2 = n2.length, a2 = i2.length, l2 = this._getFirstCell(t3), h2 = this._getLastCell(t3) - l2 + 1, u2 = r2.length; u2 < s2; u2++) r2.push([]);
    u2 = 0;
    for (var c2 = 0; u2 < e3 && c2 < s2; u2++) for (var d2 = this.model.getVisible(u2).childIndex, p2 = 0; p2 < a2; p2++) {
      for (var f2 = r2[c2], _2 = n2[c2].children, g2 = i2[p2], y2 = 0; y2 < h2; y2++) {
        var m2 = g2[y2 + l2], b2 = f2[y2];
        b2 ? b2.cell !== _2[y2] || b2.layout != m2 && (b2.layout = m2, b2.clear(true)) : (b2 = f2[y2] = new Ql(_2[y2])).layout = m2, b2.spanned = false, b2.summaryIndex = d2, b2.rowIndex = c2;
      }
      c2++;
      for (y2 = h2; y2 < f2.length; y2++) f2[y2].dispose();
      f2.length = h2;
    }
    for (c2 = s2; c2 < r2.length; c2++) {
      var v2 = r2[c2];
      for (y2 = 0; y2 < v2.length; y2++) v2[y2].dispose(), v2[y2] = null;
    }
    r2.length = s2;
  }, e2.prototype.$_refreshSpans = function(t3, e3) {
    for (var i2 = this._getFirstCell(t3), o2 = this._getFirstCell(t3) - i2, r2 = this._getLastCell(t3) - i2, n2 = t3.cellLayouts._dataCells.length, s2 = this._rowPoints, a2 = 0; a2 < e3; a2++) for (var l2 = this._cells[a2], h2 = l2.length, u2 = o2; u2 <= r2; u2++) {
      var c2 = l2[u2], d2 = c2.layout, p2 = d2.parent, f2 = p2 && p2.vertical;
      if (c2.spanned) ;
      else if (d2.isProxy) c2.clear(false);
      else {
        var _2 = 0, g2 = 0, y2 = this._getSpanOf(d2, c2.summaryIndex) - 1, m2 = this._getUserSpanOf(d2, c2.summaryIndex);
        if (m2) {
          var b2 = m2.footerCount || 0, v2 = b2 > 0 ? b2 * e3 : m2.rowspan || 1, w2 = m2.colspan || 1;
          c2.set(w2, v2, true);
          for (var C2 = 0; C2 < v2; C2++) for (var x2 = 0; x2 < w2; x2++) {
            var I2 = this._cells[C2 + a2] && this._cells[C2 + a2][x2 + u2];
            I2 && I2 !== c2 && I2.span();
          }
        }
        if (!m2 && y2 > 0) {
          var E2 = 0, S2 = d2.vindex + 1;
          if (f2) for (; E2++ < y2 && E2 < n2; ) {
            if (!(O2 = p2.getVisible(S2++))) break;
            g2 += O2._dspan, this._cells[a2 + E2][u2].span();
          }
          else for (; E2++ < y2 && u2 - o2 + E2 < h2 && S2 < p2.visibleCount; ) {
            var O2;
            if (!(O2 = p2.getVisible(S2++))) break;
            _2 += O2._cspan, l2[u2 + E2].span();
          }
        }
        d2.isNull && c2.clear(true), !m2 && c2.set(d2._cspan + _2, d2._dspan + g2, true), c2.rowSpan > 1 && (c2.height = s2[c2.rowIndex + c2.rowSpan] - s2[c2.rowIndex], c2.cell.firstElementChild.style.maxHeight = c2.height - 2 + "px");
      }
    }
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
  }, e2;
}(Rl);
var eh = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2, "footerView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-footer";
  }, e2.prototype._getRendererStyle = function() {
    return "rg-footer-renderer";
  }, e2.prototype._getSummaryRows = function(t3) {
    return t3.dataRows;
  }, e2.prototype._getCollection = function() {
    return this.model;
  }, e2.prototype._getSummaryHeight = function(t3) {
    return t3.footerHeight;
  }, e2.prototype._getSummaryCount = function(t3) {
    return t3.footerCount;
  }, e2.prototype._getSpanOf = function(t3, e3) {
    return t3.getFooterSpan(e3);
  }, e2.prototype._getUserSpanOf = function(t3, e3) {
    return t3.getFooterUserSpan(e3);
  }, e2.prototype._getTableRowCount = function(t3) {
    return t3.dataRows * t3.footerCount;
  }, e2.prototype._getSummaryItem = function(t3, e3) {
    return t3.firstColumn.footers.get(e3);
  }, e2;
}(th);
var ih = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-footer";
  }, e2.prototype._getExplicitWidth = function(t3) {
    return t3.fixedWidth - t3.fixedBarWidth;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.fixedCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getFixedCellWidth(e3);
  }, e2;
}(eh);
var oh = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-footer";
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getRightCellWidth(e3);
  }, e2;
}(eh);
var rh = function(t2, e2) {
  return "object" == typeof t2 && Object.prototype.toString.call(t2).indexOf(e2) >= 0;
};
var nh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._active = false, o2._completed = false, o2._dragging = false, o2._currentX = 0, o2._currentY = 0, o2._container = e3, o2._name = i2, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "container", { get: function() {
    return this._container;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dragging", { get: function() {
    return this._dragging;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "completed", { get: function() {
    return this._completed;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "linkable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2.prototype.activate = function() {
    this._active || (this._doActivate(), this._active = true);
  }, e2.prototype.deactivate = function() {
    this._active && (this.cancel(), this._doDeactivate(), this._active = false);
  }, e2.prototype.start = function(t3, e3, i2, o2) {
    return void 0 === o2 && (o2 = null), this.cancel(), !(!this._active || !this._doStart(t3, e3, i2, o2)) && (this._currentX = this._startX = e3, this._currentY = this._startY = i2, this._dragging = true, this._completed = false, this._showFeedback(e3, i2), true);
  }, e2.prototype.drag = function(t3, e3, i2, o2) {
    return !(!this._dragging || (this._currentX = e3, this._currentY = i2, !this._doDrag(t3, e3, i2, o2))) && (this._moveFeedback(e3, i2), true);
  }, e2.prototype.cancel = function() {
    try {
      if (this._dragging) try {
        this._dragging = false, this._doCanceled(this._currentX, this._currentY);
      } finally {
        this._doEnded();
      }
    } finally {
      this._hideFeedback();
    }
  }, e2.prototype.drop = function(t3, e3, i2, o2) {
    try {
      if (this._dragging) try {
        this._currentX = e3, this._currentY = i2, this._dragging = false, this._canAccept(t3, e3, i2, o2) ? (this._doCompleted(t3, e3, i2, o2), this._completed = true) : this._doCanceled(e3, i2);
      } finally {
        this._doEnded();
      }
    } finally {
      this._hideFeedback();
    }
  }, e2.prototype.getRequest = function() {
    return null;
  }, e2.prototype.getNextRequest = function(t3, e3) {
    return null;
  }, e2.prototype.init = function(t3, e3, i2) {
    this._doInit(t3, e3, i2);
  }, Object.defineProperty(e2.prototype, "currentX", { get: function() {
    return this._currentX;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "currentY", { get: function() {
    return this._currentY;
  }, enumerable: false, configurable: true }), e2.prototype._showFeedback = function(t3, e3) {
  }, e2.prototype._moveFeedback = function(t3, e3) {
  }, e2.prototype._hideFeedback = function() {
  }, e2.prototype._doActivate = function() {
  }, e2.prototype._doDeactivate = function() {
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype._doCanceled = function(t3, e3) {
  }, e2.prototype._canAccept = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
  }, e2.prototype._doEnded = function() {
  }, e2.prototype._doInit = function(t3, e3, i2) {
  }, e2;
}(Ft);
!function(t2) {
  t2.COPY = "copy", t2.MOVE = "move";
}(xl || (xl = {})), function(t2) {
  t2.LINE = "line", t2.ROW = "row", t2.CELL = "cell", t2.GROUP = "group";
}(Il || (Il = {}));
var sh;
var ah = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._dropMode = xl.COPY, i2._feedbackStyle = Il.LINE, i2._scroll = true, i2._cursor = "move", i2._dropOtherElement = false, i2._dropOtherGrid = true, i2.assignFrom(Ke.dataDrop), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "dragCallback", { get: function() {
    return this._dragCallback;
  }, set: function(t3) {
    this._dragCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "callback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    this._callback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropMode", { get: function() {
    return this._dropMode;
  }, set: function(t3) {
    this._dropMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "feedbackStyle", { get: function() {
    return this._feedbackStyle;
  }, set: function(t3) {
    this._feedbackStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldMap", { get: function() {
    return this._fieldMap;
  }, set: function(t3) {
    this._fieldMap = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fieldMapCallback", { get: function() {
    return this._fieldMapCallback;
  }, set: function(t3) {
    this._fieldMapCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "proxyLabel", { get: function() {
    return this._proxyLabel || Ge.messages.dataDropProxyLabel;
  }, set: function(t3) {
    this._proxyLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "labelCallback", { get: function() {
    return this._labelCallback;
  }, set: function(t3) {
    this._labelCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scroll", { get: function() {
    return this._scroll;
  }, set: function(t3) {
    this._scroll = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return this._cursor;
  }, set: function(t3) {
    this._cursor = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropOtherElement", { get: function() {
    return this._dropOtherElement;
  }, set: function(t3) {
    this._dropOtherElement = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropOtherGrid", { get: function() {
    return this._dropOtherGrid;
  }, set: function(t3) {
    this._dropOtherGrid = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getEnabled = function(t3, e3, i2, o2, r2, n2) {
    if (!this.dropOtherElement && n2 || this.grid !== t3 && !t3.dataDropOptions.dropOtherGrid) return false;
    var s2 = this._dragCallback;
    if (s2) return false !== s2(t3.handler, e3, n2 || this.grid.handler, i2.index, i2.column);
    if (this.grid === t3 && !n2) {
      var a2 = t3.layoutManager;
      return (r2 -= a2.contentBounds.y) <= a2.footerBounds.y && r2 >= a2.summaryBounds.bottom;
    }
    return true;
  }, e2.prototype.getLabel = function(t3, e3, i2, o2) {
    var r2 = this._labelCallback, n2 = void 0;
    return r2 && (n2 = r2(t3.handler, e3, o2 || this.grid.handler, i2.index, i2.column)), void 0 === n2 && this.proxyLabel && (n2 = (n2 = (n2 = (n2 = this.proxyLabel.replace("${rows}", e3.length + "")).replace("${mode}", t3 == this.grid || this.dropMode == xl.MOVE ? Ge.messages.dataDropModeMove : Ge.messages.dataDropModeCopy)).replace("${from}", e3[0] + "")).replace("${to}", i2.index + "")), n2;
  }, e2;
}(ml);
var lh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.container, i2) || this;
    return o2._grid = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2;
}(nh);
var hh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.layout.grid, "columnResizeTracker") || this;
    o2._request = e3, o2._feedback = i2;
    var r2 = e3.layout;
    return o2._layoutX = e3.x - r2.domWidth, o2._offset = e3.offset, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = null, this._feedback = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid.layoutManager, n2 = r2.contentBounds.y, s2 = r2.contentBounds.bottom;
    return this._feedback.resize(2, s2 - n2), this._feedback.move(e3 - this._offset, n2), this.grid.addFeedbackElement(this._feedback), true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    var r2 = this.grid.displayOptions.minCellWidth;
    return e3 >= this._layoutX + r2 && e3 < this._layoutX + 1e6 && (this._feedback.x = e3, true);
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
    var r2 = this.grid.displayOptions.minCellWidth, n2 = Math.max(r2, this._feedback.x - this._layoutX + this._offset);
    this._request.layout.changeCellWidth(n2, this.grid.layoutManager.isColumnFitted);
  }, e2.prototype._doEnded = function() {
    this.grid.removeFeedbackElement(this._feedback), this.grid.container.setCursor("default");
  }, e2;
}(lh);
var uh = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3.layout.grid, "columnMoveTracker") || this;
    return r2._timer = null, r2._colLoop = 0, r2._colPrevLoop = 0, r2._interval = 0, r2._request = e3, r2._layout = e3.layout, r2._cellFeedback = i2, r2._feedback = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = this._layout = this._cellFeedback = this._feedback = this._target = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, i2, o2, r2) {
    var n2 = this.grid, s2 = n2.layoutManager, a2 = this._layout.parent, l2 = this._request.offset, h2 = s2.getHeaderCellRect(this._layout, true);
    a2.horizontal ? (this._offset = l2 > 0 ? l2 : i2 - h2.x, this._feedback.setBounds(h2.x, h2.y, e2.WING_SIZE, h2.height)) : (this._offset = l2 > 0 ? l2 : o2 - h2.y, this._feedback.setBounds(h2.x, h2.y, h2.width, e2.WING_SIZE)), this._request.offset = this._offset, this._feedback.visible = false, this._cellFeedback.setBounds(h2.x, h2.y, h2.width, h2.height), this._cellFeedback.model = n2.header.getCell(this._layout), this._cellFeedback.dragging = false, n2.addFeedbackElement(this._cellFeedback), n2.addFeedbackElement(this._feedback);
    var u2 = this._feedback._dom.style;
    return u2.borderLeft = u2.borderRight = u2.borderTop = u2.borderBottom = "", true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = this._layout.parent, s2 = this.grid.layoutManager;
    if (i2 < s2.contentBounds.y && r2.canGrouping()) return false;
    if (e3 < s2.gridBounds.x || e3 > s2.clientRect.right) this.$_startTimer();
    else {
      this.$_stopTimer();
      var a2 = s2.getHeaderCellAt(e3, i2), l2 = this.$_findTarget(a2);
      Ot.log("MOVE: ", this._layout.displayText + " => " + (null == l2 ? void 0 : l2.displayText)), l2 && !r2.canMoveToLayout(l2) && (l2 = null), this.$_setTarget(l2), this._cellFeedback.dragging = true, n2.horizontal ? this._cellFeedback.x = e3 - this._offset : this._cellFeedback.y = i2 - this._offset;
    }
    return true;
  }, e2.prototype._doCanceled = function() {
    this.$_stopTimer();
  }, e2.prototype._doCompleted = function() {
    this.$_stopTimer(), this._target && (this._layout.vindex = this._target.vindex, this._layout.owner.setMoveColumn(this._layout));
  }, e2.prototype._doEnded = function() {
    this.$_stopTimer(), this.grid.removeFeedbackElement(this._feedback), this.grid.removeFeedbackElement(this._cellFeedback);
  }, e2.prototype.getNextRequest = function(t3, e3) {
    return this.grid.activeTool.getNextRequest(this._request, this._cellFeedback, t3, e3);
  }, e2.prototype.$_startTimer = function() {
    this._timer || (this._colLoop = this._colPrevLoop = 0, this._timer = setInterval(this.$_timerHandler.bind(this), 60));
  }, e2.prototype.$_stopTimer = function() {
    this._timer && (clearInterval(this._timer), this._timer = null);
  }, e2.prototype.$_timerHandler = function() {
    var t3 = this._grid, e3 = this.currentX, i2 = t3.layoutManager, o2 = 0;
    e3 > i2.clientRect.right ? (o2 = Math.max(0, Math.min(3, (e3 - i2.clientRect.right) / 40)), this._interval = 4 - o2, this._colLoop++) : e3 < i2.gridBounds.x && (o2 = Math.max(0, Math.min(3, (i2.gridBounds.x - e3) / 40)), this._interval = 4 - o2, this._colLoop++), o2 > 0 && (this._interval = 4 - o2), this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, e3 > i2.clientRect.right ? t3.leftCell += 1 : e3 < i2.gridBounds.left && t3.leftPos > 0 && (t3.leftCell -= 1)), this.$_setTarget(null);
  }, e2.prototype.$_findTarget = function(t3) {
    if (t3) for (var e3 = this._layout.parent; t3; ) {
      if (t3.parent === e3) return t3;
      t3 = t3.parent;
    }
  }, e2.prototype.$_setTarget = function(t3) {
    var e3 = this._request.layout, i2 = e3.parent, o2 = this._feedback, r2 = o2._dom.style, n2 = this.grid.layoutManager;
    if (this.currentX, this.currentY, this._target = t3, o2.visible = null != t3 && t3.parent === i2 && t3 !== e3) {
      var s2 = n2.getHeaderCellRect(t3, true);
      if (i2.horizontal) {
        var a2 = e3.hcol;
        r2.height = s2.height + "px", t3.hcol < a2 ? (r2.borderRight = "none", r2.borderLeft = "", o2.x = s2.x) : t3.hcol > a2 && (r2.borderLeft = "none", r2.borderRight = "", o2.x = s2.right - o2.width);
      } else {
        var l2 = e3.row;
        r2.width = s2.width + "px", t3.row < l2 ? (r2.borderBottom = "none", r2.borderTop = "", o2.y = s2.y) : t3.row > l2 && (r2.borderTop = "none", r2.borderBottom = "", o2.y = s2.bottom - o2.height);
      }
    }
  }, e2.WING_SIZE = 7, e2;
}(lh);
var ch = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.grid, "rowResizeTracker") || this;
    return o2._request = e3, o2._feedback = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = null, this._feedback = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid.layoutManager, n2 = r2.leftContentBounds.x, s2 = r2.rightContentBounds.right;
    return this._feedback.resize(s2 - n2, 2), this._feedback.move(n2, i2 - this._request.offset), this.grid.addFeedbackElement(this._feedback), true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return i2 - this._request.offset - this._request.rowTop >= this.grid.displayOptions.minRowHeight && (this._feedback.y = i2 - this._request.offset, true);
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = r2.displayOptions, s2 = Math.max(n2.minRowHeight, i2 - this._request.offset - this._request.rowTop);
    (s2 = 0 === n2.maxRowHeight ? s2 : Math.min(n2.maxRowHeight, s2)) >= r2.layoutManager.bodyBounds.height && (s2 = r2.layoutManager.bodyBounds.height - 1), this._request.variable ? r2.setRowHeight(this._request.itemIndex, s2) : n2.rowHeight = s2;
  }, e2.prototype._doEnded = function() {
    this.grid.removeFeedbackElement(this._feedback);
  }, e2;
}(lh);
var dh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.grid, "rowResizeTracker") || this;
    return o2._request = e3, o2._feedback = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = null, this._feedback = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid.layoutManager, n2 = r2.leftContentBounds.x, s2 = r2.rightContentBounds.right;
    return this._feedback.resize(s2 - n2, 2), this._feedback.move(n2, i2 - this._request.offset), this.grid.addFeedbackElement(this._feedback), true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return i2 - this._request.offset - this._request.top >= this.grid.header.minHeight && (this._feedback.y = i2 - this._request.offset, true);
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
    var r2 = this.grid.header, n2 = Math.max(r2.minHeight, i2 - this._request.offset - this._request.top);
    r2.height = n2;
  }, e2.prototype._doEnded = function() {
    this.grid.removeFeedbackElement(this._feedback);
  }, e2;
}(lh);
var ph = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3.grid, "rowMoveTracker") || this;
    return r2._timer = null, r2._request = e3, r2._proxy = i2, r2._line = o2, r2;
  }
  return i(e2, t2), e2.updateLineFeedback = function(t3, e3, i2, o2, r2, n2, s2, a2, l2) {
    var h2 = { index: -1, position: 0, column: void 0 };
    if (n2 < 0 || s2 < -20 || n2 >= t3.width || s2 >= t3.height + 20) return r2.visible = false, h2;
    var u2 = r2.feedbackStyle = t3.dataDropOptions.feedbackStyle, c2 = t3.layoutManager, d2 = c2.defaultItemHeight;
    s2 -= c2.contentBounds.y;
    var p2 = 0, f2 = c2.contentBounds.right, _2 = -1, g2 = -1, y2 = 0, m2 = 2, b2 = t3.cellToIndex(l2), v2 = false, w2 = Ot.included(u2, Il.CELL, Il.GROUP);
    if (s2 < c2.summaryBounds.bottom) g2 = Math.max(0, c2.topIndex - 1), _2 = c2.getTableItemTop(0);
    else if (s2 >= c2.footerBounds.y) g2 = c2.topIndex + c2.fullItemCount, _2 = c2.getTableItemBottom(c2.fullItemCount);
    else {
      var C2 = s2 - c2.summaryBounds.bottom, x2 = c2.getTableItemIndex(C2), I2 = c2.getTableItemHeight(x2);
      if ((g2 = x2) >= c2.fixedItemCount && (g2 += c2.topIndex), g2 != e3 || w2) {
        var E2 = c2.getTableItemTop(x2);
        if (u2 === Il.ROW) {
          _2 = E2 || 0, m2 = I2 || d2;
          var S2 = Math.floor(I2 / 3);
          C2 < E2 + S2 ? y2 = -1 : C2 > E2 + 2 * S2 && (y2 = 1);
        } else if (u2 === Il.GROUP) {
          if (b2 && t3.isValid(b2)) {
            var O2 = c2.getDataRect(b2.layout.root), R2 = b2.layout.root.first;
            m2 = I2, _2 = E2, f2 = (p2 = O2.x) + O2.width, h2.column = R2.getDataColumn().name, v2 = R2 !== i2;
          }
        } else if (u2 === Il.CELL) {
          if (b2 && t3.isValid(b2)) {
            var P2 = c2.getBodyView(b2);
            _2 = (O2 = P2.getCellRectAt(c2, b2, true)).y, m2 = (O2 = P2.boundsByContainer(O2)).height, f2 = (p2 = O2.x) + O2.width, v2 = b2.layout !== i2, h2.column = b2.layout.getDataColumn().name;
          }
        } else C2 < E2 + I2 / 2 ? (_2 = E2, g2 > e3 && (g2 = Math.max(c2.topIndex, g2 - 1)), y2 = -1) : ((_2 = x2 > -1 ? c2.getTableItemBottom(x2) : a2 ? 0 : -1) >= 0 && g2 < e3 && g2++, y2 = 1);
      }
    }
    return _2 += c2.contentBounds.y + c2.summaryBounds.bottom, r2.visible = g2 > e3 ? g2 > e3 + o2 - 1 : (g2 >= 0 || u2 === Il.ROW) && (g2 != e3 || v2), r2.visible ? (r2.resize(f2 - p2, m2), 0 == t3.itemCount && u2 !== Il.ROW && (_2 += d2), r2.move(p2, _2)) : g2 = -1, t3.dataDropOptions.scroll && (s2 < c2.summaryBounds.bottom ? t3.topIndex-- : s2 >= c2.footerBounds.y && t3.topIndex++), h2.index = g2, h2.position = y2, h2;
  }, e2.prototype._doDispose = function() {
    this._request = null, this._proxy = null, this._line = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "request", { get: function() {
    return this._request;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sourceItems", { get: function() {
    return this._sourceItems;
  }, enumerable: false, configurable: true }), e2.prototype.setEnabled = function(t3) {
    this._proxy.setEnabled(t3) && this._proxy.draw();
  }, e2.prototype.setLabel = function(t3) {
    this._proxy.setLabel(t3) && this._proxy.draw();
  }, Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "linkable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2, n2, s2 = this.grid, a2 = It(t3), l2 = s2.selections.count;
    if (this._sourceItems = [], 0 === l2 || (r2 = s2.selections.getItem(0), (n2 = r2 && r2.style) == Js.COLUMNS || n2 == Js.SINGLE_COLUMN)) if (s2.displayOptions.selectionStyle === Js.NONE) s2.selections.selectBlock(s2.focusedIndex, true);
    else switch (s2.dataDropOptions.feedbackStyle) {
      case Il.LINE:
      case Il.ROW:
        s2.selections.selectRow(this._request.itemIndex, true);
        break;
      case Il.CELL:
      case Il.GROUP:
        s2.selections.selectBlock(s2.focusedIndex, true);
    }
    if (s2.selections.count >= 1) {
      this._sourceItems = s2.selections.getItem(0).getItemIndices(), a2.body.appendChild(this._proxy._dom), s2.addFeedbackElement(this._line);
      var h2 = this.$_updateLine(e3, i2, t3);
      return this._proxy.setZIndex(s2.displayOptions.baseZindex + 6), this.$_updateProxy(e3, i2, h2, t3), true;
    }
    return false;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    var r2 = this.grid.layoutManager;
    t3 = this.$_getTarget(o2, t3);
    var n2 = this.$_updateLine(e3, i2, t3);
    return this.$_updateProxy(e3, i2, n2, t3), (i2 -= r2.contentBounds.y) > r2.footerBounds.y || i2 < r2.summaryBounds.bottom ? this.$_startTimer() : this.$_stopTimer(), true;
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
    var r2 = this._targetRow, n2 = this.grid;
    t3 = this.$_getTarget(o2, t3);
    var s2, a2 = n2.container.findContainer(null, t3);
    if (a2 ? r2.index >= 0 && (s2 = n2.canMoveRow(true, false) && n2.dataDropOptions.getEnabled(n2, this._sourceItems, r2, e3, i2)) : s2 = n2.canMoveRow(false, true) && n2.dataDropOptions.getEnabled(n2, this._sourceItems, r2, e3, i2, t3), s2) {
      var l2 = this._request.itemIndex, h2 = n2.dataDropOptions.callback;
      if (h2) a2 ? h2(n2.handler, this._sourceItems, n2.handler, r2.index, r2.column) : h2(n2.handler, this._sourceItems, t3, null, null);
      else if (a2 === n2.container) {
        var u2 = r2.index > l2 ? r2.index - (l2 + this._sourceItems.length - 1) : r2.index - l2, c2 = n2.dataDropOptions.feedbackStyle;
        Ot.included(c2, Il.CELL, Il.GROUP) || n2.moveSelection(u2, "mouseup");
      }
    }
  }, e2.prototype._doCanceled = function(t3, e3) {
  }, e2.prototype._doEnded = function() {
    this.$_stopTimer(), this.grid.removeFeedbackElement(this._line), Ot.detach(this._proxy._dom);
  }, e2.prototype.$_getTarget = function(t3, e3) {
    var i2;
    if (Ot.isMobile()) {
      var o2 = It(t3.target);
      i2 = o2 && o2.elementFromPoint(t3.clientX, t3.clientY);
    }
    return i2 || e3;
  }, e2.prototype.$_updateLine = function(t3, i2, o2) {
    return this._targetRow = e2.updateLineFeedback(this.grid, this._request.itemIndex, this._request.layout, this._sourceItems.length, this._line, t3, i2, false, o2);
  }, e2.prototype.$_updateProxy = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = r2.container.findContainer(null, o2), s2 = n2 !== r2.container, a2 = Ot.getOffset(r2.container._containerDom);
    a2.y += e3, a2.x += t3 + 20;
    var l2 = true;
    if (!s2) {
      for (var h2 = r2.selections.getItem(0).getItems(), u2 = h2[0].level, c2 = 1, d2 = h2.length; c2 < d2; c2++) if (h2[c2].level !== u2) {
        l2 = false;
        break;
      }
    }
    if (l2 = n2 ? l2 && r2.canMoveRow(true, s2) && (s2 || r2.dataDropOptions.getEnabled(r2, this._sourceItems, i2, t3, e3)) : l2 && r2.canMoveRow(false, true) && r2.dataDropOptions.getEnabled(r2, this._sourceItems, i2, t3, e3, o2), this._proxy.move(a2.x, a2.y), this._proxy.setEnabled(void 0 !== l2 ? l2 : i2.index >= 0), !s2 || !n2) {
      var p2 = r2.dataDropOptions.getLabel(r2, this._sourceItems, i2, !n2 && o2);
      this._proxy.setLabel(p2);
    }
    return this._proxy.draw(), l2;
  }, e2.prototype.$_startTimer = function() {
    this._timer || (this._timer = setInterval(this.$_timerHandler.bind(this), 100));
  }, e2.prototype.$_stopTimer = function() {
    this._timer && (clearInterval(this._timer), this._timer = null);
  }, e2.prototype.$_timerHandler = function() {
    var t3 = this.currentX, e3 = this.currentY;
    this.$_updateLine(t3, e3, null);
  }, e2;
}(lh);
var fh = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this, e3.index.grid, i2) || this;
    return n2._request = e3, n2._currX = o2, n2._currY = r2, n2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request.dispose(), this._request = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollable", { get: function() {
    var t3 = this._getItem().getBounds();
    return t3.top === t3.bottom;
  }, enumerable: false, configurable: true }), e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doCanceled = function() {
  }, e2.prototype._doEnded = function() {
    var t3 = this._getItem();
    this.grid.selections.$_ended(t3);
  }, e2.prototype.spanHome = function(t3) {
    var e3 = this.grid;
    e3.getBodyViewAt(t3).spanHead(e3.layoutManager, t3);
  }, e2.prototype.spanRight = function(t3) {
    var e3 = this.grid;
    e3.getBodyViewAt(t3).spanRight(e3.layoutManager, t3);
  }, e2.prototype.immediateDrag = function(t3) {
    var e3 = this.grid;
    return e3.displayOptions.selectAndImmediateDrag || e3.displayOptions.altSelectAndImmediateDrag && t3.altKey;
  }, e2;
}(lh);
var _h = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, "blockSelectTracker", i2, o2) || this;
    return r2._timer = null, r2._rowPrevLoop = 0, r2._rowLoop = 0, r2._colPrevLoop = 0, r2._colLoop = 0, r2._interval = 0, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getItem = function() {
    return this._item || this.grid.selections.lastItem();
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = r2.selections, s2 = r2.layoutManager, a2 = o2 && o2.shiftKey, l2 = Ot.ctrlKey(o2), h2 = this._request.index;
    if (s2.isMergedCell(h2) && !(h2 = r2.pointToIndex(t3, e3, i2, true)).layout) return false;
    if (a2) this._item = n2.count > 0 && n2.lastItem();
    else {
      var u2 = void 0;
      l2 || 1 === n2.count && n2.lastItem() instanceof Ea ? u2 = n2.lastItem() : n2.clear(true), this._item = u2 && u2 instanceof Ea ? u2 : n2.add(h2, h2, Js.BLOCK, true);
    }
    return !!this._item;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    if (this._item) {
      var r2 = this.grid;
      if (this.immediateDrag(o2)) return false;
      var n2 = r2.layoutManager;
      if (this._currX = e3, this._currY = i2, i2 - n2.contentBounds.y > n2.footerBounds.y || i2 < n2.gridBounds.y || e3 < n2.gridBounds.x || e3 > n2.clientRect.right) this.$_startTimer();
      else {
        this.$_stopTimer();
        var s2 = r2.pointToIndex(t3, e3, i2, true);
        s2.column && s2.itemIndex >= 0 && (Ts.compareHorz(s2, this._item.startIndex) >= 0 ? (this.spanRight(s2), this.spanHome(this._item.startIndex)) : this.spanRight(this._item.startIndex), this._item.resizeTo(s2));
      }
      return true;
    }
  }, e2.prototype._doEnded = function() {
    this.$_stopTimer(), t2.prototype._doEnded.call(this);
  }, e2.prototype.getNextRequest = function(t3, e3) {
    return this.grid.activeTool.getNextRequest(this._request, null, t3, e3);
  }, e2.prototype.$_startTimer = function() {
    this._timer || (this._rowLoop = this._rowPrevLoop = this._colLoop = this._colPrevLoop = 0, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
  }, e2.prototype.$_stopTimer = function() {
    this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
  }, e2.prototype.$_timerHandler = function() {
    var t3 = this._grid, e3 = this._currX, i2 = this._currY, o2 = t3.layoutManager, r2 = 0, n2 = 0;
    i2 > o2.footerBounds.y ? (n2 = Math.max(0, Math.min(3, (i2 - o2.footerBounds.y) / 40)), this._interval = 4 - n2, this._rowLoop++) : i2 < o2.gridBounds.y && (n2 = Math.max(0, Math.min(3, (o2.gridBounds.y - i2) / 40)), this._interval = 4 - n2, this._rowLoop++), e3 > o2.clientRect.right ? (r2 = Math.max(0, Math.min(3, (e3 - o2.clientRect.right) / 40)), this._interval = 4 - r2, this._colLoop++) : e3 < o2.gridBounds.x && (r2 = Math.max(0, Math.min(3, (o2.gridBounds.x - e3) / 40)), this._interval = 4 - r2, this._colLoop++);
    var s2 = false;
    if (Math.max(r2, n2) > 0 && (this._interval = 4 - Math.max(r2, n2)), this._rowLoop - this._rowPrevLoop >= this._interval && (this._rowPrevLoop = this._rowLoop, i2 > o2.footerBounds.y ? t3.topItem + o2.fullItemCount < t3.itemCount && (t3.topIndex = t3.topIndex + 1, s2 = true) : i2 < o2.gridBounds.y && t3.topItem > o2.fixedItemCount && (t3.topIndex = t3.topIndex - 1, s2 = true)), s2 || this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, e3 > o2.clientRect.right ? (t3.leftPos += e3 - o2.clientRect.right, s2 = true) : e3 < o2.gridBounds.left && t3.leftPos > 0 && (t3.leftPos -= o2.gridBounds.left - e3, s2 = true)), s2) {
      var a2 = t3.pointToIndex(null, e3, i2, false);
      a2.column && (a2.itemIndex = Math.min(Math.max(0, a2.itemIndex, t3.topIndex), t3.itemCount - 1), this._item.resizeTo(a2));
    }
  }, e2;
}(fh);
var gh = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, "rowsSelectTracker", i2, o2) || this;
    return r2._timer = null, r2._prevLoop = 0, r2._loop = 0, r2._colPrevLoop = 0, r2._colLoop = 0, r2._interval = 0, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getItem = function() {
    return this._item || this.grid.selections.lastItem();
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = r2.selections, s2 = r2.layoutManager, a2 = o2 && o2.shiftKey, l2 = Ot.ctrlKey(o2), h2 = this._request.index;
    if (s2.isMergedCell(h2) && (h2 = r2.pointToIndex(t3, e3, i2, true)), a2) this._item = n2.count > 0 && n2.lastItem();
    else {
      var u2 = void 0;
      l2 || 1 === n2.count && n2.lastItem() instanceof Sa ? u2 = n2.lastItem() : n2.clear(true), this._item = u2 && u2 instanceof Sa ? u2 : n2.add(h2, h2, Js.ROWS, true);
    }
    return !!this._item;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    if (this._item) {
      var r2 = this.grid;
      if (this.immediateDrag(o2)) return false;
      var n2 = r2.layoutManager;
      if (this._currX = e3, this._currY = i2, i2 > n2.footerBounds.y || i2 < n2.gridBounds.y || e3 < 0 || e3 > n2.clientRect.right) this.$_startTimer();
      else {
        this.$_stopTimer();
        var s2 = this.grid.pointToIndex(t3, e3, i2, false);
        s2.itemIndex >= 0 && this._item.resizeTo(s2);
      }
      return true;
    }
    return false;
  }, e2.prototype._doEnded = function() {
    this.$_stopTimer(), t2.prototype._doEnded.call(this);
  }, e2.prototype.getNextRequest = function(t3, e3) {
    return this.grid.activeTool.getNextRequest(this._request, null, t3, e3);
  }, e2.prototype.$_startTimer = function() {
    this._timer || (this._loop = this._prevLoop = this._colLoop = this._colPrevLoop = 0, this._interval = 1, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
  }, e2.prototype.$_stopTimer = function() {
    this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
  }, e2.prototype.$_timerHandler = function() {
    var t3, e3, i2 = this._grid, o2 = this._currX, r2 = this._currY, n2 = i2.layoutManager;
    (r2 > n2.footerBounds.y ? (t3 = Math.max(0, Math.min(3, (r2 - n2.footerBounds.y) / 40)), this._interval = 4 - t3, this._loop++) : r2 < n2.gridBounds.y && (t3 = Math.max(0, Math.min(3, (n2.gridBounds.y - r2) / 40)), this._interval = 4 - t3, this._loop++), this._loop - this._prevLoop >= this._interval) ? (this._prevLoop = this._loop, r2 > n2.footerBounds.y ? i2.topIndex = i2.topIndex + 1 : r2 < n2.gridBounds.y && (i2.topIndex = i2.topIndex - 1), (e3 = i2.pointToIndex(null, this._currX, this._currY, false)).itemIndex = Math.min(Math.max(0, e3.itemIndex, i2.topIndex), i2.itemCount - 1), this._item.resizeTo(e3)) : (o2 > n2.clientRect.right ? (t3 = Math.max(0, Math.min(3, (o2 - n2.clientRect.right) / 40)), this._interval = 4 - t3, this._colLoop++) : o2 < 0 && (t3 = Math.max(0, Math.min(3, (n2.gridBounds.x - o2) / 40)), this._interval = 4 - t3, this._colLoop++), this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, o2 > n2.clientRect.right ? i2.leftLayout = i2.leftLayout + 1 : o2 < n2.gridBounds.x && i2.leftPos > 0 && (i2.leftLayout = i2.leftLayout - 1), (e3 = i2.pointToIndex(null, this._currX, this._currY, false)).itemIndex >= 0 && (e3.itemIndex = Math.min(Math.max(0, e3.itemIndex, i2.topIndex), i2.itemCount - 1), this._item.resizeTo(e3))));
  }, e2;
}(fh);
var yh = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, "columnsSelectTracker", i2, o2) || this;
    return r2._timer = null, r2._prevLoop = 0, r2._loop = 0, r2._rowPrevLoop = 0, r2._rowLoop = 0, r2._interval = 0, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype._getItem = function() {
    return this._item || this.grid.selections.lastItem();
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2, n2 = this.grid, s2 = n2.selections, a2 = n2.layoutManager, l2 = o2 && o2.shiftKey, h2 = Ot.ctrlKey(o2), u2 = this._request.index;
    return a2.isMergedCell(u2) && (u2 = n2.pointToIndex(t3, e3, i2, true)), l2 ? r2 = s2.count > 0 && s2.lastItem() : h2 || 1 === s2.count && s2.lastItem() instanceof Oa ? r2 = s2.lastItem() : s2.clear(true), r2 && s2.containsLayout(u2.layout, Oa) ? this._item = r2 : this._item = s2.add(u2, u2, Js.COLUMNS, true), !!this._item;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    if (this._item) {
      var r2 = this.grid.layoutManager;
      if (this._currX = e3, this._currY = i2, e3 < r2.gridBounds.x || e3 > r2.clientRect.right || i2 > r2.footerBounds.y || i2 < 0) this.$_startTimer();
      else {
        this.$_stopTimer();
        var n2 = this.grid.pointToIndex(t3, e3, i2, false);
        null != n2.column && this._item.resizeTo(n2);
      }
      return true;
    }
    return false;
  }, e2.prototype._doEnded = function() {
    this.$_stopTimer(), t2.prototype._doEnded.call(this);
  }, e2.prototype.$_startTimer = function() {
    this._timer || (this._loop = this._prevLoop = this._rowLoop = this._rowPrevLoop = 0, this._interval = 1, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
  }, e2.prototype.$_stopTimer = function() {
    this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
  }, e2.prototype.$_timerHandler = function() {
    var t3, e3, i2 = this._grid, o2 = this._currX, r2 = this._currY, n2 = i2.layoutManager;
    (o2 > n2.clientRect.right ? (t3 = Math.max(0, Math.min(3, (o2 - n2.clientRect.right) / 40)), this._interval = 4 - t3, this._loop++) : o2 < n2.gridBounds.x && (t3 = Math.max(0, Math.min(3, (n2.gridBounds.x - o2) / 40)), this._interval = 4 - t3, this._loop++), this._loop - this._prevLoop >= 2 * this._interval) ? (this._prevLoop = this._loop, o2 > n2.clientRect.right ? i2.leftLayout = i2.leftLayout + 1 : o2 < n2.gridBounds.x && i2.leftPos > 0 && (i2.leftLayout = i2.leftLayout - 1), (e3 = i2.pointToIndex(null, this._currX, this._currY, false)).column && this._item.resizeTo(e3)) : (r2 > n2.footerBounds.y ? (t3 = Math.max(0, Math.min(3, (r2 - n2.footerBounds.y) / 40)), this._interval = 4 - t3, this._rowLoop++) : r2 < 0 && (t3 = Math.max(0, Math.min(3, (n2.gridBounds.y - r2) / 40)), this._interval = 4 - t3, this._rowLoop++), this._rowLoop - this._rowPrevLoop >= this._interval && (this._rowPrevLoop = this._rowLoop, r2 > n2.footerBounds.y ? i2.topIndex = i2.topIndex + 1 : r2 < n2.gridBounds.y && (i2.topIndex = i2.topIndex - 1), (e3 = i2.pointToIndex(null, this._currX, this._currY, false)).column && this._item.resizeTo(e3)));
  }, e2;
}(fh);
var mh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._clickX = 0, o2._clickY = 0, o2._mouseX = 0, o2._mouseY = 0, o2._longTimerHandler = function() {
      o2._longPressed = true;
    }, o2._owner = e3, o2._name = i2, o2.previous = null, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._dragTracker = null, this.previous = null, this._owner = null, this._mouseEventTarget = this._clickTarget = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dragTracker", { get: function() {
    return this._dragTracker;
  }, set: function(t3) {
    t3 !== this._dragTracker && (this._dragTracker && this._dragTracker.deactivate(), this._dragTracker = t3, this._dragTracker && this._dragTracker.activate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dragging", { get: function() {
    return this._dragTracker && this._dragTracker.dragging;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mouseX", { get: function() {
    return this._mouseX;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mouseY", { get: function() {
    return this._mouseY;
  }, enumerable: false, configurable: true }), e2.prototype.findElementAt = function(t3, e3, i2) {
    return this._owner.findElementAt(t3, e3, i2);
  }, e2.prototype.activate = function(t3) {
    this._doActivated(t3);
  }, e2.prototype.deactivate = function() {
    this._doDeactivated();
  }, e2.prototype.keyDown = function(t3) {
    return this._doKeyDown(t3);
  }, e2.prototype.keyUp = function(t3) {
    return this._doKeyUp(t3);
  }, e2.prototype.keyPress = function(t3) {
    return this._doKeyPress(t3);
  }, e2.prototype.copyHandler = function(t3) {
    return this._doCopyEvent(t3);
  }, e2.prototype.pasteHandler = function(t3) {
    return this._doPasteEvent(t3);
  }, e2.prototype.pointerDown = function(t3) {
    var e3 = this._mouseX = this._clickX = t3.mouseX, i2 = this._mouseY = this._clickY = t3.mouseY;
    this._longPressed = false, this._touchEvents = [{ x: e3, y: i2, t: t3.timeStamp }], this.dragging && this._stopDragTracker(e3, i2, false, t3), this._doPointerDown(t3);
  }, e2.prototype.mouseDown = function(t3) {
    var e3 = this._mouseX = this._clickX = t3.mouseX, i2 = this._mouseY = this._clickY = t3.mouseY;
    this._doMouseDown(t3), this.dragging && this._stopDragTracker(e3, i2, false, t3);
  }, e2.prototype.pointerCancel = function(t3) {
    var e3 = this._mouseX = t3.mouseX, i2 = this._mouseY = t3.mouseY;
    this.dragging ? this._stopDragTracker(e3, i2, true, t3) : (this._dragTracker instanceof fh && this._dragTracker._doEnded(), this._dragTracker = null), this._touchEvents = [], this._doPointerCancel(t3);
  }, e2.prototype.dragFrom = function(t3, e3) {
  }, e2.prototype.dropFrom = function(t3, e3) {
  }, e2.prototype.cancelFrom = function(t3) {
  }, e2.prototype.pointerMove = function(t3) {
    var e3 = this._mouseX = t3.mouseX, i2 = this._mouseY = t3.mouseY, o2 = this.dragTracker, r2 = t3.buttons;
    if (o2) {
      if (o2.dragging) {
        if (1 === r2) {
          if (!o2.drag(this._mouseEventTarget, e3, i2, t3)) {
            var n2 = o2.getNextRequest(e3, i2);
            n2 && (this._stopDragTracker(e3, i2, true, t3), this.dragTracker = this._getDragTracker(n2, e3, i2), this._startDragTracker(e3, i2, t3));
          }
        } else this._stopDragTracker(e3, i2, true, t3);
        return;
      }
      var s2 = this.owner.getThreshold();
      if (Math.abs(e3 - this._clickX) >= s2 || Math.abs(i2 - this._clickY) >= s2) {
        if (1 === r2) return void this._startDragTracker(e3, i2, t3);
        this._stopDragTracker(e3, i2, true, t3), this._dragTracker = null;
      }
    }
    this._doPointerMove(t3);
  }, e2.prototype.pointerUp = function(t3) {
    var e3 = this, i2 = this._mouseX = t3.mouseX, o2 = this._mouseY = t3.mouseY;
    clearTimeout(this._longTimer), this._touchEvents && this._touchEvents.push({ x: t3.mouseX, y: t3.mouseY, t: t3.timeStamp }), this.dragging ? (Ot.isMobile() && "pointerup" === t3.type && this._checkSwipe(t3), this._stopDragTracker(i2, o2, false, t3), this._dragTracker && this._dragTracker.clickable && !this._longPressed && this._doPointerUp(t3)) : (this._dragTracker && this._dragTracker._doEnded(), this._dragTracker = null, this._doPointerUp(t3)), setTimeout(function() {
      e3._longPressed = false;
    }, 100), this._touchEvents = [];
  }, e2.prototype.mouseEnter = function(t3) {
    this._doMouseEnter(t3);
  }, e2.prototype.mouseLeave = function(t3) {
    this._doMouseLeave(t3);
  }, e2.prototype.mouseOver = function(t3) {
    this._doMouseOver(t3);
  }, e2.prototype.mouseOutside = function() {
    this._doMouseOutside();
  }, e2.prototype.mouseWheel = function(t3) {
    return this._doMouseWheel(t3);
  }, e2.prototype.contextMenu = function(t3) {
    return this._doContextMenu(t3);
  }, e2.prototype.click = function(t3) {
    this._doClick(t3);
  }, e2.prototype.dblclick = function(t3) {
    this._doDblClick(t3);
  }, e2.prototype.setFocus = function(t3) {
    this._doSetFocus(t3);
  }, e2.prototype.focusLeave = function(t3) {
    this._doFocusLeave(t3);
  }, e2.prototype.resetFocused = function() {
  }, e2.prototype.globalKeyup = function(t3) {
    this._doGlobalKeyup(t3);
  }, e2.prototype.globalKeydown = function(t3) {
    this._doGlobalKeydown(t3);
  }, e2.prototype.touchMove = function(t3) {
    return this._doTouchMove(t3);
  }, e2.prototype._checkSwipe = function(t3) {
  }, Object.defineProperty(e2.prototype, "mouseEventTarget", { get: function() {
    return this._mouseEventTarget;
  }, enumerable: false, configurable: true }), e2.prototype.isMouseEventTarget = function(t3) {
    return t3._dom === this._mouseEventTarget;
  }, e2.prototype._doActivated = function(t3) {
  }, e2.prototype._doDeactivated = function() {
  }, e2.prototype._doKeyDown = function(t3) {
    return false;
  }, e2.prototype._doKeyUp = function(t3) {
    return false;
  }, e2.prototype._doKeyPress = function(t3) {
    return false;
  }, e2.prototype._doCopyEvent = function(t3) {
  }, e2.prototype._doPasteEvent = function(t3) {
  }, e2.prototype._doPointerDown = function(t3) {
  }, e2.prototype._doPointerCancel = function(t3) {
  }, e2.prototype._doPointerMove = function(t3) {
  }, e2.prototype._doPointerUp = function(t3) {
  }, e2.prototype._doMouseDown = function(t3) {
  }, e2.prototype._doMouseEnter = function(t3) {
  }, e2.prototype._doMouseLeave = function(t3) {
  }, e2.prototype._doMouseOver = function(t3) {
  }, e2.prototype._doMouseOutside = function() {
  }, e2.prototype._doMouseWheel = function(t3) {
    return false;
  }, e2.prototype._doContextMenu = function(t3) {
  }, e2.prototype._doClick = function(t3) {
  }, e2.prototype._doDblClick = function(t3) {
  }, e2.prototype._doSetFocus = function(t3) {
  }, e2.prototype._doFocusLeave = function(t3) {
  }, e2.prototype._doGlobalKeyup = function(t3) {
  }, e2.prototype._doGlobalKeydown = function(t3) {
  }, e2.prototype._getDragTracker = function(t3, e3, i2) {
    return null;
  }, e2.prototype._startDragTracker = function(t3, e3, i2) {
    void 0 === i2 && (i2 = null), this._dragTracker && (this._dragTracker.start(this._mouseEventTarget, t3, e3, i2) ? this._doDragTrackerStarted(this._dragTracker) : this._dragTracker = null);
  }, e2.prototype._stopDragTracker = function(t3, e3, i2, o2) {
    if (this.dragging) {
      var r2 = this._dragTracker;
      i2 ? r2.cancel() : r2.drop(this._mouseEventTarget, t3, e3, o2), this._doDragTrackerFinished(r2, i2);
    }
  }, e2.prototype._doDragTrackerStarted = function(t3) {
  }, e2.prototype._doDragTrackerFinished = function(t3, e3) {
  }, e2.prototype._findTableCell = function(t3) {
    return this.owner.getTableCell(t3 || this.mouseEventTarget);
  }, e2.prototype._doTouchMove = function(t3) {
    return true;
  }, e2;
}(Ft);
var bh = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "default";
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "source", { get: function() {
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dblClickable", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), e2;
}(Ft);
!function(t2) {
  t2.LINE = "line", t2.PAGE = "page", t2.THUMB_TRACK = "thumbTrack", t2.THUMB_END = "thumbEnd", t2.SCROLL_END = "scrollEnd";
}(sh || (sh = {}));
var vh = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, o2) || this;
    return r2._scrollBar = i2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._scrollBar = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "scrollBar", { get: function() {
    return this._scrollBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vertical", { get: function() {
    return this._scrollBar.vertical;
  }, enumerable: false, configurable: true }), e2.prototype._doDraw = function(t3) {
    this._doRender(t3);
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._changed = function() {
    this.invalidate();
  }, e2;
}(_a);
var wh = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, null, "scrollEdgeView") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-scrolledge";
  }, e2;
}(vh);
var Ch = function(t2) {
  function e2(e3) {
    return t2.call(this, e3.doc, e3, "scrollTrackView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-scrolltrack";
  }, e2;
}(vh);
var xh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.doc, e3, "scrollButtonView") || this;
    return o2._enabled = true, o2._far = i2, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    t3 != this._enabled && (this._enabled = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "far", { get: function() {
    return this._far;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return this.scrollBar.vertical ? this._far ? "rg-scroll-down" : "rg-scroll-up" : this._far ? "rg-scroll-right" : "rg-scroll-left";
  }, e2;
}(vh);
var Ih = function(t2) {
  function e2(e3) {
    return t2.call(this, e3.doc, e3, "scrollThumbView") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-scrollthumb";
  }, e2;
}(vh);
var Eh = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = false);
    var o2 = t2.call(this, e3.doc, "scrollBarView") || this;
    return o2._lineScrollSize = 1, o2._pageScrollSize = 1, o2._minThumbSize = 20, o2._min = 0, o2._max = 0, o2._pos = 0, o2._page = 0, o2._maxPosition = 0, o2._buttonSize = 20, o2._needLayout = true, o2._tipView = null, o2._container = e3, o2._vertical = i2, o2._track = new Ch(o2), o2.addChild(o2._track), o2._thumb = new Ih(o2), o2.addChild(o2._thumb), o2._nearButton = new xh(o2, false), o2.addChild(o2._nearButton), o2._farButton = new xh(o2, true), o2.addChild(o2._farButton), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._track = this._track.dispose(), this._thumb = this._thumb.dispose(), this._nearButton = this._nearButton.dispose(), this._farButton = this._farButton.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "container", { get: function() {
    return this._container;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lineScrollSize", { get: function() {
    return this._lineScrollSize;
  }, set: function(t3) {
    (t3 = Math.max(1, t3)) != this._lineScrollSize && (this._lineScrollSize = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pageScrollSize", { get: function() {
    return this._pageScrollSize;
  }, set: function(t3) {
    (t3 = Math.max(1, t3)) != this._pageScrollSize && (this._pageScrollSize = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minThumbSize", { get: function() {
    return this._minThumbSize;
  }, set: function(t3) {
    (t3 = Math.max(8, t3)) != this._minThumbSize && (this._minThumbSize = t3, this.invalidateLayout());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vertical", { get: function() {
    return this._vertical;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pos", { get: function() {
    return this._pos;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxPosition", { get: function() {
    return this._maxPosition;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonSize", { get: function() {
    return this._buttonSize;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tipView", { set: function(t3) {
    this._tipView = t3;
  }, enumerable: false, configurable: true }), e2.prototype.layoutContent = function() {
    this._needLayout && (this._needLayout = false, this._doLayoutContent());
  }, e2.prototype.setProperties = function(t3, e3, i2) {
    t3 = Math.max(0, t3), e3 = Math.max(t3, e3), t3 == this._min && e3 == this._max && i2 == this._page || (this._min = t3, this._max = e3, this._page = i2, this._pos = Math.min(this._max, Math.max(this._min, this._pos)), this._maxPosition = Math.max(0, this._max - this._page), this.invalidate(), this._needLayout = true);
  }, e2.prototype.setPosition = function(t3, e3) {
    void 0 === e3 && (e3 = true), (t3 = Math.min(this._maxPosition, Math.max(this._min, t3))) != this._pos && (this._pos = t3, this.invalidate(), this._needLayout = true, e3 && this.layoutContent());
  }, e2.prototype.ptInTrack = function(t3, e3, i2) {
    var o2 = this.containerToElement(t3, e3);
    if (this._vertical) {
      if (o2.y >= this._nearButton.height && o2.x < this._farButton.y) return !i2 && o2.y < this._thumb.y || i2 && o2.y >= this._thumb.bottom;
    } else if (t3 >= this._nearButton.width && t3 < this._farButton.x) return !i2 && o2.x < this._thumb.x || i2 && o2.x >= this._thumb.right;
    return false;
  }, e2.prototype.setText = function(t3) {
    if (this._tipView && t3) {
      this._tipView.show(), this._tipView.setText(t3);
      var e3 = void 0, i2 = void 0;
      if (this._vertical) {
        var o2 = this._tipView.width();
        e3 = this.x - o2 - 5, i2 = this._thumb.y;
      } else {
        var r2 = this._tipView.height();
        e3 = this._thumb.x, i2 = this.y - r2 - 5;
      }
      this._tipView.move(e3, i2);
    }
  }, e2.prototype._getCssSelector = function() {
    return this._vertical ? "rg-vscrollbar" : "rg-hscrollbar";
  }, e2.prototype.draw = function() {
    t2.prototype.draw.call(this);
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype._doSizeChanged = function() {
    this.invalidateLayout();
  }, e2.prototype.invalidateLayout = function() {
    this._needLayout = true, t2.prototype.invalidateLayout.call(this);
  }, e2.prototype._doLayoutContent = function() {
    var t3 = this._vertical, e3 = this._buttonSize, i2 = this.height, o2 = this.width, r2 = (t3 ? i2 : o2) - 2 * e3, n2 = Math.min(r2, Math.max(this._minThumbSize, Math.floor(r2 * this._page / (this._max - this._min + 1)))), s2 = e3 + Math.min(r2 - n2, Math.max(0, Math.floor((r2 - n2) * this._pos / (this._maxPosition - this._min))));
    this._track.setBounds(0, 0, o2, i2), t3 ? (this._nearButton.setBounds(0, 0, o2, e3), this._farButton.setBounds(0, i2 - e3, o2, e3), n2 <= r2 && this._thumb.setBounds(2, s2, o2 - 4, n2)) : (this._nearButton.setBounds(0, 0, e3, i2), this._farButton.setBounds(o2 - e3, 0, e3, i2), n2 <= r2 && this._thumb.setBounds(s2, 2, n2, i2 - 4));
  }, e2.prototype._doScroll = function(t3, i2, o2) {
    this.fireEvent(e2.SCROLLED, t3, i2, o2);
  }, e2.SCROLLED = "onScrollBarScrolled", e2;
}(_a);
var Sh = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "scrollThumbTracker") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._thumb = this._thumb && this._thumb.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "thumb", { get: function() {
    return this._thumb;
  }, set: function(t3) {
    this._thumb = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startWhenCreated", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this._thumb.scrollBar, n2 = r2.containerToElement(e3, i2);
    return r2.vertical ? this._offset = n2.y - this._thumb.y : this._offset = n2.x - this._thumb.x, Ot.isSlotMode() && o2 instanceof PointerEvent && t3.setPointerCapture(o2.pointerId), true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return this.$_doScroll(e3, i2, sh.THUMB_TRACK);
  }, e2.prototype._doCompleted = function(t3, e3, i2, o2) {
    return Ot.isSlotMode() && o2 instanceof PointerEvent && t3.releasePointerCapture(o2.pointerId), this.$_doScroll(e3, i2, sh.THUMB_END);
  }, e2.prototype._doCanceled = function(t3, e3) {
  }, e2.prototype._doEnded = function() {
  }, e2.prototype.$_doScroll = function(t3, e3, i2) {
    var o2 = this._thumb.scrollBar, r2 = o2._maxPosition - o2._min + 1, n2 = o2._buttonSize, s2 = o2.containerToElement(t3, e3);
    if (o2.vertical) {
      if ((a2 = o2.height - 2 * n2 - this._thumb.height) <= 0) return false;
      s2.y -= this._offset, s2.y = (s2.y - n2) * r2 / a2, o2._doScroll(i2, 0, Math.max(Math.floor(s2.y), 0));
    } else {
      var a2;
      if ((a2 = o2.width - 2 * n2 - this._thumb.width) <= 0) return false;
      s2.x -= this._offset, s2.x = (s2.x - n2) * r2 / a2, o2._doScroll(i2, 0, Math.max(Math.floor(s2.x), 0));
    }
    return true;
  }, e2;
}(nh);
var Oh = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._active = false, e3._timer = void 0, e3._ready = false, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "active", { get: function() {
    return void 0 !== this._timer;
  }, enumerable: false, configurable: true }), e2.prototype.start = function(t3) {
    this._button = t3, this._scrollBar = t3.scrollBar, this._active = true, setTimeout((function() {
      this._ready && (this._ready = false, clearInterval(this._timer), this._timer = setInterval((function() {
        this._active && this.$_fireEvent();
      }).bind(this), 20));
    }).bind(this), 300), this._ready = true, this.$_fireEvent();
  }, e2.prototype.move = function(t3, e3) {
    var i2 = this._button.containerToElement(t3, e3);
    this._active = this._button.containsInClient(i2.x, i2.y);
  }, e2.prototype.stop = function() {
    this._ready = false, this._timer && (this._timer = clearInterval(this._timer));
  }, e2.prototype.$_fireEvent = function() {
    var t3 = this._button.far ? 1 : -1, e3 = sh.LINE;
    this._scrollBar._doScroll(e3, this._scrollBar.lineScrollSize * t3, 0);
  }, e2;
}(Oe);
var Rh = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._active = false, e3._timer = void 0, e3._ready = false, e3._mouseX = 0, e3._mouseY = 0, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, enumerable: false, configurable: true }), e2.prototype.start = function(t3, e3, i2, o2) {
    var r2 = this;
    this._scrollBar = t3, this._far = e3, this._active = true, setTimeout(function() {
      r2._ready && (r2._ready = false, r2._timer = setInterval(function() {
        r2._active && r2.$_fireEvent();
      }, 50));
    }, 300), this._ready = true;
    var n2 = this._scrollBar.containerToElement(i2, o2);
    this._mouseX = n2.x, this._mouseY = n2.y, this.$_fireEvent();
  }, e2.prototype.move = function(t3, e3) {
    var i2 = this._scrollBar.containerToElement(t3, e3);
    this._mouseX = i2.x, this._mouseY = i2.y, this._active = this._scrollBar.ptInTrack(i2.x, i2.y, this._far);
  }, e2.prototype.stop = function() {
    this._ready = false, this._timer && clearInterval(this._timer);
  }, e2.prototype.$_fireEvent = function() {
    var t3 = null, e3 = 0, i2 = this._scrollBar._thumb;
    if (this._scrollBar.vertical) {
      var o2 = this._mouseY;
      this._far && o2 > i2.bottom ? (t3 = sh.PAGE, e3 = 1) : !this._far && o2 < i2.y && (t3 = sh.PAGE, e3 = -1);
    } else {
      var r2 = this._mouseX;
      this._far && r2 > i2.right ? (e3 = 1, t3 = sh.PAGE) : r2 < i2.x && (t3 = sh.PAGE, e3 = -1);
    }
    0 != e3 && this._scrollBar._doScroll(t3, this._scrollBar.pageScrollSize * e3, 0);
  }, e2;
}(Ft);
var Ph = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "scrollTool") || this;
    return i2._buttonTimer = new Oh(), i2._trackTimer = new Rh(), i2._thumbTracker = new Sh(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._thumbTracker.cancel(), this._thumbTracker = this._thumbTracker.dispose(), this._buttonTimer.stop(), this._buttonTimer = this._buttonTimer.dispose(), this._trackTimer.stop(), this._trackTimer = this._trackTimer.dispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype._doPointerDown = function(t3) {
    var e3 = t3.mouseX, i2 = t3.mouseY;
    this._clickElement = null, this.dragTracker = null, this._buttonTimer.stop(), this._trackTimer.stop();
    var o2 = this.findElementAt(e3, i2, false);
    if (0 === t3.button && o2 instanceof vh) {
      if (this._clickElement = o2, o2 instanceof xh) this._buttonTimer.start(o2);
      else if (o2 instanceof Ih) this._thumbTracker.thumb = o2, this.dragTracker = this._thumbTracker;
      else if (o2 instanceof Ch) {
        var r2 = o2.scrollBar.ptInTrack(e3, i2, true);
        this._trackTimer.start(o2.scrollBar, r2, e3, i2);
      }
    }
  }, e2.prototype._doPointerMove = function(t3) {
    var e3 = t3.mouseX, i2 = t3.mouseY, o2 = this._clickElement, r2 = this._buttonTimer, n2 = this._trackTimer;
    1 === t3.buttons ? o2 instanceof xh && r2.active ? r2.move(e3, i2) : o2 instanceof Ch && n2.active && n2.move(e3, i2) : (r2.active && r2.stop(), n2.active && n2.stop());
  }, e2.prototype._doPointerUp = function(t3) {
    this._clickElement && this._clickElement.scrollBar._doScroll(sh.SCROLL_END, 0, -1), this._clickElement = null, this._buttonTimer.stop(), this._trackTimer.stop();
  }, e2;
}(mh);
var kh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._container = e3, i2._element = i2.$_createElement(e3.doc), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._element = Ot.detach(this._element), this._container = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.show = function() {
    this._container._container.appendChild(this._element);
  }, e2.prototype.hide = function() {
    Ot.detach(this._element);
  }, e2.prototype.move = function(t3, e3) {
    Ot.move(this._element, t3, e3);
  }, e2.prototype.setText = function(t3) {
    this._element.innerHTML = t3;
  }, e2.prototype.width = function() {
    return this._element.offsetWidth;
  }, e2.prototype.height = function() {
    return this._element.offsetHeight;
  }, e2.prototype.$_createElement = function(t3) {
    var e3 = t3.createElement("div"), i2 = e3.style;
    return i2.position = "absolute", i2.padding = "4px 4px", i2.boxSizing = "border-box", i2.display = "lnline-block", i2.pointerEvents = "none", i2.userSelect = "none", e3.className = "rg-scroll-tip-view", e3;
  }, e2;
}(Ft);
var Dh = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2) || this;
    return r2._contaner = o2, r2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "container", { get: function() {
    return this._contaner;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
  }, e2.prototype._doDraw = function(t3) {
  }, e2;
}(_a);
var Th = function(t2) {
  function e2(i2, o2, r2) {
    var n2 = t2.call(this) || this;
    return n2._disabled = false, n2._updateRequested = false, n2._layoutNeeded = false, n2._invalidated = false, n2._currentX = 0, n2._currentY = 0, n2._defaultCursor = "default", n2._drawing = false, n2._eventHandlers = {}, n2._eventNodes = [], n2._containerRender = n2._render.bind(n2), n2._scrollTool = new Ph(n2), n2._cursor = "default", n2._testWidth = NaN, n2._testHeight = NaN, n2._positionListener = [], n2._scrollHandler = function(t3) {
      var e3 = It(n2._containerDom), i3 = xt(n2._containerDom);
      Ot.isSlotMode() || t3.target !== e3 && !Ot.isAncestorOf(t3.target, n2._containerDom, t3) || (n2._scrollTimer = n2._scrollTimer && i3.cancelAnimationFrame(n2._scrollTimer), n2._scrollTimer = i3.requestAnimationFrame(function() {
        n2._positionListener.forEach(function(t4) {
          t4.resetPosition();
        });
      }));
    }, n2.prepareContainer(i2, o2, r2), n2.invalidateLayout(), n2._registerEventHandlers(n2._rootElement._dom, n2._containerDom, o2), n2.activeTool = n2._defaultTool = n2._createDefaultTool(), e2.$_Containers[n2.$_hash] = n2, n2;
  }
  return i(e2, t2), e2.prototype.getMouseContainer = function() {
    return e2.$_Containers[e2.$_mouseContainer];
  }, e2.prototype.findContainer = function(t3, i2) {
    for (var o2 in e2.$_Containers) {
      var r2 = e2.$_Containers[o2];
      if (r2.contains(i2 || t3.target)) return r2;
    }
    return null;
  }, e2.getActiveGrid = function() {
    var t3 = e2.$_Containers[e2.$_ActiveGrid];
    return t3 && t3._gridView;
  }, e2.refreshGrids = function() {
    var t3 = e2.$_Containers;
    for (var i2 in t3) {
      var o2 = t3[i2];
      (o2 && o2._gridView).refreshView(true);
    }
  }, e2.setActiveGrid = function(t3) {
    if (t3 !== e2.$_ActiveGrid) {
      var i2 = e2.$_Containers[t3], o2 = void 0;
      if (i2 = i2 && i2._gridView, window.RealGrid && (o2 = window.RealGrid.onActiveGridChanged)) {
        var r2 = e2.$_Containers[e2.$_ActiveGrid];
        o2((r2 = r2 && r2._gridView) && r2.handler, i2 && i2.handler);
      }
      i2._fireGridActivated();
    }
    e2.$_ActiveGrid = t3;
  }, e2.getGridInstance = function(t3) {
    if ("string" == typeof t3 && (t3 = document.getElementById(t3)), rh(t3, "HTMLDivElement")) for (var i2 in e2.$_Containers) {
      var o2 = e2.$_Containers[i2];
      if (o2._containerDiv === t3) return o2.gridView;
    }
  }, e2.clearContainer = function(t3) {
    e2[t3] && delete e2[t3], e2.$_ActiveGrid === t3 && (e2.$_ActiveGrid = null);
  }, e2.disposeStatic = function() {
    this.$_Containers = null, this.$_ActiveGrid = null;
  }, e2.prototype._doDispose = function() {
    this._activeTool = null, this._defaultTool = this._defaultTool.dispose(), this._scrollTool = this._scrollTool.dispose(), this.$_removeListenerAll(null), Ot.detach(this._containerDom), this._containerDom = null, this._container = null, this._doc = null, Ot.clearElements(this._containerDiv), t2.prototype._doDispose.call(this), delete e2.$_Containers[this.$_hash];
  }, Object.defineProperty(e2.prototype, "doc", { get: function() {
    return this._doc;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "disabled", { get: function() {
    return this._disabled;
  }, set: function(t3) {
    t3 != this._disabled && (this._disabled = t3, this._doDisabledChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "activeTool", { get: function() {
    return this._activeTool;
  }, set: function(t3) {
    if ((t3 = t3 || this._defaultTool) != this._activeTool) {
      var e3 = this._activeTool;
      e3 && e3.deactivate(), this._activeTool = t3, t3 && t3.activate(e3);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultTool", { get: function() {
    return this._defaultTool;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "measurer", { get: function() {
    return this._measurer;
  }, enumerable: false, configurable: true }), e2.prototype.findElementAt = function(t3, e3, i2) {
    return this._rootElement.findChildAt(t3 - this._rootElement._x, e3 - this._rootElement._y, i2);
  }, e2.prototype.getTableCell = function(t3) {
    return null;
  }, e2.prototype.setCursor = function(t3) {
    t3 != this._cursor && (this._containerDom.style.cursor = this._cursor = t3);
  }, e2.prototype.setFocus = function() {
    this._containerDom.focus();
  }, e2.prototype.updateNow = function() {
    this._layoutNeeded = true, this.invalidate(true), this._render(Ot.getTimer());
  }, e2.prototype.toScreen = function(t3) {
    var e3 = Ot.getSize(this._containerDom);
    return t3.x += e3.left, t3.y += e3.top, t3;
  }, e2.prototype.getHtml = function() {
    return this._containerDom.outerHTML;
  }, e2.prototype.addElement = function(t3) {
    return this._rootElement.addChild(t3);
  }, e2.prototype.removeElement = function(t3) {
    return this._rootElement.removeChild(t3);
  }, e2.prototype.resetSize = function(t3) {
    void 0 === t3 && (t3 = null), this.updateNow(), t3 && setTimeout(t3, 0);
  }, e2.prototype.measureText = function(t3, e3, i2) {
    this._textMeasurer.className = t3;
    var o2 = this._textMeasurer.style;
    return i2 ? (o2.fontSize = i2.fontSize, o2.fontFamily = i2.fontFamily, o2.fontWeight = i2.fontWeight, o2.fontStyle = i2.fontStyle) : (o2.removeProperty("font-size"), o2.removeProperty("font-family"), o2.removeProperty("font-weight"), o2.removeProperty("font-style")), this._textMeasurer.innerHTML = e3, this._textMeasurer.offsetWidth;
  }, e2.prototype.$_refreshCheckMeasurer = function() {
    if (!this._checkRect) {
      var t3 = Ot.getSize(this._checkMeasurer), e3 = Et(this._doc).getComputedStyle(this._checkMeasurer);
      this._checkRect = { width: t3.width + parseInt(e3.marginLeft) + parseInt(e3.marginRight), height: t3.height + parseInt(e3.marginTop) + parseInt(e3.marginBottom) };
    }
    return this._checkRect;
  }, e2.prototype.measureCheckWidth = function() {
    return this.$_refreshCheckMeasurer().width;
  }, e2.prototype.measureCheckHeight = function() {
    return this.$_refreshCheckMeasurer().height;
  }, e2.prototype.contains = function(t3) {
    var e3 = t3;
    if (e3 instanceof Et(this.doc).HTMLElement) for (var i2 = e3.parentElement; i2; ) {
      if (i2 === this._containerDom) return true;
      i2 = i2.parentElement;
    }
    return false;
  }, e2.prototype.cancelOtherContainer = function(t3) {
    for (var i2 in e2.$_Containers) {
      var o2 = e2.$_Containers[i2];
      if (o2 !== this) {
        var r2 = o2._activeTool;
        r2 && r2.cancelFrom(t3);
      }
    }
  }, e2.prototype.getContainerWidth = function() {
    return Ot.getSize(this._containerDiv).width;
  }, e2.prototype._doDisabledChanged = function() {
  }, e2.prototype.prepareContainer = function(t3, e3, i2) {
    if (!t3) throw new Error("container is null!");
    if (rh(t3, "HTMLDivElement") ? this._containerDiv = t3 : this._containerDiv = document.getElementById(t3), !rh(this._containerDiv, "HTMLDivElement")) throw new Error(Ge.messages.gridContainerNotFind + t3);
    var o2 = this._doc = this._containerDiv.ownerDocument, r2 = Et(o2), n2 = this._containerDiv.getElementsByClassName("rg-root");
    if (n2 && n2.length > 0) throw new Error(Ge.messages.gridElementAttachFail);
    r2.requestAnimationFrame = r2.requestAnimationFrame || function(t4) {
      return r2.setTimeout(t4, 10);
    }, r2.cancelAnimationFrame = r2.cancelAnimationFrame || function(t4) {
      r2.clearTimeout(t4);
    };
    var s2 = this._containerDom = o2.createElement("div");
    this._container = this._containerDom;
    var a2 = s2.style;
    this._cursor = a2.cursor, this._containerDiv.appendChild(s2), s2.setAttribute("tabindex", "0"), a2.position = "relative", a2.width = "100%", a2.height = "100%", a2.boxSizing = "border-box", a2.overflow = "hidden", a2["-webkit-touch-callout"] = "none", a2["-webkit-user-select"] = "none", a2["user-select"] = "none", a2["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)", this._rootElement = this._createRootElement(o2), this._measurer = o2.createElement("div"), this._measurer.setAttribute("inert", ""), this._container.appendChild(this._measurer);
    var l2 = this._textMeasurer = o2.createElement("span");
    l2.setAttribute("inert", ""), l2.style.position = "absolute", l2.style.left = "-10000px", l2.style.top = "-10000px", l2.style.display = "block", this._container.appendChild(l2);
    var h2 = this._checkMeasurer = o2.createElement("input");
    h2.type = "checkbox", h2.title = "grid check measurer", h2.tabIndex = -1, h2.setAttribute("inert", ""), h2.style.position = "absolute", h2.style.left = "-1000px", h2.style.top = "-11000px", h2.style.display = "block", this._container.appendChild(h2), this._doPrepareContainer(s2, e3, i2);
  }, e2.prototype._doPrepareContainer = function(t3, e3, i2) {
  }, e2.prototype._createRootElement = function(t3) {
    var e3 = new Dh(t3, "root", this);
    return this._containerDom.appendChild(e3._dom), e3;
  }, e2.prototype.isLayoutNeeded = function() {
    return this._layoutNeeded;
  }, e2.prototype.invalidateLayout = function() {
    this._layoutNeeded || (this._layoutNeeded = true, this.invalidate(true));
  }, e2.prototype.invalidate = function(t3) {
    var e3 = Et(this._doc);
    this._updateRequested && this._invalidated || !t3 && this._drawing || (this._requestTimer || (this._requestTimer = e3.requestAnimationFrame(this._containerRender)), this._updateRequested = true, this._invalidated = true);
  }, e2.prototype.invalidateElement = function(t3) {
    var e3 = Et(this._doc);
    this._drawing || this._updateRequested || (this._requestTimer || (this._requestTimer = e3.requestAnimationFrame(this._containerRender)), this._updateRequested = true);
  }, e2.prototype._render = function(t3) {
    if (!this.disposing) {
      this._updateRequested = false, this._drawing = true;
      try {
        this._doBeforeRender(), this.$$_render(t3);
      } finally {
        this._drawing = false, this._invalidated = false, this._requestTimer = null, this._doAfterRender();
      }
    }
  }, e2.prototype.$$_render = function(t3) {
    var e3 = this._containerDom, i2 = isNaN(this._testWidth) ? e3.clientWidth : this._testWidth, o2 = isNaN(this._testHeight) ? e3.clientHeight : this._testHeight;
    if (this._layoutChildren(new it(0, 0, i2, o2)), this._layoutNeeded) try {
      this._doLayout(new it(0, 0, i2, o2));
    } finally {
      this._layoutNeeded = false;
    }
    else this._doPrepareRender(new it(0, 0, i2, o2));
    this._doRenderHtml(new it(0, 0, i2, o2));
  }, e2.prototype._doLayout = function(t3) {
  }, e2.prototype._doAfterRender = function() {
  }, e2.prototype._doPrepareRender = function(t3) {
  }, e2.prototype._doRenderHtml = function(t3) {
    this._doDrawContainer(t3), this._drawElement(this._rootElement), this._validateChildren(this._rootElement);
  }, e2.prototype._doDrawContainer = function(t3) {
  }, e2.prototype._drawElement = function(t3) {
    t3.draw();
    for (var e3 = 0, i2 = t3.childCount; e3 < i2; e3++) {
      var o2 = t3.getChild(e3);
      o2.visible && this._drawElement(o2);
    }
  }, e2.prototype._validateChildren = function(t3) {
    for (var e3 = 0, i2 = t3.childCount; e3 < i2; e3++) {
      t3.getChild(e3).validate();
    }
  }, e2.prototype._setFocusAndScroll = function(t3) {
    t3.setFocus ? t3.setFocus() : t3.focus && t3.focus({ preventScroll: true });
  }, e2.prototype._registerEventHandlers = function(t3, e3, i2) {
    var o2 = Ot.isIEMode() ? "mouse" : "pointer", r2 = Ot.isSlotMode() ? e3.parentElement : xt(t3);
    t3.style.cursor = this._defaultCursor, this.$_addListener(xt(t3), "resize", this._resizeHandler.bind(this), false), this.$_addListener(r2, "".concat(o2, "move"), this._pointerMoveHandler.bind(this), false), this.$_addListener(r2, "".concat(o2, "up"), this._pointerUpHandler.bind(this), false), this.$_addListener(r2, "focus", this._focusHandlerFireFox.bind(this), true), this.$_addListener(r2, "focusin", this._focusinHandler.bind(this), true), this.$_addListener(r2, "focusout", this._focusoutHandler.bind(this), true), this.$_addListener(r2, "".concat(o2, "down"), this._globalPointerDownHandler.bind(this), false), this.$_addListener(r2, "keyup", this._globalKeyupHandler.bind(this), false), this.$_addListener(r2, "keydown", this._globalKeydownHandler.bind(this), false), this.$_addListener(r2, "scroll", this._scrollHandler, true), e3 && (this.$_addListener(e3, "keydown", this._keyDownHandler.bind(this), false), this.$_addListener(e3, "keyup", this._keyUpHandler.bind(this), false), this.$_addListener(e3, "keypress", this._keyPressHandler.bind(this), false), (Ot.isMobile() || i2) && (this.$_addListener(e3, "copy", this._copyHandler.bind(this), false), this.$_addListener(e3, "cut", this._copyHandler.bind(this), false), this.$_addListener(e3, "paste", this._pasteHandler.bind(this), false))), this.$_addListener(t3, "click", this._clickHandler.bind(this), false), !Ot.isMobile() && this.$_addListener(t3, "dblclick", this._dblclickHandler.bind(this), false), this.$_addListener(t3, "".concat(o2, "down"), this._pointerDownHandler.bind(this), false), this.$_addListener(t3, "".concat(o2, "enter"), this._pointerEnterHandler.bind(this), false), this.$_addListener(t3, "".concat(o2, "leave"), this._pointerLeaveHandler.bind(this), false), this.$_addListener(t3, "".concat(o2, "over"), this._pointerOverHandler.bind(this), false), this.$_addListener(t3, "".concat(o2, "cancel"), this._pointerCancelHandler.bind(this), false), this.$_addListener(t3, "focus", this._focusHandler.bind(this), false), this.$_addListener(t3, "contextmenu", this._contextMenuHander.bind(this), false), this.$_addListener(t3, "blur", this._blurHandler.bind(this), false), this.$_addListener(t3, "selectstart", this._selectstartHandler.bind(this), false), this.$_addListener(t3, "wheel", this._wheelHandler.bind(this), !!Ot.isPassive() && { capture: false, passive: false }), this.$_addListener(t3, "touchmove", this._touchMoveHandler.bind(this), false);
  }, e2.prototype.$_addListener = function(t3, e3, i2, o2) {
    t3 in this._eventHandlers || (this._eventHandlers[t3] = {}), e3 in this._eventHandlers[t3] || (this._eventHandlers[t3][e3] = []), this._eventHandlers[t3][e3].push([i2, o2]), t3.addEventListener(e3, i2, o2), this._eventNodes.indexOf(t3) < 0 && this._eventNodes.push(t3);
  }, e2.prototype.$_removeListener = function(t3, e3, i2) {
    if (t3 in this._eventHandlers) {
      var o2 = this._eventHandlers[t3];
      if (e3 in o2) {
        for (var r2 = o2[e3], n2 = r2.length; n2--; ) {
          var s2 = r2[n2];
          t3.removeEventListener(e3, s2[0], s2[1]), r2.splice(n2, 1);
        }
        i2 && delete o2[e3];
      }
    }
  }, e2.prototype.$_removeListenerAll = function(t3) {
    void 0 === t3 && (t3 = null);
    for (var e3 = t3 ? [t3] : this._eventNodes, i2 = 0, o2 = e3.length; i2 < o2; i2++) {
      var r2 = e3[i2];
      if (r2 in this._eventHandlers) {
        var n2 = this._eventHandlers[r2];
        for (var s2 in n2) for (var a2 = n2[s2], l2 = a2.length; l2--; ) {
          var h2 = a2[l2];
          r2.removeEventListener(s2, h2[0], h2[1]);
        }
      }
    }
  }, e2.prototype.$_existListener = function(t3, e3) {
    var i2 = this._eventHandlers[t3];
    return i2 && i2[e3];
  }, e2.prototype.addMouseEvent = function(t3) {
    Ot.isIEMode() || (this.$_addListener(this._rootElement._dom, "mousedown", this._mouseDownHandler.bind(this), { once: true }), this.$_addListener(this._rootElement._dom, "mouseup", this._mouseUpHandler.bind(this), { once: true }));
  }, e2.prototype.removeMouseEvent = function() {
    Ot.isIEMode() || (this.$_removeListener(this._rootElement._dom, "mousedown", true), this.$_removeListener(this._rootElement._dom, "mouseup", true));
  }, e2.prototype._doResized = function(t3) {
    var e3 = this;
    this._zoomRatio = Ot.getZoom(this._containerDiv), setTimeout(function() {
      e3._zoomRatio = Ot.getZoom(e3._containerDiv);
    }, 500);
  }, e2.prototype._isEnabled = function() {
    return this._activeTool && !this._disabled;
  }, e2.prototype._isOutChildElement = function(t3) {
    return false;
  }, e2.prototype.$_checkKeyElement = function(t3) {
    var e3 = xt(t3.target), i2 = t3.target instanceof e3.HTMLTableCellElement || t3.target instanceof e3.HTMLSpanElement;
    return t3.target === t3.currentTarget && t3.target === this._containerDom || i2 && Ot.isAncestorOf(this._containerDom, t3.target, t3);
  }, e2.prototype.addPositionListener = function(t3) {
    this._positionListener.push(t3);
  }, e2.prototype.removePositionListener = function(t3) {
    var e3 = this._positionListener.indexOf(t3);
    e3 >= 0 && this._positionListener.splice(e3, 1);
  }, e2.prototype._keyDownHandler = function(t3) {
    var e3 = this;
    if (this._isEnabled() && this.$_checkKeyElement(t3)) {
      var i2 = t3.code;
      if (Ot.isMobile() && Ot.ctrlKey(t3) && Ot.included(i2, "KeyC", "KeyX", "KeyV")) {
        var o2 = document.createElement("input");
        o2.style.position = "absolute", o2.style.width = "0px", o2.style.height = "0px", o2.style.top = "-1000px", o2.readOnly = true, this._containerDom.appendChild(o2), o2.value = "test", o2.focus({ preventScroll: true }), o2.select(), Ot.isiOS && (t3.preventDefault(), "KeyC" === i2 ? document.execCommand("copy") : "KeyX" === i2 ? document.execCommand("cut") : "KeyV" === i2 && document.execCommand("paste")), setTimeout(function() {
          e3.setFocus(), Ot.detach(o2);
        }, 10);
      } else this._activeTool.keyDown(t3);
    }
  }, e2.prototype._keyUpHandler = function(t3) {
    this._isEnabled() && this.$_checkKeyElement(t3) && this._activeTool.keyUp(t3);
  }, e2.prototype._keyPressHandler = function(t3) {
    this._isEnabled() && this.$_checkKeyElement(t3) && this._activeTool.keyPress(t3);
  }, e2.prototype._copyHandler = function(t3) {
    this._isEnabled() && !t3.defaultPrevented && this._activeTool.copyHandler(t3);
  }, e2.prototype._pasteHandler = function(t3) {
    this._isEnabled() && !t3.defaultPrevented && this._activeTool.pasteHandler(t3);
  }, e2.prototype.eventToContainer = function(t3) {
    var e3 = this._containerDom, i2 = e3.getBoundingClientRect(), o2 = Ot.getZoom(e3);
    return new fa((t3.clientX - i2.left) / o2, (t3.clientY - i2.top) / o2);
  }, e2.prototype.toOffset = function(t3) {
    var e3 = this._containerDom.getBoundingClientRect();
    return t3.mouseX = (t3.clientX - e3.left) / this._zoomRatio, t3.mouseY = (t3.clientY - e3.top) / this._zoomRatio, t3;
  }, e2.prototype.toOffsetTouch = function(t3) {
    var e3 = this._containerDom.getBoundingClientRect(), i2 = t3.touches[0] || t3.changedTouches[0];
    return t3.mouseX = (i2.clientX - e3.left) / this._zoomRatio, t3.mouseY = (i2.clientY - e3.top) / this._zoomRatio, t3;
  }, e2.prototype._clickHandler = function(t3) {
    this._clickTimer = this._clickTimer && clearTimeout(this._clickTimer), this._isEnabled() ? this._activeTool.click(this.toOffset(t3)) : t3.preventDefault();
  }, e2.prototype._dblclickHandler = function(t3) {
    this._isEnabled() ? this._activeTool.dblclick(this.toOffset(t3)) : t3.preventDefault();
  }, e2.prototype.$_setMouseTarget = function(t3) {
    for (var e3 = xt(this._containerDom), i2 = t3.target; i2 && !(i2 instanceof e3.HTMLElement); ) i2 = i2.parentElement || i2.parentNode;
    this.activeTool._mouseEventTarget = i2 instanceof e3.HTMLElement ? i2 : null;
  }, e2.prototype.$_pointerDownHandler = function(t3, i2) {
    if (this._isEnabled()) {
      e2.$_mouseContainer = this.$_hash, this.toOffset(t3), this._currentX = t3.mouseX, this._currentY = t3.mouseY;
      var o2 = this.findElementAt(this._currentX, this._currentY, false);
      o2 && o2.getAncestor(Eh) && 0 === t3.button ? (this.activeTool.setFocus(), this.activeTool !== this._scrollTool && (this._scrollTool.previous = this.activeTool), this.activeTool = this._scrollTool) : this.activeTool !== this._defaultTool && (this._defaultTool.previous = this.activeTool, this.activeTool = this._defaultTool), this.$_setMouseTarget(t3), i2.call(this.activeTool, t3);
    } else t3.preventDefault();
    t3.defaultPrevented || (this.activeTool._clickTarget = t3.target);
  }, e2.prototype._pointerDownHandler = function(t3) {
    (Ot.isIEMode() || t3.isPrimary) && this.$_pointerDownHandler(t3, this.activeTool.pointerDown);
  }, e2.prototype._mouseDownHandler = function(t3) {
    this.$_pointerDownHandler(t3, this.activeTool.mouseDown);
  }, e2.prototype._mouseUpHandler = function(t3) {
    this.removeMouseEvent(), this.$_pointerUpHandler(t3);
  }, e2.prototype._pointerMoveHandler = function(t3) {
    var i2;
    if (this._containerDom.parentElement && (Ot.isIEMode() || t3.isPrimary) && (this.toOffset(t3), this._currentX = t3.mouseX, this._currentY = t3.mouseY, this._isEnabled())) {
      i2 = this._activeTool, this.$_setMouseTarget(t3), i2.pointerMove(t3);
      var o2 = i2.dragTracker;
      if (o2 && o2.linkable && e2.$_mouseContainer == this.$_hash) for (var r2 in e2.$_Containers) {
        var n2 = e2.$_Containers[r2];
        n2 !== this && (i2 = n2._activeTool) && i2.dragFrom(t3, o2);
      }
    }
  }, e2.prototype.$_pointerUpHandler = function(t3) {
    var i2 = e2.$_mouseContainer == this.$_hash, o2 = this._activeTool;
    try {
      if (this.toOffset(t3), this._currentX = t3.mouseX, this._currentY = t3.mouseY, this._isEnabled()) {
        var r2 = o2.dragTracker;
        if (this.$_setMouseTarget(t3), o2.pointerUp(t3), o2 instanceof Ph && (this.activeTool = o2.previous), r2 && r2.linkable && i2) {
          var n2 = Ot.isMobile() && document.elementFromPoint(t3.clientX, t3.clientY), s2 = this.findContainer(t3, n2);
          if (s2 && s2 !== this) {
            var a2 = s2._activeTool;
            a2 && a2.dropFrom(t3, r2);
          }
        }
      } else t3.preventDefault();
    } finally {
      o2 && (this.setCursor("default"), o2.dragTracker = null), i2 && (e2.$_mouseContainer = -1);
    }
  }, e2.prototype._pointerUpHandler = function(t3) {
    (Ot.isIEMode() || t3.isPrimary) && ((this.activeTool.dragging || !this.$_existListener(this._rootElement._dom, "mouseup") || this.activeTool._longPressed) && (this.removeMouseEvent(), this.$_pointerUpHandler(t3)), Ot.isMobile() || !Ot.isSafari || t3.defaultPrevented || this.activeTool._clickTarget !== t3.target || (this._clickTimer = setTimeout(function() {
      var e3 = new PointerEvent("click", { bubbles: t3.bubbles, cancelable: t3.cancelable, view: t3.view, ctrlKey: t3.ctrlKey, shiftKey: t3.shiftKey, altKey: t3.altKey, metaKey: t3.metaKey, button: t3.button, buttons: t3.buttons, clientX: t3.clientX, clientY: t3.clientY, screenX: t3.screenX, screenY: t3.screenY });
      t3.target.dispatchEvent(e3);
    }, 50)));
  }, e2.prototype._pointerEnterHandler = function(t3) {
    this._isEnabled() && this._activeTool.mouseEnter(this.toOffset(t3));
  }, e2.prototype._pointerLeaveHandler = function(t3) {
    this._isEnabled() && this._activeTool.mouseLeave(this.toOffset(t3));
  }, e2.prototype._pointerOverHandler = function(t3) {
    this._isEnabled() && this._activeTool.mouseOver(this.toOffset(t3));
  }, e2.prototype._pointerCancelHandler = function(t3) {
    this._isEnabled() && this._activeTool.pointerCancel(this.toOffset(t3));
  }, e2.prototype._contextMenuHander = function(t3) {
    this.toOffset(t3), this._currentX = t3.mouseX, this._currentY = t3.mouseY, this._isEnabled() && (this.$_setMouseTarget(t3), this._activeTool.contextMenu(this.toOffset(t3)));
  }, e2.prototype._wheelHandler = function(t3) {
    this._isEnabled() && (this.$_setMouseTarget(t3), this._activeTool.mouseWheel(this.toOffset(t3)) && Ot.stopEvent(t3));
  }, e2.prototype._focusHandler = function(t3) {
  }, e2.prototype._blurHandler = function(t3) {
  }, e2.prototype._selectstartHandler = function(t3) {
    return false;
  }, e2.prototype._focusinHandler = function(t3) {
  }, e2.prototype._globalPointerDownHandler = function(t3) {
    Ot.isAncestorOf(this._containerDiv, t3.target, t3) || this._isOutChildElement(t3) || this._isEnabled() && this._activeTool.focusLeave(t3);
  }, e2.prototype._globalKeyupHandler = function(t3) {
    this._activeTool.globalKeyup(t3);
  }, e2.prototype._globalKeydownHandler = function(t3) {
    this._activeTool.globalKeydown(t3);
  }, e2.prototype._focusoutHandler = function(t3) {
    var e3 = t3.relatedTarget, i2 = t3.target, o2 = !!this._focused, r2 = Ot.isAncestorOf(this._containerDiv, i2, t3), n2 = e3 && Ot.isAncestorOf(this._containerDiv, e3, t3);
    if (!n2) {
      var s2 = !e3;
      if ((s2 = s2 || r2 && !n2 && !this._isOutChildElement(t3)) && (this._focused = false, this._isEnabled() && this._activeTool.focusLeave(t3)), !this._focused && o2 !== !!this._focused) {
        var a2 = Ot.isChromium ? !t3.relatedTarget && !t3.sourceCapabilities : void 0;
        this._focusChanged(this._focused, a2, t3);
      }
    }
  }, e2.prototype._focusHandlerFireFox = function(t3) {
    var e3 = !!this._focused;
    if (t3.target === this._containerDom || Ot.isAncestorOf(this._containerDom, t3.target, t3) ? this._isEnabled() && !this._dummyFocus && (this._focused = true, this._activeTool.setFocus(t3.target)) : this._isOutChildElement(t3) ? this._focused = true : this._containerDom.setAttribute("tabindex", "0"), this._focused && e3 !== !!this._focused) {
      var i2 = Ot.isChromium ? !t3.relatedTarget && !t3.sourceCapabilities : void 0;
      this._focusChanged(this._focused, i2, t3);
    }
  }, e2.prototype._touchMoveHandler = function(t3) {
    if (!(t3.touches.length > 1)) return this.toOffsetTouch(t3), this._activeTool.touchMove(t3);
  }, e2.$_Containers = {}, e2.$_mouseContainer = -1, e2.$_ActiveGrid = null, e2;
}(Oe);
var Mh = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this, e3, i2) || this;
    return o2._fixed = false, o2._index = new Ts(), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._index && this._index.dispose(), this._index = null, this._cellDom = Ot.detach(this._cellDom), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "fixed", { get: function() {
    return this._fixed;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, set: function(t3) {
    Ts.areEquals(this._index, t3) || (this._index.assignFrom(t3), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._index.item;
  }, enumerable: false, configurable: true }), e2.prototype.updateCell = function(t3, e3, i2) {
    i2 != this._cellDom && (i2 && this._clearCellDom(i2), this._clearCellCache(), this._cellDom = i2), this.index = e3.index, this._doPrepareValue(t3, e3), this._doUpdateContent(t3, e3, this._cellDom);
  }, e2.prototype.removeCellDom = function(t3) {
    void 0 === t3 && (t3 = false), t3 && this._cellDom && this._clearCellDom(this._cellDom), this._cellDom = null, this._clearCellCache();
  }, e2.prototype._createDom = function(t3) {
    return null;
  }, e2.prototype._clearCellDom = function(t3) {
    t3.innerHTML = "";
  }, e2.prototype._clearCellCache = function() {
  }, Object.defineProperty(e2.prototype, "valueColumn", { get: function() {
    return this._index.valueColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dataColumn", { get: function() {
    return this._index.dataColumn;
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this.invalidate();
  }, e2.prototype._doPrepareValue = function(t3, e3) {
  }, e2.prototype._doUpdateContent = function(t3, e3, i2) {
  }, e2.prototype._doLayoutContent = function(t3) {
  }, e2;
}(Cl);
!function(t2) {
  function e2(e3, i2) {
    return void 0 === i2 && (i2 = null), t2.call(this, e3, i2) || this;
  }
  i(e2, t2), e2.prototype._doPrepareValue = function(t3, e3) {
  };
}(Mh);
var Fh = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === o2 && (o2 = "gridHeadCellView");
    var r2 = t2.call(this, e3, o2) || this;
    return r2._text = "", r2._styleName = "", r2._textChanged = false, r2._model = i2, r2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "model", { get: function() {
    return this._model;
  }, enumerable: false, configurable: true }), e2.prototype.setStyleName = function(t3, e3, i2) {
    i2 == this._styleName && e3 == this._cellDom || (this._styleName = i2, this._className = "", this._setClassName(t3));
  }, e2.prototype._getCssSelector = function() {
    return this._styleName;
  }, e2.prototype._clearCellCache = function() {
    t2.prototype._clearCellCache.call(this), this._textChanged = true;
  }, e2.prototype._doPrepareValue = function(t3, e3) {
    this._model.headText != this._text && (this._text = this._model.headText || "", this._textChanged = true);
  }, e2.prototype._doUpdateContent = function(t3, e3, i2) {
    this._textChanged && (this._textChanged = false, i2[Ot.TextProp] = this._text);
  }, e2;
}(Mh);
var Lh = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "chekHeadCellView") || this;
    return o2._checked = false, o2._indeterminate = false, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return this._checked;
  }, set: function(t3) {
    this._checked = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indeterminate", { get: function() {
    return this._indeterminate;
  }, set: function(t3) {
    this._indeterminate = t3;
  }, enumerable: false, configurable: true }), e2.prototype._clearCellCache = function() {
    this._check = this._image = this._span = this._label = null;
  }, e2.prototype._doUpdateContent = function(t3, e3, i2) {
    var o2, r2 = t3.doc, n2 = this.model, s2 = n2.showAll && !n2.exclusive;
    if (s2 && !this._check) {
      var a2 = this._check = r2.createElement("input");
      a2.id = "$$-grid-head-check-" + this.model.$_hash, o2 = a2.style, a2.type = "checkbox", a2.className = "rg-checkbox", a2.tabIndex = -1, o2.display = n2.useImages ? "none" : "inline-block", i2.appendChild(a2);
      var l2 = this._image = r2.createElement("span");
      (o2 = l2.style).display = n2.useImages ? "inline-block" : "none", i2.appendChild(l2);
      var h2 = this._label = r2.createElement("label");
      h2.setAttribute("for", this._check.id), h2[Ot.TextProp] = "grid head check", (o2 = h2.style).display = "none", i2.appendChild(h2);
    }
    if (s2 ? (this._check.style.display = n2.useImages ? "none" : "inline-block", this._image.style.display = n2.useImages ? "inline-block" : "none", this._image.className = this._checked ? "rg-checkbar-head-checked" : this._indeterminate ? "rg-checkbar-head-indeterminate" : "rg-checkbar-head-unchecked", this._check.checked = this._checked, Ot.setInert(this._check, !t3.accessibility), this._check.indeterminate = this._indeterminate) : (Ot.detach(this._check), Ot.detach(this._image), Ot.detach(this._label), this._check = this._image = this._label = null), this._textChanged && (this._span || (this._span = r2.createElement("span"), this._span.style.display = "block", i2.appendChild(this._span)), this._span[Ot.TextProp] = this._text), s2 && this._span && this._text) {
      var u2 = n2.useImages ? this._image : this._check, c2 = this._span, d2 = u2.parentElement, p2 = null != n2.itemGap ? n2.itemGap + "px" : "5px";
      switch ((o2 = c2.style).margin = "", n2.checkLocation) {
        case I.BOTTOM:
          d2.insertBefore(c2, u2), o2.display = "block", o2.marginBottom = p2;
          break;
        case I.LEFT:
          d2.insertBefore(u2, c2), o2.display = "inline-block", o2.marginLeft = p2;
          break;
        case I.RIGHT:
          d2.insertBefore(c2, u2), o2.display = "inline-block", o2.marginRight = p2;
          break;
        case I.TOP:
        default:
          d2.insertBefore(u2, c2), o2.display = "block", o2.marginTop = p2;
      }
    }
  }, e2.prototype.$_updateContent = function() {
    var t3 = this.model;
    t3.showAll && !t3.exclusive && this._check && (this._check.checked = this._checked, this._check.indeterminate = this.indeterminate, this._image.className = this._checked ? "rg-checkbar-head-checked" : this._indeterminate ? "rg-checkbar-head-indeterminate" : "rg-checkbar-head-unchecked");
  }, e2;
}(Fh);
var Nh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc, null, "gridHeadView") || this;
    i2._cells = [];
    var o2 = e3.doc;
    return i2.addChild(i2._indicatorCell = new Fh(o2, e3.rowIndicator)), i2.addChild(i2._stateCell = new Fh(o2, e3.stateBar)), i2.addChild(i2._checkCell = new Lh(o2, e3.checkBar)), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cells = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "allChecked", { get: function() {
    return this._checkCell.checked;
  }, set: function(t3) {
    var e3 = this._checkCell;
    e3.checked = t3, e3.$_updateContent();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indeterminate", { get: function() {
    return this._checkCell.indeterminate;
  }, set: function(t3) {
    var e3 = this._checkCell;
    e3.indeterminate = t3, e3.$_updateContent();
  }, enumerable: false, configurable: true }), e2.prototype.getHeadModel = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) if (t3 === this._getTableCell(0, e3)) return this._cells[e3].model;
  }, e2.prototype.getCellType = function(t3) {
    var e3 = this.getHeadModel(t3);
    return e3 instanceof Xs ? e3.getCellType() : void 0;
  }, e2.prototype._getCssSelector = function() {
    return "rg-head";
  }, e2.prototype._doPrepareTableExtents = function(e3) {
    t2.prototype._doPrepareTableExtents.call(this, e3);
    var i2, o2 = e3.grid.rowBarContainer, r2 = o2.getSectionObject();
    this._cells = [];
    for (var n2 = 0, s2 = r2; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      a2 instanceof ea && (((i2 = this._indicatorCell).visible = i2.model.visible) ? (this._cells.push(i2), i2.width = o2.rowIndicator.width) : i2.removeCellDom()), a2 instanceof oa && (((i2 = this._stateCell).visible = i2.model.visible) ? (this._cells.push(i2), i2.width = o2.stateBar.width) : i2.removeCellDom()), a2 instanceof na && (((i2 = this._checkCell).visible = i2.model.visible) ? (this._cells.push(i2), i2.width = o2.checkBar.width) : i2.removeCellDom(true));
    }
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return this.grid.doc.createElement("div");
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = this._cells.length;
    this._getTableRowCount(t3);
    for (var o2 = this._thead, r2 = o2 && o2.children[0], n2 = 0; n2 < i2; n2++) {
      var s2 = this._cells[n2], a2 = s2.model;
      if (a2.dirty || s2._dirty || e3._columnsDirty) {
        var l2 = a2.getHeadCell(), h2 = this._getTableCell(0, n2), u2 = h2.firstElementChild, c2 = this.$_getCellSelector() + " " + a2.getHeadStyleName();
        if (r2) {
          var d2 = r2.children[n2];
          d2 && (d2[Ot.TextProp] = a2.getCellType() + " head");
        }
        s2.setStyleName(h2, u2, c2), s2.updateCell(e3, l2, u2);
      }
    }
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._doDraw = function(t3) {
    this._cells.forEach(function(t4) {
      t4.validate();
    });
  }, e2.prototype._getTableRowCount = function(t3) {
    return 1;
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return this.height;
  }, e2.prototype._getCellCount = function(t3) {
    return this._cells.length;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return this._cells[e3].width;
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
    var n2 = e3.grid.header.styleName;
    Ot.setClassName(r2, n2);
  }, e2.prototype.$_getCellSelector = function() {
    return e2.CELL_CSS;
  }, e2.CELL_CSS = "rg-head-cell", e2;
}(Rl);
var $h = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3._text = "", e3._styleName = "", e3._textChanged = false, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "model", { get: function() {
    return this._model;
  }, set: function(t3) {
    t3 !== this._model && (this._model = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, set: function(t3) {
    t3 != this._text && (this._text = t3 || "", this._textChanged = true, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.setStyleName = function(t3, e3) {
    e3 != this._styleName && (this._styleName = e3, this._setClassName(t3));
  }, e2.prototype._getCssSelector = function() {
    return this._styleName;
  }, e2.prototype._doUpdateContent = function(t3, e3, i2) {
    this._textChanged && (this._textChanged = false, i2[Ot.TextProp] = this._text);
  }, e2.prototype._doRender = function(t3) {
  }, e2;
}(Mh);
var Ah = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    r2._cells = [], r2._count = 0;
    for (var n2 = 0; n2 < 3; n2++) r2.addChild(r2._cells[n2] = r2._createCellElement(e3));
    return r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cells = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._getCellModel = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) if (t3 === this._getTableCell(0, e3)) return this._cells[e3].model;
  }, e2.prototype.getCellType = function(t3) {
    var e3 = this._getCellModel(t3);
    return e3 instanceof Xs ? e3.getCellType() : void 0;
  }, e2.prototype._getCssSelector = function() {
    return this._domCssSelector;
  }, e2.prototype._doPrepareTableExtents = function(e3) {
    t2.prototype._doPrepareTableExtents.call(this, e3);
    var i2, o2 = e3.grid.rowBarContainer, r2 = o2.getSectionObject();
    this._count = 0;
    for (var n2 = 0, s2 = r2; n2 < s2.length; n2++) {
      var a2 = s2[n2];
      a2.visible && ((i2 = this._cells[this._count++]).model = a2, a2 instanceof ea ? i2.width = o2.rowIndicator.width : a2 instanceof oa ? i2.width = o2.stateBar.width : a2 instanceof na && (i2.width = o2.checkBar.width));
    }
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return this.grid.doc.createElement("div");
  }, e2.prototype._doLayoutContent = function(t3) {
    for (var e3 = t3.grid, i2 = this._count, o2 = this._thead, r2 = o2 && o2.children[0]; this.childCount < i2; ) this.addChild(this._cells[this.childCount]);
    for (; this.childCount > i2; ) this.removeLast();
    for (var n2 = 0; n2 < i2; n2++) {
      var s2 = this.getChild(n2), a2 = s2.model;
      if (a2.dirty || e3._columnsDirty) {
        var l2 = this._sectionCell(a2), h2 = this._getTableCell(0, n2), u2 = h2.firstElementChild, c2 = this._getSectionStyleName(a2);
        if (r2) {
          var d2 = r2.children[n2];
          d2 && (d2[Ot.TextProp] = this._getHeadTrText(a2));
        }
        s2.setStyleName(h2, c2), s2.text = this._getSectionText(a2), s2.updateCell(e3, l2, u2);
      }
    }
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._doDraw = function(t3) {
    this._cells.forEach(function(t4) {
      t4.validate();
    });
  }, e2.prototype._getTableRowCount = function(t3) {
    return 1;
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return this.height;
  }, e2.prototype._getCellCount = function(t3) {
    return this._count;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return this._cells[e3].width;
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
  }, e2;
}(Rl);
var Bh = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "gridFootCellView") || this;
  }
  return i(e2, t2), e2;
}($h);
var Vh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, null, "gridFootView") || this;
    return i2._domCssSelector = "rg-foot", i2;
  }
  return i(e2, t2), e2.prototype.getFootModel = function(t3) {
    return this._getCellModel(t3);
  }, e2.prototype._createCellElement = function(t3) {
    return new Bh(t3);
  }, e2.prototype._sectionCell = function(t3) {
    return t3.getFootCell();
  }, e2.prototype._getSectionStyleName = function(t3) {
    return this.$_getCellSelector() + " " + t3.getFootStyleName();
  }, e2.prototype._getHeadTrText = function(t3) {
    return t3.getCellType() + " foot";
  }, e2.prototype._getSectionText = function(t3) {
    return t3.footText;
  }, e2.prototype.$_getCellSelector = function() {
    return "rg-foot-cell";
  }, e2;
}(Ah);
var jh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._datetimeFormat = He.DEFAULT_FORMAT, i2._datetimeWriter = He.Default, i2._numberFormatter = ze.getFormatter(i2._numberFormat = ze.DEFAULT_FORMAT), i2.assignFrom(Ke.format), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "textFormat", { get: function() {
    return this._textFormat;
  }, set: function(t3) {
    t3 != this._textFormat && (this._textFormat = t3, this._textFormatter = t3 ? Bn.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    t3 != this._datetimeFormat && (this._datetimeFormat = t3, this._datetimeWriter = t3 ? He.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormat", { get: function() {
    return this._numberFormat;
  }, set: function(t3) {
    t3 != this._numberFormat && (this._numberFormat = t3, this._numberFormatter = t3 ? ze.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._boolFormatter = t3 ? We.getFormatter(t3) : null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textFormatter", { get: function() {
    return this._textFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberFormatter", { get: function() {
    return this._numberFormatter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeWriter", { get: function() {
    return this._datetimeWriter;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boolFormatter", { get: function() {
    return this._boolFormatter;
  }, enumerable: false, configurable: true }), e2;
}(ml);
var Hh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._message = "", i2._visible = true, i2._zIndex = void 0, i2._styleName = "rg-toast", i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "message", { get: function() {
    return "string" == typeof this._message ? this._message : this._message ? this._message() : void 0;
  }, set: function(t3) {
    this._message = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    this._visible = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "zIndex", { get: function() {
    return this._zIndex;
  }, set: function(t3) {
    this._zIndex = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    this._styleName = t3;
  }, enumerable: false, configurable: true }), e2.prototype.assignFrom = function(e3) {
    "string" == typeof e3 ? (this._message = e3, this._message && (this._visible = true)) : "boolean" == typeof e3 ? this._visible = e3 : t2.prototype.assignFrom.call(this, e3);
  }, e2.prototype.toProxy = function(t3) {
    return { message: this.message, visible: this.visible, zIndex: this.zIndex, styleName: this.styleName };
  }, e2;
}(Ft);
var Wh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._minWidth = 0, i2._maxWidth = 0, i2._dropdownCount = 8, i2._showing = false, i2._container = e3, i2._element = i2.$_createElement(e3.doc), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "minWidth", { get: function() {
    return this._minWidth;
  }, set: function(t3) {
    this._minWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxWidth", { get: function() {
    return this._maxWidth;
  }, set: function(t3) {
    this._maxWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropDownCount", { get: function() {
    return this._dropdownCount;
  }, set: function(t3) {
    this._dropdownCount = t3;
  }, enumerable: false, configurable: true }), e2.prototype.show = function(t3) {
    this._showing = true;
    try {
      this.$_show(t3);
    } finally {
      this._showing = false;
    }
  }, e2.prototype.hide = function() {
    var t3 = this._element;
    t3 && t3.parentNode && this._container._container.removeChild(t3);
  }, e2.prototype.$_createElement = function(t3) {
    var e3 = t3.createElement("div");
    e3.onkeydown = (function(t4) {
      27 == t4.keyCode && this.hide();
    }).bind(this), this.$_disableSelection(e3);
    var i2 = this._span = t3.createElement("span");
    return this.$_disableSelection(i2), e3.appendChild(i2), e3;
  }, e2.prototype.$_show = function(t3) {
    var e3 = t3.message;
    if (e3) {
      var i2 = this._element;
      if (i2) {
        var o2 = this._span, r2 = this._container._gridView.displayOptions;
        o2.innerHTML = e3, i2.className = t3.styleName, i2.style.position = "absolute", i2.style.overflow = "hidden", i2.style.zIndex = null != t3.zIndex ? t3.zIndex : r2.toastZIndex, this._container._container.appendChild(i2);
        var n2 = Ot.getSize(i2), s2 = Ot.getSize(this._container._container), a2 = n2.width + 10, l2 = n2.height + 10, h2 = s2.width, u2 = s2.height;
        i2.style.left = (h2 - a2) / 2 + "px", i2.style.top = (u2 - l2) / 2 + "px";
      }
    }
  }, e2.prototype.$_disableSelection = function(t3) {
    void 0 !== t3.onselectstart ? t3.onselectstart = function() {
      return false;
    } : void 0 !== t3.style.MozUserSelect ? t3.style.MozUserSelect = "none" : t3.onmousedown = function() {
      return false;
    };
  }, e2;
}(Ft);
var Gh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._active = false, i2._container = e3.container, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._active;
  }, enumerable: false, configurable: true }), e2.prototype.show = function(t3, e3, i2) {
    if ((!this._active || e3) && (this.close(), (t3 = t3 instanceof Hh ? t3 : t3 ? new Hh(t3) : null) && t3.visible)) return this._toast || (this._toast = new Wh(this._container)), this._toast.show(t3), this._active = true, void (i2 && setTimeout((function() {
      try {
        i2();
      } finally {
        this.close();
      }
    }).bind(this), 0));
    i2 && i2();
  }, e2.prototype.close = function() {
    this._active && (this._toast && this._toast.hide(), this._active = false);
  }, e2;
}(Ft);
var Uh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._pageSorting = false, i2._toast = new Hh({ visible: false, message: i2._messageCallback }), i2.assignFrom(Ke.sorting), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._toast = this._toast.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "enabled", { get: function() {
    var t3 = Ke.sorting.enabled;
    return void 0 !== this._enabled ? this._enabled : void 0 === t3 || t3;
  }, set: function(t3) {
    t3 != this._enabled && (this._enabled = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._style || Ke.sorting.style || D.EXCLUSIVE;
  }, set: function(t3) {
    t3 != this._style && (this._style = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "handleVisibility", { get: function() {
    return this._handleVisibility || Ke.sorting.handleVisibility || M.VISIBLE;
  }, set: function(t3) {
    t3 != this._handleVisibility && (this._handleVisibility = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitBeforeSorting", { get: function() {
    var t3 = Ke.sorting.commitBeforeSorting, e3 = this._commitBeforeSorting;
    return void 0 !== e3 ? e3 : void 0 === t3 || t3;
  }, set: function(t3) {
    t3 != this._commitBeforeSorting && (this._commitBeforeSorting = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "keepFocusedRow", { get: function() {
    var t3 = Ke.sorting.keepFocusedRow, e3 = this._keepFocusedRow;
    return void 0 !== e3 ? e3 : void 0 !== t3 && t3;
  }, set: function(t3) {
    t3 != this._keepFocusedRow && (this._keepFocusedRow = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textCase", { get: function() {
    return this._textCase || Ke.sorting.textCase || h.SENSITIVE;
  }, set: function(t3) {
    t3 != this._textCase && (this._textCase = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showSortOrder", { get: function() {
    var t3 = Ke.sorting.showSortOrder, e3 = this._showSortOrder;
    return void 0 !== e3 ? e3 : void 0 !== t3 && t3;
  }, set: function(t3) {
    t3 != this._showSortOrder && (this._showSortOrder = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pageSorting", { get: function() {
    return this._pageSorting;
  }, set: function(t3) {
    t3 != this._pageSorting && (this._pageSorting = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "toast", { get: function() {
    return this._toast;
  }, set: function(t3) {
    t3 && !t3.message && (t3 = o(o({}, t3), { message: this._messageCallback })), this._toast && this._toast.assignFrom(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "nullsOrder", { get: function() {
    return this._nullsOrder || Ke.sorting.nullsOrder || K.DEFAULT;
  }, set: function(t3) {
    t3 !== this._nullsOrder && (this._nullsOrder = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "outerSort", { get: function() {
    return this._outerSort;
  }, set: function(t3) {
    t3 !== this._outerSort && (this._outerSort = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortDataRow", { get: function() {
    var t3 = Ke.sorting.sortDataRow, e3 = this._sortDataRow;
    return void 0 !== e3 ? e3 : void 0 === t3 || t3;
  }, set: function(t3) {
    t3 !== this._sortDataRow && (this._sortDataRow = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3), this.grid && this.grid.sortOptionsChanged();
  }, e2.prototype._changed = function() {
    t2.prototype._changed.call(this), this.grid && this.grid.sortOptionsChanged();
  }, e2.prototype._messageCallback = function() {
    var t3;
    return (null === (t3 = Ke.sorting.toast) || void 0 === t3 ? void 0 : t3.message) || Ge.messages.sortingToastMessage;
  }, e2;
}(ml);
var Yh = function(t2) {
  function e2(e3, i2) {
    return void 0 === i2 && (i2 = null), t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    for (var t3 = this.parent; t3; ) {
      if (t3 instanceof zc) return t3;
      t3 = t3.parent;
    }
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.measure = function(t3, e3, i2) {
    return this._doMeasure(t3, e3, i2);
  }, e2.prototype.layoutContent = function(t3, e3, i2) {
    this._doLayoutContent(t3, e3, i2);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    return new wl(e3, i2);
  }, e2.prototype._doLayoutContent = function(t3, e3, i2) {
  }, e2;
}(ga);
var zh = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
  }, e2;
}(Yh);
var qh = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2;
}(Yh);
var Kh = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc, "fixedColumnBar") || this;
    return i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return bl.COLUMN_BAR_STYLE;
  }, e2;
}(ga);
var Xh = function(t2) {
  function e2(e3, i2) {
    return void 0 === i2 && (i2 = null), t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.layoutBars = function(t3, e3, i2) {
    this._layoutBars(t3, e3, i2);
  }, e2.prototype._doLayoutContent = function(e3, i2, o2) {
    this._barView || (this._barView = this._createBar(e3.grid), this.addChild(this._barView), this._barView2 = this._createBar(e3.grid), this.addChild(this._barView2)), t2.prototype._doLayoutContent.call(this, e3, i2, o2);
  }, e2.prototype._createBar = function(t3) {
    return new Kh(t3);
  }, e2.prototype._layoutBars = function(t3, e3, i2) {
    var o2 = t3.fixedBarWidth, r2 = t3.footBounds.height;
    if (this._barView.visible = o2 > 0, this._barView2.visible = false, this._barView.visible) {
      var n2 = Math.min(i2 - r2, t3.dataBounds.bottom);
      this._barView.setBounds(e3 - o2, 0, o2, n2), r2 > 0 && (this._barView2.visible = true, this._barView2.setBounds(e3 - o2, i2 - r2, o2, r2));
    }
  }, e2;
}(qh);
var Zh = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-right-column-bar";
  }, e2;
}(ga);
var Jh = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._createBar = function() {
    return new Zh(this.doc, "rightColumnBar");
  }, e2.prototype._layoutBars = function(t3, e3, i2) {
    var o2 = t3.rightBarWidth, r2 = t3.footBounds.height;
    if (this._barView.visible = o2 > 0, this._barView2.visible = false, this._barView.visible) {
      var n2 = Math.min(i2 - r2, t3.dataBounds.bottom);
      this._barView.setBounds(0, 0, o2, n2), r2 > 0 && (this._barView2.visible = true, this._barView2.setBounds(0, i2 - r2, o2, r2));
    }
  }, e2;
}(Xh);
!function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this, e3, i2) || this;
    return o2.visible = false, o2;
  }
  i(e2, t2), Object.defineProperty(e2.prototype, "message", { get: function() {
    return this._message;
  }, set: function(t3) {
    t3 != this._message && (this._message = t3, this._dom.innerHTML = t3, this.invalidate());
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-message-pane";
  }, e2.prototype._doLayoutContent = function(e3, i2, o2) {
    t2.prototype._doLayoutContent.call(this, e3, i2, o2);
  };
}(Yh);
var Qh;
var tu;
var eu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._readOnly = false, i2._editable = !Ot.isMobile(), i2._checkable = true, i2._updatable = true, i2._appendable = false, i2._insertable = false, i2._deletable = false, i2._revertable = false, i2._erasable = false, i2._movable = false, i2._commitByCell = false, i2._editWhenFocused = false, i2._commitWhenNoEdit = false, i2._commitWhenExitLast = false, i2._commitWhenLeave = false, i2._crossWhenExitLast = false, i2._validateOnEdited = true, i2._hintOnError = true, i2._showInvalidFormatMessage = true, i2._confirmWhenDelete = true, i2._editWhenClickFocused = false, i2._commitLevel = w.IGNORE, i2._useTabKey = true, i2._useArrowKeys = true, i2._skipReadOnly = false, i2._skipReadOnlyCell = false, i2._verticalMoveStep = gs.CELL, i2._focusMoveStep = ys.CELL, i2._enterToTab = false, i2._enterToNextCell = true, i2._enterToNextRow = false, i2._enterToEdit = false, i2._maxLengthToNextCell = false, i2._forceInsert = false, i2._forceAppend = false, i2._checkDiff = false, i2._checkCellDiff = false, i2._strictDiff = false, i2._deletableWhenEdit = true, i2._showCommitError = false, i2._firstCellWhenInsert = false, i2._appendWhenInsertKey = false, i2._appendWhenExitLast = false, i2._showOnlyValidationMessage = true, i2._displayEmptyEditRow = false, i2._buttonClickWhenSpace = false, i2._exitGridWhenTab = H.NONE, i2._cancelWhenLastUndo = false, i2._exceptDataClickWhenButton = false, i2._removeValidateOnCommit = false, i2._validateOnlyEditColumn = false, i2._columnEditableFirst = false, i2._currentChangingFirst = false, i2._movableWhenFocusedOnly = false, i2.assignFrom(Ke.edit), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, set: function(t3) {
    t3 != this._readOnly && (this._readOnly = t3, this._refreshOwner(), this.$_invalidateEditor());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, set: function(t3) {
    t3 != this._editable && (this._editable = t3, this._refreshOwner(), this.$_invalidateEditor());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "columnEditableFirst", { get: function() {
    return this._columnEditableFirst;
  }, set: function(t3) {
    t3 != this._columnEditableFirst && (this._columnEditableFirst = t3, this._refreshOwner(), this.$_invalidateEditor());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkable", { get: function() {
    return this._checkable;
  }, set: function(t3) {
    t3 != this._checkable && (this._checkable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "updatable", { get: function() {
    return this._updatable;
  }, set: function(t3) {
    t3 != this._updatable && (this._updatable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "appendable", { get: function() {
    return this._appendable;
  }, set: function(t3) {
    t3 != this._appendable && (this._appendable = t3, this.displayEmptyEditRow = this._displayEmptyEditRow, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "insertable", { get: function() {
    return this._insertable;
  }, set: function(t3) {
    t3 != this._insertable && (this._insertable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deletable", { get: function() {
    return this._deletable;
  }, set: function(t3) {
    t3 != this._deletable && (this._deletable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "revertable", { get: function() {
    return this._revertable;
  }, set: function(t3) {
    t3 != this._revertable && (this._revertable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "erasable", { get: function() {
    return this._erasable;
  }, set: function(t3) {
    t3 != this._erasable && (this._erasable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "movable", { get: function() {
    return this._movable;
  }, set: function(t3) {
    t3 != this._movable && (this._movable = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitByCell", { get: function() {
    return this._commitByCell;
  }, set: function(t3) {
    t3 != this._commitByCell && (this._commitByCell = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editWhenFocused", { get: function() {
    return this._editWhenFocused;
  }, set: function(t3) {
    this._editWhenFocused = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitWhenNoEdit", { get: function() {
    return this._commitWhenNoEdit;
  }, set: function(t3) {
    this._commitWhenNoEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitWhenExitLast", { get: function() {
    return this._commitWhenExitLast;
  }, set: function(t3) {
    this._commitWhenExitLast = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitWhenLeave", { get: function() {
    return this._commitWhenLeave;
  }, set: function(t3) {
    this._commitWhenLeave = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "crossWhenExitLast", { get: function() {
    return this._crossWhenExitLast;
  }, set: function(t3) {
    this._crossWhenExitLast = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "validateOnEdited", { get: function() {
    return this._validateOnEdited;
  }, set: function(t3) {
    this._validateOnEdited = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hintOnError", { get: function() {
    return this._hintOnError;
  }, set: function(t3) {
    this._hintOnError = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "removeValidateOnCommit", { get: function() {
    return this._removeValidateOnCommit;
  }, set: function(t3) {
    this._removeValidateOnCommit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "validateOnlyEditColumn", { get: function() {
    return this._validateOnlyEditColumn;
  }, set: function(t3) {
    this._validateOnlyEditColumn = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deleteRowsMessage", { get: function() {
    return this._deleteRowsMessage || Ge.messages.deleteRowsMessage;
  }, set: function(t3) {
    this._deleteRowsMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "invalidFormatMessage", { get: function() {
    return this._invalidFormatMessage || Ge.messages.invalidFormatMessage;
  }, set: function(t3) {
    this._invalidFormatMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showInvalidFormatMessage", { get: function() {
    return this._showInvalidFormatMessage;
  }, set: function(t3) {
    this._showInvalidFormatMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "confirmWhenDelete", { get: function() {
    return this._confirmWhenDelete;
  }, set: function(t3) {
    this._confirmWhenDelete = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editWhenClickFocused", { get: function() {
    return this._editWhenClickFocused;
  }, set: function(t3) {
    this._editWhenClickFocused = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitLevel", { get: function() {
    return this._commitLevel;
  }, set: function(t3) {
    this._commitLevel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useTabKey", { get: function() {
    return this._useTabKey;
  }, set: function(t3) {
    this._useTabKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useArrowKeys", { get: function() {
    return this._useArrowKeys;
  }, set: function(t3) {
    this._useArrowKeys = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "skipReadOnly", { get: function() {
    return this._skipReadOnly;
  }, set: function(t3) {
    this._skipReadOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "skipReadOnlyCell", { get: function() {
    return this._skipReadOnlyCell;
  }, set: function(t3) {
    this._skipReadOnlyCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "verticalMoveStep", { get: function() {
    return this._verticalMoveStep;
  }, set: function(t3) {
    this._verticalMoveStep = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focusMoveStep", { get: function() {
    return this._focusMoveStep;
  }, set: function(t3) {
    this._focusMoveStep = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterToTab", { get: function() {
    return this._enterToTab;
  }, set: function(t3) {
    this._enterToTab = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterToNextCell", { get: function() {
    return this._enterToNextCell;
  }, set: function(t3) {
    this._enterToNextCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterToNextRow", { get: function() {
    return this._enterToNextRow;
  }, set: function(t3) {
    this._enterToNextRow = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enterToEdit", { get: function() {
    return this._enterToEdit;
  }, set: function(t3) {
    this._enterToEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxLengthToNextCell", { get: function() {
    return this._maxLengthToNextCell;
  }, set: function(t3) {
    this._maxLengthToNextCell = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "forceInsert", { get: function() {
    return this._forceInsert;
  }, set: function(t3) {
    this._forceInsert = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "forceAppend", { get: function() {
    return this._forceAppend;
  }, set: function(t3) {
    this._forceAppend = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkDiff", { get: function() {
    return this._checkDiff;
  }, set: function(t3) {
    this._checkDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkCellDiff", { get: function() {
    return this._checkCellDiff;
  }, set: function(t3) {
    this._checkCellDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "strictDiff", { get: function() {
    return this._strictDiff;
  }, set: function(t3) {
    this._strictDiff = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "deletableWhenEdit", { get: function() {
    return this._deletableWhenEdit;
  }, set: function(t3) {
    this._deletableWhenEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitEditingMessage", { get: function() {
    return this._commitEditingMessage || Ge.messages.commitEditingMessage;
  }, set: function(t3) {
    this._commitEditingMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showCommitError", { get: function() {
    return this._showCommitError;
  }, set: function(t3) {
    this._showCommitError = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "firstCellWhenInsert", { get: function() {
    return this._firstCellWhenInsert;
  }, set: function(t3) {
    this._firstCellWhenInsert = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "appendWhenInsertKey", { get: function() {
    return this._appendWhenInsertKey;
  }, set: function(t3) {
    this._appendWhenInsertKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "appendWhenExitLast", { get: function() {
    return this._appendWhenExitLast;
  }, set: function(t3) {
    this._appendWhenExitLast = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showOnlyValidationMessage", { get: function() {
    return this._showOnlyValidationMessage;
  }, set: function(t3) {
    this._showOnlyValidationMessage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "displayEmptyEditRow", { get: function() {
    return this._displayEmptyEditRow;
  }, set: function(t3) {
    var e3 = this.grid;
    this._displayEmptyEditRow = t3, e3.itemSource && (this._displayEmptyEditRow && this._appendable ? e3.itemSource.appendDummy() : e3.itemSource.cancelDummy(), this._refreshOwner());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "buttonClickWhenSpace", { get: function() {
    return this._buttonClickWhenSpace;
  }, set: function(t3) {
    this._buttonClickWhenSpace = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exitGridWhenTab", { get: function() {
    return this._exitGridWhenTab;
  }, set: function(t3) {
    this._exitGridWhenTab = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cancelWhenLastUndo", { get: function() {
    return this._cancelWhenLastUndo;
  }, set: function(t3) {
    this._cancelWhenLastUndo = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exceptDataClickWhenButton", { get: function() {
    return this._exceptDataClickWhenButton;
  }, set: function(t3) {
    this._exceptDataClickWhenButton = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollOnEditing", { get: function() {
    return this._scrollOnEditing;
  }, set: function(t3) {
    this._scrollOnEditing = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "currentChangingFirst", { get: function() {
    return this._currentChangingFirst;
  }, set: function(t3) {
    this._currentChangingFirst = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "movableWhenFocusedOnly", { get: function() {
    return this._movableWhenFocusedOnly;
  }, set: function(t3) {
    this._movableWhenFocusedOnly = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isWritable = function() {
    return this._editable && !this._readOnly;
  }, e2.prototype.canUpdate = function(t3) {
    return !this._readOnly && (t3 || this._updatable);
  }, e2.prototype.canInsert = function() {
    return !this._readOnly && this._insertable;
  }, e2.prototype.canAppend = function() {
    return !this._readOnly && this._appendable;
  }, e2.prototype.canDelete = function() {
    return !this._readOnly && this._deletable;
  }, e2.prototype.$_invalidateEditor = function() {
    this.grid && this.grid.requestPrepareEditor();
  }, e2;
}(ml);
var iu = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cell = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "value", { set: function(t3) {
    this._value = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cell", { set: function(t3) {
    this._cell = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    switch (t3) {
      case e2.ID_VALUE:
        return this._value;
      case e2.ID_ROW:
        return this._cell.itemIndex + 1;
      case e2.ID_COLUMN_HEADER:
        var i2 = this._cell && this._cell.column;
        return i2 && i2.header && i2.header.text ? i2.header.text : i2.displayText;
    }
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.ID_VALUE = 0, e2.ID_ROW = 1, e2.ID_COLUMN_HEADER = 2, e2.IDENTS = { value: e2.ID_VALUE, row: e2.ID_ROW, dcount: e2.ID_COLUMN_HEADER }, e2;
}(Wt);
var ou = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._months = null, i2._weekDays = null, i2._viewGridInside = false, i2._holidays = null, i2._dateCellEditor = {}, i2._numberCellEditor = {}, i2._dropdownCellEditor = {}, i2._multiCheckCellEditor = {}, i2._searchCellEditor = {}, i2._showMarquee = true, i2._titleExprRuntime = new iu(), i2.assignFrom(Ke.editor), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "yearDisplayFormat", { get: function() {
    return this._yearDisplayFormat || Ge.messages.dateEditorYearDisplayFormat;
  }, set: function(t3) {
    this._yearDisplayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "monthDisplayFormat", { get: function() {
    return this._monthDisplayFormat || Ge.messages.dateEditorMonthDisplayFormat;
  }, set: function(t3) {
    this._monthDisplayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "months", { get: function() {
    return this._months || Ge.messages.dateEditorMonths;
  }, set: function(t3) {
    this._months = t3.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "weekDays", { get: function() {
    return this._weekDays || Ge.messages.dateEditorWeekDays;
  }, set: function(t3) {
    this._weekDays = t3.slice();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateCellEditor", { get: function() {
    return this._dateCellEditor;
  }, set: function(t3) {
    this._dateCellEditor = o({}, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCellEditor", { get: function() {
    return this._numberCellEditor;
  }, set: function(t3) {
    this._numberCellEditor = o({}, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropdownCellEditor", { get: function() {
    return this._dropdownCellEditor;
  }, set: function(t3) {
    this._dropdownCellEditor = o({}, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "multiCheckCellEditor", { get: function() {
    return this._multiCheckCellEditor;
  }, set: function(t3) {
    this._multiCheckCellEditor = o({}, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "searchCellEditor", { get: function() {
    return this._searchCellEditor;
  }, set: function(t3) {
    this._searchCellEditor = o({}, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showMarquee", { get: function() {
    return this._showMarquee;
  }, set: function(t3) {
    this._showMarquee = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "viewGridInside", { get: function() {
    return this._viewGridInside;
  }, set: function(t3) {
    this._viewGridInside = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "titleStatement", { get: function() {
    return this._titleStatement;
  }, set: function(t3) {
    t3 != this._titleStatement && (this._titleStatement = t3, t3 ? this._titleExprStatement ? this._titleExprStatement.source = t3 : this._titleExprStatement = new or(t3) : this._titleExprStatement = null, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "holidays", { get: function() {
    return this._holidays;
  }, set: function(t3) {
    t3 != this._holidays && (this._holidays = t3, t3 ? (this._holidayCollection = this._holidayCollection || new rl(), this._holidayCollection.load(t3)) : this._holidayCollection && this._holidayCollection.clear(), this._changed());
  }, enumerable: false, configurable: true }), e2;
}(ml);
var ru = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._enabled = true, i2.assignFrom(Ke.copy), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    this._enabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "singleMode", { get: function() {
    return this._singleMode;
  }, set: function(t3) {
    this._singleMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormat", { get: function() {
    return this._datetimeFormat;
  }, set: function(t3) {
    this._datetimeFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    this._booleanFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupDisplay", { get: function() {
    return this._lookupDisplay;
  }, set: function(t3) {
    this._lookupDisplay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "copyDisplayText", { get: function() {
    return this._copyDisplayText;
  }, set: function(t3) {
    this._copyDisplayText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "includeHeaderText", { get: function() {
    return this._includeHeaderText;
  }, set: function(t3) {
    this._includeHeaderText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "copyTextCallback", { get: function() {
    return this._copyTextCallback;
  }, set: function(t3) {
    this._copyTextCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cutReadOnlyCell", { get: function() {
    return this._cutReadOnlyCell;
  }, set: function(t3) {
    this._cutReadOnlyCell = t3;
  }, enumerable: false, configurable: true }), e2;
}(ml);
var nu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._enabled = true, i2._startEdit = true, i2._commitEdit = true, i2._enableAppend = true, i2._numberCharsOfCols = {}, i2._numberSeparatorOfCols = {}, i2._stopOnError = true, i2._throwValidationError = true, i2.assignFrom(Ke.paste), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    this._enabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "singleMode", { get: function() {
    return this._singleMode;
  }, set: function(t3) {
    this._singleMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "startEdit", { get: function() {
    return this._startEdit;
  }, set: function(t3) {
    this._startEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitEdit", { get: function() {
    return this._commitEdit;
  }, set: function(t3) {
    this._commitEdit = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enableAppend", { get: function() {
    return this._enableAppend;
  }, set: function(t3) {
    this._enableAppend = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "forceAppend", { get: function() {
    return this._forceAppend;
  }, set: function(t3) {
    this._forceAppend = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fillFieldDefaults", { get: function() {
    return this._fillFieldDefaults;
  }, set: function(t3) {
    this._fillFieldDefaults = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fillColumnDefaults", { get: function() {
    return this._fillColumnDefaults;
  }, set: function(t3) {
    this._fillColumnDefaults = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "forceRowValidation", { get: function() {
    return this._forceRowValidation;
  }, set: function(t3) {
    this._forceRowValidation = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "forceColumnValidation", { get: function() {
    return this._forceColumnValidation;
  }, set: function(t3) {
    this._forceColumnValidation = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "datetimeFormats", { get: function() {
    return this._datetimeFormats;
  }, set: function(t3) {
    if (t3 !== this._datetimeFormats) if (this._datetimeFormats = t3 && t3.concat(), t3) {
      this._dateReaders = [];
      for (var e3 = 0; e3 < this._datetimeFormats.length; e3++) this._dateReaders.push(new Tt(this._datetimeFormats[e3]));
    } else this._dateReaders = null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateReaders", { get: function() {
    return this._dateReaders;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "booleanFormat", { get: function() {
    return this._booleanFormat;
  }, set: function(t3) {
    t3 != this._booleanFormat && (this._booleanFormat = t3, this._boolReader = t3 && new kt(t3));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "boolReader", { get: function() {
    return this._boolReader;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberChars", { get: function() {
    return this._numberChars;
  }, set: function(t3) {
    if (t3 !== this._numberChars) if (this._numberChars = t3, t3 && t3.length > 0) {
      for (var e3 = "[", i2 = 0; i2 < t3.length; i2++) {
        var o2 = t3[i2];
        e3 += "\\" == o2 ? "\\" + o2 : o2;
      }
      e3 += "]", this._numberCharExp = new RegExp(e3, "g");
    } else this._numberCharExp = null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberSeparator", { get: function() {
    return this._numberSeparator;
  }, set: function(t3) {
    this._numberSeparator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCharsOfCols", { get: function() {
    return this._numberCharsOfCols;
  }, set: function(t3) {
    if (t3 !== this._numberCharsOfCols && (this._numberCharsOfCols = t3, this._numberCharExpOfCols = {}, t3)) for (var e3 in t3) {
      var i2 = t3[e3];
      if (i2 instanceof Array && i2.length > 0) {
        for (var o2 = "[", r2 = 0, n2 = i2.length; r2 < n2; r2++) {
          var s2 = i2[r2];
          o2 += "\\" == s2 ? "\\" + s2 : s2;
        }
        o2 += "]", this._numberCharExpOfCols[e3] = new RegExp(o2, "g");
      } else this._numberCharExpOfCols[e3] = null;
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCharExp", { get: function() {
    return this._numberCharExp;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberSeparatorOfCols", { get: function() {
    return this._numberSeparatorOfCols;
  }, set: function(t3) {
    this._numberSeparatorOfCols = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectionBase", { get: function() {
    return this._selectionBase;
  }, set: function(t3) {
    this._selectionBase = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectBlockPaste", { get: function() {
    return this._selectBlockPaste;
  }, set: function(t3) {
    this._selectBlockPaste = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stopOnError", { get: function() {
    return this._stopOnError;
  }, set: function(t3) {
    this._stopOnError = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "noEditEvent", { get: function() {
    return this._noEditEvent;
  }, set: function(t3) {
    t3 != this._noEditEvent && (this._noEditEvent = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "noDataEvent", { get: function() {
    return this._noDataEvent;
  }, set: function(t3) {
    this._noDataEvent = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "eventEachRow", { get: function() {
    return this._eventEachRow;
  }, set: function(t3) {
    this._eventEachRow = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkReadOnly", { get: function() {
    return this._checkReadOnly;
  }, set: function(t3) {
    this._checkReadOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkDomainOnly", { get: function() {
    return this._checkDomainOnly;
  }, set: function(t3) {
    this._checkDomainOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "convertLookupLabel", { get: function() {
    return this._convertLookupLabel;
  }, set: function(t3) {
    this._convertLookupLabel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "applyNumberFormat", { get: function() {
    return this._applyNumberFormat;
  }, set: function(t3) {
    this._applyNumberFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "applyEditMask", { get: function() {
    return this._applyEditMask;
  }, set: function(t3) {
    this._applyEditMask = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "applyMaxLength", { get: function() {
    return this._applyMaxLength;
  }, set: function(t3) {
    this._applyMaxLength = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "applyInputChars", { get: function() {
    return this._applyInputChars;
  }, set: function(t3) {
    this._applyInputChars = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "throwValidationError", { get: function() {
    return this._throwValidationError;
  }, set: function(t3) {
    this._throwValidationError = t3;
  }, enumerable: false, configurable: true }), e2.prototype.numberCharExpOfCol = function(t3) {
    return t3 && this._numberCharExpOfCols && this._numberCharExpOfCols[t3] ? this._numberCharExpOfCols[t3] : this._numberCharExp;
  }, e2.prototype.numberSeparatorOfCol = function(t3) {
    return t3 && this._numberSeparatorOfCols && this._numberSeparatorOfCols[t3] ? this._numberSeparatorOfCols[t3] : this._numberSeparator;
  }, e2;
}(ml);
var su = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._longTapDuration = 500, i2._doubleTapInterval = 500, i2._tapThreshold = 10, i2._showEditCommander = false, i2._showTooltip = false, i2._scrollPropagate = true, i2.assignFrom(Ke.mobile), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "longTapDuration", { get: function() {
    return this._longTapDuration;
  }, set: function(t3) {
    t3 != this._longTapDuration && (this._longTapDuration = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "doubleTapInterval", { get: function() {
    return this._doubleTapInterval;
  }, set: function(t3) {
    t3 != this._doubleTapInterval && (this._doubleTapInterval = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tapThreshold", { get: function() {
    return this._tapThreshold;
  }, set: function(t3) {
    t3 != this._tapThreshold && (this._tapThreshold = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showEditCommander", { get: function() {
    return this._showEditCommander;
  }, set: function(t3) {
    t3 != this._showEditCommander && (this._showEditCommander = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, set: function(t3) {
    t3 != this._showTooltip && (this._showTooltip = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollOnEditing", { get: function() {
    return this.grid.editOptions.scrollOnEditing;
  }, set: function(t3) {
    this.grid.editOptions.scrollOnEditing = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "scrollPropagate", { get: function() {
    return this._scrollPropagate;
  }, set: function(t3) {
    this._scrollPropagate = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showSelectionHandle", { get: function() {
    return this._showSelectionHandle;
  }, set: function(t3) {
    t3 != this._showSelectionHandle && (this._showSelectionHandle = t3, this._changed());
  }, enumerable: false, configurable: true }), e2;
}(ml);
var au = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), e2.prototype.canFocus = function() {
    return true;
  }, e2;
}(bh);
var lu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3) || this;
    return o2._style = i2, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._style;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "manager", { get: function() {
    return this.grid.selections;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectable", { get: function() {
    return true;
  }, enumerable: false, configurable: true }), e2;
}(function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.grid) || this;
    return i2._index = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._index.dispose(), this._index = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), e2;
}(au));
var hu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._layout = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "x", { get: function() {
    return this._x;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "y", { get: function() {
    return this._y;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "offset", { get: function() {
    return this._offset;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3, i2, o2) {
    return this._layout = t3, this._x = e3, this._y = i2, this._offset = o2, this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "col-resize";
  }, enumerable: false, configurable: true }), e2;
}(au);
var uu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._layout = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "x", { get: function() {
    return this._x;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "y", { get: function() {
    return this._y;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "offset", { get: function() {
    return this._offset;
  }, set: function(t3) {
    this._offset = t3;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3, i2, o2) {
    return this._layout = ps.getSource(t3), this._x = e3, this._y = i2, null != o2 && (this._offset = o2), this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "default";
  }, enumerable: false, configurable: true }), e2;
}(au);
var cu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._itemIndex = -1, i2._variable = false, i2._rowTop = 0, i2._offset = 0, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._itemIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "variable", { get: function() {
    return this._variable;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowTop", { get: function() {
    return this._rowTop;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "offset", { get: function() {
    return this._offset;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3, i2, o2) {
    return this._itemIndex = t3, this._variable = e3, this._rowTop = i2, this._offset = o2, this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "row-resize";
  }, enumerable: false, configurable: true }), e2.prototype.canFocus = function() {
    return false;
  }, e2;
}(au);
var du = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._offset = 0, i2._top = 0, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "top", { get: function() {
    return this._top;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "offset", { get: function() {
    return this._offset;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3) {
    return this._top = t3, this._offset = e3, this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "row-resize";
  }, enumerable: false, configurable: true }), e2;
}(au);
var pu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._itemIndex = -1, i2._offset = 0, i2._layout = null, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._itemIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "offset", { get: function() {
    return this._offset;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3) {
    return this._selStyle = t3 && t3.style, this._selStyle && this._selStyle != Js.COLUMNS && this._selStyle != Js.SINGLE_COLUMN ? (this._itemIndex = t3.getBounds().top, this._layout = t3.startLayout, this._offset = e3 - this._itemIndex) : (this._itemIndex = e3, this._offset = 0, this._layout = null), this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return this.grid.dataDropOptions.cursor;
  }, enumerable: false, configurable: true }), e2.prototype.canFocus = function() {
    return this._selStyle == Js.COLUMNS || this._selStyle == Js.SINGLE_COLUMN;
  }, e2;
}(au);
var fu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._type = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "inputFocusable", { get: function() {
    return this._inputFocusable;
  }, set: function(t3) {
    this._inputFocusable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dom", { get: function() {
    return this._dom;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemClickable", { get: function() {
    return this._itemClickable;
  }, set: function(t3) {
    this._itemClickable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._type;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._index && this._index.grid.handler;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTooltip", { get: function() {
    return this._showTooltip;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "refreshFocusChanged", { get: function() {
    return this._refreshFocusChanged;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickOnlyFocusedCell", { get: function() {
    return this._clickOnlyFocusedCell;
  }, enumerable: false, configurable: true }), e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = {};
    n2.focused = i2.focused, this.render(t3.handler, e3, o2, r2, n2);
  }, e2.prototype.tooltip = function(t3, e3) {
  }, e2.prototype.canEdit = function() {
    return t2.prototype.canEdit.call(this);
  }, e2.prototype.canClick = function(e3) {
    return t2.prototype.canClick.call(this, e3);
  }, e2.prototype.canEditClickAt = function(e3) {
    return t2.prototype.canEditClickAt.call(this, e3);
  }, e2.prototype.canClickSpaceKey = function(e3) {
    return t2.prototype.canClickSpaceKey.call(this, e3);
  }, e2.prototype.click = function(e3, i2, o2) {
    return t2.prototype.click.call(this, e3, i2, o2);
  }, e2.prototype.itemClick = function(e3) {
    t2.prototype.itemClick.call(this, e3);
  }, e2.prototype.preventDefaultEditClick = function(e3) {
    t2.prototype.preventDefaultEditClick.call(this, e3);
  }, e2.prototype.preventDefaultClick = function(e3) {
    t2.prototype.preventDefaultClick.call(this, e3);
  }, e2.prototype._doEditClick = function(e3, i2, o2) {
    return t2.prototype._doEditClick.call(this, e3, i2, o2);
  }, e2;
}(zr);
var _u = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._inputFocusable = false, o2._tags = {}, e3 && "function" == typeof e3.render ? (o2._impl = e3, o2._impl.type = i2, o2.assignFrom(o2._impl)) : o2._impl = null, o2._itemClickable = true, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "inputFocusable", { get: function() {
    return this._inputFocusable;
  }, set: function(t3) {
    this._inputFocusable !== t3 && (this._inputFocusable = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tags", { get: function() {
    return this._tags;
  }, set: function(t3) {
    this._tags = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this.index.grid.handler;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._impl && this._impl.type;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    this._impl && this._impl.initContent && this._impl.initContent.call(this, t3);
  }, e2.prototype._doClearContent = function(t3) {
    this._impl && this._impl.clearContent && this._impl.clearContent.call(this, t3);
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = {};
    n2.focused = i2.focused, this._impl && this._impl.render && this._impl.render.call(this, t3.handler, e3, o2, r2, n2);
  }, e2.prototype.preventDefaultEditClick = function(e3) {
    return this._impl && this._impl.preventEditClick ? this._impl.preventEditClick.call(this, e3) : t2.prototype.preventDefaultEditClick.call(this, e3);
  }, e2.prototype._doEditClick = function(e3, i2, o2) {
    return this._impl && this._impl.editClick ? this._impl.editClick.call(this, e3, i2, o2) : t2.prototype._doEditClick.call(this, e3, i2, o2);
  }, e2.prototype.canEditClickAt = function(e3) {
    return this._impl && this._impl.canEditClickAt ? this._impl.canEditClickAt.call(this, e3) : t2.prototype.canEditClickAt.call(this, e3);
  }, e2.prototype.preventDefaultClick = function(e3) {
    return this._impl && this._impl.preventClick ? this._impl.preventClick.call(this, e3) : t2.prototype.preventDefaultClick.call(this, e3);
  }, e2.prototype._doClick = function(e3, i2) {
    return this._impl && this._impl.click ? this._impl.click.call(this, i2) : t2.prototype._doClick.call(this, e3, i2);
  }, e2.prototype._doEditKey = function(e3, i2, o2) {
    return this._impl && this._impl.editKey ? this._impl.editKey.call(this, i2, o2) : t2.prototype._doEditKey.call(this, e3, i2, o2);
  }, e2.prototype.canClick = function(e3) {
    return this._impl && this._impl.canClick ? this._impl.canClick.call(this, e3) : t2.prototype.canClick.call(this, e3);
  }, e2.prototype.canEdit = function() {
    return this._impl && this._impl.canEdit ? this._impl.canEdit.call(this) : t2.prototype.canEdit.call(this);
  }, e2.prototype.canEditKey = function(e3) {
    return this._impl && this._impl.canEditKey ? this._impl.canEditKey.call(this, e3) : t2.prototype.canEditKey.call(this, e3);
  }, e2;
}(zr);
var gu = function(t2) {
  function e2(e3, i2, o2, r2) {
    var n2 = t2.call(this) || this;
    return n2._row = e3, n2._field = i2, n2._value = o2, n2._column = r2, n2._oldValue = Ot.deepCopy(e3.getData(i2)), n2;
  }
  return i(e2, t2), e2.prototype.undo = function() {
    this._row.setData(this._field, this._oldValue), this.$_focusCell();
  }, e2.prototype.redo = function() {
    this._row.setData(this._field, this._value), this.$_focusCell();
  }, e2.prototype.$_focusCell = function() {
    var t3 = this._column.grid, e3 = t3.focusedIndex.clone();
    e3.layout = this._column.layout, t3.setFocusedIndex(e3), t3.makeCellVisible(e3);
  }, e2;
}(li);
var yu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._editIndex = new Ts(), i2._starting = false, i2._needPrepare = false, i2._needDropdown = false, i2._modified = false, i2._commiting = false, i2._canceling = false, i2._resetting = false, i2._dirty = false, i2._editable = false, i2._readOnly = false, i2._grid = e3, i2._access = e3.accessibility, i2._access || (i2._defaultEditor = e3.delegate.getDefaultCellEditor(), i2._defaultEditor && i2._defaultEditor.setController(i2), i2._defaultEditor && i2._internalHideEditor(i2._defaultEditor)), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, this._editIndex && this._editIndex.dispose(), this._editIndex = null, this._editor && this._editor.dispose(), this._editor = null, this._defaultEditor && this._defaultEditor.dispose(), this._defaultEditor = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "readOnly", { get: function() {
    return this._readOnly;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editable", { get: function() {
    return this._editable;
  }, enumerable: false, configurable: true }), e2.prototype.onEditorStart = function(t3) {
    if (!t3.visible && !this._commiting && !this._canceling) return this._activateEditor(false, false);
  }, e2.prototype.onEditorKeyDown = function(t3, e3) {
    var i2 = Ot.ctrlKey(e3);
    return t3 && (t3.textReadOnly || i2 || e3.altKey || !this._isEditKey(e3.keyCode) ? t3.textReadOnly ? t3._editor.readOnly = t3.textReadOnly : 229 == e3.keyCode && t3.setReadOnly(this._readOnly) : t3.setReadOnly(this._readOnly)), this._grid.activeTool.keyDown(e3);
  }, e2.prototype.onEditorKeyPress = function(t3, e3) {
    return this._grid.activeTool.keyPress(e3);
  }, e2.prototype.onEditorKeyUp = function(t3, e3) {
    return this._grid.activeTool.keyUp(e3);
  }, e2.prototype.onEditorChange = function(t3) {
    if (this._modified || (this._modified = true, this._grid._editorStarted(t3, this._editIndex)), this.editing) {
      this._grid.makeCellVisible(this._editIndex);
      var e3 = t3.getEditValue(false, false);
      e3 = e3 === Ma.Unselected ? t3.getEditText() : e3, this._grid._editorChange(t3, this._editIndex, e3);
    }
  }, e2.prototype.onEditorSearch = function(t3, e3) {
    this._grid._editorSearch(this._editor, this._editIndex, e3);
  }, e2.prototype.onSearchCellButtonClick = function(t3, e3) {
    return this._grid._searchCellButtonClick(this._editor, this._editIndex, e3);
  }, e2.prototype.onEditorCommit = function(t3) {
    return this.commitEditor(true, false, true, false);
  }, Object.defineProperty(e2.prototype, "editIndex", { get: function() {
    return this._editIndex.clone();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editing", { get: function() {
    return this._editor && this._editor.editing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editValue", { get: function() {
    return this._editor && this._editor.value;
  }, enumerable: false, configurable: true }), e2.prototype.setFocus = function(t3, e3) {
    var i2;
    if (e3 && (!this._editor || e3 !== this._editor.editor)) {
      var o2 = xt(e3), r2 = this._grid, n2 = void 0, s2 = null === (i2 = this._editor) || void 0 === i2 ? void 0 : i2.editor;
      if ((e3 instanceof o2.HTMLInputElement || e3 instanceof o2.HTMLSelectElement || e3 instanceof o2.HTMLTextAreaElement) && (n2 = r2.getTableCell(e3))) {
        var a2 = r2.getCellType(n2), l2 = r2.getTableView(n2), h2 = l2 && l2.tableCellByCell && l2.tableCellByCell(n2);
        if (a2 === O.DATA) {
          var u2 = this._grid.focusedIndex.clone(), c2 = this._grid.getBodyCellAt(u2, true), d2 = c2 && c2.renderer2;
          if ((d2 instanceof _n || d2 instanceof _u || d2 instanceof fu) && d2.inputFocusable) return;
          s2 && (s2.tabIndex = -1);
        } else if (a2 === O.INLINE_FILTER) {
          if (r2.isItemEditing() && r2.filterPanel.beforeCommit && r2.commit(false), !r2.isEditing()) return s2 && (s2.tabIndex = 0), void r2.makeColumnVisible(h2.layout && h2.layout.firstColumn);
        } else if (Ot.included(a2, O.HEADER, O.LAYOUT_HEADER, O.FOOTER, O.SUMMARY) && !h2.isClickableElt(e3) && Ot.isFocusableTemplate(n2, e3)) return;
      }
    }
    this.$_focusToEditor(t3, e3);
  }, e2.prototype.resetEditor = function(t3) {
    if (this.editing) {
      if (this._grid.isValid(this._editIndex)) {
        if (this._resetBounds(), t3 && this.editing) {
          var e3 = this.getData(this._editIndex);
          this._resetting = true;
          try {
            this._editor.setEditValue(e3), this._editor.beginEdit(false, true);
          } finally {
            this._resetting = false;
          }
        }
      } else this.hideEditor();
      return true;
    }
  }, e2.prototype.invalidateEditor = function() {
    this._dirty = true;
  }, e2.prototype.closeList = function(t3) {
    this._editor && this._editor.closeList(t3);
  }, e2.prototype.focusedIndexChanging = function() {
    return !this.editing || (this.closeList(true), this.commitEditor(true, false, true, false));
  }, e2.prototype.focusedIndexChanged = function(t3, e3, i2) {
    this._hideEditor(), this._grid.isValid(e3) && (i2 ? this._prepareEditor(e3) : this._needPrepare = true);
  }, e2.prototype.prepareEditor = function(t3) {
    this._needPrepare && (this._needPrepare = false, this._grid.isValid(t3) && (this._prepareEditor(t3), this._needDropdown = false));
  }, e2.prototype.requestPrepareEditor = function(t3) {
    this._needPrepare = true, this._needDropdown = t3;
  }, e2.prototype.showEditor = function(t3, e3) {
    var i2 = this._grid, o2 = this._editor;
    if (i2 && i2.isValid(t3) && t3.item.canEdit()) {
      if (o2 && o2.editing) return i2.makeCellVisible(t3), true;
      if (o2 && !o2.editing && (!this._showEditorTimer && this._prepareEditor(t3), i2.makeCellVisible(t3), this._activateEditor(false, true, e3))) return true;
    }
  }, e2.prototype.showList = function(t3) {
    var e3 = this._grid, i2 = this._editor;
    if (i2 && i2.editing && (e3.makeCellVisible(t3), this.cancelEditor(true)), e3 && e3.isValid(t3) && (this._prepareEditor(t3), e3.makeCellVisible(t3), i2 && this._editable && !i2.editing)) return i2.dropDownList(true), true;
  }, e2.prototype.caretToLast = function() {
    this._editor && this._editor.caretToLast();
  }, e2.prototype.hideEditor = function() {
    if (this.editing) {
      this._modified = false, this._resetting = true;
      try {
        this._internalHideEditor(this._editor), this._prepareEditor(this._editIndex);
      } finally {
        this._resetting = false;
      }
    }
  }, e2.prototype.commitEditor = function(t3, e3, i2, o2) {
    if (!this.editing || this._commiting) return true;
    var r2 = this._editor;
    if (!r2) return false;
    var n2, s2, a2 = this._grid, l2 = a2.validationManager, h2 = a2.editOptions, u2 = this._editIndex, c2 = u2.dataColumn, d2 = true, p2 = r2._mask;
    this._commiting = true;
    try {
      if (r2.commit(), (this._modified || r2.isEdited()) && c2 && c2.dataIndex >= 0) try {
        try {
          if ((n2 = p2 && !p2.checkValid() ? Ma.InvalidFormat : r2.getEditValue(true, true)) === Ma.InvalidFormat) d2 = false, h2.showInvalidFormatMessage && p2 && p2.showInvalidFormatMessage && alert(p2 && p2.invalidFormatMessage || h2.invalidFormatMessage);
          else if (n2 === Ma.Unselected) this._modified = false, d2 = true;
          else {
            var f2 = this._getData(u2), _2 = { text: r2.getEditText(), value: n2, oldValue: f2 }, g2 = r2.getEditListItem();
            g2 && (_2.item = g2), d2 = this._grid.getEditValue(r2, u2, _2), n2 = _2.value, "boolean" != typeof d2 && (d2 = o2 || this._grid.editorCommit(u2, f2, n2));
          }
        } catch (t4) {
          d2 = false;
        }
        this._grid.isItemEditing() ? d2 && n2 !== Ma.Unselected && (this._setData(u2, n2), this._grid.isItemEditing(u2.item) && (n2 = this._getData(u2), this._grid.validateCellCommit(u2, n2)), this._modified = false) : this._modified = false;
      } catch (t4) {
        s2 = t4, d2 = false;
      }
      if (this._resetting = true, d2 && t3) try {
        this._internalHideEditor(r2), this._prepareEditor(u2, i2), r2.isEdited() || this._grid.activeTool.resetFocused();
      } finally {
        this._resetting = false;
      }
      if (s2) {
        if (e3) throw s2;
        h2.showCommitError && alert(s2.message || s2);
      }
    } finally {
      this._commiting = false;
    }
    if (d2 && a2.isCellEditing()) {
      var y2 = a2.itemSource, m2 = y2.editingItem.invalidFields;
      if (a2.editOptions.validateOnEdited) {
        var b2 = l2.getError(u2);
        if (b2) return m2.push(c2.dataIndex), h2.showCommitError && alert(b2.userMessage || b2.message || b2), false;
        m2.indexOf(c2.dataIndex) >= 0 && m2.splice(m2.indexOf(c2.dataIndex), 1), l2.clearInvalidCell(u2);
      }
      if (m2.length > 0) return true;
      var v2 = a2.canMergeEditing(a2.getBodyCellAt(u2, true));
      if (!y2.commit(v2)) return y2.cancel(), true;
      l2.cloneError(-1, u2.dataId), l2.clearInvalidCells(-1);
      var w2 = Ts.temp(a2, u2.itemIndex, c2);
      if (v2 && n2 !== Ma.Unselected) {
        var C2 = c2.layout.merges.getRoom(u2), x2 = {}, I2 = {};
        I2[c2.fieldName] = n2;
        for (var E2 = C2.head; E2 <= C2.tail; E2++) {
          var S2 = a2.getItem(E2);
          w2.itemIndex = S2.index, S2.isDataRow && (x2[S2.dataRow] = I2), a2.editOptions.validateOnEdited && l2.clearInvalidCell(w2);
        }
        y2.updateRows2(x2);
      }
    }
    return d2;
  }, e2.prototype.cancelEditor = function(t3) {
    if (this.editing) {
      this._canceling = true;
      try {
        try {
          this._modified = false, this._grid.editorCancel(this._editor, this._editIndex);
        } catch (t4) {
          throw t4;
        }
        this._resetting = true;
        try {
          this._internalHideEditor(this._editor), this._prepareEditor(this._editIndex);
        } finally {
          this._resetting = false;
        }
      } finally {
        this._canceling = false, this._grid.editorCanceled();
      }
      if (this._grid.editOptions.commitByCell) {
        var e3 = this._grid.itemSource;
        e3.isUpdating && e3.cancel();
      }
    }
  }, e2.prototype.fillSearchItems = function(t3, e3, i2, o2, r2) {
    this.editing && this._editIndex.column === t3 && this._editor instanceof Xa && this._editor.fillItems(e3, i2, o2, r2);
  }, e2.prototype.buttonClicked = function(t3, e3) {
    var i2 = this._editor, o2 = this._grid, r2 = o2.getBodyCellAt(t3, false), n2 = t3.layout.getDataColumn();
    i2 && Ts.areEquals(this._editIndex, t3) && i2.hasButton(o2.displayOptions.showNativeEditButton, r2.editor || n2.editor) && i2.buttonClicked(this._editIndex, e3);
  }, e2.prototype.buttonDown = function(t3, e3) {
    this._editor && this._editor.buttonDown(t3, e3);
  }, e2.prototype.buttonUp = function(t3, e3) {
    this._editor && this._editor.buttonUp(t3, e3);
  }, e2.prototype.getData = function(t3) {
    return this._getData(t3);
  }, e2.prototype.setEditValue = function(t3, e3) {
    this._editor && this._editor.setCellEditValue(t3, e3);
  }, e2.prototype.currentEditor = function() {
    return this._editor;
  }, e2.prototype.detachEditors = function() {
    for (var t3 = this._grid.delegate.editors, e3 = 0, i2 = Object.keys(t3); e3 < i2.length; e3++) {
      t3[i2[e3]].detach();
    }
  }, e2.prototype.attachEditor = function(t3, e3) {
    var i2 = this._editor, o2 = this._editIndex, r2 = this._grid;
    i2 && r2 && r2.isValid(o2) && this._access && (i2.attach(t3), i2.setInert(e3));
  }, e2.prototype._internalHideEditor = function(t3) {
    this.closeList(false), t3.setVisible(false, false), t3.endEdit(), !this._grid._loading && this._grid._fireHideEditor(t3.editIndex);
  }, e2.prototype.$_hideEdit = function(t3, e3) {
    e3 && (e3.setEditIndex(t3), e3.setVisible(false), this.$_focusToEditor());
  }, e2.prototype.$_getCellEditor = function(t3) {
    var e3, i2 = this._grid, o2 = i2.getBodyCellAt(t3);
    if (!(e3 = o2 && o2.editor)) {
      var r2 = t3.valueColumn;
      r2 && (e3 = r2.editor);
    }
    var n2 = i2.delegate.getCellEditor(Ma.getEditorType(e3));
    return n2 && (n2.initOptions(), n2.initDefaultOptions(), e3 && n2.applyOptions(e3), n2.setController(this)), n2;
  }, e2.prototype.resetEditable = function(t3) {
    var e3 = this._editor;
    if (!e3) return false;
    var i2 = this._grid;
    e3.setReadOnly(false);
    var o2 = i2.editorOptions, r2 = t3.valueColumn, n2 = t3.item, s2 = i2.canEditAt(t3);
    if (o2._titleExprStatement && this._editor.setEditorTitle(t3), !s2) return this._editable = false, this.$_hideEdit(t3, this._editor), false;
    var l2 = !i2.canWriteAt(t3);
    if (!l2) {
      var h2 = n2.dataSource, u2 = h2 ? h2.getField(t3.dataField) : null;
      l2 = !u2 || u2.dataType == a.OBJECT && null == (r2.objectKey || u2.objectKey);
    }
    return this._readOnly = l2, this._editor.setReadOnly(this._readOnly), this._editor.setEditIndex(t3), this._editable = true, true;
  }, e2.prototype._prepareEditor = function(t3, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = this._grid.editOptions;
    if (this._dirty = false, this._grid.isValid(t3) && t3.item.canEdit() && (this._hideEditor(e3), this._editor = this.$_getCellEditor(t3), this._editor)) {
      this._editIndex.assign(t3);
      var o2 = this._getData(t3);
      this.resetEditable(t3) ? (this._editor.prepare(), this._editor.setEditValue(o2), this._editor.selectAll(), (!i2.editWhenFocused && !this._needDropdown || this._editor.editing) && this._editor.setVisible(false), e3 && this.$_focusToEditor()) : this._editor && (this._editor.editor.value = this._editor._valToStr(o2));
    }
  }, e2.prototype._hideEditor = function(t3) {
    if (this._editor) try {
      this._editor.setVisible(false);
    } finally {
      this._editor.unprepare(), this._editor.endEdit(), this._access && this._editor.setInert(false), this._editor = null, this._editable = false;
    }
  }, e2.prototype._initEditor = function(t3, e3, i2) {
    this._dirty && (this._dirty = false, this._starting || this._prepareEditor(this._editIndex));
    var o2 = this._editor;
    o2 && (o2.endEdit(), this._resetBounds(), o2.setVisible(true, true), o2.beginEdit(t3, e3), t3 && o2.clear(), e3 && o2.selectAll(), i2 && o2.dropDownList(false), i2 || this.$_focusToEditor(true));
  }, e2.prototype.$_setEditorAttrs = function(t3) {
    var e3 = this._editor;
    if (e3) for (var i2 in t3) "callback" != i2 && (void 0 === t3[i2] ? e3._editor.removeAttribute(i2) : e3._editor.setAttribute(i2, t3[i2]));
  }, e2.prototype._editorActivated = function(t3) {
    this._grid.editorActivated(t3);
  }, e2.prototype._activateEditor = function(t3, e3, i2) {
    void 0 === i2 && (i2 = false);
    var o2 = this._grid, r2 = this._editor, n2 = this._editIndex, s2 = {}, a2 = {};
    if (this._editable && r2 && !r2.editing && o2.$_canShowEditor(n2, s2, a2)) {
      s2.type && (r2 = this._editor = o2.delegate.getCellEditor(Ma.getEditorType(s2.type)) || r2), Ot.isEmpty(s2) || (r2.applyOptions(s2), r2.setEditIndex(n2));
      var l2 = r2._editor;
      return r2.textReadOnly ? r2.textReadOnly && l2 && (l2.readOnly = r2.textReadOnly) : r2.setReadOnly(this._readOnly), this.$_setEditorAttrs(a2), this._access && this._editor.setInert(true), this._initEditor(t3, e3, i2), this._modified = false, this._editorActivated(this._editor), this._showEditorTimer = clearTimeout(this._showEditorTimer), a2 && "function" == typeof a2.callback && a2.callback(), true;
    }
    return false;
  }, e2.prototype._resetBounds = function() {
    if (this._editor) {
      var t3 = this._grid.getEditCellBounds(this._editor, this._editIndex);
      this._access && (t3.x = t3.y = 0);
      var e3 = this._grid.getEditBounds(this._editor, this._editIndex).width;
      Ot.isMobile() && Ot.isiOS && (e3 -= 3), t3.x--, t3.y--, t3.width++, t3.height++, Ot.isMobile() && (t3.y -= 1, t3.height += 2), this._editor.setBounds(t3.x, t3.y, t3.width, t3.height, e3), t3 = this._grid.getEditCellBounds(this._editor, this._editIndex), this._editor.setCellBounds(t3.x, t3.y, t3.width, t3.height);
    }
  }, e2.prototype.$_focusToEditor = function(t3, e3) {
    var i2 = this._grid;
    if (t3 || i2.$_editFocused) {
      var o2 = this._editor || this._defaultEditor;
      i2.$_showFocusCell = i2.$_showFocusCell || e3 && o2 && e3 !== o2._editor, i2.container._setFocusAndScroll(o2), this.editing || this._editor && this._editor.selectAll();
    }
  }, e2.prototype._getData = function(t3) {
    var e3 = t3.dataColumn, i2 = t3.item;
    if (e3 && i2 && i2.isDataRow) {
      var o2 = e3.dataIndex;
      if (o2 >= 0) return i2.getData(o2);
    }
  }, e2.prototype._setData = function(t3, e3) {
    var i2 = t3.item;
    if (i2) {
      var o2 = t3.dataColumn.dataIndex;
      o2 >= 0 && (this._grid.undoable ? this._grid.execute(new gu(t3.item, o2, e3, t3.column)) : i2.setData(o2, e3));
    }
  }, e2.prototype._isEditKey = function(t3) {
    return 8 == t3 || t3 >= 46 && t3 <= 90 || t3 >= 96 && t3 <= 111 || t3 >= 186 && t3 <= 222 || 13 == t3 && this._grid.editOptions.enterToEdit;
  }, e2;
}(Ft);
var mu = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    return r2._col = -1, r2._colChanged = false, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.getCellIndex = function(t3) {
    return t3.parentElement[g];
  }, e2.prototype.refresh = function(t3, e3) {
    for (var i2 = 0; i2 < e3; i2++) {
      var o2 = this._getTableCell(i2);
      o2[m] = t3.isFocusedRow(o2.parentElement[g]), Ot.setClassName(o2, this.$_getCellSelector(o2));
    }
  }, e2.prototype._createDom = function() {
    return null;
  }, e2.prototype._prepareContent = function(t3, e3) {
    var i2 = It(t3).createElement("div");
    return this._prepareCellContent(i2, t3), i2;
  }, e2.prototype._clearCellContent = function(t3) {
    var e3 = t3.firstElementChild;
    e3 && Ot.detach(e3);
  }, e2.prototype._prepareCellContent = function(t3, e3) {
  }, e2.prototype._updateCellContent = function(t3, e3, i2, o2) {
    i2[this._textProp] = e3.text;
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype.$_setCol = function(t3) {
    (this._colChanged = t3 != this._col) && (this._col = t3);
  }, e2.prototype._layoutCell = function(t3, e3, i2) {
    if (this._colChanged) {
      i2.removeAttribute("rowspan"), i2.style.removeProperty("display");
      var o2 = i2.firstElementChild;
      this._clearCellContent(o2), this._prepareCellContent(o2, i2);
    }
  }, e2.prototype._getTableCell = function(t3) {
    return this.parent._tbody.children[t3].children[this._col];
  }, e2.prototype.$_getCellSelector = function(t3) {
    var e3 = this.model.cellStyleCallback, i2 = this.grid, o2 = t3.parentElement[g], r2 = i2.getItem(o2), n2 = i2.getCellType(t3);
    if (e3) {
      var s2 = e3(this.grid.handler, n2, null == r2 ? void 0 : r2.index);
      return s2 ? " " + s2 : "";
    }
    return "";
  }, e2;
}(El);
var bu = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2, "rowIndicatorView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowindicator";
  }, e2.prototype.measureWidth = function(t3) {
    var e3 = this.model, i2 = e3.width;
    if (0 == i2 && t3.dataSource) {
      var o2 = t3.dataSource.rowCount + "";
      i2 = t3.container.measureText("rg-rowindicator-cell", o2) + 1;
    }
    return i2 = Math.max(e3.minWidth > 0 ? e3.minWidth : i2, Math.min(e3.maxWidth > 0 ? e3.maxWidth : i2)), e3._displayWidth = i2, i2;
  }, e2.prototype._layoutCell = function(e3, i2, o2) {
    if (t2.prototype._layoutCell.call(this, e3, i2, o2), i2) {
      var r2 = this.model.getCell(i2);
      Ot.setClassName(o2, this.$_getCellSelector(o2)), this._updateCellContent(e3, r2, o2.firstElementChild, o2);
    }
  }, e2.prototype.$_getCellSelector = function(e3) {
    var i2 = this.grid, o2 = e3.parentElement[g], r2 = e3[m], n2 = this.model, s2 = "rg-rowindicator-cell";
    if (-99 === o2) return bl.ROW_BAR_CELL_STYLE;
    if (r2) {
      s2 += n2.showFocus ? " rg-rowindicator-focus" : "";
      var a2 = i2.getItem(o2);
      Ot.isDebugging();
      var l2 = a2 && a2.itemState;
      Ao(l2) ? s2 += " rg-rowindicator-inserting" : l2 == vo.UPDATING && (s2 += " rg-rowindicator-editing");
    } else i2.isSelectedItem(o2) && n2.showSelection && (s2 += " rg-rowindicator-select");
    return s2 += t2.prototype.$_getCellSelector.call(this, e3);
  }, e2;
}(mu);
var vu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "stateBarView") || this;
    return o2._textMark = false, o2;
  }
  return i(e2, t2), e2.prototype.rowOf = function(t3) {
    return t3.parentElement[g];
  }, e2.prototype._getCssSelector = function() {
    return "rg-statebar";
  }, e2.prototype.measureWidth = function(t3) {
    return t3.stateBar.width;
  }, e2.prototype._layoutCell = function(e3, i2, o2) {
    if (t2.prototype._layoutCell.call(this, e3, i2, o2), i2) {
      var r2 = this.model, n2 = r2.mark;
      this._textMark = n2 == Ds.TEXT;
      var s2 = r2.getCell(i2);
      Ot.setClassName(o2, this.$_getCellSelector(o2)), this._updateCellContent(e3, s2, o2.firstElementChild, o2);
    }
  }, e2.prototype._updateCellContent = function(t3, e3, i2, o2) {
    i2[Ot.TextProp] = this._textMark && e3.text || "";
  }, e2.prototype.$_getCellSelector = function(e3) {
    var i2 = this.grid, o2 = i2.getItem(e3.parentElement[g]), r2 = e3.parentElement[g], n2 = e3[m], s2 = this.model, a2 = s2.mark == Ds.IMAGE, l2 = "rg-statebar-cell ";
    if (-99 === r2) return bl.ROW_BAR_CELL_STYLE;
    if (n2 ? s2.showFocus && (l2 += " rg-statebar-focus") : r2 >= 0 && s2.showSelection && this.grid.isSelectedItem(r2) && (l2 += " rg-statebar-select"), i2.isItemEditing(o2) && this._error && this.model.errorVisible) switch (this._error.level) {
      case w.INFO:
        l2 += " rg-statebar-info";
        break;
      case w.WARNING:
        l2 += " rg-statebar-warning";
        break;
      case w.ERROR:
        l2 += " rg-statebar-error";
    }
    else if (o2 && r2 >= 0 && a2) {
      switch (o2.rowState) {
        case St.UPDATED:
          l2 += " rg-statebar-updated";
          break;
        case St.CREATED:
          l2 += " rg-statebar-created";
          break;
        case St.DELETED:
          l2 += " rg-statebar-deleted";
          break;
        case St.CREATE_AND_DELETED:
          l2 += " rg-statebar-create-and-deleted";
      }
    }
    return l2 += t2.prototype.$_getCellSelector.call(this, e3);
  }, e2;
}(mu);
var wu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "checkBarView") || this;
    return o2._fixedCount = 0, o2._prevChecked = -1, o2._exclusive = false, o2._typeChanged = false, o2._useImage = false, o2._imageChanged = false, o2;
  }
  return i(e2, t2), e2.prototype.rowOf = function(t3) {
    return t3.parentElement[g];
  }, e2.prototype._getCssSelector = function() {
    return "rg-checkbar";
  }, e2.prototype._doPrepareContent = function(t3) {
    var e3 = t3.grid.checkBar;
    (this._typeChanged = e3.exclusive !== this._exclusive) && (this._exclusive = e3.exclusive), (this._imageChanged = e3.useImages !== this._useImage) && (this._useImage = e3.useImages);
  }, e2.prototype._clearCellContent = function(e3) {
    e3[this._textProp] = "", t2.prototype._clearCellContent.call(this, e3);
  }, e2.prototype._prepareCellContent = function(t3, i2) {
    var o2 = It(t3), r2 = e2.FOR_ID + this.rowOf(i2) + "-" + this.model.$_hash, n2 = o2.createElement("input"), s2 = n2.style;
    n2.type = this._exclusive ? "radio" : "checkbox", n2.id = r2, n2.tabIndex = -1, n2.className = this._exclusive ? "rg-radio" : "rg-checkbox", s2.display = this._useImage ? "none" : "inline-block", t3.appendChild(n2);
    var a2 = o2.createElement("span");
    (s2 = a2.style).display = this._useImage ? "inline-block" : "none", t3.appendChild(a2);
    var l2 = o2.createElement("label");
    l2.setAttribute("for", r2), (s2 = l2.style).display = "none", t3.appendChild(l2);
  }, e2.prototype.measureWidth = function(t3) {
    return this.model.width;
  }, e2.prototype._layoutCell = function(e3, i2, o2) {
    t2.prototype._layoutCell.call(this, e3, i2, o2);
    var r2 = i2 && this.model.getCell(i2);
    Ot.setClassName(o2, this.$_getCellSelector(o2)), o2.style.display = "", o2.removeAttribute("rowspan");
    var n2 = e3.fixedOptions.rowCount, s2 = e3.checkBar;
    if (s2._merged && i2) {
      var a2 = s2._merges, l2 = i2.itemIndex;
      if (l2 = l2 < n2 ? l2 : l2 - e3.layoutManager.topIndex, a2.isMerged(l2, n2)) if (a2.isHidden(l2, n2)) o2.style.display = "none", o2.removeAttribute("rowspan");
      else {
        var h2 = a2.getMerged(l2, n2);
        o2.rowSpan = h2;
      }
      else o2.removeAttribute("rowspan");
    }
    r2 && this._updateCellContent(e3, r2, o2.firstElementChild.firstElementChild, o2);
  }, e2.prototype._updateCellContent = function(t3, i2, o2, r2) {
    var n2 = i2.item, s2 = o2, a2 = t3.checkBar, l2 = t3.editOptions, h2 = e2.FOR_ID + this.rowOf(r2) + "-" + this.model.$_hash;
    n2 && (s2.checked = n2.checked, s2.indeterminate = n2.indeterminate, s2.disabled = !l2.checkable || !n2.checkable), s2.id = h2, Ot.setInert(s2, !t3.accessibility);
    var u2 = r2.firstElementChild, c2 = "none", d2 = a2.showGroup && a2.fieldIndex < 0 && !a2.merged;
    n2 instanceof Ho || n2 instanceof In ? c2 = "" : n2 instanceof Uo ? a2.showGroupFooter && d2 && (c2 = "") : n2 instanceof Wo && d2 && (c2 = ""), u2.style.display = c2;
    var p2 = this._useImage;
    this._typeChanged && (s2.setAttribute("type", this._exclusive ? "radio" : "checkbox"), s2.className = this._exclusive ? "rg-radio" : "rg-checkbox");
    var f2 = s2.nextElementSibling;
    if (this._imageChanged && f2 && (s2.style.display = p2 ? "none" : "inline-block", f2.style.display = p2 ? "inline-block" : "none"), p2 && f2) {
      var _2 = this._exclusive ? "rg-checkbar-radio" : "rg-checkbar";
      !this._exclusive && n2.indeterminate ? _2 += " ".concat(n2.indeterminate ? "indeterminate" : "") : _2 += "".concat(n2.checked ? "-checked" : "-unchecked"), _2 += " ".concat(s2.disabled ? "disabled" : ""), f2.className = _2.trim();
    }
    var g2 = f2.nextElementSibling;
    g2.removeAttribute("for"), g2.setAttribute("for", h2), g2[Ot.TextProp] = this.rowOf(r2) + 1 + " row " + (n2 && n2.checkable ? n2.checked ? "checked" : "unchecked" : "check disable");
  }, e2.prototype.getCheckBox = function(t3) {
    return t3.firstElementChild.firstElementChild;
  }, e2.prototype.$_getCellSelector = function(i2) {
    var o2 = e2.CELL_CSS, r2 = i2[m], n2 = this.model, s2 = i2.parentElement[g], a2 = this.grid.getItem(s2);
    return o2 += a2 && a2.checkable ? "" : " rg-checkbar-disabled", -99 === s2 ? bl.ROW_BAR_CELL_STYLE : (r2 ? n2.showFocus && (o2 += " rg-checkbar-focus") : n2.showSelection && this.grid.isSelectedItem(s2) && (o2 += " rg-checkbar-select"), o2 += t2.prototype.$_getCellSelector.call(this, i2));
  }, e2.prototype.$_setPrevChecked = function(t3) {
    this._prevChecked = t3;
  }, e2.FOR_ID = "$$-check-bar-cell", e2.CELL_CSS = "rg-checkbar-cell", e2;
}(mu);
var Cu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc, null, "rowBarContainer") || this;
    i2._bars = [], i2._views = [], i2._count = 0;
    var o2 = e3.doc;
    return i2.addChild(i2._indicatorView = new bu(o2, e3.rowIndicator)), i2.addChild(i2._stateView = new vu(o2, e3.stateBar)), i2.addChild(i2._checkView = new wu(o2, e3.checkBar)), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._bars = this._views = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "rowIndicator", { get: function() {
    return this._indicatorView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stateBar", { get: function() {
    return this._stateView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkBar", { get: function() {
    return this._checkView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bars", { get: function() {
    return this._bars;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stateError", { get: function() {
    return this._stateView._error;
  }, set: function(t3) {
    this._stateView._error = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isVisible = function() {
    return !!this._bars.length;
  }, e2.prototype.getCellIndex = function(t3) {
    return t3.parentElement[g];
  }, e2.prototype.refresh = function(t3) {
    var e3 = this;
    this._views && this._views.forEach(function(i2) {
      i2.visible && i2.refresh(t3, e3._count + (t3.fixedOptions.rowCount > 0 ? 1 : 0));
    });
  }, e2.prototype.rowOf = function(t3) {
    return t3.parentElement[g];
  }, e2.prototype.getCheckBox = function(t3) {
    return this._checkView.getCheckBox(t3);
  }, e2.prototype.getCellType = function(t3) {
    var e3 = this._views[t3.cellIndex];
    return e3 instanceof bu ? O.INDICATOR : e3 instanceof vu ? O.STATE : e3 instanceof wu ? O.CHECK : void 0;
  }, e2.prototype.isRowIndicator = function(t3) {
    return this._views[t3.cellIndex] instanceof bu;
  }, e2.prototype.getSectionObject = function(t3) {
    void 0 === t3 && (t3 = false);
    var e3 = this.getChildren().map(function(t4) {
      return t4.model;
    });
    return (e3 = e3.filter(function(e4) {
      return !t3 || e4.visible ? e4 : void 0;
    })).sort(function(t4, e4) {
      var i2 = t4.displayOrder, o2 = e4.displayOrder;
      return i2 == o2 ? t4.staticOrder - e4.staticOrder : i2 - o2;
    });
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowbarcontainer";
  }, e2.prototype._getFirstCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return this._bars.length;
  }, e2.prototype._isFixedHeight = function() {
    return true;
  }, e2.prototype._doPrepareContent = function(e3) {
    if (this._views.length) {
      this._dirty && this._dom.appendChild(this._table);
      for (var i2 = 0, o2 = this._views; i2 < o2.length; i2++) {
        var r2 = o2[i2];
        (r2._dirty || r2.model.dirty) && r2._doPrepareContent(e3);
      }
    } else Ot.detach(this._table);
    t2.prototype._doPrepareContent.call(this, e3);
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return this._views[e3]._prepareContent(t3, e3);
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    var i2 = t3.fixedItemCount;
    return i2 > 0 && e3 > i2 ? t3.getTableItemHeight(e3 - 1) : t3.getTableItemHeight(e3);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    this.$_prepareBars(t3);
    for (var o2 = 0, r2 = 0, n2 = this._views; r2 < n2.length; r2++) {
      var s2 = n2[r2];
      o2 += s2.width = s2.measureWidth(t3);
    }
    return new wl(o2, i2);
  }, e2.prototype._doLayoutContent = function(t3) {
    for (var e3 = t3.grid, i2 = t3.topIndex, o2 = t3.itemCount, r2 = t3.fixedItemCount, n2 = this._count = r2 + o2, s2 = this._bars.length, a2 = e3.focusedRow, l2 = this._views, h2 = this._thead, u2 = h2 && h2.children[0], c2 = e3.displayOptions.useAlternateRowStyle, d2 = 0; d2 < n2; d2++) {
      var p2 = d2 < r2 ? d2 : d2 + i2, f2 = Ts.temp(e3, p2), _2 = this._getTableRow(t3, d2);
      Ot.setClassName(_2, this.getStyleName(f2.item, f2.itemIndex % 2 && c2)), _2[g] = p2;
      for (var y2 = 0; y2 < s2; y2++) {
        var b2 = _2.cells[y2];
        if (b2[m] = p2 == a2, l2[y2]._layoutCell(e3, f2, b2), 0 === d2 && u2) {
          var v2 = u2.cells[y2];
          v2 && (v2[Ot.TextProp] = this.getCellType(b2) + " column");
        }
      }
    }
    r2 > 0 && this._layoutFixedBar(e3.fixedOptions, r2);
  }, e2.prototype._doUpdateCellContent = function(t3, e3, i2) {
    i2[this._textProp] = e3.text;
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._doDraw = function(t3) {
    this._views.forEach(function(t4) {
      t4.validate();
    });
  }, e2.prototype._getCellCount = function(t3) {
    return this._bars.length;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return this._views[e3].width;
  }, e2.prototype.$_prepareBars = function(t3) {
    for (var e3 = this._bars = this.getSectionObject(true), i2 = this._views = [], o2 = 0, r2 = e3.length; o2 < r2; o2++) {
      var n2 = e3[o2], s2 = void 0;
      (s2 = n2 instanceof ea ? this._indicatorView : n2 instanceof oa ? this._stateView : this._checkView).$_setCol(o2), s2._colChanged = s2._colChanged || n2.visChanged, i2.push(s2), n2.visChanged = false;
    }
    this.getChildren().forEach(function(t4) {
      t4 instanceof mu && (t4.visible = i2.indexOf(t4) >= 0);
    });
  }, e2.prototype._layoutFixedBar = function(t3, e3) {
    var i2 = this._tbody.children[e3];
    i2[y] = e3, i2[g] = -99, Ot.setClassName(i2, bl.ROW_BAR_STYLE);
    for (var o2 = 0; o2 < i2.childElementCount; o2++) {
      var r2 = i2.children[o2];
      r2[m] = false;
      var n2 = this._views[o2];
      n2._colChanged && n2._layoutCell(this.grid, null, r2), Ot.setClassName(r2, bl.ROW_BAR_CELL_STYLE);
    }
  }, e2.prototype.getStyleName = function(t3, i2) {
    var o2 = e2.ROW_STYLE;
    return o2 += yl.STATE_ROW_STYLES[t3.rowState] || "", (o2 += i2 ? e2.ALTERNATE_ROW_STYLE : "").trim();
  }, e2.ROW_STYLE = "rg-row-bar", e2.ALTERNATE_ROW_STYLE = " rg-alternate-row-bar", e2;
}(Pl);
var xu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "targetElement", { get: function() {
    return this._targetElement;
  }, set: function(t3) {
    this._targetElement = t3;
  }, enumerable: false, configurable: true }), e2;
}(au);
var Iu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2;
}(xu);
var Eu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "handle", { get: function() {
    return this._handle;
  }, set: function(t3) {
    this._handle = t3;
  }, enumerable: false, configurable: true }), e2;
}(xu);
var Su = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "request", { get: function() {
    return this._request;
  }, set: function(t3) {
    this._request = t3;
  }, enumerable: false, configurable: true }), e2.prototype.stop = function() {
  }, e2.prototype.end = function(t3) {
    this._doEnd(t3);
  }, e2.prototype._doEnd = function(t3) {
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2;
}(lh);
var Ou = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "mobileBodyScrollTracker") || this;
    return i2._tapX = NaN, i2._tapY = NaN, i2._vertical = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "clickable", { get: function() {
    return void 0 === this._scrolling;
  }, enumerable: false, configurable: true }), e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this._grid;
    if (r2.isEditing()) switch (r2.mobileOptions.scrollOnEditing) {
      case A.CANCEL:
        r2.cancelEditor(true);
        break;
      case A.COMMIT:
        r2.commitEditor(true);
      case A.DEFAULT:
    }
    return this._scrolling = void 0, this._dragTableItemPoints = r2.layoutManager._tableItemPoints, this._dragTopIndex = r2.topIndex, this._dragLeftPos = r2.leftPos, this._doDrag(t3, e3, i2, o2), true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    var r2 = this._grid, n2 = r2.activeTool, s2 = e3 - this._tapX, a2 = i2 - this._tapY, l2 = n2.findElementAt(o2.mouseX, o2.mouseY, false);
    if (this._vertical = !(l2 instanceof th) && Math.abs(2 * a2) >= Math.abs(s2), this._vertical) {
      if (Math.abs(a2) > 10) {
        var h2 = r2.topIndex, u2 = r2.layoutManager.fullItemCount, c2 = r2.itemCount;
        if (u2 === c2) return this._scrolling = false, false;
        if (void 0 === this._scrolling) {
          if (h2 + u2 >= c2 && a2 < 0 || 0 == h2 && a2 > 0) return this._scrolling = false, false;
          this._scrolling = true;
        } else if (this._scrolling) {
          for (var d2 = 0, p2 = this._dragTableItemPoints; ++d2 < p2.length && !(p2[d2] >= Math.abs(a2)); ) ;
          r2.topIndex = this._dragTopIndex + --d2 * (a2 > 0 ? -1 : 1);
        }
      }
    } else Math.abs(s2) > 10 && (this._scrolling = true, r2.leftPos = this._dragLeftPos - s2);
    return true;
  }, e2.prototype._doEnd = function(t3) {
    this._scrolling = void 0;
  }, e2.prototype._doCanceled = function(t3, e3) {
    this._scrolling = void 0;
  }, e2.prototype._doInit = function(t3, e3, i2) {
    this._tapY = e3, this._tapX = t3, this._scrolling = void 0;
  }, e2;
}(Su);
var Ru = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doStart = function(t3, e3, i2, o2) {
    return true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    var r2 = this._grid.pointToIndex(null, e3, i2, false);
    if (r2 && r2.itemIndex >= 0) {
      var n2 = this.request.handle, s2 = n2.selectionMask.item;
      s2 && s2.inflate(n2.dir, r2);
    }
    return true;
  }, e2;
}(Su);
var Pu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3.doc, "mobileSelectionHandle") || this;
    return o2._dir = i2, o2._owner = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._owner = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "selectionMask", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dir", { get: function() {
    return this._dir;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return e2.STYLE_NAME + this._dir + "-handle";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), e3.style.background = "red";
  }, e2.prototype._doDraw = function() {
  }, e2.STYLE_NAME = "rg-selection-handle", e2;
}(_a);
var ku = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
  }, e2.prototype.getSelectHandle = function(t3) {
    for (var e3 in this._views) {
      var i2 = this._views[e3];
      if (i2.leftHandle._dom === t3) return i2.leftHandle;
      if (i2.topHandle._dom === t3) return i2.topHandle;
      if (i2.bottomHandle._dom === t3) return i2.bottomHandle;
      if (i2.rightHandle._dom === t3) return i2.rightHandle;
    }
  }, e2.prototype.addView = function(t3) {
    var e3 = t3.$_hash, i2 = this._views[e3];
    return i2 || (i2 = this._pool.pop() || new Du(this.doc), this._views[e3] = i2), i2._item = t3, this.addChild(i2), this.addChild(i2.leftHandle), this.addChild(i2.topHandle), this.addChild(i2.bottomHandle), this.addChild(i2.rightHandle), i2;
  }, e2.prototype.clearViews = function() {
    for (var t3 in this._views) {
      var e3 = this._views[t3];
      this.removeChild(e3.leftHandle), this.removeChild(e3.topHandle), this.removeChild(e3.bottomHandle), this.removeChild(e3.rightHandle), this.removeChild(e3), this._pool.push(e3);
    }
    this._views = {};
  }, e2.prototype.layout = function() {
    var t3 = this._grid.layoutManager, e3 = new it();
    for (var i2 in this._views) {
      var o2 = this._views[i2], r2 = o2.item, n2 = false, s2 = new it();
      if (o2.prepare(), r2 instanceof Sa) {
        n2 = this.$_getMobileSelectionRowsRect(t3, r2, o2, s2);
        var a2 = t3.gridBounds;
        e3.set(s2.x, s2.y, a2.width, s2.height), o2._lefted = true, o2._righted = true;
      } else r2 instanceof Oa || (n2 = this.$_getMobileSelectionRangeRect(t3, r2, o2, s2, e3));
      if (n2) {
        var l2 = t3.footerBounds.y + t3.contentBounds.y;
        s2.bottom > l2 && (o2._bottomed = true, s2.bottom = l2);
      }
      o2.visible = n2, o2.visible && (o2.setRectI(s2), o2.updateElement(), this._layoutHandle(o2, s2, e3), o2.invalidate(false, true));
    }
  }, e2.prototype._layoutHandle = function(t3, e3, i2) {
    var o2, r2, n2 = 13, s2 = 13, a2 = this._grid.mobileOptions.showSelectionHandle;
    !t3._lefted && a2 ? (t3.leftHandle.visible = true, o2 = i2.x - 6.5, r2 = e3.y + (e3.height - n2) / 2, t3.leftHandle.setBounds(o2, r2, s2, n2)) : t3.leftHandle.visible = false, o2 = i2.x + (i2.width - s2) / 2, r2 = e3.y - 6.5, !t3._toped && o2 >= e3.x && a2 ? (t3.topHandle.visible = true, t3.topHandle.setBounds(o2, r2, s2, n2)) : t3.topHandle.visible = false, r2 = e3.bottom - 6.5, !t3._bottomed && o2 >= e3.x && a2 ? (t3.bottomHandle.visible = true, t3.bottomHandle.setBounds(o2, r2, s2, n2)) : t3.bottomHandle.visible = false, !t3._righted && a2 ? (t3.rightHandle.visible = true, o2 = i2.right - 6.5, r2 = e3.y + (e3.height - n2) / 2, t3.rightHandle.setBounds(o2, r2, s2, n2)) : t3.rightHandle.visible = false;
  }, e2.prototype.$_getMobileSelectionRowsRect = function(e3, i2, o2, r2) {
    return t2.prototype.$_getSelectionRowsRect.call(this, e3, i2, o2, r2);
  }, e2.prototype.$_getMobileSelectionColumnsRect = function(e3, i2, o2, r2) {
    return t2.prototype.$_getSelectionColumnsRect.call(this, e3, i2, o2, r2);
  }, e2.prototype.$_getMobileSelectionRangeRect = function(e3, i2, o2, r2, n2) {
    return !(i2 instanceof Ea && i2.move) && t2.prototype.$_getSelectionRangeRect.call(this, e3, i2, o2, r2, n2);
  }, e2;
}(ka);
var Du = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._leftHandle = new Pu(i2, "left"), i2._topHandle = new Pu(i2, "top"), i2._bottomHandle = new Pu(i2, "bottom"), i2._rightHandle = new Pu(i2, "right"), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._leftHandle = this._leftHandle.dispose(), this._topHandle = this._topHandle.dispose(), this._bottomHandle = this._bottomHandle.dispose(), this._rightHandle = this._rightHandle.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "leftHandle", { get: function() {
    return this._leftHandle;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topHandle", { get: function() {
    return this._topHandle;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottomHandle", { get: function() {
    return this._bottomHandle;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rightHandle", { get: function() {
    return this._rightHandle;
  }, enumerable: false, configurable: true }), e2.prototype.prepare = function() {
    t2.prototype.prepare.call(this);
  }, e2.prototype.updateElement = function() {
    t2.prototype.updateElement.call(this);
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("overflow", "hidden"), this.setImportantStyle("pointer-events", "none");
  }, e2.prototype._visibleChanged = function() {
    this._leftHandle.visible = this._topHandle.visible = this._bottomHandle.visible = this._rightHandle.visible = this.visible;
  }, e2;
}(Pa);
var Tu = function() {
  function t2() {
  }
  return t2.assignData = function(e2) {
    var i2 = new t2();
    return Object.keys(e2).forEach(function(t3) {
      return i2[t3] = e2[t3];
    }), i2;
  }, t2.getData = function(e2) {
    var i2 = new t2();
    return i2.cellType = e2, i2;
  }, t2.getSub = function(e2, i2) {
    var o2 = new t2();
    return o2.cellType = e2, o2.subType = i2, o2;
  }, t2.getField = function(e2, i2, o2) {
    var r2 = new t2();
    return r2.cellType = e2, r2.field = r2.fieldIndex = i2, r2.fieldName = o2, r2;
  }, t2.getItem = function(e2, i2, o2) {
    var r2 = new t2();
    return r2.cellType = e2, r2.itemIndex = i2, null != o2 && (r2.dataRow = o2), r2;
  }, t2.getLayout = function(e2, i2) {
    var o2 = new t2();
    return o2.cellType = e2, i2 instanceof vs ? (o2.subType = O.LAYOUT_HEADER, o2.column = i2.name) : (o2.column = i2.firstColumn && i2.firstColumn.name, i2.firstColumn instanceof ls && (o2.field = o2.fieldIndex = i2.firstColumn.dataIndex, o2.fieldName = i2.firstColumn.fieldName)), o2;
  }, t2.getCell = function(e2, i2, o2) {
    var r2 = new t2();
    e2 === O.DATA && (r2.editable = i2.editable, r2.readOnly = i2.readonly);
    var n2 = i2.layout;
    return r2.cellType = e2, r2.itemIndex = o2 ? o2.itemIndex : i2.item.index, r2.dataRow = o2 ? o2.dataRow : i2.item.dataRow, r2.column = i2.layout.firstColumn && i2.layout.firstColumn.name, n2.firstColumn instanceof ls && (r2.field = r2.fieldIndex = n2.firstColumn.dataIndex, r2.fieldName = n2.firstColumn.fieldName), r2.fieldName && (r2.value = o2.value), r2;
  }, t2.getGroupFooter = function(e2, i2, o2, r2) {
    var n2 = new t2(), s2 = o2.firstColumn;
    return n2.cellType = e2, n2.itemIndex = i2, n2.index = r2, n2.column = s2 && s2.name, s2 instanceof ls && (n2.field = n2.fieldIndex = s2.dataIndex, n2.fieldName = s2.fieldName), n2;
  }, t2.getSummary = function(e2, i2, o2) {
    var r2 = new t2();
    return r2.cellType = e2, r2.index = i2, r2.column = o2.firstColumn && o2.firstColumn.name, o2.firstColumn instanceof ls && (r2.field = r2.fieldIndex = o2.firstColumn.dataIndex, r2.fieldName = o2.firstColumn.fieldName), r2;
  }, t2.getGroupElt = function(e2, i2) {
    var o2 = new t2();
    return o2.cellType = e2, o2.groupLevel = i2, o2;
  }, t2;
}();
var Mu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, "focusView") || this;
    return o2._editing = false, o2._focusType = W.LAYER, o2._inner = i2, o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "focusType", { get: function() {
    return this._focusType;
  }, set: function(t3) {
    t3 !== this._focusType && (this._focusType = t3, this.$_typeChanged(t3));
  }, enumerable: false, configurable: true }), e2.prototype.$_createLine = function(t3) {
    function e3(t4, e4, i3) {
      var o2 = t4.createElement("div");
      o2.className = e4 ? "rg-focus-inner-line" : "rg-focus-line";
      var r2 = o2.style;
      return r2.display = "none", r2.position = "absolute", r2.boxSizing = "border-box", r2.left = "0px", r2.top = "0px", 1 !== i3 && (r2.borderTop = "none"), 2 !== i3 && (r2.borderBottom = "none"), 3 !== i3 && (r2.borderLeft = "none"), 4 !== i3 && (r2.borderRight = "none"), o2;
    }
    var i2 = It(t3);
    t3.appendChild(this._topLine = e3(i2, this._inner, 1)), t3.appendChild(this._bottomLine = e3(i2, this._inner, 2)), t3.appendChild(this._leftLine = e3(i2, this._inner, 3)), t3.appendChild(this._rightLine = e3(i2, this._inner, 4));
  }, e2.prototype.$_typeChanged = function(t3) {
    var e3 = this._dom.style;
    this._topLine || this.$_createLine(this._dom), t3 === W.LINE ? (e3.height = "0px", e3.width = "0px", e3.border = "none", this._topLine.style.display = this._bottomLine.style.display = this._leftLine.style.display = this._rightLine.style.display = "block", this.invalidate()) : (e3.removeProperty("border"), this._topLine.style.display = this._bottomLine.style.display = this._leftLine.style.display = this._rightLine.style.display = "none");
  }, e2.prototype.$_linePosition = function(t3, e3, i2, o2) {
    var r2 = this._topLine.style, n2 = this._bottomLine.style, s2 = this._leftLine.style, a2 = this._rightLine.style, l2 = this.parent.width, h2 = this.parent.height;
    n2.left = r2.left = -t3 + "px", n2.width = r2.width = l2 + t3 + "px", n2.top = o2 - 2 + "px", a2.height = s2.height = h2 + "px", a2.left = i2 - 2 + "px", n2.display = h2 < o2 ? "none" : "block", s2.display = t3 < 0 ? "none" : "block", a2.display = l2 < i2 ? "none" : "block";
  }, e2.prototype.setEditing = function(t3, e3, i2) {
    t3 != this._editing && (this._editing = t3, this.resetStyleName());
  }, e2.prototype.setActivated = function(t3) {
    this._setClassName(null);
  }, e2.prototype._getCssSelector = function() {
    return (this._inner ? "rg-focus-inner" : this._editing ? "rg-focus-editing" : "rg-focus") + (this.container._focused ? "" : " rg-deactive-focus");
  }, e2.prototype.setBounds = function(e3, i2, o2, r2) {
    if (this._focusType === W.LINE) {
      var n2 = this._dom.style;
      n2.left = e3 + "px", n2.top = i2 + "px", this.width = o2, this.height = r2, this.$_linePosition(e3, i2, o2, r2);
    } else this.x++, t2.prototype.setBounds.call(this, e3, i2, o2, r2);
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2.prototype._beforeDraw = function(e3) {
    if (this._focusType === W.LINE) {
      this._setClassName(e3);
      var i2 = e3.style;
      i2.left = this.x + "px", i2.top = this.y + "px";
    } else t2.prototype._beforeDraw.call(this, e3);
  }, e2;
}(ga);
var Fu = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = false);
    var o2 = t2.call(this, e3, "focusMask") || this;
    return o2._focusType = W.LAYER, o2._focusView = new Mu(e3, i2), o2.addChild(o2._focusView), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._focusView && this._focusView.dispose(), this._focusView = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "focusType", { get: function() {
    return this._focusType;
  }, set: function(t3) {
    t3 !== this._focusType && (this._focusType = t3, this._focusView.focusType = t3, this.$_typeChanged(t3));
  }, enumerable: false, configurable: true }), e2.prototype.$_typeChanged = function(t3) {
    var e3 = this._dom.style;
    t3 === W.LINE ? (e3.removeProperty("overflow"), e3.width = "0px", e3.height = "0px") : (e3.overflow = "hidden", e3.width = this.width + "px", e3.height = this.height + "px");
  }, e2.prototype.updateElement = function(t3, e3, i2, o2, r2) {
    this._focusView.setBounds(t3, e3, i2, o2), this._focusView.setEditing(r2, 0, false);
  }, e2.prototype.setActivated = function(t3) {
    this._focusView.setActivated(t3);
  }, e2.prototype._getCssSelector = function() {
    return "rg-focus-mask";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none"), this.setImportantStyle("background", "none"), this.setImportantStyle("border", "none"), this.setImportantStyle("overflow", "hidden");
  }, e2.prototype._beforeDraw = function(e3) {
    if (this._focusType === W.LINE) {
      this._setClassName(e3);
      var i2 = e3.style;
      i2.left = this.x + "px", i2.top = this.y + "px";
    } else t2.prototype._beforeDraw.call(this, e3);
  }, e2.prototype.setRect = function(e3) {
    this._focusType === W.LINE ? e3.x == this.x && e3.y == this.y && e3.width == this.width && e3.height == this.height || (this.x = e3.x, this.y = e3.y, this.width = e3.width, this.height = e3.height) : t2.prototype.setRect.call(this, e3);
  }, e2;
}(ga);
var Lu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "groupFocusView") || this;
    return i2.visible = true, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-group-focus";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Nu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, "focusMask") || this;
    return o2._groupFocusView = new Lu(e3), o2.addChild(o2._groupFocusView), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._groupFocusView = this._groupFocusView && this._groupFocusView.dispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype.updateElement = function(t3, e3, i2, o2) {
    this._groupFocusView.setBounds(t3, e3, i2, o2);
  }, e2.prototype._getCssSelector = function() {
    return "rg-group-focus-mask";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none"), this.setImportantStyle("background", "none"), this.setImportantStyle("border", "none"), this.setImportantStyle("overflow", "hidden");
  }, e2.prototype._beforeDraw = function(e3) {
    t2.prototype._beforeDraw.call(this, e3);
  }, e2;
}(ga);
var $u = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowBlockView") || this;
    return i2.visible = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowblock";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Au = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "headerCellResizer") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "_rg-col-resizer_";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Bu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "headerCellFeedback") || this;
    return i2._modelChanged = false, i2.dragging = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._model = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "model", { set: function(t3) {
    this._model = t3, this._modelChanged = true;
  }, enumerable: false, configurable: true }), e2.prototype._createDom = function(t3) {
    var e3 = t3.createElement("table");
    e3.setAttribute("aria-hidden", "true");
    var i2 = e3.createCaption();
    i2.textContent = "grid table feedback", i2.style.width = i2.style.height = "0px", i2.style.padding = "none", i2.style.boxSizing = "border-box", i2.style.overflow = "hidden", e3.style.setProperty("table-layout", "fixed", "important");
    var o2 = t3.createElement("tbody");
    e3.appendChild(o2);
    var r2 = t3.createElement("tr");
    o2.appendChild(r2);
    var n2 = this._cell = t3.createElement("td");
    return r2.appendChild(n2), n2.className = "rg-header rg-header-cell _rg-header-cell-feedback_", e3;
  }, e2.prototype._getCssSelector = function() {
    return "rg-table";
  }, e2.prototype._doDraw = function(t3) {
    this.dragging && !this._modelChanged || (Kl.renderCell(this._model, this._cell), this._modelChanged = false);
  }, e2;
}(ga);
var Vu = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "headerCellMover") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "_rg-header-cell-mover_";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
  }, e2.prototype._doDraw = function(t3) {
  }, e2;
}(ga);
var ju = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowMoverLine") || this;
    return i2._feedbackStyle = Il.LINE, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "feedbackStyle", { set: function(t3) {
    this._feedbackStyle = t3;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    switch (this._feedbackStyle) {
      case Il.LINE:
        return "_rg-row-mover-line_";
      case Il.ROW:
        return "_rg-row-mover-block_";
      case Il.GROUP:
      case Il.CELL:
        return "_rg-row-mover-group_";
    }
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Hu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowMover") || this;
    return i2._enabled = true, i2;
  }
  return i(e2, t2), e2.prototype.setEnabled = function(t3) {
    if (t3 != this._enabled) return this._enabled = t3, this.invalidate(), true;
  }, e2.prototype.setLabel = function(t3) {
    if (t3 != this._label) return this._label = t3, this.invalidate(), true;
  }, e2.prototype.setZIndex = function(t3) {
    this._dom.style.zIndex = String(t3);
  }, e2.prototype._getCssSelector = function() {
    var t3 = "_rg-row-mover-proxy_";
    return this._enabled || (t3 += " _rg-row-mover-proxy-disabled_"), t3;
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none"), e3.style.whiteSpace = "nowrap";
  }, e2.prototype._setSizeStyle = function(t3) {
  }, e2.prototype._doDraw = function(t3) {
    t3[Ot.TextProp] = this._label;
  }, e2;
}(ga);
var Wu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    o2._rowBlockStart = -1, o2._rowBlockEnd = -1;
    var r2 = e3.doc, n2 = o2._grid = e3.gridView;
    return o2._skipIndex = n2.getIndex(), o2._tempIndex = n2.getIndex(), o2._tempInnerIndex = n2.getIndex(), n2.addFeedbackElement(o2._rowBlockMask = new $u(r2)), n2.addFeedbackElement(o2._rowFocusView = new Uu(r2)), n2.addFeedbackElement(o2._focusMask = new Fu(r2)), n2.addFeedbackElement(o2._innerFocusMask = new Fu(r2, true)), n2.addFeedbackElement(o2._groupFocusMask = new Nu(r2)), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._skipIndex && this._skipIndex.dispose(), this._skipIndex = null, this._tempInnerIndex = this._tempInnerIndex.dispose(), this._focusMask = this._focusMask.dispose(), this._innerFocusMask = this._innerFocusMask.dispose(), this._rowFocusView && this._rowFocusView.dispose(), this._rowFocusView = null, this._rowBlockMask && this._rowBlockMask.dispose(), this._rowBlockMask = null, this._groupFocusMask = this._groupFocusMask && this._groupFocusMask.dispose(), this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "focused", { get: function() {
    return this._grid.focusedIndex;
  }, enumerable: false, configurable: true }), e2.prototype.setFocused = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = null);
    var r2 = this._grid;
    if (r2.isValid(t3)) {
      var n2 = r2.getItem(t3.itemIndex);
      return !r2.isEditing() && n2 instanceof Ko && r2.append(), e3 ? o2 && o2.repeat && (!o2.repeat || this._userActionIndex) || (this._userActionIndex = r2.focusedIndex.clone()) : this._userActionIndex = null, this._grid.setFocusedIndex(t3, e3, true, i2);
    }
    return false;
  }, e2.prototype.layoutChanged = function() {
    this.$_resetFocusView(), this.$_resetRowBlockMask(), this.$_resetFocusButton(this.grid.focusedIndex), this._doLayoutChanged();
  }, e2.prototype.resetFocused = function() {
    this.$_resetFocusView();
  }, e2.prototype.focusedIndexChanging = function(t3) {
  }, e2.prototype.focusedIndexChanged = function(t3, e3) {
    var i2 = this.grid, o2 = i2.layoutManager, r2 = o2.fixedItemCount, n2 = e3.itemIndex;
    this.grid.setFocusedClass(t3, false), t3.itemIndex !== e3.itemIndex && this.grid.setFocusedRowClass(t3, false), (!this.grid.isValid(e3) || r2 > 0 && n2 < r2 || n2 >= o2.topIndex + r2 && n2 <= r2 + o2.topIndex + o2.fullItemCount) && this.$_resetFocusView(), !i2.isEditing() && e3.item instanceof Ko && i2.append();
  }, e2.prototype.currentRowChanged = function(t3, e3) {
    var i2 = this.grid, o2 = i2.displayOptions;
    if (this._rowBlockStart = -1, this._rowBlockEnd = -1, o2.rowBlockType != R.NONE) {
      var r2 = o2.rowBlockCallback;
      if (r2) {
        var n2;
        (n2 = r2(i2.handler, i2.getItemIndexOfRow(e3))) ? (this._rowBlockStart = n2.start, this._rowBlockEnd = n2.end) : this._rowBlockStart = this._rowBlockEnd = -1;
      }
    }
    this.$_resetRowBlockMask();
  }, e2.prototype.getNextRequest = function(t3, e3, i2, o2) {
    return null;
  }, e2.prototype.isMouseEventTarget = function(e3) {
    if (e3 instanceof Mh) {
      var i2 = e3.getAncestor(Ol);
      if (i2) return i2.getContentAt(e3.index) == this.mouseEventTarget;
    }
    return t2.prototype.isMouseEventTarget.call(this, e3);
  }, e2.prototype._doSetFocus = function(t3) {
    !Ot.isMobile() && this.grid.setFocus(t3), this._focusMask.setActivated(this.grid.container._focused);
  }, e2.prototype._doFocusLeave = function(t3) {
    var e3 = this.grid;
    e3._resetTdFocus = void 0, e3.editOptions.commitWhenLeave && (e3.isEditing() || e3.isItemEdited()) && e3.commit(false, void 0, false), Ot.isSlotMode() && e3.closePopups(), this._focusMask.setActivated(e3.container._focused);
  }, e2.prototype._doGlobalKeyup = function(t3) {
    var e3 = this.grid;
    "Tab" === t3.code ? e3.setEventFrom("keyup_tab") : e3.setEventFrom("keyup");
  }, e2.prototype._doGlobalKeydown = function(t3) {
    var e3 = this.grid;
    "Tab" === t3.code ? e3.setEventFrom("keydown_tab") : e3.setEventFrom("keydown");
  }, e2.prototype._doLayoutChanged = function() {
  }, e2.prototype.$_resetFocusView = function() {
    var t3 = this._grid, e3 = t3.layoutManager, i2 = t3.displayOptions, o2 = t3.focusedIndex, r2 = t3.fixedOptions, n2 = this._tempInnerIndex.assign(o2), s2 = false, a2 = false, l2 = false;
    if (i2.focusVisible && t3.isValid(n2) && !t3.isEditing()) {
      var h2 = n2.item, u2 = t3.getBodyViewAt(n2), c2 = u2.getCellAt(e3, n2), d2 = c2;
      if (!c2 && n2.layout.merged) {
        var p2 = e3.getMergeRoom(n2);
        p2 && (n2.itemIndex = e3.fixedItemCount + e3.topIndex, p2.contains(n2) && (c2 = u2.getCellAt(e3, n2)), c2 || (n2.itemIndex = e3.fixedItemCount + e3.topIndex + e3.itemCount - 1, p2.contains(n2) && (c2 = u2.getCellAt(e3, n2))));
      }
      if (c2 && !c2.grouped) {
        var f2 = t3.isEditing(), _2 = u2.getCellRectAt(e3, n2, true);
        if ((_2 = u2.boundsByContainer(_2)).width > 0 && _2.height > 0) {
          var g2 = 0, y2 = _2.width;
          if (!n2.colFixed && !n2.rightFixed) {
            var m2 = e3.fixedContentBounds;
            g2 = Math.max(0, m2.right - _2.x), y2 = Math.max(0, _2.width - g2), m2 = e3.rightContentBounds, y2 -= _2.right - m2.x;
          }
          if (y2 > 0) {
            f2 && (_2.y--, _2.height += 1);
            var b2 = _2.clone();
            if ((m2 = e3.footerBounds.clone()).y += e3.contentBounds.y, Math.max(0, _2.bottom - m2.y), _2.width = Math.min(_2.width, y2), _2.x += g2, _2.bottom = Math.min(_2.bottom, m2.y), this._focusMask.setRect(_2), this._focusMask.focusType = i2.focusType, this._focusMask.updateElement(-g2, 0, b2.width, b2.height, f2), s2 = true, !(t3.canMergeEditing(d2) && false)) if (d2 && d2.merged) {
              if (i2.showInnerFocus) {
                if ((x2 = u2.getCellRectAt(e3, n2, false)).height < _2.height) {
                  this._innerFocusMask.focusType = i2.focusType, x2.height = Math.min(x2.height, _2.height);
                  var v2 = (x2 = u2.boundsByContainer(x2)).width - 8, w2 = x2.height - 8;
                  x2.bottom = Math.min(_2.bottom + 4, x2.bottom), this._innerFocusMask.setRect(x2.inflate(-4, -4, -4, -4)), this._innerFocusMask.updateElement(0, 0, v2, w2, f2), l2 = true;
                }
              }
            } else {
              var C2 = u2.getCellAt(e3, n2);
              if (C2 && C2.renderer2 && C2.editable && C2.renderer2.canShowInnerFocus()) {
                var x2 = u2.getCellRectAt(e3, n2, false);
                v2 = (x2 = u2.boundsByContainer(x2)).width - 8, w2 = x2.height - 8;
                x2.bottom = Math.min(_2.bottom + 4, x2.bottom), this._innerFocusMask.setRect(x2.inflate(-4, -4, -4, -4)), this._innerFocusMask.updateElement(0, 0, v2, w2, f2), l2 = true;
              }
            }
          }
        }
      } else if (!h2.isData) {
        var I2 = t3.getRowView(u2, h2);
        if (I2) {
          _2 = I2.boundsByContainer();
          this._focusMask.updateElement(0, 0, _2.width, _2.height, false), _2.x < e3.leftContentBounds.right && (_2.x = e3.leftContentBounds.right, _2.width -= e3.leftContentBounds.right - _2.x), this._focusMask.setRect(_2), s2 = true;
        }
      }
    }
    var E2 = i2.rowFocusType;
    if (E2 != R.NONE) {
      var S2 = e3.footerBounds.y + e3.contentBounds.y, O2 = e3.fixedItemCount;
      if ((k2 = (k2 = n2.itemIndex) >= O2 ? k2 - e3.topIndex : k2) >= 0 && k2 <= e3.itemCount - 1) {
        switch ((_2 = e3.getTableItemBounds(k2)).y += e3.contentBounds.y + e3.bodyBounds.y, _2.bottom > S2 && (_2.bottom = S2), E2) {
          case R.DATA:
            _2.x = t3.fixedContentPane.x, _2.right = t3.rightContentPane.width ? t3.rightContentPane.right : t3.contentPane.right;
            break;
          case R.FILL:
            _2.x = 0, _2.width = t3.width;
            break;
          case R.ROW:
            _2.x = 0, _2.right = t3.rightContentPane.width ? t3.rightContentPane.right : t3.contentPane.right;
        }
        this._rowFocusView.setRect(_2), a2 = true;
      } else a2 = false;
    }
    if (this._groupFocusMask.visible = i2.groupFocusVisible && t3.isValid(o2)) {
      var P2 = o2.layout.getAncestor(i2.groupFocusLevel);
      if (P2) {
        var k2;
        S2 = e3.footerBounds.y + e3.contentBounds.y, O2 = e3.fixedItemCount;
        if ((k2 = (k2 = o2.itemIndex) >= O2 ? k2 - e3.topIndex : k2) >= 0 && k2 <= e3.itemCount + O2 - 1) {
          _2 = e3.getTableItemBounds(k2), g2 = 0;
          (x2 = e3.getDataRect(P2)).height = _2.height, _2.x = x2.x;
          y2 = x2.width;
          _2.y += e3.contentBounds.y + e3.bodyBounds.y, _2.bottom > S2 && (_2.bottom = S2);
          m2 = void 0;
          if (m2 = !o2.colFixed && r2.colCount > 0 ? e3.fixedContentBounds : e3.rowBarBounds, _2.x = Math.max(m2.right, x2.x), g2 = Math.min(0, x2.x - m2.right), !o2.rightFixed && r2.rightCount > 0) {
            var D2 = e3.rightContentBounds;
            y2 -= Math.max(0, x2.right - D2.x);
          }
          y2 <= 0 && (this._groupFocusMask.visible = false), _2.width = y2, _2.x -= 1, _2.y -= 1, _2.width++, _2.height++, this._groupFocusMask.setRect(_2), this._groupFocusMask.updateElement(g2, 0, x2.width + 1, x2.height + 1);
        } else this._groupFocusMask.visible = false;
      }
    }
    this._rowFocusView.visible = a2, this._focusMask.visible = s2, this._innerFocusMask.visible = l2, this._focusMask.visible, t3.setFocusedClass(o2, true), t3.setFocusedRowClass(o2, true);
  }, e2.prototype.$_resetRowBlockMask = function() {
    var t3 = this.grid, e3 = t3.layoutManager, i2 = e3.fixedItemCount, o2 = t3.topItem, r2 = this._rowBlockMask, n2 = t3.displayOptions.rowBlockType, s2 = this._rowBlockStart, a2 = this._rowBlockEnd, l2 = Math.max(s2 - o2 + i2, i2), h2 = Math.min(Math.max(a2 - o2 + i2), e3.itemCount + i2 - 1);
    if (r2.visible = n2 && n2 != R.NONE && l2 >= 0 && h2 >= 0 && l2 < e3.itemCount && l2 <= h2 && s2 !== a2, r2.visible) {
      var u2 = e3.footerBounds.y + e3.contentBounds.y, c2 = e3.getTableItemBounds(l2), d2 = e3.getTableItemBounds(h2);
      switch ((c2 = c2.union(d2)).y += e3.contentBounds.y + e3.bodyBounds.y, c2.bottom > u2 && (c2.bottom = u2), n2) {
        case R.DATA:
          c2.x = t3.fixedContentPane.x, c2.right = t3.rightContentPane.width ? t3.rightContentPane.right : t3.contentPane.right;
          break;
        case R.FILL:
          c2.x = 0, c2.width = t3.width;
          break;
        case R.ROW:
          c2.x = 0, c2.right = t3.rightContentPane.width ? t3.rightContentPane.right : t3.contentPane.right;
      }
      r2.setRect(c2);
    }
  }, e2.prototype.$_resetFocusButton = function(t3) {
    var e3, i2 = this.grid;
    if (i2.isValid(t3)) {
      var o2 = i2.getBodyViewAt(t3), r2 = i2.getBodyCellAt(t3), n2 = this._tempIndex.assign(t3);
      if (!r2 && n2.layout.merged) {
        var s2 = i2.layoutManager;
        (e3 = s2.getMergeRoom(n2)) && (n2.itemIndex = s2.fixedItemCount + s2.topIndex, e3.contains(n2) && (r2 = i2.getBodyCellAt(n2)), r2 || (n2.itemIndex = s2.fixedItemCount + s2.topIndex + s2.itemCount - 1, e3.contains(n2) && (r2 = i2.getBodyCellAt(n2))));
      }
      var a2 = o2 && r2 && o2.getRowView(r2.item);
      a2 && a2.$_setButtons(i2, r2, r2.cell.firstElementChild, e3);
    }
  }, e2.prototype._doCancel = function(t3) {
    if (t3.closeFilterSelector(), t3.isEditing()) t3.cancelEditor(true);
    else if (t3.isItemEditing()) t3.itemEditCancel() && t3.cancel();
    else if (this.dragging && this.dragTracker) try {
      this._stopDragTracker(null, null, true, null), this.dragTracker.cancel(), this.dragTracker.linkable && t3.container.cancelOtherContainer(this.dragTracker);
    } catch (t4) {
      throw t4;
    } finally {
      this.dragTracker = null;
    }
  }, e2.prototype._doEnter = function(t3, e3, i2, o2) {
    var r2 = t3.isEditing(), n2 = o2.shiftKey;
    if (r2 && !e3.enterToTab) t3.commitEditor(true);
    else {
      var s2 = i2.clone(), a2 = e3.skipReadOnly, l2 = e3.skipReadOnlyCell, h2 = t3.editController, u2 = Ts.areEquals(h2.editIndex, s2) && h2.currentEditor(), c2 = u2 && u2.dropDownWhenEnter, d2 = e3.enterToEdit || c2;
      if (t3.isValid(s2)) {
        if (e3.enterToNextRow && (!n2 && s2.itemIndex < t3.itemCount - 1 || n2 && s2.itemIndex > 0)) n2 ? s2.up() : s2.down(), l2 && this._checkReadOnly(s2) && (this._skipReadOnlyCell(s2, n2 ? -1 : 1) || s2.assign(i2));
        else if (!n2 && (!d2 || r2) && e3.enterToTab && e3.enterToNextCell && e3.crossWhenExitLast && (s2.isLast || e3.skipReadOnly && s2.isEditableLast) && s2.itemIndex < t3.itemCount - 1) s2.down(), s2.firstCell(), a2 && this._skipReadOnly(s2, 1);
        else if (n2 && (!d2 || r2) && e3.enterToTab && e3.enterToNextCell && e3.crossWhenExitLast && (s2.isFirst || e3.skipReadOnly && s2.isEditableFirst) && s2.itemIndex > 0) s2.up(), s2.lastCell(), a2 && this._skipReadOnly(s2, -1);
        else if ((!r2 || e3.enterToTab) && e3.commitWhenExitLast && s2.isLast) {
          try {
            t3.commit(e3.commitWhenNoEdit);
          } catch (i3) {
            throw i3 instanceof Tn && (i3 = t3._fireValidationFail(s2.item.index, i3.column, i3)) && alert(e3.showOnlyValidationMessage && i3.userMessage ? i3.userMessage : i3.toString()), i3;
          }
          e3.appendWhenExitLast && s2.itemIndex === t3.itemCount - 1 && (t3.append(), t3.isItemEditing() && (s2.down(), s2.firstCell()));
        } else if (e3.enterToTab && (t3.isEditing() || this._checkReadOnly(s2)) || !d2) {
          if (t3.isEditing()) {
            if (!t3.commitEditor(true)) return true;
          }
          e3.enterToNextCell && (n2 ? (s2.prev(), this._getPrevVisible(t3, s2)) : (s2.next(), this._getNextVisible(t3, s2)), a2 && !this._skipReadOnly(s2, n2 ? -1 : 1) && s2.assign(i2));
        }
      } else s2.normalize(t3);
      Ts.areEquals(s2, i2) ? t3.isValid(s2) && d2 && !r2 && !t3.isEditing() && i2 && i2.dataColumn && !this._checkReadOnly(i2) && t3.showEditor(i2, false, c2) : this.setFocused(s2, true, true);
    }
    return true;
  }, e2.prototype._doTab = function(t3, e3, i2, o2) {
    var r2 = i2.clone(), n2 = false, s2 = o2.shiftKey;
    if (t3.isValid(r2)) {
      if (e3.useTabKey) {
        var a2 = e3.exitGridWhenTab;
        if (s2) {
          if (e3.crossWhenExitLast && (r2.isFirst || e3.skipReadOnly && r2.isEditableFirst) && r2.itemIndex > 0 ? (r2.up(), r2.lastCell()) : (r2.prev(), this._getPrevVisible(t3, r2)), e3.skipReadOnly && !this._skipReadOnly(r2, -1) && r2.assign(i2), Ts.areEquals(r2, i2) && a2) {
            switch (a2) {
              case "row":
                n2 = true;
                break;
              case "grid":
                n2 = r2.itemIndex <= 0;
            }
            if (n2) return !Ot.isMobile() && t3.container._containerDom.setAttribute("tabindex", "-1"), false;
          }
        } else {
          if (e3.crossWhenExitLast && (r2.isLast || e3.skipReadOnly && r2.isEditableLast) && r2.itemIndex < t3.itemCount - 1) r2.down(null, e3.skipReadOnly && r2.isEditableLast && e3.crossWhenExitLast), r2.firstCell();
          else if (e3.commitWhenExitLast && r2.isLast) {
            try {
              t3.commit(e3.commitWhenNoEdit);
            } catch (i3) {
              throw i3 instanceof Tn && (i3 = t3._fireValidationFail(r2.itemIndex, i3.column, i3)) && alert(e3.showOnlyValidationMessage && i3.userMessage ? i3.userMessage : i3.toString()), i3;
            }
            e3.appendWhenExitLast && (t3.append(), t3.isItemEditing() && (r2.down(), r2.firstCell()));
          } else r2.next(), this._getNextVisible(t3, r2);
          if (e3.skipReadOnly && !this._skipReadOnly(r2, 1) && r2.assign(i2), Ts.areEquals(r2, i2) && a2) {
            switch (a2) {
              case "row":
                n2 = true;
                break;
              case "grid":
                n2 = r2.itemIndex >= t3.itemCount - 1;
            }
            if (n2) return false;
          }
        }
        return Ts.areEquals(r2, i2) || this.setFocused(r2, true, true), o2 && (o2.preventDefault && o2.preventDefault(), o2.stopImmediatePropagation()), true;
      }
    } else r2.normalize(t3), this._skipReadOnly(r2, 1);
    return s2 && !Ot.isMobile() && t3.container._containerDom.setAttribute("tabindex", "-1"), false;
  }, e2.prototype._getNextVisible = function(t3, e3) {
    t3.getBodyViewAt(e3).getNextVisibleCell(e3);
  }, e2.prototype._getPrevVisible = function(t3, e3) {
    t3.getBodyViewAt(e3).getPrevVisibleCell(e3);
  }, e2.prototype._checkReadOnly = function(t3) {
    var e3 = this.grid;
    if (!e3.isValid(t3)) return true;
    var i2 = e3.getWritableAt(t3, true);
    return null != i2 ? !i2 : !t3.dataColumn.isWritable();
  }, e2.prototype._skipReadOnly = function(t3, e3) {
    var i2 = false;
    if (this.grid.editOptions.skipReadOnly) {
      var o2 = this._skipIndex;
      if (o2.assign(t3), !(i2 = !this._checkReadOnly(o2))) {
        if (e3 > 0) {
          for (; o2.next(); ) if (!this._checkReadOnly(o2)) {
            t3.assign(o2), i2 = true;
            break;
          }
        } else for (; o2.prev(); ) if (!this._checkReadOnly(o2)) {
          t3.assign(o2), i2 = true;
          break;
        }
      }
    }
    return i2;
  }, e2.prototype._skipReadOnlyCell = function(t3, e3, i2) {
    var o2 = this.grid, r2 = !t3.dataColumn.isWritable() && true;
    if (!r2 && o2.editOptions.skipReadOnlyCell) {
      var n2 = this._skipIndex;
      n2.assign(t3), r2 = !this._checkReadOnly(n2);
    }
    return r2;
  }, e2.prototype._commitCancel = function(t3, e3) {
    var i2 = this.grid;
    try {
      switch (t3.itemState) {
        case vo.INSERTING:
          return i2.commit(e3.forceInsert) || i2.cancel(true), true;
        case vo.APPENDING:
          return i2.commit(e3.forceAppend) || i2.cancel(true), true;
        case vo.UPDATING:
          return i2.commit(e3.commitWhenNoEdit) || i2.cancel(true), true;
      }
    } catch (o2) {
      if (o2 instanceof Tn) return (o2 = i2._fireValidationFail(t3.index, o2.column, o2)) && alert(e3.showOnlyValidationMessage && o2.userMessage ? o2.userMessage : o2.toString()), false;
      if (o2 instanceof Dn) return false;
      throw o2;
    }
    return false;
  }, e2.prototype._editButtonClicked = function(t3, e3) {
  }, e2;
}(mh);
var Gu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowHoverView") || this;
    return i2.visible = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowhover";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Uu = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowFocusView") || this;
    return i2.visible = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowfocus";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), this.setImportantStyle("pointer-events", "none");
  }, e2;
}(ga);
var Yu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    o2._checkScroll = Date.now(), o2._prevScroll = Date.now(), o2._wheelDeltaY = 0, o2._tempRect = new it(), o2._reqPoint = new fa(), o2._swipeTimer = null, o2._swipeDistance = 0, o2._swipeDuration = 0, o2._swipeStarted = null, o2._swipeAmount = 0;
    var r2 = e3.doc, n2 = o2.grid;
    return o2._cellResizer = new Au(r2), o2._cellMover = new Vu(r2), o2._cellFeedback = new Bu(r2), o2._rowMoverLine = new ju(r2), o2._rowMoverProxy = new Hu(r2), o2._colResizeReq = new hu(n2), o2._colMoveReq = new uu(n2), o2._rowResizeReq = new cu(n2), o2._headerResizeReq = new du(n2), o2._rowMoveReq = new pu(n2), o2._tooltipIndex = new Ts(n2), Ot.isMobile() && (o2._touchScrollRequest = new Iu(n2), o2._touchScrollTracker = new Ou(n2), o2._touchSelectRequest = new Eu(n2), o2._touchSelectTracker = new Ru(n2)), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._clickCell = null, this._clickElement = null, this._cellResizer = this._cellResizer.dispose(), this._cellMover = this._cellMover.dispose(), this._cellFeedback = this._cellFeedback.dispose(), this._rowMoverLine = this._rowMoverLine.dispose(), this._rowMoverProxy = this._rowMoverProxy.dispose(), this._colResizeReq = this._colResizeReq.dispose(), this._colMoveReq = this._colMoveReq.dispose(), this._rowMoveReq = this._rowMoveReq.dispose(), this._rowResizeReq = this._rowResizeReq.dispose(), this._headerResizeReq = this._headerResizeReq.dispose(), clearTimeout(this._tooltipShowTimer), t2.prototype._doDispose.call(this);
  }, e2.prototype._doDeactivated = function() {
    this._clickCell = this._clickElement = null;
  }, e2.prototype._doDragTrackerFinished = function(t3, e3) {
    e3 || t3.clickable || (this._clickCell = this._clickElement = null);
  }, e2.prototype.$_getIndexAt = function(t3, e3, i2, o2, r2) {
    var n2 = t3.getDataCellIndex(o2, this._tempIndex), s2 = i2.getCellAt(e3, n2);
    if (s2 && s2.merged) {
      var a2 = e3.getTableRowIndex(r2);
      if (a2 < 0) return n2;
      var l2 = i2.getRowIndex(a2);
      n2.itemIndex = Math.min(Math.max(s2.item.index, l2), s2.item.index + s2.rowSpan - 1);
    }
    return n2;
  }, e2.prototype._doPointerDown = function(t3) {
    var e3 = t3.mouseX, i2 = t3.mouseY, o2 = Ot.ctrlKey(t3), r2 = t3.shiftKey, n2 = t3.altKey, s2 = t3.button, a2 = this.grid, l2 = a2.layoutManager, h2 = a2.displayOptions;
    a2.editOptions;
    var u2 = a2.focusedIndex.clone(), c2 = a2.selections.exclusiveMode;
    this._longTimer = Ot.isMobile() && setTimeout(this._longTimerHandler, a2.mobileOptions.longTapDuration), this._hideTooltip(), a2.closePopups(), a2.setEventFrom("mousedown"), this._scrollY = window.scrollY, this._swipeTimer = clearInterval(this._swipeTimer), this._touchMoving = false;
    var d2, p2 = this._clickCell = null, f2 = this._clickElement = null;
    if (this._userActionIndex = null, 0 == s2 || a2.displayOptions.rightClickable && 2 == s2) {
      var _2 = this._tempIndex, y2 = this.mouseEventTarget, m2 = 0 == s2 && !(Ot.isMac && t3.ctrlKey) && (this._getEditRequest(y2, u2, e3, i2, o2, r2, n2) || this._getSelectRequest(y2, e3, i2, o2, r2, n2) || Ot.isMobile() && this._getTouchRequest(t3));
      if (m2 instanceof au && !m2.canFocus()) m2 instanceof pu && (p2 = this._clickCell = this._findTableCell(), f2 = this._clickElement = this.findElementAt(e3, i2, false));
      else if (p2 = this._clickCell = this._findTableCell(), f2 = this._clickElement = this.findElementAt(e3, i2, false), p2) {
        var b2 = a2.getTableView(p2), v2 = b2 instanceof Kl, w2 = b2 instanceof Ul, C2 = b2 instanceof Cu && b2.isRowIndicator(p2);
        if (o2 && h2.selectionRemovable && !c2 && (!m2 || m2 instanceof lu)) {
          var x2 = null;
          if (w2 ? _2 = this.$_getIndexAt(a2, l2, b2, p2, i2) : v2 ? (_2.layout = b2.layoutByCell(p2), x2 = Oa) : C2 && (_2.itemIndex = p2.parentElement[g], x2 = Sa), I2 = a2.selections.getItemByIndex(_2, x2)) return a2.selections.remove(I2), void (w2 && this.setFocused(_2, false, 0 === a2.selections.getItems().length));
        }
        if (v2 || w2 || C2) {
          var I2 = a2.selections.lastItem();
          if (w2 ? (_2 = this.$_getIndexAt(a2, l2, b2, p2, i2), a2.editOptions.focusMoveStep === ys.GROUP && (_2.layout = _2.layout.getAncestor(a2.displayOptions.groupFocusLevel).first)) : v2 ? (_2.assign(a2.focusedIndex), _2.layout = b2.layoutByCell(p2)) : (_2.assign(a2.focusedIndex), _2.itemIndex = p2.parentElement[g]), v2) if (o2 && r2) I2 && this.$_resizeSelection(I2, _2, Js.COLUMNS);
          else {
            if (r2) return;
            o2 && m2 instanceof lu && a2.selections.containsLayout(_2.layout, Oa) && (m2 = null);
          }
          else {
            if (r2 && I2) {
              var E2 = v2 ? Js.COLUMNS : C2 ? Js.ROWS : null;
              return void this.$_resizeSelection(I2, _2, E2);
            }
            if (w2) {
              if (this.$_checkAppending(a2.focusedIndex, true, _2)) return this._clickElement = null, void (this._clickCell = null);
              var S2 = b2.getCellAt(l2, _2), O2 = b2.bodyCellByCell(this._clickCell);
              if (O2 && S2 && 0 === s2 && O2.isEditButton(t3.target)) this.setFocused(_2, true, true) && S2.editable && !S2.readonly && a2.editController.buttonDown(_2, t3);
              else if (Ot.isMobile() && m2 instanceof Iu) {
                this.grid.container.addMouseEvent(null);
              } else {
                var R2 = !(o2 && a2.selections.containsCell(_2));
                this.setFocused(_2, c2 || !o2, R2) || m2 instanceof lu && (m2 = null);
              }
            } else if (C2 && a2.rowIndicator.selectable) if (o2 && m2 instanceof lu && a2.selections.containsItem(_2.itemIndex, Sa) && (m2 = null), null == _2.column && _2.item.isDataRow && (_2.layout = a2.getFirstLayout()), m2 instanceof lu) {
              if (this.setFocused(_2, c2 || !o2, false)) {
                var P2 = I2 && Ca(I2) ? I2.getItemIndices() : [];
                (1 !== P2.length || P2[0] !== _2.itemIndex) && a2.selections.selectRow(_2.itemIndex, !o2);
              }
            } else {
              R2 = void 0;
              R2 = a2.displayOptions.selectionStyle === Js.SINGLE_ROW ? !(o2 && a2.selections.containsItem(_2.itemIndex, null)) : !(o2 && a2.selections.containsCell(_2)), this.setFocused(_2, c2 || !o2, R2);
            }
          }
        }
      } else (d2 = f2) && "itemIndex" in d2 && (_2.assign(a2.focusedIndex), _2.itemIndex = f2.itemIndex, null == _2.column && (_2.layout = a2.getFirstLayout()), this.setFocused(_2, true, true));
      !m2 || a2.isItemEditing() && m2.selectable || (this.dragTracker = this._getDragTracker(m2, e3, i2), m2 instanceof hu && t3.target.setPointerCapture(t3.pointerId));
    }
    a2.$_resetHovering(e3, i2);
    var k2 = this.dragTracker;
    k2 && k2.startWhenCreated ? this._startDragTracker(e3, i2, t3) : k2 && k2.init(e3, i2, t3);
  }, e2.prototype._doPointerCancel = function(t3) {
    this.grid.container.removeMouseEvent();
  }, e2.prototype._doMouseDown = function(t3) {
    var e3 = this.grid, i2 = e3.editOptions, o2 = Ot.ctrlKey(t3), r2 = e3.selections.exclusiveMode, n2 = t3.mouseX, s2 = t3.mouseY, a2 = this._tempIndex;
    if (Ts.areEquals(a2, this.focused) && i2.editWhenClickFocused) e3.showEditor();
    else {
      var l2 = !(o2 && e3.selections.containsCell(a2));
      this.setFocused(a2, r2 || !o2, l2);
    }
    e3.$_resetHovering(n2, s2);
  }, e2.prototype.$_checkOtherGridRowMoving = function(t3, e3) {
    var i2 = this.grid, o2 = i2.container, r2 = o2.getMouseContainer(), n2 = { index: -1, position: 0, column: void 0 };
    if (r2 && r2 !== o2) {
      var s2 = Ot.isMobile() && document.elementFromPoint(t3.clientX, t3.clientY);
      if (o2.findContainer(t3, s2) !== o2) i2.removeFeedbackElement(this._rowMoverLine);
      else if (e3 instanceof ph) {
        var a2 = o2.eventToContainer(t3), l2 = o2.findElementAt(a2.x, a2.y, false);
        if (0 == i2.itemCount || l2 instanceof Al || l2 instanceof mu || l2 instanceof Cu) {
          var h2 = ph.updateLineFeedback(i2, Number.MAX_VALUE, null, 1, this._rowMoverLine, a2.x, a2.y, true, t3.target), u2 = i2.canMoveRow(true, true) && i2.dataDropOptions.getEnabled(r2.gridView, e3.sourceItems, h2), c2 = i2.dataDropOptions.getLabel(r2.gridView, e3.sourceItems, h2, null);
          return e3.setEnabled(u2), e3.setLabel(c2), u2 && (h2.index = Math.max(0, h2.index)), i2.addFeedbackElement(this._rowMoverLine), u2 ? h2 : n2;
        }
        l2 ? (e3.setEnabled(false), i2.removeFeedbackElement(this._rowMoverLine)) : i2.removeFeedbackElement(this._rowMoverLine);
      }
    }
    return n2;
  }, e2.prototype.getNextRequest = function(t3, e3, i2, o2) {
    if (t3 instanceof lu) {
      var r2 = this.grid.getSelection();
      return this._rowMoveReq.init(r2, r2.startItem);
    }
    return null;
  }, e2.prototype.dragFrom = function(t3, e3) {
    e3 instanceof ph && this.$_checkOtherGridRowMoving(t3, e3);
  }, e2.prototype.dropFrom = function(t3, e3) {
    if (e3 instanceof ph) {
      var i2 = this.grid, o2 = this.$_checkOtherGridRowMoving(t3, e3);
      i2.removeFeedbackElement(this._rowMoverLine), o2.index >= 0 && i2.$_dropData(e3.grid, e3.sourceItems, o2);
    }
  }, e2.prototype.cancelFrom = function(t3) {
    var e3 = this.grid;
    t3 instanceof ph && e3.removeFeedbackElement(this._rowMoverLine);
  }, e2.prototype._doPointerMove = function(t3) {
    var e3, i2 = t3.mouseX, o2 = t3.mouseY, r2 = Ot.ctrlKey(t3), n2 = this.grid, s2 = n2.layoutManager, a2 = this.mouseEventTarget, l2 = t3.shiftKey, h2 = t3.altKey;
    n2.$_resetHovering(i2, o2) || this._hideTooltip();
    var u2 = n2.container, c2 = u2.getMouseContainer();
    if (!c2 || u2 === c2) {
      var d2 = this.dragTracker;
      if (!d2 || !d2.active) {
        var p2 = this._getEditRequest(a2, n2.focusedIndex, i2, o2, r2, l2, h2);
        if (Ot.isMobile() && !p2 && (p2 = this._getTouchRequest(t3)), !p2 && n2.editOptions.movable && t3.altKey && n2.displayOptions.altSelectAndImmediateDrag && (p2 = this._getSelectRequest(a2, i2, o2, r2, l2, h2)) && (e3 = n2.dataDropOptions.cursor), !e3 && p2 && p2.cursor && (e3 = p2.cursor), n2.setCursor(a2, e3 || "default"), !p2 && !this.dragging) {
          var f2 = this._findTableCell(), _2 = f2 && n2.getTableView(f2);
          if (_2 instanceof Ul) {
            var g2 = _2.bodyCellByCell(f2);
            if (g2 && g2.merged) {
              var y2 = g2.head || g2, m2 = this.$_getIndexAt(n2, s2, _2, f2, o2);
              if (!y2.contains(n2.focusedIndex)) {
                if (g2.buttons) {
                  var b2 = _2.getRowView(y2.item);
                  b2 instanceof Al && b2.moveCellButtons(s2, y2, m2.itemIndex);
                }
                var v2 = n2.canMergeEditing(y2);
                if (y2.renderer2 && y2.renderer2.refreshFocusChanged) {
                  var w2 = _2.getCellRectAt(s2, m2, false), C2 = _2.getCellRect(s2, y2, true), x2 = y2.renderer2, I2 = w2.top - C2.top + w2.height / 2 - C2.height / 2;
                  x2.moveClickElement(I2, v2);
                }
              }
            }
          }
        }
      }
    }
  }, e2.prototype._doPointerUp = function(t3) {
    var e3 = this._findTableCell(), i2 = this.grid, o2 = i2.focusedIndex, r2 = i2.layoutManager;
    i2.setEventFrom("mouseup");
    var n2 = i2.getCellType(e3);
    if (i2.setCursor(this.mouseEventTarget, "default"), i2.editController.buttonUp(null, t3), Ot.isMobile()) {
      if (this._longPressed && Ot.isiOS) {
        var s2 = new PointerEvent("contextmenu", { bubbles: true, clientX: t3.clientX, clientY: t3.clientY });
        return void t3.target.dispatchEvent(s2);
      }
      n2 === O.DATA && this.dragTracker && this.dragTracker.clickable && !Ts.areEquals(this._tempIndex, o2) && this.setFocused(this._tempIndex, true, true);
    }
    if (n2 === O.DATA && (!this.dragTracker || this.dragTracker.scrollable)) {
      var a2 = e3 && i2.cellToIndex(e3);
      i2.isValid(o2) && Ts.areEquals(o2, a2) && !r2.focusIsVisible(o2) && (r2.makeCellVisible(o2), i2.invalidateLayout());
    }
  }, e2.prototype._doClick = function(t3, e3, i2) {
    if (Ot.isMobile() && this._longPressed) Ot.stopEvent(t3, true);
    else {
      e3 = e3 || t3.mouseX, i2 = i2 || t3.mouseY;
      var o2, r2 = this.grid, n2 = this.findElementAt(e3, i2, false), s2 = this._findTableCell(), a2 = r2.getCellType(s2), l2 = this.focused, h2 = a2 === O.DATA && r2.cellToIndex(s2);
      (!r2._eventFrom || r2._eventFrom.indexOf("key") >= 0) && (this._clickCell = s2 = this._findTableCell(t3.target), r2.getCellType(s2) === O.DATA && (l2 = r2.getDataCellIndex(s2))), r2.setEventFrom(null);
      try {
        if (s2 && s2 == this._clickCell) {
          var u2 = r2.getCellType(s2), c2 = void 0, d2 = void 0;
          switch (u2) {
            case O.HEAD:
              if (this.$_gridCellClicked(o2 = Tu.getSub(u2, r2.headView.getCellType(s2))), "check" === o2.subType) {
                var p2 = r2.headView._checkCell;
                Ot.included(t3.target, p2._check, p2._image, p2._span) && this._checkAllClicked();
              }
              break;
            case O.FOOT:
              this.$_gridCellClicked(Tu.getSub(u2, r2.footView.getCellType(s2)));
              break;
            case O.INDICATOR:
            case O.STATE:
            case O.CHECK:
              u2 === O.CHECK && this.$_checkCellClicked2(s2, t3), c2 = r2.rowBarContainer.rowOf(s2), d2 = r2.getRowOfItem(c2);
              var f2 = r2.getItem(c2);
              (u2 !== O.CHECK || f2.checkable) && this.$_gridCellClicked(Tu.getItem(u2, c2, d2));
              break;
            case O.HEADER:
              var _2 = r2.getHeaderView(s2), y2 = _2.tableCellByCell(s2);
              if (!(this._getEditRequest(this.mouseEventTarget, l2, e3, i2, false, false, false) instanceof hu) && this._doColumnHeaderClicked(t3, y2.layout)) {
                var m2 = _2.layoutByCell(s2);
                m2 instanceof vs && m2.hideChildHeaders && m2.tiedColumn && (m2 = m2.tiedColumn.layout), this.$_gridCellClicked(Tu.getLayout(u2, m2));
              }
              break;
            case O.DATA:
              var v2 = r2.getBodyView(s2).bodyCellByCell(s2), w2 = Ts.areEquals(l2, h2) || v2.contains(l2);
              if (w2 || r2.editOptions.focusMoveStep === ys.GROUP && (w2 = l2.layout.root === h2.layout.root && l2.itemIndex === h2.itemIndex), w2 && v2.grouped) this.$_gridCellClicked(Tu.getItem(O.GROUP_HEADER, v2.item.index, null));
              else {
                if (w2 && v2.isCellButton(t3.target)) return this.$_cellButtonClicked(v2), void (!r2.editOptions.exceptDataClickWhenButton && this.$_gridCellClicked(Tu.getCell(u2, v2, l2)));
                if (w2 && Al.isExpander(t3.target)) return void (!r2.editOptions.exceptDataClickWhenButton && this.$_gridCellClicked(Tu.getCell(u2, v2, l2)));
                var C2 = r2.editController._editor, x2 = v2.isEditButton(t3.target);
                if (w2 && (x2 || !v2.readonly && C2 && C2.dropDownWhenClick)) {
                  if (r2.layoutManager.focusIsVisible(this.focused)) return r2.canMergeEditing(v2) ? this._tempIndex = r2.focusedIndex.clone() : v2.getEditIndex(this._tempIndex), !C2 || C2.editing && C2.listing || this._editButtonClicked(this._tempIndex, t3), void this.$_gridCellClicked(Tu.getCell(u2, v2, l2));
                  x2 && r2.editController.requestPrepareEditor(true);
                } else if (r2.isValid(l2) && !Ot.ctrlKey(t3)) {
                  var I2 = !Ts.areEquals(this._userActionIndex, r2.focusedIndex);
                  (I2 && r2.editOptions.editWhenFocused || !I2 && r2.editOptions.editWhenClickFocused) && r2.showEditor();
                }
                var E2 = v2.renderer2;
                if (E2) {
                  if (w2 || !E2.clickOnlyFocusedCell) return o2 = Tu.getCell(u2, v2, h2), this.$_performRendererClick(v2, t3, o2) ? void ((!r2.editOptions.exceptDataClickWhenButton || !E2.itemClickable) && this.$_gridCellClicked(o2)) : void this.$_gridCellClicked(Tu.getCell(u2, v2, h2));
                }
                Ot.isInteractive(t3.target) && Ot.stopEvent(t3, true);
              }
              break;
            case O.FOOTER:
              var S2 = r2.getFooterView(s2).tableCellByCell(s2);
              this.$_gridCellClicked(Tu.getSummary(u2, S2.summaryIndex, S2.layout));
              break;
            case O.SUMMARY:
              var R2 = r2.getSummaryView(s2).tableCellByCell(s2);
              this.$_gridCellClicked(Tu.getSummary(u2, R2.summaryIndex, R2.layout));
              break;
            case O.INLINE_FILTER:
              var P2 = r2.getFilterView(s2).tableCellByCell(s2), k2 = t3.target;
              k2 === P2.operatorButton && r2.popupMenuManager.show(P2.popupMenu, k2, this._tempIndex.set(-1, P2.layout, this.grid), false);
              break;
            case O.SUM:
              this.$_gridCellClicked(Tu.getSub(u2, r2.sumView.getCellType(s2)));
              break;
            case O.FILTER:
              this.$_gridCellClicked(Tu.getSub(u2, r2.filterView.getCellType(s2)));
              break;
            case O.GROUP_FOOTER:
              var D2 = r2.getBodyView(s2).bodyCellByCell(s2), T2 = D2.item.footerIndex;
              this.$_gridCellClicked(Tu.getGroupFooter(u2, D2.item.index, D2.layout, T2));
              break;
            case O.GROUP_HEAD:
            case O.GROUP_FOOT:
              var M2 = s2[b];
              this.$_gridCellClicked(Tu.getGroupElt(u2, M2));
              break;
            case O.GROUP_BAR:
              var F2 = s2[g];
              d2 = this.grid.getRowOfItem(F2), this.$_gridCellClicked(Tu.getItem(u2, F2, d2));
          }
        } else if (n2 && n2 === this._clickElement) {
          var L2 = this._getClickData(n2, t3);
          L2 && (L2.cellType === O.GRID_EMPTY && r2.isEditing() && r2.commitEditor(true), this.$_gridCellClicked(L2));
        }
      } finally {
        if (Ot.isMobile() && t3.timeStamp !== this._clickTimeStamp) {
          var N2 = r2.mobileOptions.doubleTapInterval || 500;
          this._clickTimeStamp && this._clickTimeStamp + N2 > t3.timeStamp && this._clickElt === this._findTableCell(t3.target) ? a2 !== O.DATA || Ts.areEquals(this._clickIndex, h2) ? (this._clickTimeStamp = null, this._clickIndex = null, this._doDblClick(t3)) : this._clickTimeStamp = t3.timeStamp : (this._clickTimeStamp = t3.timeStamp, this._clickElt = this._findTableCell(t3.target), a2 === O.DATA && (this._clickIndex = h2.clone()));
        }
      }
    }
  }, e2.prototype._getClickData = function(t3, e3) {
    if (t3 instanceof zc || t3 instanceof Sl || t3 instanceof Ul) return Tu.getData(O.GRID_EMPTY);
    if (2 === e3.button && t3 instanceof vh) {
      var i2 = O.SCROLL_BAR, o2 = t3.scrollBar && t3.scrollBar.vertical;
      if (t3 instanceof Ih) return Tu.assignData({ cellType: i2, subType: O.SCROLL_THUMB, vertical: o2 });
      if (t3 instanceof xh) return Tu.assignData({ cellType: i2, subType: O.SCROLL_BUTTON, vertical: o2, far: t3.far });
      if (t3 instanceof Ch) return Tu.assignData({ cellType: i2, subType: O.SCROLL_TRACK, vertical: o2 });
      if (t3 instanceof wh) return Tu.assignData({ cellType: i2, subType: O.SCROLL_EDGE });
    }
  }, e2.prototype.$_commitRendererEdit = function(t3, e3, i2) {
    var o2 = e3.item, r2 = e3.dataField, n2 = e3.dataColumn, s2 = false;
    try {
      (s2 = t3.editorCommit(e3, o2.getData(r2), i2)) && (t3.undoable ? t3.execute(new gu(e3.item, r2, i2, e3.column)) : o2.setData(r2, i2), t3.isItemEditing(e3.item) && t3.validateCellCommit(e3, i2));
    } catch (e4) {
      if (!t3.editOptions.showCommitError) throw e4;
      alert(e4.message || e4);
    }
    if (s2 && t3.isCellEditing()) {
      var a2 = t3.itemSource, l2 = a2.editingItem.invalidFields, h2 = t3.validationManager.getError(e3);
      if (h2) return l2.push(n2.dataIndex), void (t3.editOptions.showCommitError && alert(h2.userMessage || h2.message || h2));
      if (l2.indexOf(n2.dataIndex) >= 0 && l2.splice(l2.indexOf(n2.dataIndex), 1), t3.validationManager.clearInvalidCell(e3), l2.length > 0) return;
      var u2 = t3.canMergeEditing(t3.getBodyCellAt(e3, true));
      if (a2.commit(u2) || a2.cancel(), u2) {
        var c2 = n2.layout.merges.getRoom(e3), d2 = {}, p2 = {};
        p2[n2.fieldName] = i2;
        for (var f2 = c2.head; f2 <= c2.tail; f2++) {
          var _2 = t3.getItem(f2);
          _2.isDataRow && (d2[_2.dataRow] = p2);
        }
        a2.updateRows2(d2);
      }
    }
  }, e2.prototype.$_performRendererClick = function(t3, e3, i2) {
    var o2, r2 = t3.renderer2, n2 = this.grid, s2 = n2.layoutManager;
    if (r2) {
      if (t3.merged) if (e3.pointerType) {
        var a2 = e3.mouseY, l2 = this._findTableCell(), h2 = l2 && n2.getTableView(l2);
        o2 = this.$_getIndexAt(n2, s2, h2, l2, a2);
      } else o2 = n2.focusedIndex.clone();
      else o2 = r2.index;
      if (n2.canWriteAt(o2) && r2.canEdit() && r2.canEditClickAt(e3) && n2.edit(o2)) {
        var u2 = r2.editClick(o2, e3);
        if (u2) return u2.commit && this.$_commitRendererEdit(n2, o2, u2.value), true;
      }
      if (r2.canClick(e3)) {
        var c2 = r2.click(o2, e3);
        if (c2) return Ot.extendObj(i2, c2), false === n2._fireCellItemClicked(o2, c2) && r2.preventDefaultClick(e3), true;
      }
      return r2.preventDefaultEditClick(e3), false;
    }
  }, e2.prototype.$_performRendererKey = function(t3, e3) {
    var i2, o2 = t3.renderer2, r2 = t3.head;
    if (o2) i2 = o2.index;
    else {
      if (!r2 || !(o2 = r2.renderer2)) return;
      var n2 = t3.rowIndex - r2.rowIndex;
      (i2 = o2.index.clone()).incRow(n2);
    }
    var s2 = this.grid, a2 = s2.canWriteAt(i2) && o2.canEdit();
    if (Ts.areEquals(i2, s2.focusedIndex)) {
      var l2 = Tu.getCell(s2.getCellType(t3.cell), t3, i2);
      if (a2 && o2.canEditKey(e3) || o2.canClickSpaceKey(e3)) return o2.itemClick(e3), true;
      if (32 === e3.keyCode && s2.editOptions.buttonClickWhenSpace && !Ot.specialKey(e3)) return t3.button === F.ACTION || t3.button === F.POPUP ? (s2.closePopups(), t3.cellButton.click(), true) : (this.$_gridCellClicked(l2), true);
    }
  }, e2.prototype._doDblClick = function(t3) {
    var e3 = t3.mouseX, i2 = t3.mouseY, o2 = Ot.ctrlKey(t3), r2 = t3.shiftKey, n2 = t3.altKey, s2 = this.grid, a2 = s2.layoutManager, l2 = this.focused, h2 = this.findElementAt(e3, i2, false), u2 = this._findTableCell();
    if (s2.setEventFrom(null), u2 && u2 == this._clickCell) {
      var c2 = s2.getCellType(u2), d2 = void 0, p2 = void 0;
      switch (c2) {
        case O.HEAD:
          this.$_gridCellDblClicked(Tu.getSub(c2, s2.headView.getCellType(u2)));
          break;
        case O.FOOT:
          this.$_gridCellDblClicked(Tu.getSub(c2, s2.footView.getCellType(u2)));
          break;
        case O.INDICATOR:
        case O.STATE:
        case O.CHECK:
          d2 = s2.rowBarContainer.rowOf(u2), p2 = s2.getRowOfItem(d2), this.$_gridCellDblClicked(Tu.getItem(c2, d2, p2));
          break;
        case O.HEADER:
          var f2 = s2.getHeaderView(u2), _2 = f2.tableCellByCell(u2);
          if (_2 && _2.isClickableElt(t3.target)) ;
          else (y2 = f2.layoutByCell(u2)) instanceof vs && y2.hideChildHeaders && y2.tiedColumn && (y2 = y2.tiedColumn.layout), this.$_gridCellDblClicked(Tu.getLayout(c2, y2));
          var y2, m2 = this._getEditRequest(this.mouseEventTarget, s2.focusedIndex, e3, i2, o2, r2, n2);
          if (m2 instanceof hu) (y2 = m2.layout).firstColumn && s2.fitLayoutWidth(y2);
          break;
        case O.DATA:
          var v2 = s2.getBodyView(u2), w2 = v2.bodyCellByCell(u2), C2 = this.$_getIndexAt(s2, a2, v2, u2, i2);
          if (Al.isExpander(t3.target)) return;
          if (w2.grouped) this.$_gridCellDblClicked(Tu.getItem(O.GROUP_HEADER, w2.item.index, null));
          else if (this.$_gridCellDblClicked(Tu.getCell(c2, w2, l2)), Ts.areEquals(C2, l2)) {
            var x2 = s2.editController.currentEditor();
            s2.showEditor(C2, void 0, Ot.isMobile() && (null == x2 ? void 0 : x2.hasList));
          }
          break;
        case O.FOOTER:
          var I2 = s2.getFooterView(u2).tableCellByCell(u2);
          this.$_gridCellDblClicked(Tu.getSummary(c2, I2.summaryIndex, I2.layout));
          break;
        case O.SUMMARY:
          var E2 = s2.getSummaryView(u2).tableCellByCell(u2);
          this.$_gridCellDblClicked(Tu.getSummary(c2, E2.summaryIndex, E2.layout));
          break;
        case O.SUM:
          this.$_gridCellDblClicked(Tu.getSub(c2, s2.sumView.getCellType(u2)));
          break;
        case O.GROUP_FOOTER:
          var S2 = s2.getBodyView(u2).bodyCellByCell(u2), R2 = S2.item.footerIndex;
          this.$_gridCellDblClicked(Tu.getGroupFooter(c2, S2.item.index, S2.layout, R2));
          break;
        case O.GROUP_HEAD:
        case O.GROUP_FOOT:
          var P2 = u2[b];
          this.$_gridCellDblClicked(Tu.getGroupElt(c2, P2));
          break;
        case O.GROUP_BAR:
          var k2 = u2[g];
          p2 = s2.getRowOfItem(k2), this.$_gridCellDblClicked(Tu.getItem(c2, k2, p2));
      }
    } else if (h2 && h2 === this._clickElement) {
      var D2 = this._getClickData(h2, t3);
      D2 && this.$_gridCellDblClicked(D2);
    }
  }, e2.prototype._doMouseWheel = function(t3) {
    var e3 = this.grid;
    e3.setEventFrom(null), e3.scrollOnEditing();
    var i2 = e3.displayOptions;
    if (i2.wheelEnabled && (Ot.isMac || !t3.ctrlKey)) {
      if (!e3._fireWheel(t3)) return true;
      if ((t3.shiftKey || Math.abs(t3.deltaX) > Math.abs(t3.deltaY)) && 0 !== i2.wheelScrollHorz) {
        var o2 = e3.leftPos, r2 = Math.abs(i2.wheelScrollHorz || 16) * ((t3.deltaX || t3.deltaY) > 0 ? 1 : -1);
        return e3.leftPos = o2 + r2, true;
      }
      var n2 = e3.topIndex, s2 = Date.now(), a2 = Math.abs(i2.wheelScrollLines);
      a2 = a2 || 3;
      var l2 = e3.displayOptions.wheelDeltaY;
      if (l2 > 0) {
        if (!(this._wheelDeltaY + Math.abs(t3.deltaY) >= l2)) return this._wheelDeltaY += Math.abs(t3.deltaY), true;
        this._wheelDeltaY = 0;
      }
      if (i2.wheelAccelDelay > 0) {
        if (s2 > this._prevScroll + 300) this._checkScroll = s2;
        else if (this._checkScroll + i2.wheelAccelDelay < s2) {
          var h2 = i2.wheelAccelScroll;
          if (h2 && !isNaN(h2)) a2 = parseInt(h2);
          else if ("string" == typeof h2) {
            var u2 = h2.trim();
            if (u2.indexOf("%") > 0) {
              var c2 = e3.itemCount;
              a2 = parseInt(u2.substr(0, u2.length - 1)) / 100 * c2;
            }
          }
        }
      }
      return this._prevScroll = s2, e3.topIndex = e3.topIndex + (t3.deltaY > 0 ? a2 : -a2), !i2.wheelEventPropagate || n2 != e3.topIndex;
    }
    return false;
  }, e2.prototype._doMouseEnter = function(t3) {
  }, e2.prototype._doMouseLeave = function(t3) {
    var e3 = t3.mouseX, i2 = t3.mouseY;
    this._hideTooltip(), this.$_setHoveredHeaderCell(null, e3, i2), this.$_setHoveredCell(null, e3, i2);
  }, e2.prototype._doMouseOver = function(t3) {
  }, e2.prototype._doContextMenu = function(t3) {
    var e3 = this.grid, i2 = this._findTableCell(), o2 = e3.getCellType(i2);
    return Ot.isMobile() && e3.displayOptions.rightClickable && o2 === O.DATA && !Ts.areEquals(this._tempIndex, e3.focusedIndex) && this.setFocused(this._tempIndex, true, true), e3.doContextMenu(t3);
  }, e2.prototype.$_doHome = function(t3, e3, i2) {
    var o2 = t3.clone();
    if (t3.first(), i2 && this._checkReadOnly(t3) && !this._skipReadOnlyCell(t3, 1, o2)) return t3.assign(e3), true;
  }, e2.prototype.$_doEnd = function(t3, e3, i2) {
    var o2 = t3.clone();
    if (t3.last(), i2 && this._checkReadOnly(t3) && !this._skipReadOnlyCell(t3, -1, o2)) return t3.assign(e3), true;
  }, e2.prototype._doKeyDown = function(e3) {
    var i2, o2 = e3.keyCode, r2 = Ot.isMac, n2 = Ot.ctrlKey(e3), s2 = e3.shiftKey, a2 = e3.altKey, l2 = this.grid, h2 = l2.editOptions, u2 = l2.layoutManager, c2 = l2.popupMenuManager, d2 = h2.skipReadOnly, p2 = h2.skipReadOnlyCell, f2 = l2.focusedIndex, _2 = f2.clone(), g2 = h2.verticalMoveStep;
    if (e3.repeat || (this._userActionIndex = null), !l2._fireKeyDown(e3)) return true;
    if (!l2.isEditing() && l2.accessibility && Ot.included(o2, 36, 35, 40, 34, 38, 33, 32, 37, 39) && Ot.stopEvent(e3), c2.isShow() && Ot.included(o2, 37, 39, 38, 40, 13, 32)) {
      var y2 = l2.getBodyCellAt(f2);
      return c2.keyDown(e3, y2 && y2.cell), true;
    }
    if ((l2.setEventFrom("keydown"), f2 && !l2.isEditing()) && ((y2 = l2.getBodyCellAt(f2)) && this.$_performRendererKey(y2, e3))) return true;
    if (!l2.isEditing() && l2.accessibility && (67 === o2 || 86 === o2) && n2) return l2.editController.setFocus(true), false;
    if (27 == o2) l2.closePopups(), this._doCancel(l2);
    else {
      if (13 == o2) return this._doEnter(l2, h2, _2, e3);
      if (9 == o2) return this._doTab(l2, h2, _2, e3);
      if (113 == o2) !l2.isEditing() && _2.dataColumn && (l2.accessibility && l2.$_setEditFocused(true, null), l2.showEditor(_2, s2));
      else {
        if (Ot.isMac && n2 && s2 && 90 === o2) return l2.redo();
        if (90 == o2 && n2) return l2.undo();
        if (89 == o2 && n2) return l2.redo();
        if (45 == o2) h2.appendWhenInsertKey || 0 == l2.itemCount ? l2.append() : l2.insert(_2.item, s2, n2);
        else {
          if (46 == o2) return n2 && s2 ? (l2.revertSelection(), true) : n2 ? (l2.deleteSelection(), true) : !!s2 && (l2.eraseSelection(false, false), true);
          if (a2 && s2 && 40 == o2) l2.moveSelection(1, "keydown");
          else if (a2 && s2 && 38 == o2) l2.moveSelection(-1, "keydown");
          else if (32 == o2 && s2 && n2 && l2.rowBarContainer.rowIndicator.visible && l2.editOptions.checkable) {
            var m2 = l2.selections.getItem(0), b2 = m2 && (Ca(m2) || Ot.included(m2.style, Js.BLOCK, Js.GROUP)) && m2.getItems(l2.checkBar.merged || l2.checkBar.fieldIndex >= 0);
            b2 || l2.checkBar.merged ? (b2 = b2 || [_2.item], l2.toggleChecks(b2, _2.item)) : l2.toggleCheck(_2.itemIndex), r2 && e3.preventDefault();
          } else if (l2.editOptions.useArrowKeys && Ot.included(o2, 36, 35, 39, 37, 40, 38, 34, 33)) {
            Ot.isMobile() && e3 && e3.preventDefault && e3.preventDefault();
            var v2 = l2.itemCount;
            if (40 == o2 && 0 == v2) return l2.append(), true;
            if (!l2.isValid(_2)) return _2.normalize(l2), this.setFocused(_2, true, true), true;
            if ((Ot.included(o2, 40, 34) || 35 == o2 && n2) && _2.isBottom && this.$_checkAppending(_2)) return true;
            if ((Ot.included(o2, 38, 33) || 36 == o2 && n2) && _2.isTop && this.$_checkAppending(_2, true)) return true;
            var w2 = l2.getBodyViewAt(_2);
            if (!w2) return true;
            switch (o2) {
              case 36:
                if (n2) {
                  if (e3.preventDefault(), this.$_doHome(_2, f2, d2)) break;
                } else _2.home(), this._skipReadOnly(_2, 1);
                break;
              case 35:
                if (n2) {
                  if (this.$_doEnd(_2, f2, d2)) break;
                } else _2.end(), this._skipReadOnly(_2, -1);
                break;
              case 39:
                if (w2.spanRight(u2, _2), _2.right(), d2 && this._checkReadOnly(_2) && !this._skipReadOnly(_2, 1)) {
                  _2.assign(f2);
                  break;
                }
                break;
              case 37:
                if (_2.left(), d2 && this._checkReadOnly(_2) && !this._skipReadOnly(_2, -1)) {
                  _2.assign(f2);
                  break;
                }
                break;
              case 38:
                if (r2 && n2) {
                  this.$_doHome(_2, f2, d2);
                  break;
                }
                try {
                  if (0 == _2.itemIndex && _2.isTop) {
                    if (this.$_commitCancel(_2.item, h2)) return true;
                    l2.filterPanel.visible ? l2.inlineFilterFocus(_2.layout) : _2.up(g2);
                  } else {
                    if (n2) return void l2.topIndex--;
                    _2.up(g2, l2.isItemEditing(_2.item));
                  }
                } finally {
                  p2 && this._checkReadOnly(_2) && (this._skipReadOnlyCell(_2, -1) || _2.assign(f2));
                }
                break;
              case 33:
                if (i2 = _2.clone(), _2.incRow(-u2.fullItemCount), d2 && this._checkReadOnly(_2) && !this._skipReadOnlyCell(_2, 1, i2)) {
                  _2.assign(f2);
                  break;
                }
                break;
              case 40:
                if (r2 && n2) {
                  this.$_doEnd(_2, f2, d2);
                  break;
                }
                try {
                  if (_2.itemIndex != v2 - 1 || !_2.isBottom && g2 != gs.ROW) {
                    if (n2) return l2.topIndex++, true;
                    _2.down(g2, l2.isItemEditing(_2.item));
                  } else {
                    if (_2.isBottom && this._commitCancel(_2.item, h2)) return true;
                    l2.append(), _2.down(g2, l2.isItemEditing(_2.item));
                  }
                } finally {
                  p2 && this._checkReadOnly(_2) && (this._skipReadOnlyCell(_2, 1) || _2.assign(f2));
                }
                break;
              case 34:
                if (_2.itemIndex == l2.itemCount - 1 && _2.isBottom && Ao(_2.item.itemState)) return l2.commit(h2.forceAppend), true;
                if (i2 = _2.clone(), _2.incRow(u2.fullItemCount), d2 && this._checkReadOnly(_2) && !this._skipReadOnlyCell(_2, -1, i2)) {
                  _2.assign(f2);
                  break;
                }
            }
            return w2.spanHead(u2, _2), s2 && l2.selections.count > 0 && !wa(l2.displayOptions.selectionStyle) ? (this.setFocused(_2, false, false), l2.selections.lastItem().resizeTo(_2)) : this.setFocused(_2, true, true, e3), true;
          }
        }
      }
    }
    return t2.prototype._doKeyDown.call(this, e3);
  }, e2.prototype._doKeyPress = function(t3) {
    this.grid._fireKeyPress(t3);
  }, e2.prototype._doKeyUp = function(t3) {
    var e3 = this.grid;
    this._userActionIndex && !Ts.areEquals(this._userActionIndex, e3.focusedIndex) && e3.isValid(e3.focusedIndex) && e3.editOptions.editWhenFocused && e3.showEditor(e3.focusedIndex, false, false), this._userActionIndex = null, this.grid._fireKeyUp(t3);
  }, e2.prototype._doCopyEvent = function(t3) {
    var e3 = this.grid;
    e3 && !e3.isEditing() && e3.copyToClipboard(t3, null);
  }, e2.prototype._doPasteEvent = function(t3) {
    this.grid && this.grid.fromClipboard(t3);
  }, e2.prototype._editButtonClicked = function(e3, i2) {
    this.grid.makeCellVisible(e3), this.grid.showEditor(e3, false, true) && this.grid.editorButtonClicked(e3, i2), t2.prototype._editButtonClicked.call(this, e3, i2);
  }, e2.prototype._getSelectRequest = function(t3, e3, i2, o2, r2, n2) {
    var s2 = this.grid, a2 = s2.displayOptions, l2 = a2.selectionMode, h2 = a2.selectionStyle, u2 = this._findTableCell(t3);
    if (!u2) return null;
    var c2 = a2.selectAndImmediateDrag || a2.altSelectAndImmediateDrag && n2;
    if (!c2 && (l2 == Zs.NONE || h2 == Js.NONE)) return null;
    var d2 = s2.getCellType(u2);
    if (d2 == O.INDICATOR) {
      if (s2.rowIndicator.selectable && (c2 || !wa(h2))) return new lu(s2.getIndex(s2.rowBarContainer.getCellIndex(u2)), Js.ROWS);
    } else if (d2 == O.HEADER) {
      if (o2 && s2.rowIndicator.selectable) {
        var p2 = s2.layoutByDataCell(u2);
        if (!wa(h2)) return new lu(s2.getIndex(-1, p2), Js.COLUMNS);
      }
    } else if (d2 == O.DATA) {
      var f2 = s2.getDataCellIndex(u2, this._tempIndex);
      if (o2 && s2.selections.containsCell(f2)) return null;
      if ((c2 || !wa(h2)) && !Ot.isMobile()) return new lu(f2.clone(), h2);
    }
    return null;
  }, e2.prototype._getEditRequest = function(t3, e3, i2, o2, r2, n2, s2) {
    var a2 = Et(this.grid.doc), l2 = this.grid, h2 = l2.layoutManager, u2 = l2.displayOptions, c2 = this._findTableCell(t3);
    if (!c2) return null;
    var d2 = l2.getTableView(c2), p2 = !Ot.isInteractive(t3) && this.$_getRowResizeRequest(d2, c2, i2, o2, r2, n2, s2);
    if (p2) return p2;
    if (d2 instanceof Cu && d2.isRowIndicator(c2)) {
      Ot.isIE && (s2 = s2 || r2);
      var f2 = !(O2 = l2.getSelection()) || !Ot.included(O2.style, Js.COLUMNS, Js.SINGLE_COLUMN);
      if (f2 = f2 && !Ot.included(l2.dataDropOptions.feedbackStyle, Il.CELL, Il.GROUP), (s2 || l2.rowIndicator.draggableSelectedRows && f2) && l2.canMoveRow(false, false)) {
        var _2 = l2.rowBarContainer.rowOf(c2), g2 = false;
        if (O2 ? g2 = O2.containsItem(_2) : _2 == e3.itemIndex && (g2 = true), g2) return this._rowMoveReq.init(O2, _2);
      }
    } else if (d2 instanceof Kl) {
      if (t3 instanceof a2.HTMLInputElement) return null;
      if (!r2) {
        var y2 = d2.layoutByCell(c2);
        if (y2) {
          var m2 = l2.cellToContainer(c2, this._reqPoint.setEmpty());
          if (u2.columnResizable) {
            var b2 = l2.headerView.tableCellByLayout2(h2, y2), v2 = l2.activeCellLayout, w2 = l2.displayOptions.columnResizeThreshold, C2 = m2.x + (b2 ? b2.width : y2.domWidth), x2 = void 0, I2 = void 0;
            if (m2.x + w2 >= i2 && !y2.$_rfixed ? (x2 = v2.getHeaderLeftOf(y2), I2 = i2 - m2.x) : C2 - w2 <= i2 && (x2 = y2, I2 = i2 - C2), x2 && x2._isResizable() && (!x2.isFixed || l2.fixedOptions.resizable)) return this._colResizeReq.init(x2, i2, o2, I2);
          }
          if (u2.columnMovable && y2._isMovable() && (!y2.isRoot || l2.canMoveLayout(y2))) return this._colMoveReq.init(y2, i2, o2, -1);
        }
      }
    } else if (d2 instanceof Ul) {
      var E2 = l2.getDataCellIndex(c2, this._tempIndex);
      _2 = E2 && E2.itemIndex;
      if (l2.canMoveRow(false, false) && _2 >= 0) {
        var S2 = false, O2 = l2.getSelection();
        if ((b2 = l2.getBodyCellAt(E2, true)).expander === t3) return null;
        if (Ot.isIE && (s2 = s2 || r2), O2 ? !(S2 = O2.containsItem(_2)) || s2 && !l2.displayOptions.altSelectAndImmediateDrag || (S2 = l2.editOptions.movableWhenFocusedOnly ? Ts.areEquals(e3, E2) : O2.containsLayout(E2.layout) && (s2 || this._canMoveRowAt(d2, E2, i2))) : e3 && _2 == e3.itemIndex && (S2 = !!s2 || !Ot.isMobile() && Ts.areEquals(E2, e3) && this._canMoveRowAt(d2, E2, i2)), S2) return this._rowMoveReq.init(O2, _2);
      }
    } else if (d2 instanceof Nh) {
      var R2 = d2.boundsByContainer();
      if (l2.header.resizable && o2 <= R2.bottom + 1 && o2 >= R2.bottom - 2) return this._headerResizeReq.init(R2.top, o2 - R2.bottom - 1);
    }
  }, e2.prototype.$_resizeSelection = function(t3, e3, i2) {
    var o2 = this.grid.selections, r2 = t3 ? t3.runStyle : i2;
    if (!wa(r2) && Ot.included(i2, Js.ROWS, Js.COLUMNS, Js.SINGLE_COLUMN) && (r2 = i2), t3) {
      if (t3.runStyle != r2) {
        this.grid.selections.clear(true);
        var n2 = t3.getBounds();
        t3 = o2.add(n2.firstCell, n2.lastCell, r2, true);
      }
      o2.canResize(t3) && t3.resizeTo(e3);
    } else t3 = o2.add(e3, e3, r2, true);
  }, e2.prototype._canMoveRowAt = function(t3, e3, i2) {
    return !!Ot.isMobile() || i2 < t3.boundsByContainer(t3.getCellRectAt(this.grid.layoutManager, e3, false)).x + 20;
  }, e2.prototype.$_getRowResizeRequest = function(t3, e3, i2, o2, r2, n2, s2) {
    var a2 = -1, l2 = this.grid;
    if (t3 instanceof Cu ? a2 = e3.parentElement.$_row : t3 instanceof Ul && (l2.rowBarContainer.isVisible() || t3.rightFixed || (l2.fixedOptions.colCount > 0 && t3.fixed || 0 === l2.fixedOptions.colCount) && 0 === e3.cellIndex && (a2 = e3.parentElement.$_row)), a2 < 0) return null;
    var h2 = l2.layoutManager, u2 = l2.displayOptions, c2 = u2.eachRowResizable && !r2, d2 = h2.fixedItemCount, p2 = h2.contentBounds.y, f2 = t3.boundsByContainer(this._tempRect.setWidth(t3.width));
    if (f2.width <= 0 || i2 < f2.x || i2 >= f2.right) return null;
    if (a2 < d2) {
      if (l2.fixedOptions.rowResizable && (!u2.dataHeights || u2.dataHeights.length <= 0) && ((f2 = h2.getItemRect(a2)).y += p2, o2 <= f2.bottom + 2 && o2 >= f2.bottom - 3)) return this._rowResizeReq.init(a2, c2, f2.y, o2 - f2.bottom - 1);
    } else if (u2.rowResizable && (!u2.dataHeights || u2.dataHeights.length <= 0)) for (var _2 = h2.itemCount, g2 = l2.topIndex, y2 = 0; y2 < _2; y2++) {
      var m2 = y2 + g2 + d2;
      if (m2 == a2 && ((f2 = h2.getItemRect(y2 + d2)).y += p2, o2 <= f2.bottom + 2 && o2 >= f2.bottom - 3)) return this._rowResizeReq.init(m2, c2, f2.y, o2 - f2.bottom - 1);
    }
    return null;
  }, e2.prototype._getDragTracker = function(t3, e3, i2) {
    if (t3 instanceof lu) switch (t3.style) {
      case Js.ROWS:
      case Js.SINGLE_ROW:
        return new gh(t3, e3, i2);
      case Js.COLUMNS:
        return new yh(t3, e3, i2);
      case Js.BLOCK:
      case Js.GROUP:
      case Js.NONE:
        return new _h(t3, e3, i2);
    }
    else {
      if (t3 instanceof hu) return new hh(t3, this._cellResizer);
      if (t3 instanceof uu) return new uh(t3, this._cellFeedback, this._cellMover);
      if (t3 instanceof cu) return new ch(t3, this._cellResizer);
      if (t3 instanceof pu) return new ph(t3, this._rowMoverProxy, this._rowMoverLine);
      if (t3 instanceof du) return new dh(t3, this._cellResizer);
      if (Ot.isMobile()) {
        if (t3 instanceof Iu) return this._touchScrollTracker.request = t3, this._touchScrollTracker;
        if (t3 instanceof Eu) return this._touchSelectTracker.request = t3, this._touchSelectTracker;
      }
    }
    return null;
  }, e2.prototype.$_checkCellClicked2 = function(t3, e3) {
    if (t3 !== e3.target && t3.firstElementChild !== e3.target) {
      var i2 = xt(t3), o2 = this.grid, r2 = o2.checkBar, n2 = o2.rowBarContainer.getCheckBox(t3);
      if (o2.editOptions.checkable) {
        var s2 = o2.getEditItem(), a2 = o2.getItem(t3.parentElement[g]), l2 = true;
        if (s2 && s2.dataRow !== a2.dataRow) {
          var h2 = o2.editOptions;
          try {
            switch (s2.itemState) {
              case vo.APPENDING:
                l2 = o2.commit(h2.forceAppend);
                break;
              case vo.INSERTING:
                l2 = o2.commit(h2.forceInsert);
                break;
              case vo.UPDATING:
                l2 = o2.commit(h2.commitWhenNoEdit);
            }
          } catch (t4) {
            throw e3.preventDefault(), t4;
          }
        }
        if (false === l2) return void e3.preventDefault();
        if (a2.checkable) {
          var u2 = n2.checked;
          r2.exclusive ? u2 = !r2.toggleRadio || !a2.checked : e3.target instanceof i2.HTMLSpanElement && (u2 = !n2.checked), n2.checked = u2;
        }
        this._doCheck(n2, a2, e3.shiftKey);
      } else e3.preventDefault();
    }
  }, e2.prototype._doCheck = function(t3, e3, i2) {
    var o2 = this.grid, r2 = o2.checkBar, n2 = o2.rowBarContainer.checkBar;
    if (o2.editOptions.checkable) {
      var s2 = o2.checkBar;
      if (e3.checkable && (s2.showGroup || e3.dataRow >= 0) && t3) {
        var a2 = n2._prevChecked, l2 = void 0, h2 = void 0, u2 = [], c2 = -1, d2 = -1, p2 = void 0;
        if (i2 && a2 >= 0 && !r2.exclusive || s2.merged) {
          i2 && a2 >= 0 ? (l2 = Ts.temp(o2, a2, null), h2 = o2.getItem(a2).checked, s2.merged ? (c2 = (p2 = s2.merges.getRoom(l2)) ? p2.head : a2, d2 = p2 ? p2.tail : a2) : (c2 = a2, d2 = e3.index)) : (h2 = t3.checked, c2 = d2 = e3.index, n2.$_setPrevChecked(e3.index), r2.exclusive && o2.itemSource._clearChecked()), s2.merged ? (l2 = Ts.temp(o2, e3.index, null), p2 = s2.merges.getRoom(l2), c2 = Math.min(p2 ? p2.head : e3.index, c2), d2 = Math.max(p2 ? p2.tail : e3.index, d2)) : (c2 = Math.min(c2, e3.index), d2 = Math.max(c2, d2));
          for (var f2 = c2; f2 <= d2; f2++) {
            var _2 = o2.getItem(f2);
            _2.checkable && _2.dataRow >= 0 && u2.push(_2);
          }
          u2.length > 0 && o2.itemSource.checkItems(u2, h2, true);
        } else if (o2.itemSource.checkItem(e3, t3.checked, s2.exclusive, true), n2.$_setPrevChecked(e3.index), s2.focusMove) {
          var g2 = o2.focusedIndex.clone();
          g2.itemIndex = e3.index, !o2.isValid(g2) && null == g2.column && g2.item.isDataRow && (g2.layout = o2.getFirstLayout()), this.setFocused(g2, true, true);
        }
      }
    }
  }, e2.prototype._checkAllClicked = function() {
    var t3 = this.grid;
    if (!t3.empty && t3.editOptions.checkable) {
      var e3 = t3.checkBar, i2 = t3.headView;
      e3.showAll && !e3.exclusive && (i2.allChecked = !i2.allChecked, i2.indeterminate = false, t3.itemSource.checkAll(i2.allChecked, e3.visibleOnly, e3.checkableOnly, true, e3.showGroup && !e3.merged && e3.fieldIndex < 0));
    }
  }, e2.prototype._doColumnHeaderClicked = function(t3, e3) {
    var i2 = 2 == t3.button, o2 = Ot.ctrlKey(t3), r2 = t3.target;
    if (!i2) {
      var n2 = void 0;
      e3 instanceof _s ? n2 = e3.getDataColumn() : e3 instanceof vs && e3.hideChildHeaders && e3.tiedColumn && (n2 = e3.tiedColumn);
      var s2 = this.grid, a2 = s2.getHeaderView(this._clickCell).tableCellByCell(this._clickCell);
      if (n2) if (r2 === a2.check || r2 === a2.checkSpan) a2.check.checked = n2.checked = !n2.checked, s2._columnCheckedChanged(n2);
      else if (r2 === a2.filter && n2.hasFilters) s2.selectColumnFilters(a2);
      else {
        if (r2 !== a2.popup) return !!Ot.isClickableTemplate(a2.cell, r2) || (!(n2.sortable && s2.sortingOptions.enabled && !o2) || (s2.sortColumn(n2, t3), true));
        var l2 = n2.header.popupMenuName, h2 = s2.getCellViewOf(a2.cell);
        l2 && h2 && s2.popupMenuManager.show(l2, h2, null, true);
      }
      else if (e3 instanceof vs) {
        if (r2 !== a2.expander || !e3.expandable) return true;
        e3.expanded = !e3.expanded;
      }
    }
  }, e2.prototype.$_gridCellClicked = function(t3) {
    this.grid._fireCellClicked(t3);
  }, e2.prototype.$_gridCellDblClicked = function(t3) {
    this.grid._fireCellDblClicked(t3);
  }, e2.prototype.$_setHoveredCell = function(t3, e3, i2) {
    var o2 = this.grid, r2 = this._findTableCell();
    if (t3 && r2) {
      var n2 = o2.getTableView(r2), s2 = this.$_getIndexAt(o2, o2.layoutManager, n2, r2, i2);
      if (t3 !== this._tooltipCell || !Ts.areEquals(this._tooltipIndex, s2)) {
        this._hideTooltip(), this._tooltipShowTimer && clearTimeout(this._tooltipShowTimer);
        var a2 = o2.displayOptions.hintDelay;
        if (t3) if (a2 > 0) {
          var l2 = this;
          this._tooltipShowTimer = setTimeout((function() {
            l2.$_showTooltip2(t3, s2);
          }).bind(l2), a2);
        } else this.$_showTooltip2(t3, s2);
      }
    }
  }, e2.prototype._hideTooltip = function() {
    this.grid.tooltipManager.close(), this._tooltipCell = null, this._tooltipIndex.reset();
  }, e2.prototype.$_showTooltip2 = function(t3, e3) {
    var i2 = this.grid, o2 = i2.validationManager.getError(e3);
    if (i2.editOptions.hintOnError && o2) this.$_showTooltip(t3, e3, { message: o2.message });
    else {
      var r2 = t3.renderer2, n2 = i2.getCellType(t3.cell), s2 = e3.item, a2 = this._findTableCell();
      if (!a2) return;
      var l2 = a2.firstElementChild, h2 = l2.clientWidth < l2.scrollWidth || l2.clientHeight < l2.scrollHeight, u2 = i2.displayOptions, c2 = s2 && n2 === O.DATA && (!Ot.isMobile() || i2.mobileOptions.showTooltip);
      if (s2 instanceof Hr ? c2 = c2 && e3.dataColumn && e3.dataColumn.groupLevel > 0 && s2.groupLevel + 1 >= e3.dataColumn.groupLevel : s2 instanceof jr && (c2 = c2 && e3.dataColumn && s2.level > e3.dataColumn.groupLevel), (c2 = c2 && !!r2) && (c2 = u2.showTooltip ? false !== r2.showTooltip : r2.showTooltip), c2 && (u2.tooltipEllipsisOnly && false !== r2.tooltipEllipsisOnly || true === r2.tooltipEllipsisOnly) && (c2 = h2), c2 && !Ts.areEquals(e3, this._tooltipIndex)) {
        var d2 = r2.getTooltip(t3, e3);
        if (d2 || u2.showEmptyTooltip) {
          var p2 = i2._fireShowTooltip(e3, d2);
          p2 && ("boolean" == typeof p2 ? p2 = { message: d2 } : "string" == typeof p2 && (p2 = { message: p2 }), this.$_showTooltip(t3, e3, p2));
        }
      }
    }
  }, e2.prototype.$_showTooltip = function(t3, e3, i2) {
    var o2 = this.grid, r2 = o2.tooltipManager, n2 = o2.layoutManager;
    if (!r2.visible || this._tooltipCell != t3) {
      this._hideTooltip();
      var s2 = o2.getBodyView(t3.cell), a2 = s2.getCellRectAt(n2, e3, false);
      a2 = s2.boundsByContainer(a2);
      var l2 = t3.layout.isFixed ? a2.x : Math.max(a2.x, n2.nonFixedBounds.x), h2 = a2.y + a2.height;
      r2.show(i2, l2, h2, a2.height, false), this._tooltipCell = t3, this._tooltipIndex.assign(e3);
    }
  }, e2.prototype.$_showStateError = function(t3, e3) {
    var i2 = this.grid, o2 = i2.tooltipManager, r2 = i2.layoutManager;
    if (t3 !== this._tooltipCell) {
      this._hideTooltip();
      var n2 = i2.focusedIndex.itemIndex, s2 = i2.rowBarContainer.boundsByContainer(), a2 = r2.getItemBounds(n2 < r2.fixedItemCount ? n2 : n2 - r2.topIndex);
      o2.show({ message: e3 }, s2.x, s2.y + a2.bottom, a2.height, true), this._tooltipCell = t3, this._tooltipIndex.assign(null);
    }
  }, e2.prototype.$_setHoveredHeaderCell = function(t3, e3, i2) {
    if (t3 != this._tooltipCell) {
      this._hideTooltip(), this._tooltipShowTimer && clearTimeout(this._tooltipShowTimer);
      var o2 = this.grid.displayOptions.hintDelay;
      if (o2 > 0) {
        var r2 = this;
        this._tooltipShowTimer = setTimeout((function() {
          r2.$_showHeaderTooltip2(t3);
        }).bind(r2), o2);
      } else this.$_showHeaderTooltip2(t3);
    }
  }, e2.prototype.$_showHeaderTooltip2 = function(t3) {
    var e3 = this.grid, i2 = e3.header.showTooltip, o2 = e3.header.tooltipEllipsisOnly, r2 = this._findTableCell();
    if (r2) {
      var n2 = r2.firstElementChild, s2 = n2.clientWidth < n2.scrollWidth || n2.clientHeight < n2.scrollHeight;
      if (false !== i2 && this._tooltipCell != t3) {
        var a2 = t3 && t3.showTooltip;
        if (void 0 === i2 ? a2 : false !== a2) {
          var l2 = t3.tooltip || t3.text, h2 = true;
          if ((o2 && false !== t3.tooltipEllipsisOnly || true === t3.tooltipEllipsisOnly) && (h2 = s2), h2 && l2) {
            var u2 = e3._fireShowHeaderTooltip(t3.layout.firstColumn, l2, t3.layout);
            u2 && ("boolean" == typeof u2 ? u2 = { message: l2 } : "string" == typeof u2 && (u2 = { message: u2 }), this.$_showHeaderTooltip(t3, u2));
          }
        }
      }
    }
  }, e2.prototype.$_showHeaderTooltip = function(t3, e3) {
    var i2 = this.grid, o2 = i2.tooltipManager, r2 = i2.layoutManager;
    if (!o2.visible || this._tooltipCell != t3) {
      this._hideTooltip();
      var n2 = r2.getHeaderCellRect(t3.layout, false), s2 = t3.layout.isFixed ? n2.x : Math.max(n2.x, r2.nonFixedBounds.x), a2 = n2.y + n2.height;
      o2.show(e3, s2, a2, 0, true), this._tooltipCell = t3;
    }
  }, e2.prototype.$_cellButtonClicked = function(t3) {
    var e3 = this.grid, i2 = t3.layout.firstColumn;
    if (i2) {
      var o2 = t3.getEditIndex(this._tempIndex);
      switch (t3.button) {
        case F.POPUP:
          var r2 = i2.popupMenuName, n2 = e3.getCellViewOf(t3.cell);
          r2 && n2 && e3.popupMenuManager.show(r2, n2, o2, true);
          break;
        case F.ACTION:
          e3._doCellButtonClicked(o2);
      }
    }
  }, e2.prototype.$_commitCancel = function(t3, e3) {
    var i2 = this.grid;
    try {
      switch (t3.itemState) {
        case vo.INSERTING:
          return i2.commit(e3.forceInsert) || i2.cancel(true), true;
        case vo.APPENDING:
          return i2.commit(e3.forceAppend) || i2.cancel(true), true;
        case vo.UPDATING:
          return i2.commit(e3.commitWhenNoEdit) || i2.cancel(true), true;
      }
    } catch (o2) {
      if (o2 instanceof Tn) return (o2 = i2._fireValidationFail(t3.index, o2.column, o2)) && alert(e3.showOnlyValidationMessage && o2.userMessage ? o2.userMessage : o2.toString()), false;
      if (o2 instanceof Dn) return false;
      throw o2;
    }
    return false;
  }, e2.prototype.$_checkAppending = function(t3, e3, i2) {
    void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = null);
    var o2 = this.grid;
    if (t3.itemIndex == o2.itemCount - 1 && Ao(t3.item.itemState)) {
      var r2 = t3.itemIndex;
      if (!i2 || i2.itemIndex != r2) {
        try {
          o2.commit(o2.editOptions.forceAppend, true) ? ((t3 = t3.clone()).itemIndex = r2, o2.isValid(t3) || (t3.itemIndex = o2.getItemIndexOfRow(o2.dataSource.rowCount - 1)), this.setFocused(t3, true, true)) : e3 && (o2.cancel(true), i2 && this.setFocused(i2, true, true));
        } catch (t4) {
          if (t4 instanceof Tn) return (t4 = o2._fireValidationFail(r2, t4.column, t4)) && alert(o2.editOptions.showOnlyValidationMessage && t4.userMessage ? t4.userMessage : t4.toString()), true;
          if (t4 instanceof Dn) return true;
          throw t4;
        }
        return true;
      }
    }
    return false;
  }, e2.prototype._getTouchRequest = function(t3) {
    var e3 = this.grid, i2 = e3.selectionLayer;
    if (i2 instanceof ku) {
      var o2 = i2.getSelectHandle(t3.target);
      if (o2) return this._touchSelectRequest.handle = o2, this._touchSelectRequest;
    }
    if (t3.target instanceof HTMLInputElement) return null;
    var r2 = e3.getCellViewOf(t3.target), n2 = e3.getCellType(r2);
    if (!r2) {
      var s2 = this.findElementAt(t3.mouseX, t3.mouseY, false), a2 = this._getClickData(s2, t3);
      n2 = a2 && a2.cellType;
    }
    switch (n2) {
      case O.DATA:
        var l2 = e3.getBodyCellbyCell(t3.target);
        if (l2 && l2.isEditButton(t3.target)) return;
        return this._touchScrollRequest;
      case O.GRID_EMPTY:
      case O.FOOTER:
      case O.SUMMARY:
      case O.GROUP_FOOTER:
      case O.GROUP_HEADER:
      case O.INDICATOR:
      case O.STATE:
      case O.CHECK:
        return this._touchScrollRequest;
    }
  }, e2.prototype._doTouchMove = function(t3) {
    var e3, i2 = this.grid.mobileOptions, o2 = this.dragTracker, r2 = !!o2;
    return o2 instanceof Ou && (r2 = o2._scrolling || void 0 === o2._scrolling), Ot.isMobile() && Ot.isiOS && (e3 = t3.touches && t3.touches[0].touchType), "stylus" === e3 ? (o2 && o2._scrolling || this._swipeTimer || !i2.scrollPropagate || !t3.cancelable) && t3.preventDefault() : (r2 || this._swipeTimer || !i2.scrollPropagate) && t3.cancelable && t3.preventDefault(), o2 && void 0 === o2._scrolling || (this._longPressed = false, this._longTimer = this._longTimer && clearTimeout(this._longTimer)), this._touchEvents.push({ x: t3.mouseX, y: t3.mouseY, t: t3.timeStamp }), false;
  }, e2.prototype._checkSwipe = function(t3) {
    if (this.dragTracker instanceof Ou) {
      var e3 = this.grid, i2 = this._clickCell && e3.getTableView(this._clickCell);
      if (!((i2 = i2 || this.findElementAt(t3.mouseX, t3.mouseY, false)) instanceof th || i2 instanceof Sl || i2 instanceof Ul)) {
        var o2 = this._getClickData(i2, t3);
        if (o2 && o2.cellType !== O.GROUP_HEADER) return;
      }
      var r2 = this._touchEvents, n2 = r2.length;
      if (!(n2 < 2)) {
        for (var s2 = r2[n2 - 1], a2 = r2[n2 - 2], l2 = n2 - 3; l2 >= 0 && !(s2.t - a2.t > 100); l2--) a2 = r2[l2];
        var h2 = a2.x, u2 = a2.y, c2 = s2.x, d2 = s2.y, p2 = Math.sqrt(Math.pow(h2 - c2, 2) + Math.pow(u2 - d2, 2)) / Math.max(16, s2.t - a2.t), f2 = 0.998;
        if (p2 > 0.1) {
          var _2 = Math.log(0.1 / p2) / Math.log(f2), g2 = p2 * (1 - Math.pow(f2, _2 + 1)) / (1 - f2), y2 = "right", m2 = Math.round(180 * Math.atan2(d2 - u2, c2 - h2) / Math.PI);
          if (m2 < 0 && (m2 = 360 + m2), m2 > 45 && m2 <= 135 ? y2 = "bottom" : m2 > 135 && m2 <= 225 ? y2 = "left" : m2 > 225 && m2 <= 315 && (y2 = "top"), i2 instanceof th && Ot.included(y2, "bottom", "top")) return;
          return this.onSwipeHandler(_2, g2, y2, t3);
        }
      }
    }
  }, e2.prototype.onSwipeHandler = function(t3, e3, i2, o2) {
    this._touchMoving = true, this._swipeDuration = t3, this._swipeStarted = Ot.getTimer(), this._swipeAmount = 0;
    var r2 = 1;
    switch (i2) {
      case "right":
        r2 = -1;
      case "left":
        this._swipeDistance = r2 * e3 / 20, this._swipeTimer = setInterval(this.$_scrollLeftPos.bind(this), 50);
        break;
      case "bottom":
        r2 = -1;
      case "top":
        this._swipeDistance = r2 * e3 / 20, this._swipeTimer = setInterval(this.$_scrollRow.bind(this), 50);
    }
    return true;
  }, e2.prototype.$_checkTopBottom = function(t3) {
    var e3 = this.grid, i2 = e3.layoutManager;
    return 0 === e3.topIndex && t3 < 0 || e3.topIndex + i2.fullItemCount >= e3.itemCount && t3 > 0;
  }, e2.prototype.$_scrollRow = function() {
    var t3 = Ot.getTimer();
    if (Math.abs(this._scrollY - window.scrollY) > 10) this._touchMoving = this._swipeTimer = clearInterval(this._swipeTimer);
    else if (t3 - this._swipeStarted < this._swipeDuration) {
      var e3 = Math.floor(50 * (this._swipeDistance - this._swipeAmount) / this._swipeDuration);
      this._swipeAmount -= e3, this.grid.topIndex += e3, this.$_checkTopBottom(e3) && (this._swipeTimer = clearInterval(this._swipeTimer));
    } else this._swipeTimer = clearInterval(this._swipeTimer);
  }, e2.prototype.$_scrollLeftPos = function() {
    Ot.getTimer() - this._swipeStarted < this._swipeDuration ? this.grid.leftPos += Math.floor(this._swipeDistance) : this._touchMoving = this._swipeTimer = clearInterval(this._swipeTimer);
  }, e2;
}(Wu);
var zu = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._valueSeparator = "/", e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "separator", { get: function() {
    return this._valueSeparator;
  }, set: function(t3) {
    this._valueSeparator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueSeparator", { get: function() {
    return this._valueSeparator;
  }, set: function(t3) {
    this._valueSeparator = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "separatorStyle", { get: function() {
    return this._separatorStyle || e2.SEPARATOR_STYLE;
  }, set: function(t3) {
    this._separatorStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "targetStyle", { get: function() {
    return this._targetStyle || e2.TARGET_STYLE;
  }, set: function(t3) {
    this._targetStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "actualStyle", { get: function() {
    return this._actualStyle || e2.ACTUAL_STYLE;
  }, set: function(t3) {
    this._actualStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "template", { get: function() {
    return this._template;
  }, set: function(t3) {
    this._template = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3);
    this._templateDiv = e3.createElement("div");
    var i2 = this._templateDiv.style;
    i2.width = i2.height = "100%", i2.position = "relative", this._targetSpan = e3.createElement("span"), this._actualSpan = e3.createElement("span"), (this._separatorSpan = e3.createElement("span"))[Ot.TextProp] = Ot.htmlEncode(this._valueSeparator || this.index.valueColumn.valueSeparator), t3.appendChild(this._actualSpan), t3.appendChild(this._separatorSpan), t3.appendChild(this._targetSpan), t3.appendChild(this._templateDiv);
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = e3.value;
    this._targetSpan.className = this.targetStyle, this._separatorSpan.className = this.separatorStyle, this._actualSpan.className = this.actualStyle, this._templateDiv.style.display = "none";
    var s2 = null == n2[0] ? "" : String(n2[0]), a2 = null == n2[1] ? "" : String(n2[1]), l2 = "";
    if (this._template) {
      var h2 = this._template;
      h2.indexOf("${target}") > 0 && h2.indexOf("${actual") > 0 && (l2 = "none", h2 = h2.replace("${target}", s2).replace("${actual}", a2), this._templateDiv.style.display = "", this._templateDiv.innerHTML = h2);
    }
    this._targetSpan.style.display = this._separatorSpan.style.display = this._actualSpan.style.display = l2, n2.length ? (this._targetSpan[Ot.TextProp] = s2, this._actualSpan[Ot.TextProp] = a2) : (this._targetSpan[Ot.TextProp] = "", this._actualSpan[Ot.TextProp] = "");
  }, e2.prototype._makeText = function(t3, e3) {
    var i2 = this._valueSeparator || this.index.seriesColumn.valueSeparator;
    return e3.getDisplayText(t3, i2);
  }, e2.TYPE = "actualtargettext", e2.TARGET_STYLE = "rg-actualtarget-target", e2.ACTUAL_STYLE = "rg-actualtarget-actual", e2.SEPARATOR_STYLE = "rg-actualtarget-separator", e2;
}(zr);
var qu = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._minValue = 0, e3._maxValue = 100, e3.$_render = function(t3, i2, o2, r2) {
      var n2 = e3._values;
      if (n2 && !(n2.length < 2)) {
        var s2 = n2[0], a2 = n2[1];
        if (null != s2 && null != a2) {
          i2.sbounds(e3.backgroundStyle, "0%", "10%", "100%", "80%");
          var l2 = "1px";
          e3.strokeWidth > 0 && (l2 = "".concat(e3.strokeWidth, "px"));
          var h2 = "40%", u2 = "30%";
          if (e3.actualHeight) {
            var c2 = e3.actualHeight, d2 = parseFloat(c2);
            if (c2.indexOf("%") >= 0) u2 = "".concat((100 - d2) / 2, "%"), h2 = "".concat(d2, "%");
            else u2 = "".concat((0.9 * r2 - d2) / 2, "px"), h2 = "".concat(d2, "px");
          }
          var p2 = e3.getValueRate(a2);
          i2.sbounds(e3.actualStyle, l2, u2, "".concat(p2, "%"), h2);
          var f2 = e3.targetWidth || 3, _2 = e3.getValueRate(s2) * ((o2 - f2) / o2);
          i2.sbounds(e3.targetStyle, "".concat(_2, "%"), "10%", "".concat(f2, "px"), "80%");
        }
      }
    }, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doInitOptions = function() {
    this._actualStyle = e2.ACTUAL_STYLE, this._targetStyle = e2.TARGET_STYLE, this._backgroundStyle = e2.BASE_STYLE, this._minValue = 0, this._maxValue = 100, this._strokeWidth = this._targetWidth = this._actualHeight = void 0;
  }, Object.defineProperty(e2.prototype, "backgroundStyle", { get: function() {
    return this._backgroundStyle || e2.BASE_STYLE;
  }, set: function(t3) {
    this._backgroundStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "targetStyle", { get: function() {
    return this._targetStyle || e2.TARGET_STYLE;
  }, set: function(t3) {
    this._targetStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "actualStyle", { get: function() {
    return this._actualStyle || e2.ACTUAL_STYLE;
  }, set: function(t3) {
    this._actualStyle = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxValue", { get: function() {
    return this._maxValue;
  }, set: function(t3) {
    this._maxValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minValue", { get: function() {
    return this._minValue;
  }, set: function(t3) {
    this._minValue = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "strokeWidth", { get: function() {
    return this._strokeWidth;
  }, set: function(t3) {
    this._strokeWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "targetWidth", { get: function() {
    return this._targetWidth;
  }, set: function(t3) {
    this._targetWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "actualHeight", { get: function() {
    return this._actualHeight;
  }, set: function(t3) {
    "number" == typeof t3 ? this._actualHeight = t3 + "px" : t3.indexOf("%") > 0 || t3.indexOf("px") > 0 ? this._actualHeight = t3 : this._actualHeight = "".concat(t3, "%");
  }, enumerable: false, configurable: true }), e2.prototype.getValueRate = function(t3) {
    t3 = parseFloat(t3);
    var e3 = Math.floor((t3 - this._minValue) / (this._maxValue - this._minValue) * 1e4) / 100;
    return Math.min(e3, 100);
  }, Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return e2.STYLE_NAME;
  }, enumerable: false, configurable: true }), e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = t3.style, o2 = this._div = e3.createElement("div");
    (i2 = o2.style).position = "relative", i2.height = "100%", t3.appendChild(o2), (i2 = (this._svg = Tr.createSVG(o2)).style).position = "absolute", i2.left = i2.top = "0px", i2.width = i2.height = "100%";
  }, e2.prototype._doRenderCell = function(t3, e3, i2, o2, r2) {
    var n2 = this._svg;
    this._values = e3.value || [], Tr.renderSVG2(t3, n2, this.$_render, o2, r2);
  }, e2.prototype._makeText = function(t3, e3) {
    return e3.getDisplayText(t3, this.index.seriesColumn.valueSeparator);
  }, e2.TYPE = "actualtargetbullet", e2.STYLE = "rg-bullet-renderer", e2.BASE_STYLE = "rg-bullet-background", e2.TARGET_STYLE = "rg-bullet-target", e2.ACTUAL_STYLE = "rg-bullet-actual", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(zr);
var Ku = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._cellEditors = {}, i2._customRenderers = {}, i2._grid = e3, i2;
  }
  return i(e2, t2), e2.registryCustomRenderer = function(t3, i2, o2) {
    t3 && i2 && (e2.$_customRenderers[t3] && !o2 || (e2.$_customRenderers[t3] = i2));
  }, e2.prototype._doDispose = function() {
    this._grid = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "editors", { get: function() {
    return this._cellEditors;
  }, enumerable: false, configurable: true }), e2.prototype.getDefaultCellEditor = function() {
    if (!this._defaultEditor) {
      var t3 = this._grid.container._container;
      this._defaultEditor = new $a(this._grid, t3), this._cellEditors.line = this._defaultEditor, this._defaultEditor.setController(this._grid.editController);
    }
    return this._defaultEditor;
  }, e2.prototype.getCellEditor = function(t3) {
    var e3 = this._grid.container._container, i2 = this._cellEditors[t3];
    if (!i2) {
      switch (t3) {
        case "list":
        case "dropdown":
          i2 = new za(this._grid, e3);
          break;
        case "nlist":
          i2 = new Za(this._grid, e3);
          break;
        case "multiline":
          i2 = new Ba(this._grid, e3);
          break;
        case "number":
          i2 = new ja(this._grid, e3);
          break;
        case "date":
          i2 = new al(this._grid, e3);
          break;
        case "btdate":
          i2 = new hl(this._grid, e3);
          break;
        case "search":
          i2 = new Xa(this._grid, e3);
          break;
        case "checklist":
          i2 = new Ka(this._grid, e3);
          break;
        case "password":
          i2 = new Aa(this._grid, e3);
          break;
        case "ndate":
          i2 = new ul(this._grid, e3);
          break;
        default:
          i2 = this.getDefaultCellEditor();
      }
      this._cellEditors[t3] = i2, i2 && i2.setController(this._grid.editController), this._grid.accessibility && i2.detach();
    }
    return i2;
  }, e2.prototype.getEditConfig = function(t3) {
    var e3 = this.grid, i2 = e3.editorOptions;
    if (e3 && t3) switch (t3) {
      case "list":
      case "dropdown":
        return Ot.assign({}, Ke.editor.dropdownCellEditor, i2.dropdownCellEditor);
      case "number":
        return Ot.assign({}, Ke.editor.numberCellEditor, i2.numberCellEditor);
      case "date":
        return Ot.assign({}, Ke.editor.dateCellEditor, i2.dateCellEditor);
      case "search":
        return Ot.assign({}, Ke.editor.searchCellEditor, i2.searchCellEditor);
      case "checklist":
        return Ot.assign({}, Ke.editor.multiCheckCellEditor, i2.multiCheckCellEditor);
    }
  }, e2.prototype.$_checkFlexible = function(t3, e3) {
    if (!Ot.ieOld && !Ot.ieTen) return t3 && t3.flexible || e3 && e3.flexible;
  }, e2.prototype.createRenderer = function(t3, i2, o2) {
    var r2 = null;
    if (t3) {
      switch (t3) {
        case qr.TYPE:
          r2 = new qr();
          break;
        case Xr.TYPE:
          r2 = new Xr();
          break;
        case Zr.TYPE:
          r2 = new Zr();
          break;
        case Qr.TYPE:
          r2 = this.$_checkFlexible(i2, o2) ? new tn() : new Qr();
          break;
        case en.TYPE:
          r2 = this.$_checkFlexible(i2, o2) ? new rn() : new en();
          break;
        case nn.TYPE:
          r2 = new nn();
          break;
        case an.TYPE:
          r2 = this.$_checkFlexible(i2, o2) ? new ln() : new an();
          break;
        case sn.TYPE:
          r2 = new sn();
          break;
        case hn.TYPE:
          r2 = new hn();
          break;
        case un.TYPE:
          r2 = new un();
          break;
        case cn.TYPE:
          r2 = new cn();
          break;
        case kl.SERIES_TYPE:
          r2 = new kl();
          break;
        case Tl.TYPE:
          r2 = new Tl();
          break;
        case Ml.TYPE:
          r2 = new Ml();
          break;
        case Fl.TYPE:
          r2 = new Fl();
          break;
        case _n.TYPE:
          r2 = new _n();
          break;
        case on.TYPE:
          r2 = new on();
          break;
        case zu.TYPE:
          r2 = new zu();
          break;
        case qu.TYPE:
          r2 = new qu();
      }
      if (!r2) {
        var n2 = this._customRenderers[t3] || e2.$_customRenderers[t3];
        n2 && (r2 = "function" == typeof n2 ? new n2(t3) : new _u(n2, t3));
      }
      r2 || (Ot.log("Renderer type is invalid: " + t3), r2 = new qr()), i2 && r2.assignFrom(i2), o2 && r2.assignFrom(o2);
    }
    return r2;
  }, e2.prototype.addCustomRenderer = function(t3, e3) {
    t3 && e3 && (this._customRenderers[t3] = e3);
  }, e2.prototype.removeCustomRenderer = function(t3) {
    delete this._customRenderers[t3];
  }, e2.prototype.existsCustomRenderer = function(t3) {
    return this._customRenderers.hasOwnProperty(t3);
  }, e2.prototype.clearCustomRenderers = function() {
    this._customRenderers = {};
  }, e2.$_customRenderers = {}, e2;
}(Ft);
var Xu = function(t2) {
  function e2(e3, i2, o2) {
    void 0 === i2 && (i2 = 0);
    var r2 = t2.call(this, e3) || this;
    if (i2 < 1) throw new Error("LookupTable levels must be equals or greater than 1");
    return r2._levels = i2, r2._tree = {}, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._tree = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.clear = function() {
    this._tree = {}, this._changed();
  }, e2.prototype.exists = function(t3) {
    var e3;
    if ((t3 = Ot.makeArray(t3)) && (e3 = t3.length) > 0 && e3 <= this._levels) {
      if ((e3 = Math.min(e3, this._levels) - 1) > 0) {
        for (var i2 = this._tree, o2 = 0; o2 < e3 && (i2 = i2[t3[o2]]); o2++) ;
        return null != i2 && i2.hasOwnProperty(t3[e3]);
      }
      return this._tree.hasOwnProperty(t3[0]);
    }
    return false;
  }, e2.prototype.fill = function(t3, e3, i2) {
    if (t3 && t3.length > 0 && e3 && e3.length > 0) {
      for (var o2 = Math.min(t3.length, e3.length), r2 = 0; r2 < o2; r2++) {
        var n2 = Ot.makeArray(t3[r2]);
        this.$_add(n2, e3[r2], null == i2 ? void 0 : i2.list[r2]);
      }
      this._changed();
    }
  }, e2.prototype.fillRows = function(t3) {
    if (t3 && t3.length > 0) {
      for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) this.$_addRow(t3[e3]);
      this._changed();
    }
  }, e2.prototype.add = function(t3, e3) {
    t3 && (this.$_add(t3, e3), this._changed());
  }, e2.prototype.addRow = function(t3) {
    t3 && (this.$_addRow(t3), this._changed());
  }, e2.prototype.lookup = function(t3, e3, i2) {
    var o2;
    if (this._levels > 1) {
      var r2 = void 0, n2 = this._levels - 1;
      for (o2 = this._tree, r2 = 0; r2 < n2 && (o2 = o2[t3[r2]]); r2++) ;
    } else o2 = this._tree;
    var s2 = t3[t3.length - 1];
    if (s2) {
      if (o2) {
        for (var a2 = String(s2).split(e3), l2 = [], h2 = (r2 = 0, a2.length); r2 < h2; r2++) {
          var u2 = a2[r2], c2 = o2[u2] && o2[u2].value;
          l2.push(c2 || (i2 || u2));
        }
        return l2.join(e3);
      }
      return i2 || s2;
    }
  }, e2.prototype.getDomain = function(t3) {
    if (!t3 || t3.length != this._levels - 1) throw new Error("Keys length must be " + (this._levels - 1));
    var e3, i2, r2 = this._tree, n2 = [], s2 = [], a2 = [];
    if (this._levels > 1) {
      for (e3 = 0, i2 = t3.length; e3 < i2; e3++) if (!(r2 = r2[t3[e3]])) return { keys: n2, values: s2, listItem: a2 };
    }
    var l2 = [];
    for (var h2 in r2) "__id__" !== h2 && l2.push(o({ key: h2 }, r2[h2]));
    return l2.sort(function(t4, e4) {
      return t4.__id__ - e4.__id__;
    }).map(function(t4) {
      n2.push(t4.key), s2.push(t4.value), a2.push(t4.item);
    }), { keys: n2, values: s2, listItem: a2 };
  }, e2.prototype.getLookupData = function(t3) {
    var e3 = this.getDomain(t3);
    return { keys: e3.keys.map(function(e4) {
      return s(s([], t3, true), [e4], false);
    }), values: e3.values.slice(), listResult: { list: e3.listItem.slice() } };
  }, e2.prototype.getTextDomain = function(t3) {
    for (var e3 = this.getDomain(t3), i2 = e3.keys, o2 = e3.values, r2 = 0, n2 = e3.keys.length; r2 < n2; r2++) i2[r2] = i2[r2] ? String(i2[r2]) : null, o2[r2] = o2[r2] ? String(o2[r2]) : null;
    return e3;
  }, e2.prototype.$_add = function(t3, e3, i2) {
    if (t3) {
      t3 = Ot.makeArray(t3);
      var o2, r2, n2, s2 = this._levels;
      if (t3.length < s2) throw Error("Keys length must be equals or greater than " + s2);
      var a2 = this._tree;
      for (o2 = 0; o2 < s2 - 1; o2++) (n2 = a2[r2 = t3[o2]]) || (a2[r2] = n2 = { __id__: 0 }), a2 = n2;
      a2[t3[s2 - 1]] = { __id__: a2.__id__++, value: e3, item: i2 };
    }
  }, e2.prototype.$_addRow = function(t3) {
    if (t3) {
      if (t3.length - 1 < this._levels) throw Error("Keys length must be equals or greater than " + this._levels);
      var e3 = t3[this._levels], i2 = t3.slice(0, this._levels);
      this.$_add(i2, e3, t3[this._levels + 1]);
    }
  }, e2;
}(function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._id = e3, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "id", { get: function() {
    return this._id;
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this.fireEvent(e2.CHANGED);
  }, e2.CHANGED = "onLookupSourceChanged", e2;
}(Oe));
var Zu = function(t2) {
  function e2(e3) {
    void 0 === e3 && (e3 = null);
    var i2 = t2.call(this) || this;
    return i2._sources = {}, e3 && i2.load(e3), i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return t2.prototype.dispose.call(this);
  }, e2.prototype.load = function(t3) {
    if (t3 = Ot.makeArray(t3)) {
      this._sources = {};
      for (var e3 = 0, i2 = t3.length; e3 < i2; e3++) this.$_add(t3[e3]);
      this._changed();
    }
  }, e2.prototype.add = function(t3) {
    var e3 = this.$_add(t3);
    return e3 && this._changed(), e3;
  }, e2.prototype.remove = function(t3) {
    this.$_remove(t3) && this._changed();
  }, e2.prototype.getSource = function(t3) {
    return this._sources[t3];
  }, e2.prototype.$_createSource = function(t3) {
    if (t3) {
      var e3 = new Xu(t3.id, t3.levels, t3.ordered);
      return e3.fill(t3.keys, t3.values, t3.listResult), e3;
    }
    return null;
  }, e2.prototype.$_add = function(t3) {
    if (t3 && t3.id && this._sources[t3.id] != t3) {
      var e3 = this.$_createSource(t3);
      if (e3) return this.$_remove(t3.id), this._sources[t3.id] = e3, e3.addListener(this), e3;
    }
  }, e2.prototype.$_remove = function(t3) {
    if (t3) {
      var e3 = this._sources[t3];
      if (e3) return e3.removeListener(this), delete this._sources[t3], true;
    }
    return false;
  }, e2.prototype.onLookupSourceChanged = function(t3) {
    this._changed();
  }, e2;
}(function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._changed = function() {
    this.fireEvent(e2.CHANGED);
  }, e2.CHANGED = "onLookupSourceProviderChanged", e2;
}(Oe));
var Ju = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._visible = true, i2._enabled = true, e3 && e3.name && (i2._name = e3.name), e3 && i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    return t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "name", { get: function() {
    return this._name;
  }, set: function(t3) {
    this._name = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._visible;
  }, set: function(t3) {
    this._visible = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled && !this.isSeparator();
  }, set: function(t3) {
    this._enabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "label", { get: function() {
    return this._label;
  }, set: function(t3) {
    this._label = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "tag", { get: function() {
    return this._tag;
  }, set: function(t3) {
    this._tag = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "group", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    this._styleName = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "manager", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.click = function() {
  }, e2.prototype.isSeparator = function() {
    return false;
  }, e2;
}(Oe);
var Qu = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._parent = e3, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._parent = null, this._callback = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "type", { get: function() {
    return this._type;
  }, set: function(t3) {
    this._type = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "group", { get: function() {
    return this._group;
  }, set: function(t3) {
    this._group = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checked", { get: function() {
    return this._checked;
  }, set: function(t3) {
    this._checked = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "callback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    this._callback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return this._parent;
  }, set: function(t3) {
    this._parent = t3;
  }, enumerable: false, configurable: true }), e2.prototype.isSeparator = function() {
    return "-" === this._label || this._type === T.SEPARATOR;
  }, e2.prototype.getData = function() {
    return { label: this._label, checked: this._checked, enabled: this._enabled, tag: this.tag };
  }, e2.prototype.click = function() {
    "check" === this._type && (this._checked = !this._checked), this._parent && this._parent.itemClicked(this);
  }, Object.defineProperty(e2.prototype, "manager", { get: function() {
    return this._parent.manager;
  }, enumerable: false, configurable: true }), e2.prototype._itemClicked = function(t3) {
  }, e2;
}(Ju);
var tc = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._parent = e3, o2._items = o2._load(i2.children), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._items && this._items.forEach(function(t3, e3) {
      t3.dispose();
    }), this._items = null, this._parent = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "children", { get: function() {
    return this._items;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "parent", { get: function() {
    return this._parent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "manager", { get: function() {
    for (var t3 = this._parent; t3; ) {
      if (t3.popupMenuManager instanceof ic) return t3.popupMenuManager;
      if (t3 instanceof ic) return t3;
      t3 = t3._parent;
    }
    return null;
  }, enumerable: false, configurable: true }), e2.prototype.count = function() {
    return this._items ? this._items.length : 0;
  }, e2.prototype.itemClicked = function(t3) {
    if (t3.parent == this && t3.type === T.RADIO) {
      var e3 = t3.group, i2 = void 0;
      if (e3) {
        for (var o2 = 0; o2 < this._items.length; o2++) (i2 = this._items[o2]) instanceof Qu && i2.type === T.RADIO && i2.group === e3 && (i2.checked = false);
        t3.checked = true;
      }
    }
    var r2 = this.manager.grid;
    "function" == typeof t3.callback ? t3.callback.call(this, r2.handler, t3.toProxy(), this.manager.clickData) : this._parent instanceof ic ? this._parent.doMenuItemClick(t3, this.manager.clickData) : this._parent.onMenuItemClick ? this._parent.onMenuItemClick(t3, this.manager.clickData) : this._parent.itemClicked(t3);
  }, e2.prototype.addMenu = function(t3, e3) {
    var i2;
    void 0 === e3 && (e3 = -1);
    var o2 = this._load(Ot.makeArray(t3));
    e3 < 0 && (e3 = this._items.length), (i2 = this._items).splice.apply(i2, s([e3, 0], o2, false));
  }, e2.prototype.removeMenu = function(t3) {
    var e3 = this.getMenu(t3);
    if (e3) {
      var i2 = this._items.indexOf(e3);
      return this._items.splice(i2, 1), e3.dispose(), true;
    }
  }, e2.prototype.getMenu = function(t3) {
    return Ot.find(this._items, function(e3) {
      return e3.name === t3;
    });
  }, e2.prototype._load = function(t3) {
    var i2 = [];
    if (t3) for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) {
      var n2 = t3[o2];
      if (Ot.isArray(n2.children) && n2.children.length > 0) {
        var s2 = new e2(this, n2);
        i2.push(s2);
      } else {
        s2 = new Qu(this, n2);
        i2.push(s2);
      }
    }
    return i2;
  }, e2.CLICKED = "onPopupMenuClicked", e2;
}(Ju);
var ec = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._showing = false, i2._viewGridInside = false, i2._container = e3, i2._element = i2._createElement(), i2._element.addEventListener("contextmenu", function(t3) {
      t3.preventDefault();
    }), i2;
  }
  return i(e2, t2), e2._borrowView = function(t3) {
    var i2 = e2.$_views[t3.$_hash] || [];
    return e2.$_views[t3.$_hash] = i2, i2.pop() || new e2(t3);
  }, e2._returnView = function(t3) {
    e2.$_views[t3._container.$_hash].push(t3);
  }, e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "parentView", { get: function() {
    return this._parentView;
  }, set: function(t3) {
    this._parentView = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "childView", { get: function() {
    return this._childView;
  }, set: function(t3) {
    this._childView = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "currDiv", { get: function() {
    return this._currDiv;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "manager", { get: function() {
    return this._menu.manager;
  }, enumerable: false, configurable: true }), e2.prototype.getElementId = function() {
    return "rg-popup-" + this._menu.name;
  }, e2.prototype.show = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    if (!this._showing) {
      this._showing = true;
      try {
        var l2 = i2.parent;
        for (this._parentView = e3, this._firstItem = null, this._menu = i2; l2._parent && !(l2 instanceof zc); ) l2 = l2.parent;
        l2 && (this._viewGridInside = l2 instanceof zc ? l2.editorOptions.viewGridInside : l2 instanceof ic && l2.grid.editorOptions.viewGridInside), this.$_show(t3, this._menu, o2, r2, n2, s2);
      } finally {
        this._showing = false;
      }
    }
  }, e2.prototype.boundsByContainer = function() {
    return null;
  }, e2.prototype.hide = function(t3) {
    void 0 === t3 && (t3 = true), t3 && this._parentView ? this._parentView.hide(true) : (this.$_hideChildView(), Ot.detach(this._element));
  }, e2.prototype.hideChild = function() {
    this.$_hideChildView();
  }, e2.prototype.changeItemIndex = function(t3) {
    var e3, i2 = this._itemIndex, o2 = this._menu._items;
    if (0 == t3) return this._itemIndex = -1, void this.$_refreshItems(this._itemIndex);
    if (o2 && !(i2 >= o2.length)) {
      for (; (e3 = o2[i2 += t3]) && !e3.enabled; ) ;
      e3 && (this._itemIndex = i2, this.$_refreshItems(this._itemIndex));
    }
  }, e2.prototype.getActiveElementId = function() {
    var t3 = this._menu._items[this._itemIndex];
    return t3 ? t3._elementId : "";
  }, e2.prototype.menuItemClicked = function(t3) {
    this._menuItemClicked(t3);
  }, e2.prototype.$_show = function(t3, e3, i2, o2, r2, n2) {
    if (this._element) {
      var s2 = t3.doc, a2 = this._element, l2 = a2.style, h2 = this.manager, u2 = t3.gridView.displayOptions.baseZindex, c2 = t3._containerDiv;
      this._element.style.zIndex = String(u2 + 4);
      var d2, p2 = h2.dropdownCount;
      if (this._viewGridInside) d2 = t3._container;
      else {
        var f2 = c2.parentNode;
        d2 = !Ot.isSlotMode() || 1 !== f2.nodeType && 11 !== f2.nodeType ? s2.body : f2;
      }
      this._containerElement = d2, a2.id = "rg-popup-" + this._menu.name, this._menu = e3, this._itemIndex = -1, Ot.clearElements(a2), this.$_buildItems(e3), Ot.disableSelection(a2), d2.appendChild(a2);
      var _2 = 0;
      if (p2 && e3.children.length > p2) for (var g2 = 0, y2 = 0; g2 < e3.children.length && y2 < p2; g2++) {
        var m2 = this._element.children[g2];
        m2.menuItem.isSeparator() || (_2 += m2.offsetHeight, y2++);
      }
      _2 > 0 && _2 < a2.offsetHeight ? (l2.height = _2 + 2 + "px", l2.overflow = "auto") : (l2.removeProperty("height"), l2.overflow = "hidden"), this.movePosition(t3, i2, o2, r2, n2);
    }
  }, e2.prototype.movePosition = function(t3, e3, i2, o2, r2, n2) {
    var s2 = t3.doc, a2 = Et(s2), l2 = this._element, h2 = l2.style, u2 = t3._containerDiv, c2 = this._containerElement, d2 = Ot.getBrowserSize(), p2 = Ot.getSize(s2.body), f2 = Ot.getSize(u2), _2 = Ot.getZoom(u2), g2 = d2.width, y2 = d2.height, m2 = Ot.getSize(l2), b2 = (a2.pageXOffset || s2.documentElement.scrollLeft) / _2, v2 = (a2.pageYOffset || s2.documentElement.scrollTop) / _2;
    if (s2.documentElement.scrollWidth > s2.documentElement.clientWidth && (y2 -= 18), s2.documentElement.scrollHeight > s2.documentElement.clientHeight && (g2 -= 18), this._viewGridInside ? (m2.height >= f2.height && (h2.height = f2.height - 4 + "px", h2.overflow = "auto", m2 = Ot.getSize(this._element)), i2 + f2.top + m2.height > f2.bottom && (i2 = this._parentView ? f2.bottom - m2.height - f2.top - 3 : i2 - m2.height - r2), e3 + f2.left + m2.width > f2.right && (e3 = this._parentView ? f2.right - m2.width - f2.left - 3 : e3 - m2.width - o2)) : (this._parentView || (c2 === u2.parentNode ? (e3 += u2.offsetLeft, i2 += u2.offsetTop) : (e3 += f2.left - p2.left, i2 += f2.top - p2.top)), m2.height >= y2 && (h2.height = y2 - 4 + "px", h2.overflow = "auto", m2 = Ot.getSize(this._element)), i2 + m2.height >= y2 + v2 - 3 && (i2 = i2 - m2.height - 3) < 0 && (i2 = Math.max(0, y2 - m2.height - 3)), e3 + m2.width >= g2 + b2 - 3 ? e3 = Math.max(0, g2 - m2.width - 3) : void 0 !== o2 && m2.width < o2 && (e3 += o2 - m2.width)), Ot.move(l2, Math.max(0, e3), Math.max(0, i2)), n2 && this._currDiv && this._childView) {
      var w2 = Ot.getSize(l2), C2 = l2.offsetLeft + w2.width + this.manager.grid.displayOptions.popupViewDistance, x2 = l2.offsetTop + this._currDiv.offsetTop - l2.scrollTop;
      this._childView.movePosition(t3, C2, x2, null, null, n2);
    }
  }, e2.prototype._createElement = function() {
    var t3 = (function(t4) {
      27 == t4.keyCode && this.hide();
    }).bind(this), e3 = this._container.doc.createElement("div");
    return e3.style.setProperty("position", "absolute", "important"), e3.className = "rg-popup-menu", e3.setAttribute("role", "listbox"), e3.tabIndex = -1, this._container.$_addListener(e3, "keydown", t3, false), e3;
  }, e2.prototype._showChild = function(t3) {
    if (this == this.manager.showingView && !(this._childView && this._childView._menu === t3.menuItem || this._currDiv !== t3)) {
      this.$_hideChildView();
      var i2 = t3.menuItem, o2 = Ot.getSize(this._element), r2 = this._element.offsetLeft + o2.width + this.manager.grid.displayOptions.popupViewDistance, n2 = this._element.offsetTop + t3.offsetTop - this._element.scrollTop;
      this._childView = e2._borrowView(this._container), this._childView.show(this._container, this, i2, r2, n2);
    }
  }, e2.prototype.$_hideChildView = function() {
    this.manager.showingView = null, this._childView && (this._childView.$_hideChildView(), Ot.detach(this._childView._element), e2._returnView(this._childView)), this._childView = null;
  }, e2.prototype._menuItemActived = function(t3) {
    this._currDiv = t3;
    var e3 = t3.menuItem, i2 = this.manager.showingView = this.manager.activeView = t3.menuView;
    e3 instanceof Qu ? i2.childView && i2.$_hideChildView() : e3 instanceof tc && e3.enabled && (this._timer && clearTimeout(this._timer), this._timer = setTimeout(function() {
      i2._showChild(t3);
    }, 200));
  }, e2.prototype._menuItemDeactived = function(t3) {
  }, e2.prototype._menuItemClicked = function(t3) {
    var e3 = t3.menuItem;
    e3 instanceof tc ? e3.enabled && this._showChild(t3) : e3 ? e3.enabled && (this.manager._containerDom.focus({ preventScroll: true }), this.hide(true), this.manager.close(), e3.enabled && e3.click()) : this.$_hideChildView();
  }, e2.prototype.$_refreshItems = function(t3) {
    for (var e3 = this._element, i2 = 0, o2 = e3.childElementCount; i2 < o2; i2++) {
      var r2 = e3.childNodes[i2];
      if (i2 === t3 ? Ot.addClassName(r2, "rg-popup-item-focused") : Ot.removeClassName(r2, "rg-popup-item-focused"), i2 == t3) {
        var n2 = r2.offsetTop, s2 = r2.offsetHeight + 4, a2 = e3.offsetHeight, l2 = e3.scrollTop;
        l2 > n2 ? e3.scrollTop = Math.max(0, e3.scrollTop + (n2 - l2)) : l2 + a2 < n2 + s2 && (e3.scrollTop = e3.scrollTop + n2 + s2 - (l2 + a2)), this._menuItemActived(r2);
      }
    }
  }, e2.prototype.$_buildItems = function(t3) {
    for (var i2 = t3.children, o2 = [], r2 = this._container.doc, n2 = 0, s2 = i2.length; n2 < s2; n2++) {
      var a2 = e2.$_menuId++, l2 = i2[n2];
      if (l2.visible) {
        var h2 = r2.createElement("div");
        if (h2.menuView = this, h2.menuItem = l2, h2.setAttribute("role", "option"), h2.id = l2._elementId = "rg-popup-item" + a2, l2 instanceof Qu && l2.isSeparator()) {
          h2.className = "rg-popup-separator";
          var u2 = r2.createElement("hr");
          u2.className = "rg-popup-separator-hr", h2.appendChild(u2), h2.onmouseover = (function(t4) {
            this._menuItemActived(t4.currentTarget);
          }).bind(this);
        } else {
          !this._firstItem && (this._firstItem = h2), o2.length = 0, o2.push("rg-popup-item"), l2.group && o2.push("rg-popup-" + l2.group), !l2.enabled && o2.push("rg-popup-item-disable"), h2.className = o2.join(" "), h2.onclick = (function(t4) {
            this._menuItemClicked(t4.currentTarget);
          }).bind(this), h2.onmouseover = (function(t4) {
            this._menuItemActived(t4.currentTarget);
          }).bind(this), h2.onmouseout = (function(t4) {
            this._menuItemDeactived(t4.currentTarget);
          }).bind(this), o2 = ["rg-popup-content"], Ot.included(l2.type, T.CHECK, T.RADIO) && (l2.checked ? o2.push(l2.group ? "rg-popup-radio-checked" : "rg-popup-check-checked") : o2.push(l2.group ? "rg-popup-radio" : "rg-popup-check")), l2.styleName && o2.push(l2.styleName), l2 instanceof tc && o2.push("rg-popup-expander");
          var c2 = r2.createElement("span");
          c2.id = "$popupMenu_item_" + a2, c2.innerHTML = l2.label, c2.className = o2.join(" "), Ot.disableSelection(c2), h2.appendChild(c2);
        }
        Ot.disableSelection(h2), this._element.appendChild(h2);
      }
    }
  }, e2.$_menuId = 0, e2.$_views = {}, e2;
}(Oe);
var ic = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._grolbalMouseHandler = (function(t3) {
      for (var e4 = t3.target; e4; ) {
        if (e4 === this._mainView._element || e4.menuItem) return;
        e4 = e4.parentElement;
      }
      this.close();
    }).bind(i2), i2._container = e3, i2._containerDom = e3._containerDom, i2._menus = [], i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this.close(), this._mainView = null, this._showingView = null, this._clickData = null, this._activeView = null, this._container = this._containerDom = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "clickData", { get: function() {
    return this._clickData;
  }, set: function(t3) {
    this._clickData = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._container.gridView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dropdownCount", { get: function() {
    if (this._container && this._container.gridView) return this._container.gridView.displayOptions.popupDropdownCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showingView", { get: function() {
    return this._showingView;
  }, set: function(t3) {
    this._showingView = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "activeView", { get: function() {
    return this._activeView;
  }, set: function(t3) {
    this._activeView = t3;
  }, enumerable: false, configurable: true }), e2.prototype.popupManager = function() {
    return this;
  }, e2.prototype.isShow = function() {
    return !!this._mainView;
  }, e2.prototype.indexOf = function(t3) {
    for (var e3 = this._menus.length; e3--; ) if (Ot.compareTextValue(this._menus[e3].name, t3, true, false)) return e3;
    return -1;
  }, e2.prototype.getMenu = function(t3) {
    return Ot.find(this._menus, function(e3) {
      return e3.name === t3;
    });
  }, e2.prototype.addMenu = function(t3, e3, i2, o2) {
    if (void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = null), Ot.isWhiteSpace(t3)) throw "Menu name is empty.";
    var r2 = Ot.find(this._menus, function(e4) {
      return e4.name === t3;
    });
    if (r2 && !i2) return r2;
    this.close();
    var n2 = this._menus.indexOf(r2);
    return r2 && r2.dispose(), r2 = new tc(o2 || this, { name: t3, children: e3 }), n2 >= 0 ? this._menus.splice(n2, 1, r2) : this._menus.push(r2), r2;
  }, e2.prototype.removeMenu = function(t3) {
    var e3 = this.indexOf(t3);
    e3 > -1 && this._menus.splice(e3, 1).forEach(function(t4) {
      return t4.dispose();
    });
  }, e2.prototype.show = function(t3, i2, o2, r2) {
    var n2 = this.grid, s2 = xt(this._containerDom), a2 = o2 && n2.getBodyCellAt(o2);
    if ("string" == typeof t3 && t3) {
      var l2 = Ot.getSize(this._containerDom), h2 = void 0;
      if (a2) {
        var u2 = a2.cellButton || a2.merged && a2.head.cellButton || a2.cell;
        h2 = Ot.getSize(u2);
      } else h2 = Ot.getSize(i2);
      var c2 = h2.bottom, d2 = h2.left - l2.x, p2 = c2 - l2.y, f2 = h2.width, _2 = h2.height;
      if (i2 instanceof s2.HTMLTableCellElement) {
        var g2 = n2.getCellType(i2), y2 = n2.getTableView(i2), m2 = void 0;
        if (g2 === O.DATA) m2 = (a2 = a2 || y2.bodyCellByCell(i2)).grouped ? Tu.getItem(O.GROUP_HEADER, a2.item.index, null) : Tu.getCell(g2, a2, o2);
        else if (g2 === O.HEADER) {
          var b2 = y2.layoutByCell(i2);
          b2 instanceof vs && b2.hideChildHeaders && b2.tiedColumn && (b2 = b2.tiedColumn.layout), m2 = Tu.getLayout(g2, b2);
        }
        this.clickData = m2;
      } else if (i2 instanceof s2.HTMLElement) {
        var v2 = n2.getCellViewOf(i2), w2 = (y2 = n2.getTableView(v2)).tableCellByCell && y2.tableCellByCell(v2);
        (g2 = n2.getCellType(v2)) === O.INLINE_FILTER && (this.clickData = Tu.getLayout(g2, w2.layout));
      }
      var C2 = r2 ? this.fireObjectEvent(e2.POPUP_MENU_POPUP, d2, p2, this.clickData, t3, false) : t3;
      if ("string" == typeof C2) t3 = C2;
      else if (false === C2 || null != C2) return;
      var x2 = this.getMenu(t3);
      x2 && this.$_show(x2, d2, p2, f2, _2, i2);
    }
  }, e2.prototype.$_show = function(t3, e3, i2, o2, r2, n2) {
    var s2 = xt(this._containerDom);
    this._mainView = this._activeView = ec._borrowView(this._container), this._mainView.show(this._container, null, t3, e3, i2, o2, r2), this._popupPosition = { x: e3, y: i2, width: o2, height: r2 }, this._container.addPositionListener(this), !Ot.isSlotMode() && n2 && n2.setAttribute("aria-activedescendant", this._mainView.getElementId()), !Ot.isSlotMode() && s2.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._grolbalMouseHandler, false);
  }, e2.prototype.resetPosition = function() {
    var t3 = this._popupPosition;
    this._mainView.movePosition(this._container, t3.x, t3.y, t3.width, t3.height, true);
  }, e2.prototype.showContext = function(t3, e3, i2, o2, r2) {
    t3 && !this._mainView && (this.clickData = r2, this.$_show(t3, i2, o2, 0, 0, null));
  }, e2.prototype.close = function() {
    if (this._container.removePositionListener(this), this._mainView) {
      var t3 = xt(this._containerDom);
      this._mainView.hide(), ec._returnView(this._mainView), this._mainView = null, !Ot.isSlotMode() && t3.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._grolbalMouseHandler, false);
    }
  }, e2.prototype.keyDown = function(t3, e3) {
    this._doKeydown(t3, e3);
  }, e2.prototype.doMenuItemClick = function(t3, i2) {
    this.fireEvent(e2.MENU_ITEM_CLICKED, t3, i2);
  }, e2.prototype._doKeydown = function(t3, e3) {
    var i2 = this._activeView, o2 = null == i2 ? void 0 : i2.currDiv;
    switch (t3.keyCode) {
      case 40:
        i2.changeItemIndex(1);
        break;
      case 38:
        i2.changeItemIndex(-1);
        break;
      case 37:
        i2.parentView && (i2.changeItemIndex(0), i2.hideChild(), this._showingView = this._activeView = i2.parentView || this._mainView);
        break;
      case 39:
        i2 && i2.childView && (i2 = this._showingView = this._activeView = i2.childView).changeItemIndex(1);
        break;
      case 13:
      case 32:
        o2 && o2.parentElement && i2.menuItemClicked(o2);
    }
    !Ot.isSlotMode() && e3 && e3.setAttribute("aria-activedescendant", i2.getActiveElementId());
  }, e2.MENU_ITEM_CLICKED = "onPopupMenuManagerMenuItemClicked", e2.POPUP_MENU_POPUP = "onPopupMenuManagerPopup", e2;
}(Oe);
var oc = function(t2) {
  function e2() {
    return t2.call(this, "summaryCell") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "summaryIndex", { get: function() {
    return this._childIndex;
  }, set: function(t3) {
    this._childIndex = t3;
  }, enumerable: false, configurable: true }), e2.prototype._getSummary = function(t3, e3) {
    return t3 && t3.headerSummaries.get(e3);
  }, e2;
}(Gs);
var rc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.assignFrom(Ke.headerSummary), i2;
  }
  return i(e2, t2), e2.prototype.getCellStyleName = function() {
    return e2.CELL_CSS;
  }, e2.prototype._createCell = function() {
    return new oc();
  }, e2.CELL_CSS = "rg-header-summary-cell", e2;
}(Ys);
var nc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.visible = false, i2.assignFrom(Ke.headerSummaries), i2;
  }
  return i(e2, t2), e2.prototype._createSummary = function(t3) {
    return new rc(t3 || this._grid);
  }, e2;
}(qs);
var sc = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2, "headerSummaryView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._getCssSelector = function() {
    return "rg-header-summary";
  }, e2.prototype._getRendererStyle = function() {
    return "rg-header-summary-renderer";
  }, e2.prototype._getSummaryRows = function(t3) {
    return t3.dataRows;
  }, e2.prototype._getCollection = function() {
    return this.model;
  }, e2.prototype._getSummaryHeight = function(t3) {
    return t3.summaryHeight;
  }, e2.prototype._getSummaryCount = function(t3) {
    return t3.headerSummaryCount;
  }, e2.prototype._getSpanOf = function(t3, e3) {
    return t3.getSummarySpan(e3);
  }, e2.prototype._getUserSpanOf = function(t3, e3) {
    return t3.getSummaryUserSpan(e3);
  }, e2.prototype._getSummaryItem = function(t3, e3) {
    return t3.firstColumn.headerSummaries.get(e3);
  }, e2.prototype._getTableRowCount = function(t3) {
    return t3.dataRows * t3.headerSummaryCount;
  }, e2;
}(th);
var ac = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-header-summary";
  }, e2.prototype._getExplicitWidth = function(t3) {
    return t3.fixedWidth - t3.fixedBarWidth;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.fixedCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getFixedCellWidth(e3);
  }, e2;
}(sc);
var lc = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-header-summary";
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getRightCellWidth(e3);
  }, e2;
}(sc);
var hc = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "gridSumCellView") || this;
  }
  return i(e2, t2), e2;
}($h);
var uc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, null, "gridSumView") || this;
    return i2._domCssSelector = "rg-sum", i2;
  }
  return i(e2, t2), e2.prototype.getSumModel = function(t3) {
    return this._getCellModel(t3);
  }, e2.prototype._createCellElement = function(t3) {
    return new hc(t3);
  }, e2.prototype._sectionCell = function(t3) {
    return t3.getSumCell();
  }, e2.prototype._getSectionStyleName = function(t3) {
    return this.$_getCellSelector() + " " + t3.getSumStyleName();
  }, e2.prototype._getHeadTrText = function(t3) {
    return t3.getCellType() + " sum";
  }, e2.prototype._getSectionText = function(t3) {
    return t3.sumText;
  }, e2.prototype.$_getCellSelector = function() {
    return "rg-sum-cell";
  }, e2;
}(Ah);
var cc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._enabled = true, i2._handleVisibility = M.VISIBLE, i2._commitBeforeFiltering = true, i2._includeParentItem = true, i2._clearFocusWhenFiltered = false, i2._toast = new Hh({ visible: false, message: i2._messageCallback }), i2._selector = new dc(e3), i2._automating = new pc(e3), i2.assignFrom(Ke.filtering), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._selector = this._selector.dispose(), this._automating = this._automating.dispose(), this._toast = this._toast.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    t3 != this._enabled && (this._enabled = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "handleVisibility", { get: function() {
    return this._handleVisibility;
  }, set: function(t3) {
    t3 != this._handleVisibility && (this._handleVisibility = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "commitBeforeFiltering", { get: function() {
    return this._commitBeforeFiltering;
  }, set: function(t3) {
    this._commitBeforeFiltering = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "includeParentItem", { get: function() {
    return this._includeParentItem;
  }, set: function(t3) {
    this._includeParentItem = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selector", { get: function() {
    return this._selector;
  }, set: function(t3) {
    this._selector && this._selector.assignFrom(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "automating", { get: function() {
    return this._automating;
  }, set: function(t3) {
    this._automating && this._automating.assignFrom(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "toast", { get: function() {
    return this._toast;
  }, set: function(t3) {
    t3 && !t3.message && (t3 = o(o({}, t3), { message: this._messageCallback })), this._toast && this._toast.assignFrom(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clearFocusWhenFiltered", { get: function() {
    return this._clearFocusWhenFiltered;
  }, set: function(t3) {
    t3 != this._clearFocusWhenFiltered && (this._clearFocusWhenFiltered = t3);
  }, enumerable: false, configurable: true }), e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3), e3.selector && this._selector.assignFrom(e3.selector), e3.automating && this._automating.assignFrom(e3.automating), e3.toast && this._toast.assignFrom(e3.toast);
  }, e2.prototype._messageCallback = function() {
    var t3;
    return (null === (t3 = Ke.filtering.toast) || void 0 === t3 ? void 0 : t3.message) || Ge.messages.filterToastMessage;
  }, e2;
}(ml);
var dc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._listHeight = 170, i2._partialSearch = true, i2._filterReset = true, i2._showEmptyFilter = true, i2._maxWidth = 0, i2._width = 0, i2._minWidth = 0, i2._style = "rg-filter-selector", i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "listHeight", { get: function() {
    return this._listHeight;
  }, set: function(t3) {
    this._listHeight = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showButtons", { get: function() {
    return !!this._showButtons;
  }, set: function(t3) {
    this._showButtons = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "partialSearch", { get: function() {
    return this._partialSearch;
  }, set: function(t3) {
    this._partialSearch = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "acceptText", { get: function() {
    return this._acceptText || Ge.messages.filterSelectorAcceptText;
  }, set: function(t3) {
    this._acceptText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cancelText", { get: function() {
    return this._cancelText || Ge.messages.filterSelectorCancelText;
  }, set: function(t3) {
    this._cancelText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "allCheckText", { get: function() {
    return this._allCheckText || Ge.messages.filterSelectorAllCheckText;
  }, set: function(t3) {
    this._allCheckText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showEmptyFilter", { get: function() {
    return this._showEmptyFilter;
  }, set: function(t3) {
    this._showEmptyFilter = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "emptyFilterText", { get: function() {
    return this._emptyFilterText || Ge.messages.filterSelectorEmptyFilterText;
  }, set: function(t3) {
    this._emptyFilterText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "searchPlaceholder", { get: function() {
    return this._searchPlaceholder || Ge.messages.filterSelectorSearchPlaceholder;
  }, set: function(t3) {
    this._searchPlaceholder = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "searchedCheckText", { get: function() {
    return this._searchedCheckText || Ge.messages.filterSelectorSearchedCheckText;
  }, set: function(t3) {
    this._searchedCheckText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "style", { get: function() {
    return this._style;
  }, set: function(t3) {
    this._style = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "closeWhenClick", { get: function() {
    return !!this._closeWhenClick;
  }, set: function(t3) {
    this._closeWhenClick = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterReset", { get: function() {
    return this._filterReset;
  }, set: function(t3) {
    this._filterReset = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filtersResetText", { get: function() {
    return this._filtersResetText || Ge.messages.filterSelectorFiltersResetText;
  }, set: function(t3) {
    this._filtersResetText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterResetText", { get: function() {
    return this._filterResetText || Ge.messages.filterSelectorFilterResetText;
  }, set: function(t3) {
    this._filterResetText = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "useFilterResetImage", { get: function() {
    return this._useFilterResetImage;
  }, set: function(t3) {
    this._useFilterResetImage = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxWidth", { get: function() {
    return this._maxWidth;
  }, set: function(t3) {
    this._maxWidth = Math.max(t3, 0);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "width", { get: function() {
    return this._width;
  }, set: function(t3) {
    this._width = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minWidth", { get: function() {
    return this._minWidth;
  }, set: function(t3) {
    this._minWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textToTitle", { get: function() {
    return !!this._textToTitle;
  }, set: function(t3) {
    this._textToTitle = !!t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "searchIgnoreCase", { get: function() {
    return !!this._searchIgnoreCase;
  }, set: function(t3) {
    this._searchIgnoreCase = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "activeWhenEnter", { get: function() {
    return !!this._activeWhenEnter;
  }, set: function(t3) {
    this._activeWhenEnter = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandCategory", { get: function() {
    return !!this._expandCategory;
  }, set: function(t3) {
    this._expandCategory = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "title", { get: function() {
    return this._title;
  }, set: function(t3) {
    this._title = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showTitle", { get: function() {
    return this._showTitle;
  }, set: function(t3) {
    this._showTitle = t3;
  }, enumerable: false, configurable: true }), e2.prototype.toProxy = function(e3) {
    return t2.prototype.toProxy.call(this, e3);
  }, e2;
}(ml);
var pc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._dateCategorize = true, i2._numberCategorize = true, i2._textCategorize = false, i2._timeCategorize = Z.NONE, i2._lookupDisplay = false, i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "dateCategorize", { get: function() {
    return this._dateCategorize;
  }, set: function(t3) {
    this._dateCategorize = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCategorize", { get: function() {
    return this._numberCategorize;
  }, set: function(t3) {
    this._numberCategorize = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textCategorize", { get: function() {
    return this._textCategorize;
  }, set: function(t3) {
    this._textCategorize = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "timeCategorize", { get: function() {
    return this._timeCategorize;
  }, set: function(t3) {
    this._timeCategorize = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateCategoryCallback", { get: function() {
    return this._dateCategoryCallback;
  }, set: function(t3) {
    this._dateCategoryCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberCategoryCallback", { get: function() {
    return this._numberCategoryCallback;
  }, set: function(t3) {
    this._numberCategoryCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textCategoryCallback", { get: function() {
    return this._textCategoryCallback;
  }, set: function(t3) {
    this._textCategoryCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateYearFormat", { get: function() {
    return this._dateYearFormat || Ge.messages.filterSelectorDateYearFormat;
  }, set: function(t3) {
    this._dateYearFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateQuarterFormat", { get: function() {
    return this._dateQuarterFormat || Ge.messages.filterSelectorDateQuarterFormat;
  }, set: function(t3) {
    this._dateQuarterFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateMonthFormat", { get: function() {
    return this._dateMonthFormat || Ge.messages.filterSelectorDateMonthFormat;
  }, set: function(t3) {
    this._dateMonthFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateDayFormat", { get: function() {
    return this._dateDayFormat || Ge.messages.filterSelectorDateDayFormat;
  }, set: function(t3) {
    this._dateDayFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hourFormat", { get: function() {
    return this._hourFormat || Ge.messages.filterSelectorHourFormat;
  }, set: function(t3) {
    this._hourFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minuteFormat", { get: function() {
    return this._minuteFormat || Ge.messages.filterSelectorMinuteFormat;
  }, set: function(t3) {
    this._minuteFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "secondFormat", { get: function() {
    return this._secondFormat || Ge.messages.filterSelectorSecondFormat;
  }, set: function(t3) {
    this._secondFormat = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lookupDisplay", { get: function() {
    return this._lookupDisplay;
  }, set: function(t3) {
    this._lookupDisplay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filteredDataOnly", { get: function() {
    return this._filteredDataOnly;
  }, set: function(t3) {
    this._filteredDataOnly = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "selectCallback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    this._callback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "userFilterPosition", { get: function() {
    return this._userFilterPositoin;
  }, set: function(t3) {
    this._userFilterPositoin = t3;
  }, enumerable: false, configurable: true }), e2.prototype.toProxy = function(t3) {
    return { timeCategorize: this._timeCategorize, dateCategorize: this._dateCategorize, numberCategorize: this._numberCategorize, textCategorize: this._textCategorize, dateCategoryCallback: this._dateCategoryCallback, numberCategoryCallback: this._numberCategoryCallback, textCategoryCallback: this._textCategoryCallback, dateYearFormat: this._dateYearFormat, dateQuarterFormat: this._dateQuarterFormat, dateMonthFormat: this._dateMonthFormat, dateDayFormat: this._dateDayFormat, hourFormat: this._hourFormat, minuteFormat: this._minuteFormat, secondFormat: this._secondFormat, lookupDisplay: this._lookupDisplay, filteredDataOnly: this._filteredDataOnly };
  }, e2;
}(ml);
!function(t2) {
  t2.FIRST = "first", t2.LAST = "last", t2.NONE = "none";
}(Qh || (Qh = {})), function(t2) {
  t2[t2.ALL = 0] = "ALL", t2[t2.YQ = 1] = "YQ", t2[t2.YM = 2] = "YM", t2[t2.Y = 3] = "Y", t2[t2.QM = 4] = "QM", t2[t2.Q = 5] = "Q", t2[t2.M = 6] = "M", t2[t2.NONE = 7] = "NONE";
}(tu || (tu = {}));
var fc = function() {
  function t2(t3) {
    this._options = t3;
  }
  return t2.HasPartial = function(t3, e2, i2) {
    if (i2 && (t3 = t3 && t3.toLowerCase(), e2 = e2 && e2.toLowerCase()), t3.indexOf(e2) >= 0) return true;
    for (var o2 = Ot.hangulToChosungAll(t3), r2 = Ot.hangulToChosungAll(e2), n2 = -1, s2 = false; (n2 = o2.indexOf(r2, n2 + 1)) >= 0; ) {
      for (var a2 = 0; a2 < r2.length && a2 + n2 < o2.length; a2++) {
        var l2 = Ot.hangulToChosung(t3[a2 + n2]), h2 = Ot.hangulToChosung(e2[a2]);
        if (h2.org && h2.org !== l2.org || !h2.cho || h2.cho !== l2.cho) {
          s2 = false;
          break;
        }
        s2 = true;
      }
      if (s2) return true;
    }
    return false;
  }, t2.getDateProperty = function(t3, e2) {
    if (!t3) return null;
    switch (e2) {
      case 0:
        return t3.getFullYear();
      case 1:
        return t3.getMonth() > 5 ? 2 : 1;
      case 2:
        return Math.floor(t3.getMonth() / 3);
      case 3:
        return t3.getMonth();
      case 4:
        var i2 = new Date(t3.getFullYear(), t3.getMonth(), 1);
        return i2.setDate(i2.getDate() - i2.getDay()), Math.floor((t3.getTime() - i2.getTime()) / 6048e5) + 1;
      case 5:
        return t3.getDate();
      case 6:
        return t3.getHours();
    }
  }, t2.prototype.dispose = function() {
    return this._filters = null, this._options = null, null;
  }, Object.defineProperty(t2.prototype, "searched", { get: function() {
    return this._searched;
  }, enumerable: false, configurable: true }), t2.prototype.buildItems = function(t3, e2, i2, o2) {
    void 0 === o2 && (o2 = true);
    var r2 = function(e3) {
      if (e3 === s2.userFilterPosition) {
        for (var i3 = [], o3 = t3.filters.items, r3 = 0; r3 < o3.length; r3++) i3.push(o3[r3].toProxy(false));
        i3.length > 0 && h2.addAll(i3, true, false);
      }
    }, n2 = this._options.selector, s2 = this._options.automating, l2 = n2.emptyFilterText;
    this._autoFilter = i2;
    var h2 = this._filters = i2 ? t3.autoFilters : t3.filters, u2 = [];
    if (i2) {
      t3.autoFilters.activeCount > 0 && (u2 = this._getActivatedFilters(t3.autoFilters)), t3.autoFilters.clear(false), r2(Qh.FIRST);
      var c2 = false, d2 = void 0;
      this._valueType = t3.valueType;
      var p2 = s2.filteredDataOnly ? t3.grid.getDistinctItemValues(t3.dataIndex) : e2.getDistinctValues(t3.dataIndex);
      switch (this._valueType) {
        case a.DATETIME:
          (c2 = s2.timeCategorize) !== Z.NONE && (d2 = this._categorizeTimeValues(p2, c2, l2)), d2 && d2.length || (d2 = (c2 = s2.dateCategorize) && s2.dateCategoryCallback ? s2.dateCategoryCallback(t3, p2) : this._categorizeDateValues(p2, c2, l2));
          break;
        case a.NUMBER:
          d2 = (c2 = s2.numberCategorize) && s2.numberCategoryCallback ? s2.numberCategoryCallback(t3, p2) : this._categorizeNumberValues(p2, c2, l2);
          break;
        case a.BOOLEAN:
          d2 = [];
          for (var f2 = false, _2 = 0; _2 < p2.length; _2++) {
            var g2 = p2[_2];
            null != g2 ? d2.push({ text: g2.toString().toUpperCase(), value: g2 }) : f2 = true;
          }
          f2 && n2.showEmptyFilter && d2.push({ text: l2, empty: true });
          break;
        case a.TEXT:
          c2 = s2.textCategorize, d2 = t3.lookupSource && this._options.automating.lookupDisplay && !s2.textCategoryCallback ? this._categorizeLookupTree(e2, t3, l2) : c2 && s2.textCategoryCallback ? s2.textCategoryCallback(t3, p2) : this._categorizeTextValues(p2, c2, l2);
      }
      d2 && this._createCategories(d2, null, t3.valueType, h2), r2(Qh.LAST), this._filters.activateItems(u2, true, o2);
    }
  }, t2.prototype.search = function(e2) {
    var i2 = [];
    function o2(t3, e3) {
      if (i2.indexOf(t3) < 0) {
        for (var o3 = [], r3 = t3; r3; ) i2.indexOf(r3) < 0 && o3.push(r3), r3 = r3.category;
        Array.prototype.push.apply(i2, o3.reverse());
      }
    }
    for (var r2 = 0, n2 = this._filters.count; r2 < n2; r2++) {
      var s2 = this._filters.getItem(r2);
      if (!(s2 instanceof sr)) {
        var a2 = this._autoFilter && s2.tag || s2.toString(), l2 = this._autoFilter && this._options.automating.lookupDisplay && this._filters.getOwner() && this._filters.getOwner().lookupDisplay, h2 = this._options.selector.searchIgnoreCase, u2 = t2.HasPartial;
        (u2(a2, e2, h2) || l2 && u2(s2.toString(), e2, h2)) && o2(s2);
      }
    }
    return i2;
  }, t2.prototype._getActivatedFilters = function(t3) {
    for (var e2 = [], i2 = t3.count; i2--; ) {
      var o2 = t3.getItem(i2);
      o2 instanceof sr || !o2.active || e2.push(o2.name);
    }
    return e2;
  }, t2.prototype._createCategories = function(e2, i2, o2, r2) {
    var n2 = r2.getOwner(), s2 = this._options.automating.lookupDisplay && n2.lookupDisplay, l2 = s2 && n2.lookupSource;
    function h2(t3, e3, i3) {
      if (l2 && i3.fieldIds) {
        for (var o3 = i3, r3 = [], n3 = 0; n3 < o3.fieldIds.length; n3++) null == o3.keys[n3] || "" == o3.keys[n3] ? r3.push("(values[".concat(o3.fieldIds[n3], "] is empty)")) : r3.push("(values[".concat(o3.fieldIds[n3], "] = '").concat(o3.keys[n3], "')"));
        return r3.join(" and ");
      }
      if (null == t3 || i3.empty) return "value is empty";
      if (e3 == a.DATETIME) {
        var s3 = i3;
        return s3.criteria || "(year(value) = ".concat(s3.year, ") and (month(value) = ").concat(s3.month + 1, ") and (day(value) = ").concat(s3.day, ")");
      }
      return e3 == a.BOOLEAN ? i3.value ? "value" : "not(value)" : e3 == a.NUMBER ? "value = " + t3 : "value = '" + (t3 = t3.replace(/\\/g, "\\\\").replace(/\'/g, "\\'")) + "'";
    }
    function u2(t3, e3, i3) {
      return o2 === a.TEXT && t3 && !e3.empty ? n2.getLookupLabel(t3, false) : i3;
    }
    for (var c2 = Ot.pad, d2 = 0, p2 = e2.length; d2 < p2; d2++) {
      var f2 = e2[d2], _2 = f2.hasOwnProperty("childs"), g2 = f2.hasOwnProperty("values"), y2 = void 0, m2 = _2 || g2;
      m2 ? y2 = new sr() : (y2 = new nr(h2(f2.value, o2, f2)), Object.prototype.hasOwnProperty.call(f2, "callback") ? y2.callback = f2.callback : this._options.automating.selectCallback && (y2.callback = this._options.automating.selectCallback), y2.filterValue = f2.value), y2.text = l2 ? f2.text : s2 ? u2(f2.value, f2, f2.text) : f2.text;
      var b2 = void 0;
      if (b2 = f2.name ? f2.name : f2.empty ? t2.EMPTY_FILTER : o2 == a.DATETIME && _2 && i2 ? i2.name + " " + f2.text : "".concat(m2 ? "$_cat_" : "").concat(f2.text), y2.name = b2, this._filters.add(y2, false), i2 && i2.addChild(y2), y2 instanceof sr) {
        if (_2) this._createCategories(f2.childs, y2, o2, r2);
        else if (Ot.isArray(f2.values)) for (var v2 = f2.values, w2 = 0, C2 = v2.length; w2 < C2; w2++) {
          var x2 = v2[w2], I2 = x2 + "", E2 = new nr(h2(x2, o2, f2));
          E2.name = I2, E2.text = s2 ? u2(x2, f2, I2) : I2, E2.tag = I2, E2.filterValue = x2, this._options.automating.selectCallback && (E2.callback = this._options.automating.selectCallback), y2.addChild(E2), this._filters.add(E2, false);
        }
      } else if (o2 != a.DATETIME || f2.empty) y2.tag = f2.text;
      else if (this._options.automating.timeCategorize !== Z.NONE) {
        var S2 = f2;
        y2.tag = S2.tag || S2.name;
      } else {
        var O2 = f2;
        y2.tag = O2.tag || "".concat(O2.year, "-").concat(c2(O2.month + 1, 2), "-").concat(c2(O2.day, 2));
      }
    }
  }, t2.prototype.formatFilterText = function(t3, e2, i2, o2, r2) {
    var n2 = o2 + "", s2 = e2.charAt(0), a2 = Ot.pad(o2, r2);
    return t3 ? t3.indexOf("{".concat(s2)) >= 0 ? t3.replace("{".concat(e2, "}"), a2).replace("{".concat(i2, "}"), n2) : t3.replace(e2, a2).replace(i2, n2) : n2;
  }, t2.prototype.$$_formatYear = function(t3, e2) {
    var i2 = e2 + "";
    return t3 ? t3.replace("{YYYY}", i2).replace("{YY}", i2.slice(-2)).replace("YYYY", i2).replace("YY", i2.slice(-2)) : i2;
  }, t2.prototype.$$_formatQuater = function(t3, e2) {
    return this.formatFilterText(t3, "QQ", "Q", e2 + 1, 2);
  }, t2.prototype.$$_formatMonth = function(t3, e2) {
    return this.formatFilterText(t3, "MM", "M", e2 + 1, 2);
  }, t2.prototype.$$_formatDay = function(t3, e2) {
    return this.formatFilterText(t3, "DD", "D", e2, 2);
  }, t2.prototype.$$_formatDateStr = function(t3, e2, i2, o2) {
    var r2 = this.$$_formatYear(t3, e2);
    return r2 = this.$$_formatMonth(r2, i2), r2 = this.$$_formatDay(r2, o2);
  }, t2.prototype.$$_formatHour = function(t3, e2) {
    return this.formatFilterText(t3, "HH", "H", e2, 2);
  }, t2.prototype.$$_formatminute = function(t3, e2) {
    return this.formatFilterText(t3, "MM", "M", e2, 2);
  }, t2.prototype.$$_formatSecond = function(t3, e2) {
    return this.formatFilterText(t3, "SS", "S", e2, 2);
  }, t2.prototype._categorizeTimeValues = function(t3, e2, i2) {
    var o2 = this, r2 = this._options.automating;
    var n2 = { hourCnt: /* @__PURE__ */ new Map(), minuteCnt: /* @__PURE__ */ new Map(), secondCnt: /* @__PURE__ */ new Map() }, s2 = n2.hourCnt, a2 = n2.minuteCnt, l2 = n2.secondCnt, h2 = function(t4) {
      var i3 = t4.map(function(t5) {
        var i4 = 1e3;
        switch (e2) {
          case Z.HOUR:
            i4 *= 60;
          case Z.MINUTE:
            i4 *= 60;
        }
        return t5 && Math.floor(t5.getTime() / i4) * i4;
      });
      return i3.sort(function(t5, e3) {
        return t5 > e3 ? 1 : t5 < e3 ? -1 : 0;
      }), i3.filter(function(t5, e3, i4) {
        return i4.indexOf(t5) === e3;
      }).map(function(t5) {
        return t5 && new Date(t5);
      });
    }(t3).map(function(t4) {
      if (!t4) return { date: t4 };
      var e3 = { year: t4.getFullYear(), month: t4.getMonth(), day: t4.getDate(), hour: t4.getHours(), minute: t4.getMinutes(), second: t4.getSeconds() }, i3 = e3.year, n3 = e3.month, h3 = e3.day, u3 = e3.hour, c3 = e3.minute, d3 = e3.second;
      return s2.set(u3, 1), a2.set(c3, 1), l2.set(d3, 1), { date: t4, dateStr: o2.$$_formatDateStr(r2.dateDayFormat, i3, n3, h3), year: i3, month: n3, day: h3, hour: u3, minute: c3, second: d3 };
    });
    if (e2 === Z.AUTO) if (l2.size > 1) e2 = Z.SECOND;
    else if (a2.size > 1) e2 = Z.MINUTE;
    else {
      if (!(s2.size > 1)) return;
      e2 = Z.HOUR;
    }
    for (var u2 = false, c2 = {}, d2 = [], p2 = function(t4, e3) {
      var i3, n3;
      switch (e3) {
        case Z.HOUR:
          return (i3 = c2[t4.dateStr]) || (i3 = c2[t4.dateStr] = { text: t4.dateStr, childs: [] }, d2.push(i3)), i3;
        case Z.MINUTE:
          return (i3 = (n3 = p2(t4, Z.HOUR))[t4.hour]) || (i3 = n3[t4.hour] = { text: o2.$$_formatHour(r2.hourFormat, t4.hour), childs: [] }, n3.childs.push(i3)), i3;
        case Z.SECOND:
          return (i3 = (n3 = p2(t4, Z.MINUTE))[t4.minute]) || (i3 = n3[t4.minute] = { text: o2.$$_formatminute(r2.minuteFormat, t4.minute), childs: [] }, n3.childs.push(i3)), i3;
      }
    }, f2 = 0, _2 = h2; f2 < _2.length; f2++) {
      var g2 = _2[f2];
      if (g2.date) {
        var y2 = p2(g2, e2), m2 = Ot.pad, b2 = m2(g2.hour, 2), v2 = m2(g2.minute, 2), w2 = m2(g2.second, 2);
        switch (e2) {
          case Z.SECOND:
            y2.childs.push({ text: this.$$_formatSecond(r2.secondFormat, g2.second), name: "".concat(g2.dateStr, " ").concat(g2.hour, ":").concat(g2.minute, ":").concat(g2.second), tag: "".concat(g2.dateStr, " ").concat(b2, ":").concat(v2, ":").concat(w2), criteria: "timestamp(value, 1) === ".concat(1e3 * Math.floor(g2.date.getTime() / 1e3)), value: " " });
            break;
          case Z.MINUTE:
            y2.childs.push({ text: this.$$_formatminute(r2.minuteFormat, g2.minute), tag: "".concat(g2.dateStr, " ").concat(b2, ":").concat(v2), name: "".concat(g2.dateStr, " ").concat(g2.hour, ":").concat(g2.minute), criteria: "timestamp(value, 2) === ".concat(60 * Math.floor(g2.date.getTime() / 6e4) * 1e3), value: " " });
            break;
          case Z.HOUR:
            y2.childs.push({ text: this.$$_formatHour(r2.hourFormat, g2.hour), tag: "".concat(g2.dateStr, " ").concat(b2), name: "".concat(g2.dateStr, " ").concat(g2.hour), criteria: "timestamp(value, 3) === ".concat(60 * Math.floor(g2.date.getTime() / 36e5) * 60 * 1e3), value: " " });
        }
      } else u2 || (u2 = true, d2.push({ name: "empty Node", text: i2, empty: true, criteria: "!value" }));
    }
    return d2;
  }, t2.prototype._categorizeDateValues = function(e2, i2, o2) {
    var r2 = this;
    if (!e2) return null;
    var n2 = false, s2 = false, a2 = false;
    for (var l2 = t2.getDateProperty, h2 = 0, u2 = 0, c2 = 0, d2 = { year: null, quarter: null, month: null, day: null }, p2 = e2.length, f2 = 0; f2 < p2; f2++) {
      var _2 = e2[f2];
      if (_2) {
        var g2 = l2(_2, 0), y2 = l2(_2, 2), m2 = l2(_2, 3), b2 = l2(_2, 5);
        d2 ? g2 != d2.year ? (h2++, u2++, c2++) : y2 != d2.quarter || m2 != d2.month ? (u2++, c2++) : b2 != d2.day && c2++ : (h2++, u2++, c2++), d2.year = g2, d2.quarter = y2, d2.month = m2, d2.day = b2;
      }
    }
    var v2 = this._options.automating, w2 = [], C2 = [];
    i2 && ((n2 = h2 > 1 && u2 > 6) && (w2.push(0), C2.push(function(t3, e3, i3) {
      return r2.$$_formatYear(v2.dateYearFormat, i3);
    })), (s2 = u2 / h2 > 6) && (w2.push(2), C2.push(n2 ? function(t3, e3, i3) {
      return r2.$$_formatQuater(v2.dateQuarterFormat, i3);
    } : function(t3, e3, i3) {
      return r2.$$_formatYear(v2.dateYearFormat, t3) + " " + r2.$$_formatQuater(v2.dateQuarterFormat, i3);
    })), (a2 = c2 > 9 && u2 > 3) && (w2.push(3), C2.push(n2 || s2 ? function(t3, e3, i3) {
      return r2.$$_formatMonth(v2.dateMonthFormat, i3);
    } : function(t3, e3, i3) {
      return r2.$$_formatYear(v2.dateYearFormat, t3) + " " + r2.$$_formatMonth(v2.dateMonthFormat, i3);
    }))), w2.push(5), C2.push(function(t3, e3, i3) {
      return r2.$$_formatDateStr(v2.dateDayFormat, t3, e3, i3);
    });
    var x2 = [];
    return (function e3(i3, r3, l3, h3, u3) {
      void 0 === h3 && (h3 = 0), void 0 === u3 && (u3 = -1), u3 = -1 == u3 ? i3.length - 1 : u3;
      for (var c3, d3, p3 = null, f3 = h3, _3 = false, g3 = function(o3) {
        var u4 = i3[o3], g4 = function(e4, i4, o4) {
          for (var r4 = [], n3 = 0; n3 <= o4; n3++) r4.push(t2.getDateProperty(e4, i4[n3]));
          return r4;
        }(u4, w2, r3), m4 = function(t3, e4, i4) {
          if (!t3) return null;
          switch (e4[i4]) {
            case 0:
              return t3.getFullYear().toString();
            case 1:
              return t3.getFullYear().toString() + Math.floor(t3.getMonth() / 6).toString();
            case 2:
              return t3.getFullYear().toString() + Math.floor(t3.getMonth() / 3).toString();
            case 3:
              return t3.getFullYear().toString() + t3.getMonth().toString();
            case 5:
              return t3.getFullYear().toString() + t3.getMonth() + t3.getDate();
          }
        }(u4, w2, r3);
        if (o3 > h3 && m4 != p3) {
          var b3 = c3[r3];
          if (d3) if (r3 === w2.length - 1) {
            var v3 = { text: "", year: d3.getFullYear(), month: d3.getMonth(), day: d3.getDate(), value: d3 };
            v3.text = C2[r3](v3.year, v3.month, v3.day), l3.push(v3);
          } else {
            var x3 = { text: "", childs: [] }, I2 = function() {
              x3.year = d3.getFullYear();
            }, E2 = function() {
              x3.quarter = Math.floor(d3.getMonth() / 3);
            }, S2 = function() {
              x3.month = d3.getMonth();
            }, O2 = n2 && s2 && a2 ? tu.ALL : n2 && s2 ? tu.YQ : n2 && a2 ? tu.YM : n2 ? tu.Y : s2 && a2 ? tu.QM : s2 ? tu.Q : a2 ? tu.M : tu.NONE;
            O2 === tu.ALL ? 0 === r3 ? I2() : 1 === r3 ? (I2(), E2()) : 2 === r3 && (I2(), E2(), S2()) : O2 === tu.YQ ? 0 === r3 ? I2() : 1 === r3 && (I2(), E2()) : O2 === tu.YM ? 0 === r3 ? I2() : 1 === r3 && (I2(), S2()) : O2 === tu.Y ? I2() : O2 === tu.QM ? 0 === r3 ? E2() : 1 === r3 && (E2(), S2()) : O2 === tu.Q ? E2() : O2 === tu.M && S2(), x3.text = C2[r3](d3.getFullYear(), d3.getMonth(), b3), l3.push(x3), e3.call(y3, i3, r3 + 1, x3.childs, f3, o3 - 1);
          }
          f3 = o3;
        }
        o3 > h3 && null == d3 && (_3 = true), p3 = m4, c3 = g4, d3 = u4;
      }, y3 = this, m3 = h3; m3 <= u3 + 1; m3++) g3(m3);
      0 == r3 && _3 && this._options.selector.showEmptyFilter && l3.push({ text: o2, empty: true });
    }).call(this, e2, 0, x2), x2;
  }, t2.prototype._categorizeNumberValues = function(t3, e2, i2) {
    if (!t3 || !t3.length) return null;
    var o2 = t3.filter(function(t4) {
      return null != t4 && null != t4 && !isNaN(t4);
    }).sort(function(t4, e3) {
      return t4 - e3;
    }), r2 = o2.length, n2 = o2.length !== t3.length, s2 = 1, a2 = [];
    if (e2 && r2 > 15) for (s2 = Math.round(r2 / Math.min(Math.max(4, Math.round(r2 / 5)), 8)); o2.length > 0; ) {
      var l2 = o2.splice(0, s2);
      a2.push({ text: l2[0] + " ~ " + l2[l2.length - 1], values: l2 });
    }
    else for (var h2 = 0; h2 < r2; h2++) a2.push({ text: o2[h2] + "", value: o2[h2] });
    return n2 && this._options.selector.showEmptyFilter && a2.push({ text: i2, empty: true }), a2;
  }, t2.prototype._categorizeLookupTree = function(t3, e2, i2) {
    var o2 = e2.grid, r2 = [];
    if (this._options.automating.filteredDataOnly) o2._items._rs.getAllItems().forEach(function(t4) {
      r2.push(t4.dataRow);
    });
    else if (o2.isTree()) t3.getDescendants(null, -1).forEach(function(t4) {
      r2.push(t4.rowId);
    });
    else for (var n2 = t3.rowCount, s2 = 0; s2 < n2; s2++) r2.push(s2);
    var a2 = [], l2 = e2.lookupKeyFieldIds, h2 = {}, u2 = {};
    function c2(r3, n3, s3, a3, l3) {
      var h3 = s3.shift(), d2 = t3.getValue(n3, h3);
      l3.push(h3), a3.push(d2);
      var p2 = r3[d2];
      p2 || (p2 = r3[d2] = { value: d2, name: a3.join("-"), keys: a3.slice(), fieldIds: l3.slice() }), s3.length ? (!p2.text && (p2.text = function(t4, e3, i3) {
        var r4 = u2[t4];
        if (!r4) {
          for (var n4 = o2.columnsByField(t4), s4 = 0; s4 < n4.length; s4++) if (n4[s4].lookupSource || n4[s4].lookupDisplay) {
            r4 = u2[t4] = n4[s4];
            break;
          }
        }
        return r4 ? r4.lookupSource ? r4.lookupSource.lookup(e3, r4.valueSeparator) : r4.lookupDisplay ? r4.getLookupLabel(i3, false) : i3 : i3;
      }(h3, a3, d2) || d2 || i2), p2.childs = p2.childs || {}, c2(p2.childs, n3, s3, a3, l3)) : !p2.text && (p2.text = d2 ? e2.lookupSource.lookup(a3, e2.valueSeparator) || d2 : i2);
    }
    for (s2 = 0; s2 < r2.length; s2++) c2(h2, r2[s2], l2.slice(), [], []);
    return function t4(e3, i3) {
      Object.keys(e3).sort().forEach(function(o3) {
        var r3 = e3[o3], n3 = { value: r3.value, text: r3.text, name: r3.name, fieldIds: r3.fieldIds, keys: r3.keys };
        i3.push(n3), r3.hasOwnProperty("childs") && (n3.childs = [], t4(r3.childs, n3.childs));
      });
    }(h2, a2), a2;
  }, t2.prototype._categorizeTextValues = function(t3, e2, i2) {
    if (!t3) return null;
    var o2 = t3.length, r2 = [], n2 = false;
    if (e2 && o2 > 15) {
      for (var s2 = [{}, {}, {}, {}], a2 = [0, 0, 0, 0], l2 = [0, 0, 0, 0], h2 = 0; h2 < o2; h2++) {
        var u2 = t3[h2];
        if (u2) {
          var c2 = (C2 = u2[0]).charCodeAt(0), d2 = false, p2 = void 0;
          s2[p2 = c2 >= 48 && c2 <= 57 ? 0 : c2 >= 65 && c2 <= 90 || c2 >= 97 && c2 <= 122 ? 1 : c2 >= 1e4 ? 2 : 3][C2] ? s2[p2][C2].push(u2) : (s2[p2][C2] = [u2], d2 = true), a2[p2]++, d2 && l2[p2]++;
        } else n2 = true;
      }
      for (var f2 = Math.min(Math.max(4, Math.round(o2 / 5)), 8), _2 = 0; _2 < 4; _2++) {
        var g2 = 0 == a2[_2] ? 0 : Math.max(1, Math.min(l2[_2], Math.round(a2[_2] / o2 * f2))), y2 = Math.round(l2[_2] / g2), m2 = y2, b2 = s2[_2], v2 = "", w2 = [];
        for (var C2 in b2) m2 === y2 && (v2 = C2), Array.prototype.push.apply(w2, s2[_2][C2]), 0 == --m2 && (r2.push({ text: 1 == y2 ? C2 : v2 + " ~ " + C2, values: w2 }), w2 = [], m2 = y2);
      }
    } else {
      h2 = 0;
      for (var x2 = t3.length; h2 < x2; h2++) {
        var I2 = t3[h2];
        I2 ? r2.push({ text: I2, value: I2 }) : n2 = true;
      }
    }
    return n2 && this._options.selector.showEmptyFilter && r2.push({ text: i2, empty: true }), r2;
  }, t2.EMPTY_FILTER = "$$empty", t2;
}();
var _c = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    r2._opened = false, r2._wheelDelay = 50, r2._grid = o2, r2._gridContainer = o2.container._containerDom;
    var n2 = e3.doc, s2 = r2._element = n2.createElement("div");
    return s2.style.position = "absolute", s2.style.display = "none", s2.className = i2.selector.style, r2._options = i2, r2._soptions = i2.selector, r2._manager = new fc(r2._options), r2._globalMouseDownHandler = r2._globalMouseDownHandler.bind(r2), r2._globalKeyDownHandler = r2._globalKeyDownHandler.bind(r2), r2._scrollHandler = r2._scrollHandler.bind(r2), r2._wheelHandler = r2._wheelHandler.bind(r2), r2._resetClickHandler = r2._resetClickHandler.bind(r2), r2._searchInputHandler = r2._searchInputHandler.bind(r2), r2._searchKeyDownHandler = r2._searchKeyDownHandler.bind(r2), r2._checkAllClickHandler = r2._checkAllClickHandler.bind(r2), r2._confirmClickHandler = r2._confirmClickHandler.bind(r2), r2._cancelClickHandler = r2._cancelClickHandler.bind(r2), r2._itemClickHandler = r2._itemClickHandler.bind(r2), r2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "opened", { get: function() {
    return this._opened;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "column", { get: function() {
    return this._targetColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "doc", { get: function() {
    return It(this._element);
  }, enumerable: false, configurable: true }), e2.prototype._doDispose = function() {
    this._soptions = null, this._manager = this._manager.dispose(), this._grid = null, Ot.detach(this._element), t2.prototype._doDispose.call(this);
  }, e2.prototype.resetPosition = function() {
    var t3 = this._element, e3 = this._soptions, i2 = this._targetColumn, o2 = this._targetCell, r2 = Ot.getSize(o2), n2 = this._gridContainer.parentElement.clientWidth, s2 = e3.width, a2 = i2.filterSelectorWidth, l2 = t3.style, h2 = e3.minWidth, u2 = 0;
    a2 > 0 ? u2 = a2 : -1 === s2 ? (u2 = this._viewWidth, h2 = Math.max(h2, 140)) : -2 === s2 ? u2 = i2.layout.cellWidth : s2 > 0 && (u2 = s2), u2 > 0 ? (h2 > 0 && (u2 = Math.max(h2, u2)), e3.maxWidth > 0 && (u2 = Math.min(u2, e3.maxWidth)), u2 = Math.min(u2, n2), l2.width = Math.max(u2, h2) + "px") : l2.removeProperty("width"), Ot.resetPosition(t3.offsetParent, null, t3, r2.x, r2.bottom, r2.width, r2, true);
  }, e2.prototype.show = function(t3, e3, i2, o2) {
    this._opened && this.hide();
    var r2 = this._element, n2 = this._soptions, s2 = this._grid, a2 = s2.container, l2 = s2.displayOptions, h2 = xt(r2), u2 = a2._containerDiv;
    (Ot.isSlotMode() ? u2 : a2.doc.body).appendChild(r2), this._targetColumn = t3, this._targetCell = e3, r2.className = n2.style, r2.tabIndex = -1, r2.style.display = "block", r2.style.zIndex = "".concat(l2.baseZindex + 7), this._autoFiltering = t3.autoFilter, this._build(t3, i2, this._autoFiltering), this.resetPosition(), a2.addPositionListener(this), !Ot.isSlotMode() && h2.addEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseDownHandler, false), !Ot.isSlotMode() && h2.addEventListener("keydown", this._globalKeyDownHandler, false), o2 && (this._searchInput && (this._searchInput.value = o2), this._doSearch(o2)), this._opened = true, !Ot.isMobile() && this._searchInput && this._searchInput.focus({ preventScroll: true });
  }, e2.prototype.hide = function() {
    if (this._opened) {
      var t3 = this._grid.container;
      t3._focused && this._gridContainer.focus({ preventScroll: true }), Ot.detach(this._element);
      var e3 = xt(this._element);
      t3.removePositionListener(this), !Ot.isSlotMode() && e3.removeEventListener(Ot.isIEMode() ? "mousedown" : "pointerdown", this._globalMouseDownHandler, false), !Ot.isSlotMode() && e3.removeEventListener("keydown", this._globalKeyDownHandler, false), this._finalize(), this._element.style.display = "none", this._opened = false;
    }
  }, e2.prototype._createItemInfo = function(t3) {
    this._items = [], this._roots = [], this._visbleItemMap = {};
    for (var e3 = (t3 = t3 instanceof lr ? t3.items : t3).length, i2 = [], o2 = 0; o2 < e3; o2++) {
      var r2 = t3[o2], n2 = r2.level;
      if (this._autoFiltering || r2.visible) {
        var s2 = { text: r2.toString(), index: o2, level: n2, filter: r2 };
        if (this._items.push(s2), r2 instanceof sr ? s2.expanded = this._soptions.expandCategory : s2.state = r2.active ? Qo.ACTIVE : Qo.UNACTIVE, i2[n2] = s2, n2 > 0) {
          var a2 = i2[n2 - 1];
          s2.parent = a2, a2.childs || (a2.childs = []), a2.childs.push(s2);
        }
        0 == n2 && this._roots.push(s2), this._visbleItemMap[o2] = s2;
      }
    }
    this._calcluateStates(), this._visibleCount = this._calcVisibleItems(), this._dirties = [];
  }, e2.prototype._build = function(t3, e3, i2) {
    var o2 = this._soptions, r2 = this._applyBatch = o2.showButtons, n2 = this.doc;
    this._manager.buildItems(t3, e3, i2, false), this._filters = i2 ? t3.autoFilters : t3.filters, this._createItemInfo(this._filters), this._headerDiv = n2.createElement("div"), this._headerDiv.className = "rg-filter-header", o2.showTitle && this._buildTitle(this._headerDiv), o2.filterReset && this._buildReset(this._headerDiv), this._soptions.partialSearch && this._buildSearchbox(this._headerDiv), this._buildSelectAllBox(), this._element.appendChild(this._headerDiv);
    var s2 = this._viewportDiv = n2.createElement("div");
    s2.className = "rg-filter-list-viewport", s2.style.height = o2.listHeight + "px", s2.addEventListener("scroll", this._scrollHandler), s2.addEventListener("wheel", this._wheelHandler), this._listDiv = n2.createElement("div"), this._listDiv.className = "rg-filter-list", this._listDiv.style.position = "relative", s2.appendChild(this._listDiv), this._element.appendChild(s2), this._calcAllChecked(), this._calcluateStates(), this._buildItems(), r2 && this._buildFooter(this._element), this._searched = false;
  }, e2.prototype._finalize = function() {
    var t3;
    this._roots = [], this._visbleItemMap = {};
    for (var e3 = this._items.length; e3--; ) this._items[e3].filter = null, this._items[e3].parent = null, this._items[e3].childs = null, this._items[e3] = null;
    this._items = [], (t3 = this._resetDiv) && (t3.removeEventListener("click", this._resetClickHandler), this._resetDiv = Ot.detach(this._resetDiv)), (t3 = this._titleDiv) && (this._titleDiv = Ot.detach(this._titleDiv)), (t3 = this._searchDiv) && (t3.removeEventListener("input", this._searchInputHandler), t3.removeEventListener("keydown", this._searchKeyDownHandler), this._searchInput = Ot.detach(this._searchInput), this._searchDiv = Ot.detach(this._searchDiv)), this._selectAllDiv.removeEventListener("click", this._checkAllClickHandler), this._selectAllDiv = Ot.detach(this._selectAllDiv), this._headerDiv = Ot.detach(this._headerDiv), this._footerDiv && (this._confirmButton.removeEventListener("click", this._confirmClickHandler), this._cancelButton.removeEventListener("click", this._cancelClickHandler), this._confirmButton = Ot.detach(this._confirmButton), this._cancelButton = Ot.detach(this._cancelButton), this._footerDiv = Ot.detach(this._footerDiv));
    for (e3 = this._itemElements.length; e3--; ) this._removeItem(e3);
    this._itemElements = [];
    var i2 = this._viewportDiv;
    i2.removeEventListener("scroll", this._scrollHandler), i2.removeEventListener("wheel", this._wheelHandler), this._listDiv = Ot.detach(this._listDiv), this._viewportDiv = Ot.detach(this._viewportDiv);
  }, e2.prototype._buildSelectAllBox = function() {
    var t3 = this.doc, e3 = this._soptions, i2 = e3.allCheckText, o2 = this._selectAllDiv = t3.createElement("div");
    o2.className = "rg-filter-select-all", e3.textToTitle && i2 && (o2.title = i2);
    var r2 = this._selectAllCheck = t3.createElement("input");
    r2.type = "checkbox", r2.className = "rg-filter-checkbox", this._setCheckState(r2, this._allCheck), o2.appendChild(r2);
    var n2 = this._selectAllText = t3.createElement("div");
    n2.className = "rg-filter-text", n2.innerHTML = Ot.htmlEncode(i2), o2.appendChild(n2);
    var s2 = this._columnReset = t3.createElement("div");
    e3.useFilterResetImage ? (s2.className = "rg-filter-column-reset image", s2.innerHTML = "") : (s2.className = "rg-filter-column-reset", s2.innerHTML = Ot.htmlEncode(e3.filterResetText)), o2.appendChild(s2), this._headerDiv.appendChild(this._selectAllDiv), this._selectAllDiv.addEventListener("click", this._checkAllClickHandler);
  }, e2.prototype._buildReset = function(t3) {
    var e3 = this.doc, i2 = this._resetDiv = e3.createElement("div");
    i2.className = "rg-filter-reset", i2.appendChild(e3.createTextNode(this._soptions.filtersResetText)), i2.addEventListener("click", this._resetClickHandler), t3.appendChild(i2);
  }, e2.prototype._buildTitle = function(t3) {
    var e3 = this.doc, i2 = this._titleDiv = e3.createElement("div");
    i2.className = "rg-filter-title", i2.appendChild(e3.createTextNode(this._soptions.title || this._targetColumn.displayText)), t3.appendChild(i2);
  }, e2.prototype._buildItems = function() {
    var t3 = "temp임시", e3 = Ot.getTextLength(t3), i2 = 0;
    this._filters.items.forEach(function(o3) {
      i2 = Math.max(i2, o3.level);
      var r3 = o3.toString();
      e3 < Ot.getTextLength(r3) && (e3 = Ot.getTextLength(r3), t3 = r3);
    });
    var o2 = this._listDiv, r2 = o2.style;
    r2.display = "inline-block";
    var n2 = this._buildItemElement(t3, 0, void 0, "rg-filter-item");
    n2.style.position = "relative", o2.appendChild(n2);
    var s2 = Ot.getSize(n2);
    this._itemHeight = Math.floor(s2.height), this._viewWidth = Math.floor(s2.width) + 15 * i2 + 4, o2.removeChild(n2), r2.height = "1500px";
    var a2 = this._viewportDiv.offsetWidth - this._viewportDiv.clientWidth;
    r2.removeProperty("height");
    var l2 = this._visibleCount, h2 = this._viewportDiv.offsetHeight;
    this._pageCount = Math.min(this._items.length, Math.ceil(h2 / this._itemHeight));
    var u2 = this._pageCount;
    r2.height = l2 * this._itemHeight + "px", u2 <= this._items.length && (this._viewWidth += a2 + 2), r2.removeProperty("display");
    var c2 = l2 < u2 ? l2 : u2;
    this._itemElements = [];
    for (var d2 = 0; d2 < c2; d2++) {
      var p2 = this._visibleItems[d2];
      this._itemElements.push(this._buildItem(p2, d2));
    }
  }, e2.prototype._buildSearchbox = function(t3) {
    var e3 = this.doc, i2 = this._searchDiv = e3.createElement("div");
    i2.className = "rg-filter-searchbox";
    var o2 = this._searchInput = this.doc.createElement("input");
    o2.type = "text", o2.placeholder = this._soptions.searchPlaceholder, o2.className = "rg-filter-search-input", o2.autocomplete = "off", o2.addEventListener("input", this._searchInputHandler), o2.addEventListener("keydown", this._searchKeyDownHandler), i2.appendChild(o2), t3.appendChild(i2);
  }, e2.prototype._buildFooter = function(t3) {
    var e3 = this.doc;
    this._footerDiv = e3.createElement("div"), this._footerDiv.className = "rg-filter-button";
    var i2 = this._confirmButton = e3.createElement("input");
    i2.type = "button", i2.className = "rg-filter-accept", i2.value = this._soptions.acceptText, i2.addEventListener("click", this._confirmClickHandler), this._footerDiv.appendChild(i2);
    var o2 = this._cancelButton = e3.createElement("input");
    o2.type = "button", o2.className = "rg-filter-cancel", o2.value = this._soptions.cancelText, o2.addEventListener("click", this._cancelClickHandler), this._footerDiv.appendChild(o2), t3.appendChild(this._footerDiv);
  }, e2.prototype._buildItem = function(t3, e3) {
    var i2 = this._items, o2 = this._listDiv, r2 = i2[t3], n2 = r2.expanded, s2 = this._buildItemElement(r2.text, r2.level, r2.state, "rg-filter-item", n2);
    return s2.filter_id = t3 + "", s2.style.position = "absolute", s2.style.height = this._itemHeight + "px", s2.style.top = e3 * this._itemHeight + "px", s2.addEventListener("click", this._itemClickHandler), o2.appendChild(s2), s2;
  }, e2.prototype._removeItem = function(t3) {
    var e3 = this._itemElements[t3];
    e3.removeEventListener("click", this._itemClickHandler), Ot.detach(e3), this._itemElements.splice(t3, 1);
  }, e2.prototype._buildItemElement = function(t3, e3, i2, o2, r2) {
    var n2, s2 = this.doc, a2 = s2.createElement("div");
    o2 && (a2.className = o2, a2.tabIndex = -1), this._soptions.textToTitle && t3 && (a2.title = t3);
    var l2 = s2.createElement("div");
    l2.className = "rg-filter-item-indent-" + e3, a2.appendChild(l2);
    var h2 = s2.createElement("div"), u2 = "rg-filter-expander";
    void 0 !== r2 && (u2 += " " + (r2 ? "rg-filter-expander-expanded" : "rg-filter-expander-collapsed")), h2.className = u2, a2.appendChild(h2);
    var c2 = s2.createElement("input");
    c2.type = "checkbox", c2.className = "rg-filter-checkbox", this._setCheckState(c2, i2), a2.appendChild(c2);
    var d2 = s2.createElement("div");
    return n2 = d2.style, d2.className = "rg-filter-text", n2.position = "relative", n2.display = "inline", n2.pointerEvents = "none", d2.innerHTML = Ot.htmlEncode(t3), a2.appendChild(d2), a2;
  }, e2.prototype._calculateState = function(t3) {
    for (var e3 = void 0, i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = t3[i2];
      if (e3 && r2.state != e3) return Qo.INDETERMINATE;
      e3 = r2.state;
    }
    return e3 || Qo.UNACTIVE;
  }, e2.prototype._calcluateStates = function() {
    for (var t3 = this._items.length; t3--; ) {
      var e3 = this._items[t3];
      e3.childs && (e3.state = this._calculateState(e3.childs));
    }
  }, e2.prototype._calcVisibleItems = function() {
    function t3(t4) {
      for (var e4 = t4.parent; e4; ) {
        if (!e4.expanded) return false;
        e4 = e4.parent;
      }
      return true;
    }
    var e3 = 0;
    this._visibleItems = [];
    for (var i2 = 0, o2 = this._items.length; i2 < o2; i2++) {
      var r2 = this._items[i2];
      r2.parent && !t3(r2) || (e3++, this._visibleItems.push(i2));
    }
    return e3;
  }, e2.prototype._setCheckState = function(t3, e3) {
    t3.checked = e3 == Qo.ACTIVE, t3.indeterminate = e3 == Qo.INDETERMINATE;
  }, e2.prototype._calcAllChecked = function() {
    this._allCheck = this._calculateState(this._roots), this._setCheckState(this._selectAllCheck, this._allCheck);
  }, e2.prototype._redrawCheck = function() {
    for (var t3 = this._itemElements.length; t3--; ) {
      var i2 = this._itemElements[t3], o2 = parseInt(i2.filter_id), r2 = this._visbleItemMap[o2], n2 = i2.childNodes[e2.INDEX_CHECKBOX];
      this._setCheckState(n2, r2.state);
    }
  }, e2.prototype._doRedraw = function(t3) {
    void 0 === t3 && (t3 = 0);
    var e3 = this._itemElements, i2 = this._pageCount, o2 = Math.min(i2, this._visibleCount), r2 = Math.max(0, this._visibleItems.indexOf(t3));
    r2 + i2 > this._visibleCount && (r2 = Math.max(0, this._visibleCount - i2));
    for (var n2 = 0, s2 = 0; s2 < o2; s2++) {
      var a2 = this._visibleItems[s2 + r2];
      !e3[s2] && s2 < o2 && e3.push(this._buildItem(a2, s2)), this._changeItemModel(e3[s2], a2), n2++;
    }
    for (s2 = e3.length - 1; s2 > n2 - 1; s2--) this._removeItem(s2);
    var l2 = this._visibleCount * this._itemHeight;
    this._listDiv.style.height = l2 + "px";
    var h2 = this._viewportDiv;
    h2.scrollTop + h2.offsetHeight > l2 && (h2.scrollTop = l2 - h2.offsetHeight);
  }, e2.prototype._changeItemModel = function(t3, e3) {
    var i2 = xt(t3), o2 = this._items[e3];
    t3.filter_id = e3 + "", this._soptions.textToTitle && o2.text && (t3.title = o2.text);
    for (var r2 = t3.childNodes.length; r2--; ) {
      var n2 = t3.childNodes.item(r2);
      if (n2 instanceof i2.HTMLElement) {
        var s2 = n2.className;
        if (s2) {
          if (s2.indexOf("rg-filter-item-indent-") > -1) n2.className = "rg-filter-item-indent-" + o2.level;
          else if (s2.indexOf("rg-filter-expander") > -1) {
            var a2 = "rg-filter-expander";
            void 0 !== o2.expanded && (a2 += " " + (o2.expanded ? "rg-filter-expander-expanded" : "rg-filter-expander-collapsed")), n2.className = a2;
          } else if (n2 instanceof i2.HTMLInputElement && "rg-filter-checkbox" == s2) this._setCheckState(n2, o2.state);
          else if (s2.indexOf("rg-filter-text") >= 0) {
            var l2 = Ot.htmlEncode(o2.text), h2 = this._searchInput ? Ot.htmlEncode(this._searchInput.value) : "", u2 = "g" + (this._soptions.searchIgnoreCase ? "i" : "");
            l2 = h2 ? l2.replace(new RegExp(Ot.escapeRegExp(h2), u2), function(t4, e4, i3) {
              return '<span class="rg-filter-search-text">'.concat(t4, "</span>");
            }) : l2, n2.innerHTML = "<span>" + l2 + "</span>";
          }
        }
      }
    }
  }, e2.prototype._doScroll = function() {
    for (var t3 = this._itemElements, e3 = Math.max(0, Math.floor(Math.min(this._viewportDiv.scrollTop, this._listDiv.offsetHeight - this._viewportDiv.offsetHeight) / this._itemHeight)), i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = this._visibleItems[e3 + i2];
      this._changeItemModel(t3[i2], r2), t3[i2].style.top = (e3 + i2) * this._itemHeight + "px";
    }
  }, e2.prototype._doSearch = function(t3, e3) {
    void 0 === e3 && (e3 = true), t3 ? this._createItemInfo(this._manager.search(t3)) : this._createItemInfo(this._filters), this._selectAllText.textContent = t3 ? this._soptions.searchedCheckText : this._soptions.allCheckText, e3 && this._calcAllChecked(), this._doRedraw(), this._searched = !!t3;
  }, e2.prototype._resetActive = function(t3, e3) {
    var i2 = this._grid.itemSource.isFiltered(this.column.dataIndex), o2 = this._targetColumn, r2 = this._selectAllCheck;
    r2.checked = r2.indeterminate = false, this._doSearch(this._searchInput.value = "", false);
    for (var n2 = this._items.length; n2--; ) {
      this._items[n2].state = Qo.UNACTIVE;
    }
    this._redrawCheck(), t3 && this._filters.activateAll(false, true, i2, true), !e3 && o2.autoFilter && this._options.automating.filteredDataOnly && this.$_refreshItem(o2);
  }, e2.prototype._activateAll = function(t3) {
    for (var e3 = !this._applyBatch, i2 = this._items.length; i2--; ) {
      var o2 = this._items[i2];
      o2.childs || (o2.state = t3 ? Qo.ACTIVE : Qo.UNACTIVE, (!e3 || this._searched) && this._dirties.push(o2));
    }
    if (e3 && (this._searched ? this._doFilterApply() : this._filters.activateAll(t3, true)), this._calcluateStates(), this._itemElements.length) {
      var r2 = this._itemElements[0].filter_id, n2 = Math.max(0, this._visibleItems.indexOf(parseInt(r2)));
      this._doRedraw(n2);
    }
  }, e2.prototype._doCheck = function(t3, e3) {
    var i2 = e3 ? Qo.ACTIVE : Qo.UNACTIVE, o2 = this._applyBatch || void 0 !== t3.childs, r2 = this._applyBatch ? this._dirties : [];
    if (function i3(o3, r3, n3, s3) {
      if (o3.state != r3) if (o3.state = r3, o3.childs) for (var a3 = o3.childs.length; a3--; ) i3(o3.childs[a3], r3, n3, s3);
      else if (n3) {
        var l3 = t3.filter;
        if (l3 && l3.active == (r3 === Qo.ACTIVE)) {
          var h2 = s3.indexOf(o3);
          h2 >= 0 && s3.splice(h2, 1);
        } else s3.indexOf(o3) < 0 && s3.push(o3);
      } else o3.filter.active = e3;
    }(t3, i2, o2, r2), o2 && !this._applyBatch) {
      for (var n2 = [], s2 = 0, a2 = r2.length; s2 < a2; s2++) n2.push(r2[s2].filter.name);
      n2.length > 0 && this._filters.activateItems(n2, e3);
    }
    for (var l2 = t3.parent; l2; ) l2.state = this._calculateState(l2.childs), l2 = l2.parent;
    (t3.parent || t3.childs) && this._redrawCheck(), this._calcAllChecked();
  }, e2.prototype._doFilterApply = function() {
    this._filters._updating = true;
    try {
      for (var t3 = this._dirties, e3 = t3.length; e3--; ) {
        var i2 = t3[e3];
        i2.filter.active = i2.state == Qo.ACTIVE;
      }
      this._filters._updating = false, t3.length && this._filters.changed(1 == t3.length ? t3[0].filter : null, false);
    } finally {
      this._filters._updating = false;
    }
    this._dirties = [];
  }, e2.prototype._doExpand = function(t3, e3) {
    t3.expanded = e3, this._visibleCount = this._calcVisibleItems();
    var i2 = parseInt(this._itemElements[0].filter_id);
    this._doRedraw(i2);
  }, e2.prototype._globalMouseDownHandler = function(t3) {
    for (var e3 = t3.target; e3; ) {
      if (e3 === this._element) return;
      e3 = e3.parentElement;
    }
    this.hide();
  }, e2.prototype._globalKeyDownHandler = function(t3) {
    if (27 == t3.keyCode) {
      var e3 = this._grid;
      e3 && e3.isValid(e3.focusedIndex) && e3.setFocus(), this.hide();
    }
  }, e2.prototype._wheelHandler = function(t3) {
    var e3 = t3.deltaY;
    0 !== e3 && (null == this._prevWheelTimeStamp || this._prevWheelTimeStamp + this._wheelDelay < t3.timeStamp) && (this._prevWheelTimeStamp = t3.timeStamp, e3 = (e3 > 0 ? 2 : -2) * this._itemHeight, this._viewportDiv.scrollTop += e3, this._doScroll()), t3.preventDefault(), t3.stopImmediatePropagation(), t3.stopPropagation();
  }, e2.prototype._scrollHandler = function(t3) {
    this._doScroll();
  }, e2.prototype._searchInputHandler = function(t3) {
    var e3 = t3.target;
    e3 instanceof xt(e3).HTMLInputElement && this._doSearch(e3.value);
  }, e2.prototype._searchKeyDownHandler = function(t3) {
    if (13 == t3.keyCode && (this._doSearch(this._searchInput.value), this._searched && this._soptions.activeWhenEnter && this._items.length)) {
      var e3 = this._selectAllCheck;
      e3.checked = !(e3.indeterminate = false), this.$_allCheck(true);
    }
  }, e2.prototype.$_refreshItem = function(t3) {
    for (var e3 = this._itemElements.length; e3--; ) this._removeItem(e3);
    this._itemElements = [], this._manager.buildItems(t3, t3.grid.dataSource, t3.autoFilter, false), this._createItemInfo(t3.autoFilters), this._buildItems(), this._dirties = [];
  }, e2.prototype._resetClickHandler = function() {
    this._grid.resetFilters(true);
    var t3 = this._soptions.closeWhenClick;
    this._resetActive(false, t3), t3 && this.hide();
  }, e2.prototype.$_allCheck = function(t3) {
    this._activateAll(t3), this._allCheck = t3 ? Qo.ACTIVE : Qo.UNACTIVE, !this._applyBatch && this._soptions.closeWhenClick && this.hide();
  }, e2.prototype._checkAllClickHandler = function(t3) {
    var e3 = this._selectAllCheck, i2 = t3.target;
    i2 === this._columnReset ? this._resetActive(true, false) : i2 !== e3 ? (e3.checked = !e3.checked, e3.indeterminate = false, this.$_allCheck(e3.checked)) : i2 === e3 && this.$_allCheck(e3.checked);
  }, e2.prototype._itemClickHandler = function(t3) {
    for (var i2 = t3.target, o2 = i2.className.indexOf("rg-filter-expander") > -1, r2 = "rg-filter-checkbox" == i2.className, n2 = i2; n2 && "rg-filter-item" !== n2.className; ) n2 = n2.parentElement;
    !n2 && (n2 = t3.currentTarget);
    var s2 = parseInt(n2.filter_id), a2 = this._visbleItemMap[s2];
    if (o2) void 0 !== a2.expanded && this._doExpand(a2, !a2.expanded);
    else {
      var l2 = void 0;
      r2 ? l2 = i2 : (l2 = n2.children.item(e2.INDEX_CHECKBOX)).checked = !l2.checked, this._doCheck(a2, l2.checked), !this._applyBatch && this._soptions.closeWhenClick && this.hide();
    }
  }, e2.prototype._confirmClickHandler = function() {
    this._doFilterApply(), this.hide();
  }, e2.prototype._cancelClickHandler = function() {
    this.hide();
  }, e2.INDEX_CHECKBOX = 2, e2;
}(Oe);
var gc = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2.$_touchendHandler = null, o2._container = e3, o2._element = o2.$_createElement(e3.doc), o2._isMessage = i2, o2.$_touchendHandler = (function(t3) {
      t3.preventDefault(), this.hide();
    }).bind(o2), Ot.isMobile() && o2._element.addEventListener("touchend", o2.$_touchendHandler, false), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this), this._element && this._element.removeEventListener("touchend", this.$_touchendHandler), Ot.detach(this._element);
  }, e2.prototype.show = function(t3, e3, i2, o2, r2) {
    this.$_show(t3, e3, i2, o2, r2);
  }, e2.prototype.hide = function() {
    clearTimeout(this._timer), Ot.detach(this._element);
  }, e2.prototype.$_createElement = function(t3) {
    var e3 = t3.createElement("div");
    return e3.style.pointerEvents = "none", e3.onkeydown = (function(t4) {
      27 == t4.keyCode && this.hide();
    }).bind(this), this.$_disableSelection(e3), this._span = t3.createElement("span"), e3.appendChild(this._span), this.$_disableSelection(this._span), e3;
  }, e2.prototype.$_disableSelection = function(t3) {
    void 0 !== t3.onselectstart ? t3.onselectstart = function() {
      return false;
    } : void 0 !== t3.style.MozUserSelect ? t3.style.MozUserSelect = "none" : t3.onmousedown = function() {
      return false;
    };
  }, e2.prototype.$_show = function(t3, e3, i2, o2, r2) {
    var n2 = this, s2 = this._container.gridView.displayOptions.baseZindex + 4, a2 = this._element, l2 = t3 && t3.message;
    if (a2 && l2) {
      this._span.innerHTML = l2.replace(/\n/g, "<br>");
      var h2 = this._isMessage ? "rg-message" : "rg-tooltip";
      t3.styleName && (h2 = "".concat(h2, " ").concat(t3.styleName)), Ot.setClassName(a2, h2);
      var u2 = a2.style;
      u2.position = "absolute", u2.left = "0px", u2.top = i2 + "px", u2.overflow = "hidden", u2.zIndex = String(s2), this._container._container.appendChild(a2);
      var c2 = Ot.getSize(a2), d2 = Ot.getSize(this._container._container);
      u2.left = d2.width - c2.width > e3 ? e3 + "px" : Math.max(d2.right - c2.width - d2.left - 2, 0) + "px", c2.bottom > d2.bottom && (a2.style.top = r2 ? Math.max(0, i2 - (c2.bottom - d2.bottom)) + "px" : Math.max(i2 - c2.height - o2, 0) + "px"), u2.visibility = "visible", clearTimeout(this._timer), t3.hideDuration && (this._timer = setTimeout(function() {
        n2.hide();
      }, t3.hideDuration));
    }
  }, e2;
}(Ft);
var yc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._active = false, i2._messageActive = false, i2._container = e3.container, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._container = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "visible", { get: function() {
    return this._active;
  }, enumerable: false, configurable: true }), e2.prototype.show = function(t3, e3, i2, o2, r2) {
    return !(this._active || (this.close(), !t3)) && (this._tipView || (this._tipView = new gc(this._container, false)), this._tipView.show(t3, e3, i2, o2, r2), this._active = true, true);
  }, e2.prototype.showMessage = function(t3, e3, i2) {
    t3 && ((this._messageView || (this._messageView = new gc(this._container, true))).show(t3, e3, i2, 0, false), this._messageActive = true);
  }, e2.prototype.close = function() {
    return !!this._active && (this._tipView && this._tipView.hide(), this._active = false, true);
  }, e2.prototype.closeMessage = function() {
    this._messageActive && (this._messageView && this._messageView.hide(), this._messageActive = false);
  }, e2;
}(Ft);
var mc = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
var bc = {};
!function(t2) {
  var e2, i2 = mc && mc.__extends || (e2 = function(t3, i3) {
    return (e2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e3) {
      t4.__proto__ = e3;
    } || function(t4, e3) {
      for (var i4 in e3) Object.prototype.hasOwnProperty.call(e3, i4) && (t4[i4] = e3[i4]);
    })(t3, i3);
  }, function(t3, i3) {
    if ("function" != typeof i3 && null !== i3) throw new TypeError("Class extends value " + String(i3) + " is not a constructor or null");
    function o3() {
      this.constructor = t3;
    }
    e2(t3, i3), t3.prototype = null === i3 ? Object.create(i3) : (o3.prototype = i3.prototype, new o3());
  });
  Object.defineProperty(t2, "__esModule", { value: true }), t2.h = t2.r = void 0;
  var o2 = function() {
    function t3() {
    }
    return t3.encode = function(e3) {
      for (var i3 = t3.CHARACTERS, o3 = [], r3 = e3.length, n3 = r3 % 3, s3 = r3 - n3, a3 = 0; a3 < s3; ) {
        var l3 = e3[a3++] << 16 | e3[a3++] << 8 | e3[a3++];
        o3.push(i3.charAt(l3 >>> 18 & 63)), o3.push(i3.charAt(l3 >>> 12 & 63)), o3.push(i3.charAt(l3 >>> 6 & 63)), o3.push(i3.charAt(63 & l3));
      }
      switch (n3) {
        case 2:
          l3 = e3[s3++] << 16 | e3[s3++] << 8, o3.push(i3.charAt(l3 >>> 18 & 63)), o3.push(i3.charAt(l3 >>> 12 & 63)), o3.push(i3.charAt(l3 >>> 6 & 63)), o3.push(t3.SUFFIX);
          break;
        case 1:
          l3 = e3[s3++] << 16, o3.push(i3.charAt(l3 >>> 18 & 63)), o3.push(i3.charAt(l3 >>> 12 & 63)), o3.push(t3.SUFFIX), o3.push(t3.SUFFIX);
      }
      return o3.join("");
    }, t3.decode = function(e3) {
      for (var i3 = t3.CHARACTERS, o3 = t3.SUFFIX, r3 = e3.split(""), n3 = [], s3 = r3.length; r3[--s3] === o3; ) ;
      for (var a3 = 0; a3 < s3; ) {
        var l3 = i3.indexOf(r3[a3++]) << 18;
        a3 <= s3 && (l3 |= i3.indexOf(r3[a3++]) << 12), a3 <= s3 && (l3 |= i3.indexOf(r3[a3++]) << 6), a3 <= s3 && (l3 |= i3.indexOf(r3[a3++])), n3.push(l3 >>> 16 & 255), n3.push(l3 >>> 8 & 255), n3.push(255 & l3);
      }
      for (; 0 === n3[n3.length - 1]; ) n3.pop();
      return n3;
    }, t3.SUFFIX = "=", t3.CHARACTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", t3;
  }(), r2 = function() {
    function t3() {
    }
    return t3.union = function(t4, e3) {
      var i3 = e3.s3[255 & t4], o3 = e3.s2[255 & (t4 >>= 8)], r3 = e3.s1[255 & (t4 >>= 8)];
      return ((r3 = ((r3 = ((t4 = e3.s0[255 & (t4 >>= 8)]) >> 16) + (r3 >> 16) + ((65535 & t4) + (65535 & r3) >> 16) << 16 | (65535 & t4) + (65535 & r3) & 65535) >> 16 ^ o3 >> 16) << 16 | 65535 & (65535 & r3 ^ 65535 & o3)) >> 16) + (i3 >> 16) + ((65535 & r3) + (65535 & i3) >> 16) << 16 | (65535 & r3) + (65535 & i3) & 65535;
    }, t3.xor = function(t4, e3) {
      return (t4 >> 16 ^ e3 >> 16) << 16 | 65535 & (65535 & t4 ^ 65535 & e3);
    }, t3._encryptBlock = function(e3, i3) {
      var o3 = e3.left, r3 = e3.right, n3 = t3.xor, s3 = t3.union;
      o3 = n3(o3, i3.p[0]), r3 = n3(r3, n3(s3(o3, i3), i3.p[1]));
      o3 = n3(o3, n3(s3(r3, i3), i3.p[2])), r3 = n3(r3, n3(s3(o3, i3), i3.p[3])), o3 = n3(o3, n3(s3(r3, i3), i3.p[4])), r3 = n3(r3, n3(s3(o3, i3), i3.p[5])), o3 = n3(o3, n3(s3(r3, i3), i3.p[6])), r3 = n3(r3, n3(s3(o3, i3), i3.p[7])), o3 = n3(o3, n3(s3(r3, i3), i3.p[8])), r3 = n3(r3, n3(s3(o3, i3), i3.p[9])), o3 = n3(o3, n3(s3(r3, i3), i3.p[10])), r3 = n3(r3, n3(s3(o3, i3), i3.p[11])), o3 = n3(o3, n3(s3(r3, i3), i3.p[12])), r3 = n3(r3, n3(s3(o3, i3), i3.p[13])), o3 = n3(o3, n3(s3(r3, i3), i3.p[14])), r3 = n3(r3, n3(s3(o3, i3), i3.p[15])), o3 = n3(o3, n3(s3(r3, i3), i3.p[16])), e3.right = o3, e3.left = n3(r3, i3.p[17]);
    }, t3._decryptBlock = function(e3, i3) {
      var o3 = e3.left, r3 = e3.right, n3 = t3.xor, s3 = t3.union;
      o3 = n3(o3, i3.p[17]), r3 = n3(r3, n3(s3(o3, i3), i3.p[16]));
      o3 = n3(o3, n3(s3(r3, i3), i3.p[15])), r3 = n3(r3, n3(s3(o3, i3), i3.p[14])), o3 = n3(o3, n3(s3(r3, i3), i3.p[13])), r3 = n3(r3, n3(s3(o3, i3), i3.p[12])), o3 = n3(o3, n3(s3(r3, i3), i3.p[11])), r3 = n3(r3, n3(s3(o3, i3), i3.p[10])), o3 = n3(o3, n3(s3(r3, i3), i3.p[9])), r3 = n3(r3, n3(s3(o3, i3), i3.p[8])), o3 = n3(o3, n3(s3(r3, i3), i3.p[7])), r3 = n3(r3, n3(s3(o3, i3), i3.p[6])), o3 = n3(o3, n3(s3(r3, i3), i3.p[5])), r3 = n3(r3, n3(s3(o3, i3), i3.p[4])), o3 = n3(o3, n3(s3(r3, i3), i3.p[3])), r3 = n3(r3, n3(s3(o3, i3), i3.p[2])), o3 = n3(o3, n3(s3(r3, i3), i3.p[1])), e3.right = o3, e3.left = n3(r3, i3.p[0]);
    }, t3._init = function(e3) {
      for (var i3, o3 = e3.split("").map(function(t4) {
        return 255 & t4.charCodeAt(0);
      }), r3 = (e3 = t3.kb, t3._encryptBlock), n3 = 0, s3 = 0, a3 = { left: 0, right: 0 }, l3 = { p: e3.p.slice(0).map(function(e4) {
        for (var i4 = o3.length, r4 = 0; r4 < 4; r4++) s3 = s3 * t3.POW8 | o3[n3++ % i4];
        return (e4 >> 16 ^ s3 >> 16) << 16 | 65535 & (65535 & e4 ^ 65535 & s3);
      }), s0: e3.s0.slice(0), s1: e3.s1.slice(0), s2: e3.s2.slice(0), s3: e3.s3.slice(0) }, h3 = 0, u2 = l3.p.length; h3 < u2; ) r3(a3, l3), l3.p[h3++] = a3.left, l3.p[h3++] = a3.right;
      for (h3 = 0; h3 < 4; h3++) for (i3 = 0, u2 = l3["s" + h3].length; i3 < u2; ) r3(a3, l3), l3["s" + h3][i3++] = a3.left, l3["s" + h3][i3++] = a3.right;
      return l3;
    }, t3.encrypt = function(e3, i3) {
      for (var r3 = t3._encryptBlock, n3 = t3._init(i3), s3 = 8 - (7 & e3.length), a3 = 0; a3 < s3; a3++) e3 += String.fromCharCode(s3);
      var l3 = 0, h3 = [], u2 = e3.length >> 3, c2 = { left: null, right: null };
      for (a3 = 0; a3 < u2; a3++) c2.left = e3.charCodeAt(l3) * t3.POW24 | e3.charCodeAt(l3 + 1) * t3.POW16 | e3.charCodeAt(l3 + 2) * t3.POW8 | e3.charCodeAt(l3 + 3), c2.right = e3.charCodeAt(l3 + 4) * t3.POW24 | e3.charCodeAt(l3 + 5) * t3.POW16 | e3.charCodeAt(l3 + 6) * t3.POW8 | e3.charCodeAt(l3 + 7), r3(c2, n3), h3.push(c2.left >> 24 & 255), h3.push(c2.left >> 16 & 255), h3.push(c2.left >> 8 & 255), h3.push(255 & c2.left), h3.push(c2.right >> 24 & 255), h3.push(c2.right >> 16 & 255), h3.push(c2.right >> 8 & 255), h3.push(255 & c2.right), l3 += 8;
      return o2.encode(h3);
    }, t3.decrypt = function(e3, i3) {
      for (var r3 = t3._decryptBlock, n3 = t3._init(i3), s3 = [], a3 = o2.decode(e3), l3 = 0, h3 = a3.length >> 3, u2 = { left: null, right: null }, c2 = 0; c2 < h3; c2++) {
        u2.left = a3[l3] * t3.POW24 | a3[l3 + 1] * t3.POW16 | a3[l3 + 2] * t3.POW8 | a3[l3 + 3], u2.right = a3[l3 + 4] * t3.POW24 | a3[l3 + 5] * t3.POW16 | a3[l3 + 6] * t3.POW8 | a3[l3 + 7], r3(u2, n3);
        var d2 = u2.left, p2 = u2.right;
        s3.push(d2 >> 24 & 255), s3.push(d2 >> 16 & 255), s3.push(d2 >> 8 & 255), s3.push(255 & d2), s3.push(p2 >> 24 & 255), s3.push(p2 >> 16 & 255), s3.push(p2 >> 8 & 255), s3.push(255 & p2), l3 += 8;
      }
      return s3[s3.length - 1] !== s3[s3.length - 2] && 1 !== s3[s3.length - 1] || (e3 = s3[s3.length - 1], s3.splice(s3.length - e3, e3)), s3.map(function(t4) {
        return String.fromCharCode(t4);
      }).join("");
    }, t3.POW2 = Math.pow(2, 2), t3.POW3 = Math.pow(2, 3), t3.POW4 = Math.pow(2, 4), t3.POW8 = Math.pow(2, 8), t3.POW16 = Math.pow(2, 16), t3.POW24 = Math.pow(2, 24), t3.kb = { p: [608135816, 2242054355, 320440878, 57701188, 2752067618, 698298832, 137296536, 3964562569, 1160258022, 953160567, 3193202383, 887688300, 3232508343, 3380367581, 1065670069, 3041331479, 2450970073, 2306472731], s0: [3509652390, 2564797868, 805139163, 3491422135, 3101798381, 1780907670, 3128725573, 4046225305, 614570311, 3012652279, 134345442, 2240740374, 1667834072, 1901547113, 2757295779, 4103290238, 227898511, 1921955416, 1904987480, 2182433518, 2069144605, 3260701109, 2620446009, 720527379, 3318853667, 677414384, 3393288472, 3101374703, 2390351024, 1614419982, 1822297739, 2954791486, 3608508353, 3174124327, 2024746970, 1432378464, 3864339955, 2857741204, 1464375394, 1676153920, 1439316330, 715854006, 3033291828, 289532110, 2706671279, 2087905683, 3018724369, 1668267050, 732546397, 1947742710, 3462151702, 2609353502, 2950085171, 1814351708, 2050118529, 680887927, 999245976, 1800124847, 3300911131, 1713906067, 1641548236, 4213287313, 1216130144, 1575780402, 4018429277, 3917837745, 3693486850, 3949271944, 596196993, 3549867205, 258830323, 2213823033, 772490370, 2760122372, 1774776394, 2652871518, 566650946, 4142492826, 1728879713, 2882767088, 1783734482, 3629395816, 2517608232, 2874225571, 1861159788, 326777828, 3124490320, 2130389656, 2716951837, 967770486, 1724537150, 2185432712, 2364442137, 1164943284, 2105845187, 998989502, 3765401048, 2244026483, 1075463327, 1455516326, 1322494562, 910128902, 469688178, 1117454909, 936433444, 3490320968, 3675253459, 1240580251, 122909385, 2157517691, 634681816, 4142456567, 3825094682, 3061402683, 2540495037, 79693498, 3249098678, 1084186820, 1583128258, 426386531, 1761308591, 1047286709, 322548459, 995290223, 1845252383, 2603652396, 3431023940, 2942221577, 3202600964, 3727903485, 1712269319, 422464435, 3234572375, 1170764815, 3523960633, 3117677531, 1434042557, 442511882, 3600875718, 1076654713, 1738483198, 4213154764, 2393238008, 3677496056, 1014306527, 4251020053, 793779912, 2902807211, 842905082, 4246964064, 1395751752, 1040244610, 2656851899, 3396308128, 445077038, 3742853595, 3577915638, 679411651, 2892444358, 2354009459, 1767581616, 3150600392, 3791627101, 3102740896, 284835224, 4246832056, 1258075500, 768725851, 2589189241, 3069724005, 3532540348, 1274779536, 3789419226, 2764799539, 1660621633, 3471099624, 4011903706, 913787905, 3497959166, 737222580, 2514213453, 2928710040, 3937242737, 1804850592, 3499020752, 2949064160, 2386320175, 2390070455, 2415321851, 4061277028, 2290661394, 2416832540, 1336762016, 1754252060, 3520065937, 3014181293, 791618072, 3188594551, 3933548030, 2332172193, 3852520463, 3043980520, 413987798, 3465142937, 3030929376, 4245938359, 2093235073, 3534596313, 375366246, 2157278981, 2479649556, 555357303, 3870105701, 2008414854, 3344188149, 4221384143, 3956125452, 2067696032, 3594591187, 2921233993, 2428461, 544322398, 577241275, 1471733935, 610547355, 4027169054, 1432588573, 1507829418, 2025931657, 3646575487, 545086370, 48609733, 2200306550, 1653985193, 298326376, 1316178497, 3007786442, 2064951626, 458293330, 2589141269, 3591329599, 3164325604, 727753846, 2179363840, 146436021, 1461446943, 4069977195, 705550613, 3059967265, 3887724982, 4281599278, 3313849956, 1404054877, 2845806497, 146425753, 1854211946], s1: [1266315497, 3048417604, 3681880366, 3289982499, 290971e4, 1235738493, 2632868024, 2414719590, 3970600049, 1771706367, 1449415276, 3266420449, 422970021, 1963543593, 2690192192, 3826793022, 1062508698, 1531092325, 1804592342, 2583117782, 2714934279, 4024971509, 1294809318, 4028980673, 1289560198, 2221992742, 1669523910, 35572830, 157838143, 1052438473, 1016535060, 1802137761, 1753167236, 1386275462, 3080475397, 2857371447, 1040679964, 2145300060, 2390574316, 1461121720, 2956646967, 4031777805, 4028374788, 33600511, 2920084762, 1018524850, 629373528, 3691585981, 3515945977, 2091462646, 2486323059, 586499841, 988145025, 935516892, 3367335476, 2599673255, 2839830854, 265290510, 3972581182, 2759138881, 3795373465, 1005194799, 847297441, 406762289, 1314163512, 1332590856, 1866599683, 4127851711, 750260880, 613907577, 1450815602, 3165620655, 3734664991, 3650291728, 3012275730, 3704569646, 1427272223, 778793252, 1343938022, 2676280711, 2052605720, 1946737175, 3164576444, 3914038668, 3967478842, 3682934266, 1661551462, 3294938066, 4011595847, 840292616, 3712170807, 616741398, 312560963, 711312465, 1351876610, 322626781, 1910503582, 271666773, 2175563734, 1594956187, 70604529, 3617834859, 1007753275, 1495573769, 4069517037, 2549218298, 2663038764, 504708206, 2263041392, 3941167025, 2249088522, 1514023603, 1998579484, 1312622330, 694541497, 2582060303, 2151582166, 1382467621, 776784248, 2618340202, 3323268794, 2497899128, 2784771155, 503983604, 4076293799, 907881277, 423175695, 432175456, 1378068232, 4145222326, 3954048622, 3938656102, 3820766613, 2793130115, 2977904593, 26017576, 3274890735, 3194772133, 1700274565, 1756076034, 4006520079, 3677328699, 720338349, 1533947780, 354530856, 688349552, 3973924725, 1637815568, 332179504, 3949051286, 53804574, 2852348879, 3044236432, 1282449977, 3583942155, 3416972820, 4006381244, 1617046695, 2628476075, 3002303598, 1686838959, 431878346, 2686675385, 1700445008, 1080580658, 1009431731, 832498133, 3223435511, 2605976345, 2271191193, 2516031870, 1648197032, 4164389018, 2548247927, 300782431, 375919233, 238389289, 3353747414, 2531188641, 2019080857, 1475708069, 455242339, 2609103871, 448939670, 3451063019, 1395535956, 2413381860, 1841049896, 1491858159, 885456874, 4264095073, 4001119347, 1565136089, 3898914787, 1108368660, 540939232, 1173283510, 2745871338, 3681308437, 4207628240, 3343053890, 4016749493, 1699691293, 1103962373, 3625875870, 2256883143, 3830138730, 1031889488, 3479347698, 1535977030, 4236805024, 3251091107, 2132092099, 1774941330, 1199868427, 1452454533, 157007616, 2904115357, 342012276, 595725824, 1480756522, 206960106, 497939518, 591360097, 863170706, 2375253569, 3596610801, 1814182875, 2094937945, 3421402208, 1082520231, 3463918190, 2785509508, 435703966, 3908032597, 1641649973, 2842273706, 3305899714, 1510255612, 2148256476, 2655287854, 3276092548, 4258621189, 236887753, 3681803219, 274041037, 1734335097, 3815195456, 3317970021, 1899903192, 1026095262, 4050517792, 356393447, 2410691914, 3873677099, 3682840055], s2: [3913112168, 2491498743, 4132185628, 2489919796, 1091903735, 1979897079, 3170134830, 3567386728, 3557303409, 857797738, 1136121015, 1342202287, 507115054, 2535736646, 337727348, 3213592640, 1301675037, 2528481711, 1895095763, 1721773893, 3216771564, 62756741, 2142006736, 835421444, 2531993523, 1442658625, 3659876326, 2882144922, 676362277, 1392781812, 170690266, 3921047035, 1759253602, 3611846912, 1745797284, 664899054, 1329594018, 3901205900, 3045908486, 2062866102, 2865634940, 3543621612, 3464012697, 1080764994, 553557557, 3656615353, 3996768171, 991055499, 499776247, 1265440854, 648242737, 3940784050, 980351604, 3713745714, 1749149687, 3396870395, 4211799374, 3640570775, 1161844396, 3125318951, 1431517754, 545492359, 4268468663, 3499529547, 1437099964, 2702547544, 3433638243, 2581715763, 2787789398, 1060185593, 1593081372, 2418618748, 4260947970, 69676912, 2159744348, 86519011, 2512459080, 3838209314, 1220612927, 3339683548, 133810670, 1090789135, 1078426020, 1569222167, 845107691, 3583754449, 4072456591, 1091646820, 628848692, 1613405280, 3757631651, 526609435, 236106946, 48312990, 2942717905, 3402727701, 1797494240, 859738849, 992217954, 4005476642, 2243076622, 3870952857, 3732016268, 765654824, 3490871365, 2511836413, 1685915746, 3888969200, 1414112111, 2273134842, 3281911079, 4080962846, 172450625, 2569994100, 980381355, 4109958455, 2819808352, 2716589560, 2568741196, 3681446669, 3329971472, 1835478071, 660984891, 3704678404, 4045999559, 3422617507, 3040415634, 1762651403, 1719377915, 3470491036, 2693910283, 3642056355, 3138596744, 1364962596, 2073328063, 1983633131, 926494387, 3423689081, 2150032023, 4096667949, 1749200295, 3328846651, 309677260, 2016342300, 1779581495, 3079819751, 111262694, 1274766160, 443224088, 298511866, 1025883608, 3806446537, 1145181785, 168956806, 3641502830, 3584813610, 1689216846, 3666258015, 3200248200, 1692713982, 2646376535, 4042768518, 1618508792, 1610833997, 3523052358, 4130873264, 2001055236, 3610705100, 2202168115, 4028541809, 2961195399, 1006657119, 2006996926, 3186142756, 1430667929, 3210227297, 1314452623, 4074634658, 4101304120, 2273951170, 1399257539, 3367210612, 3027628629, 1190975929, 2062231137, 2333990788, 2221543033, 2438960610, 1181637006, 548689776, 2362791313, 3372408396, 3104550113, 3145860560, 296247880, 1970579870, 3078560182, 3769228297, 1714227617, 3291629107, 3898220290, 166772364, 1251581989, 493813264, 448347421, 195405023, 2709975567, 677966185, 3703036547, 1463355134, 2715995803, 1338867538, 1343315457, 2802222074, 2684532164, 233230375, 2599980071, 2000651841, 3277868038, 1638401717, 4028070440, 3237316320, 6314154, 819756386, 300326615, 590932579, 1405279636, 3267499572, 3150704214, 2428286686, 3959192993, 3461946742, 1862657033, 1266418056, 963775037, 2089974820, 2263052895, 1917689273, 448879540, 3550394620, 3981727096, 150775221, 3627908307, 1303187396, 508620638, 2975983352, 2726630617, 1817252668, 1876281319, 1457606340, 908771278, 3720792119, 3617206836, 2455994898, 1729034894, 1080033504], s3: [976866871, 3556439503, 2881648439, 1522871579, 1555064734, 1336096578, 3548522304, 2579274686, 3574697629, 3205460757, 3593280638, 3338716283, 3079412587, 564236357, 2993598910, 1781952180, 1464380207, 3163844217, 3332601554, 1699332808, 1393555694, 1183702653, 3581086237, 1288719814, 691649499, 2847557200, 2895455976, 3193889540, 2717570544, 1781354906, 1676643554, 2592534050, 3230253752, 1126444790, 2770207658, 2633158820, 2210423226, 2615765581, 2414155088, 3127139286, 673620729, 2805611233, 1269405062, 4015350505, 3341807571, 4149409754, 1057255273, 2012875353, 2162469141, 2276492801, 2601117357, 993977747, 3918593370, 2654263191, 753973209, 36408145, 2530585658, 25011837, 3520020182, 2088578344, 530523599, 2918365339, 1524020338, 1518925132, 3760827505, 3759777254, 1202760957, 3985898139, 3906192525, 674977740, 4174734889, 2031300136, 2019492241, 3983892565, 4153806404, 3822280332, 352677332, 2297720250, 60907813, 90501309, 3286998549, 1016092578, 2535922412, 2839152426, 457141659, 509813237, 4120667899, 652014361, 1966332200, 2975202805, 55981186, 2327461051, 676427537, 3255491064, 2882294119, 3433927263, 1307055953, 942726286, 933058658, 2468411793, 3933900994, 4215176142, 1361170020, 2001714738, 2830558078, 3274259782, 1222529897, 1679025792, 2729314320, 3714953764, 1770335741, 151462246, 3013232138, 1682292957, 1483529935, 471910574, 1539241949, 458788160, 3436315007, 1807016891, 3718408830, 978976581, 1043663428, 3165965781, 1927990952, 4200891579, 2372276910, 3208408903, 3533431907, 1412390302, 2931980059, 4132332400, 1947078029, 3881505623, 4168226417, 2941484381, 1077988104, 1320477388, 886195818, 18198404, 3786409e3, 2509781533, 112762804, 3463356488, 1866414978, 891333506, 18488651, 661792760, 1628790961, 3885187036, 3141171499, 876946877, 2693282273, 1372485963, 791857591, 2686433993, 3759982718, 3167212022, 3472953795, 2716379847, 445679433, 3561995674, 3504004811, 3574258232, 54117162, 3331405415, 2381918588, 3769707343, 4154350007, 1140177722, 4074052095, 668550556, 3214352940, 367459370, 261225585, 2610173221, 4209349473, 3468074219, 3265815641, 314222801, 3066103646, 3808782860, 282218597, 3406013506, 3773591054, 379116347, 1285071038, 846784868, 2669647154, 3771962079, 3550491691, 2305946142, 453669953, 1268987020, 3317592352, 3279303384, 3744833421, 2610507566, 3859509063, 266596637, 3847019092, 517658769, 3462560207, 3443424879, 370717030, 4247526661, 2224018117, 4143653529, 4112773975, 2788324899, 2477274417, 1456262402, 2901442914, 1517677493, 1846949527, 2295493580, 3734397586, 2176403920, 1280348187, 1908823572, 3871786941, 846861322, 1172426758, 3287448474, 3383383037, 1655181056, 3139813346, 901632758, 1897031941, 2986607138, 3066810236, 3447102507, 1393639104, 373351379, 950779232, 625454576, 3124240540, 4148612726, 2007998917, 544563296, 2244738638, 2330496472, 2058025392, 1291430526, 424198748, 50039436, 29584100, 3605783033, 2429876329, 2791104160, 1057563949, 3255363231, 3075367218, 3463963227, 1469046755, 985887462], k: [202, 218, 204, 100] }, t3;
  }(), n2 = String.fromCharCode(100, 107, 100, 108), s2 = function() {
    function t3(t4) {
      this._gk = null != t4 ? t4 : n2;
    }
    return t3.prototype._ldk = function(t4) {
      for (var e3 = "", i3 = 0, o3 = t4.length; i3 < o3; i3++) e3 += String.fromCharCode(t4[i3] >> 1);
      return e3;
    }, t3.prototype.get = function() {
      return this._gk + this._ldk(r2.kb.k);
    }, t3;
  }(), a2 = function() {
    function t3() {
    }
    return t3.run = function(t4, e3) {
      return e3 = new s2(e3).get(), r2.encrypt(t4, e3);
    }, t3;
  }();
  t2.r = a2;
  var l2 = function(t3) {
    function e3() {
      var i3 = t3.call(this) || this;
      return Object.setPrototypeOf(i3, e3.prototype), i3;
    }
    return i2(e3, t3), e3;
  }(Error), h2 = function() {
    function t3(t4, e3) {
      this._gk = e3, this._code = t4, this._lic = this.run();
    }
    return t3.prototype.run = function() {
      for (var t4 = {}, e3 = r2.decrypt(this._code, new s2(this._gk).get()).split(";"), i3 = 0, o3 = e3.length; i3 < o3; i3++) {
        var n3, a3 = (n3 = e3[i3].split("="))[0];
        (n3 = n3[1]) && 0 < n3.length && (t4[a3] = n3);
      }
      return t4;
    }, Object.defineProperty(t3.prototype, "lic", { get: function() {
      return this._lic;
    }, enumerable: false, configurable: true }), t3.prototype.is = function(t4, e3) {
      return t4 in this._lic && this._lic[t4] === e3;
    }, t3.prototype.includes = function(t4, e3) {
      return t4 in this._lic && 0 <= e3.indexOf(this._lic[t4]);
    }, t3.prototype.expired = function(t4, e3) {
      return !(t4 in this._lic) || !this._lic[t4] || (t4 = this._lic[t4], e3 = (e3 ? new Date(new Date(t4).setMonth(new Date(t4).getMonth() + e3)) : new Date(t4)).getTime(), t4 = Date.now(), !isNaN(e3) && e3 < t4);
    }, t3.prototype.validate = function(t4) {
      var e3 = this, i3 = false;
      try {
        t4.forEach(function(t5) {
          var o3 = Object.keys(t5), r3 = Object.values(t5);
          o3.forEach(function(t6, o4) {
            if (o4 = r3[o4], !(i3 = Array.isArray(o4) ? e3.includes(t6, o4) : e3.is(t6, o4))) throw new l2();
          });
        });
      } catch (t5) {
        if (!(t5 instanceof l2)) throw t5;
        i3 = false;
      }
      return i3;
    }, t3;
  }();
  t2.h = h2;
}(bc);
var vc = function(t2) {
  function e2(i2, o2) {
    var r2, n2 = this;
    switch (i2) {
      case 2:
        r2 = "invalid product-name";
        break;
      case 8:
        r2 = "invalid domain";
        break;
      case 16:
        r2 = "The period of use has expired";
        break;
      case 64:
        r2 = "invalid license type";
        break;
      default:
        r2 = "No license or invalid license.";
    }
    return n2 = t2.call(this, "".concat(r2, "\nlicense: ").concat(o2)) || this, Object.setPrototypeOf(n2, e2.prototype), n2.name = "LicenseError", n2.type = i2, n2.license = o2, n2;
  }
  return i(e2, t2), e2;
}(Error);
function wc(t2, e2) {
  return t2 == e2 || 0 === t2.indexOf("*") && (t2 = t2.substr(1, t2.length - 1), e2.substr(e2.indexOf(t2), t2.length) == t2);
}
function Cc(t2, e2, i2) {
  for (var o2 = t2.split(","), r2 = 0, n2 = o2.length; r2 < n2; r2++) {
    var s2 = o2[r2];
    if (wc(s2, e2)) return true;
    if (i2 && s2 && "*" === s2[0] && "*." !== s2.substr(0, 1)) {
      if (new RegExp("^/" + s2.substr(1) + "/").exec(i2)) return true;
    }
  }
  return false;
}
var xc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, "rowGroupHeaderCell") || this;
    return i2._rowGroup = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rowGroup = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "text", { get: function() {
    return this.item instanceof Go ? this._rowGroup.getHeaderText(this.item) : "";
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
  }, enumerable: false, configurable: true }), e2;
}(_r);
var Ic = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, "rowGroupFooterCell") || this;
    return i2._footerIndex = 0, i2._value = NaN, i2._rowGroup = e3, i2;
  }
  return i(e2, t2), e2.$_getValue = function(t3, e3) {
    if (e3) {
      var i2 = e3.grid, o2 = t3.parent, r2 = o2.getFooterIndex(t3), n2 = e3.groupFooters.get(r2), s2 = n2 && n2.expression, a2 = n2 && n2.valueCallback;
      if (s2 || a2) {
        var l2 = null;
        if (s2 && e3 instanceof ls) {
          var h2 = i2.rowGroupSummaryRuntime;
          h2.setColumn(e3, e3.grid.summarizer), h2.setItem(o2), l2 = n2.evaluate(h2);
        }
        return a2 ? a2(i2.handler, e3, r2, o2, l2) : l2;
      }
      if (o2 && e3 instanceof ls && i2.isGroupedColumn(e3)) {
        var u2 = i2.rowGroup.getFooterText(o2);
        return null == u2 ? void 0 : u2;
      }
    } else ;
  }, e2.getValue = function(t3, i2) {
    try {
      return e2.$_getValue(t3, i2);
    } catch (t4) {
      return _r.ERROR;
    }
  }, e2.$_displayText = function(t3, e3, i2, o2) {
    var r2;
    if (o2 && null != o2.text) r2 = o2.text;
    else if (void 0 !== i2 && e3) {
      if (i2 instanceof Date) {
        var n2 = o2.datetimeWriter;
        r2 = n2 ? n2.getText(i2) : String(i2);
      } else if ("number" == typeof i2) {
        var s2 = o2.numberFormatter;
        r2 = s2 ? s2.getText(i2) : isNaN(i2) ? "" : String(i2);
      } else "string" == typeof i2 ? r2 = i2 + "" : "boolean" == typeof i2 && (r2 = String(i2));
      if (r2) {
        var a2 = o2.prefix;
        a2 && (r2 = a2 + r2), (a2 = o2.suffix) && (r2 += a2);
      }
    }
    if (null == r2) {
      var l2 = Ot.cast(t3.parent, Go);
      if (e3) {
        var h2 = e3.groupFooters.get(l2.getFooterIndex(t3));
        h2 && (r2 = h2.text);
      }
    }
    return r2 || "";
  }, e2.prototype._doDispose = function() {
    this._rowGroup = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "footerIndex", { get: function() {
    return this._footerIndex;
  }, enumerable: false, configurable: true }), e2.prototype.calculate = function(t3) {
    this._value = NaN, this._error = null;
    try {
      this._value = e2.$_getValue(this.index.item || t3, this.index.dataColumn || this.index.literalColumn);
    } catch (t4) {
      this._error = t4, this._errorDetail = t4, Ot.log("FOOTER ERROR: " + t4);
    }
  }, e2.prototype.getDisplayText = function(t3) {
    return this._error ? _r.ERROR : e2.$_displayText(this.index.item, this.index.dataColumn || this.index.literalColumn, this._value, t3);
  }, e2.prototype.getSummary = function() {
    return this._getSummary(this.valueColumn, this._footerIndex);
  }, e2.prototype.getTemplate = function(t3) {
    var e3 = this._getSummary(this.valueColumn, this._footerIndex);
    return e3 ? e3.realizeGroupSummary(this, t3) : void 0;
  }, Object.defineProperty(e2.prototype, "value", { get: function() {
    return this._value;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this.index.item.level;
  }, enumerable: false, configurable: true }), e2.prototype.setIndex = function(e3) {
    t2.prototype.setIndex.call(this, e3), this._footerIndex = e3.item.$_footerIndex;
  }, e2.prototype._getSummary = function(t3, e3) {
    return t3.groupFooters.get(e3);
  }, e2;
}(_r);
var Ec = function(t2) {
  function e2() {
    var e3 = t2.call(this, "rowGroupBarCell") || this;
    return e3._level = 0, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this.item.level;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "getText", { get: function() {
    return "";
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
  }, enumerable: false, configurable: true }), e2;
}(_r);
var Sc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._index = 0, i2.$_owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 != this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "exportStyleName", { get: function() {
    return this._exportStyleName;
  }, set: function(t3) {
    this._exportStyleName = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleCallback", { get: function() {
    return this._styleCallback;
  }, set: function(t3) {
    t3 !== this._styleCallback && (this._styleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "cellStyleCallback", { get: function() {
    return this._cellStyleCallback;
  }, set: function(t3) {
    t3 !== this._cellStyleCallback && (this._cellStyleCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this.$_owner && this.$_owner.$_itemChanged(this);
  }, e2;
}(Ft);
var Oc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._items = [], i2._owner = e3, i2._items.push(new Sc(i2)), i2.assignFrom(Ke.rowGroup.footers), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    for (var e3 = 0, i2 = this._items; e3 < i2.length; e3++) {
      i2[e3].dispose();
    }
    this._items = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, set: function(t3) {
    t3 = Math.max(t3, 1);
    var e3 = this._items;
    if (t3 !== e3.length) {
      for (var i2 = void 0; e3.length < t3; ) (i2 = new Sc(this))._index = e3.length, e3.push(i2);
      for (; e3.length > t3; ) (i2 = e3.pop()).dispose();
      this.$_itemChanged(null);
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "items", { get: function() {
    return this._items;
  }, enumerable: false, configurable: true }), e2.prototype.get = function(t3) {
    return this._items[t3];
  }, e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3);
    var i2 = this._items, o2 = e3 && e3.items ? Ot.makeArray(e3.items, true) : e3;
    if (Array.isArray(o2)) for (var r2 = Math.max(o2.length, 1), n2 = 0; n2 < r2; n2++) i2[n2] || (i2[n2] = new Sc(this)), i2[n2].assignFrom(o2[n2]), i2[n2]._index = n2;
    else i2[0].assignFrom(o2), i2[0]._index = 0;
    this.$_itemChanged(null);
  }, e2.prototype.$_itemChanged = function(t3) {
    this._owner && this._owner.rowGroupFooterChanged(t3);
  }, e2;
}(Ft);
var Rc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._mergeMode = false, i2._sorting = true, i2._expandedAdornments = p.BOTH, i2._collapsedAdornments = p.HEADER, i2._indentVisible = true, i2._indentVisibleLevel = 0, i2._levelIndent = 20, i2._headerStatement = "${groupField}: ${groupValue} - ${rowCount} rows", i2._expanderVisibility = j.DEFAULT, i2._headerCell = new xc(i2), i2._footerCell = new Ic(i2), i2._barCell = new Ec(), i2._headerStatementExpr = new or(i2._headerStatement), i2._footerStatementExpr = new or(), i2._statementRuntime = new fr(), i2._footerFormatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "", text: void 0 }, i2._footers = new Oc(i2), i2.assignFrom(Ke.rowGroup), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._footers = this._footers.dispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype.rowGroupFooterChanged = function(t3) {
    this._counterAware && this._counterAware.groupfFooterCounterChanged(this);
  }, e2.prototype.getGroupFooterCount = function(t3) {
    return this._footers.count;
  }, e2.prototype.setCounterAware = function(t3) {
    this._counterAware = t3;
  }, Object.defineProperty(e2.prototype, "mergeMode", { get: function() {
    return this._mergeMode;
  }, set: function(t3) {
    t3 != this._mergeMode && (this._mergeMode = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorting", { get: function() {
    return this._sorting;
  }, set: function(t3) {
    t3 != this._sorting && (this._sorting = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandedAdornments", { get: function() {
    return this._expandedAdornments;
  }, set: function(t3) {
    t3 != this._expandedAdornments && (this._expandedAdornments = t3, this._grid && this._grid.$_rowGroupAdornmentsChanged(this));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsedAdornments", { get: function() {
    return this._collapsedAdornments;
  }, set: function(t3) {
    t3 !== p.NONE && t3 != this._collapsedAdornments && (this._collapsedAdornments = t3, this._grid && this._grid.$_rowGroupAdornmentsChanged(this));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "createFooterCallback", { get: function() {
    return this._createFooterCallback;
  }, set: function(t3) {
    t3 !== this._createFooterCallback && (this._createFooterCallback = t3, this._grid && this._grid.$_rowGroupAdornmentsChanged(this, true));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indentVisible", { get: function() {
    return this._indentVisible;
  }, set: function(t3) {
    t3 != this._indentVisible && (this._indentVisible = t3, this._grid && this._grid.$_rowGroupAdornmentsChanged(this), this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "indentVisibleLevel", { get: function() {
    var t3 = this._indentVisibleLevel;
    if (!this._grid || !t3 || C(this.expandedAdornments) || C(this.collapsedAdornments)) return 0;
    var e3 = t3 >= 1 ? 1 : -1;
    return t3 = Math.min(this._grid.rowGroupLevels, Math.abs(t3)) * e3;
  }, set: function(t3) {
    t3 !== this._indentVisibleLevel && (this._indentVisibleLevel = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "levelIndent", { get: function() {
    return this._levelIndent;
  }, set: function(t3) {
    (t3 = Math.max(0, t3)) != this._levelIndent && (this._levelIndent = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footers", { get: function() {
    return this._footers;
  }, set: function(t3) {
    this.setFooters(t3);
  }, enumerable: false, configurable: true }), e2.prototype.setFooters = function(t3) {
    this._footers.assignFrom(t3);
  }, Object.defineProperty(e2.prototype, "headerStatement", { get: function() {
    return this._headerStatement;
  }, set: function(t3) {
    t3 !== this._headerStatement && (this._headerStatement = t3, this._headerStatementExpr.source = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerCallback", { get: function() {
    return this._headerCallback;
  }, set: function(t3) {
    this._headerCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerStatement", { get: function() {
    return this._footerStatement;
  }, set: function(t3) {
    t3 != this._footerStatement && (this._footerStatement = t3, this._footerStatementExpr.source = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergeExpanderVisibility", { get: function() {
    return this.expanderVisibility;
  }, set: function(t3) {
    this.expanderVisibility = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanderVisibility", { get: function() {
    return this._expanderVisibility;
  }, set: function(t3) {
    t3 !== this.expanderVisibility && (this._expanderVisibility = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanderVisibleCallback", { get: function() {
    return this._expanderVisibleCallback;
  }, set: function(t3) {
    this._expanderVisibleCallback = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueForGroupCallback", { get: function() {
    return this._valueForGroupCallback;
  }, set: function(t3) {
    this._valueForGroupCallback = t3, this._grid && this._grid.$_rowGroupAdornmentsChanged(this, true), this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resetOriginVindex", { get: function() {
    return this._resetOriginVindex;
  }, set: function(t3) {
    this._resetOriginVindex = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "blankGroupData", { get: function() {
    return this._blankGroupData;
  }, set: function(t3) {
    t3 !== this._blankGroupData && (this._blankGroupData = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.getHeaderCell = function(t3) {
    return this._headerCell.setIndex(Ts.temp(this.owner, t3.index)), this._headerCell;
  }, e2.prototype.getFooterCell = function(t3) {
    var e3 = t3.item;
    return this._footerCell.setIndex(t3), this._footerCell.calculate(e3), this._footerCell;
  }, e2.prototype.getFooterStyleName = function(t3) {
    var e3 = this._footers.get(t3.$_footerIndex), i2 = "rg-rowgroup-footer rg-rowgroup-footer-level-" + String(t3.parent.level), o2 = e3.styleName, r2 = e3.styleCallback;
    return o2 && (i2 += " " + o2), r2 && (o2 = r2(this._grid.handler, t3.index, e3.index)) && (i2 += " " + o2), i2;
  }, e2.prototype.getFooterCellStyle = function(t3, i2, o2) {
    void 0 === o2 && (o2 = true);
    var r2 = t3.footerIndex, n2 = this._footers.get(r2).cellStyleCallback, s2 = t3.index.column.groupFooters.get(t3.footerIndex);
    if (n2) {
      var a2 = n2(this._grid.handler, t3);
      i2.assign(a2);
    }
    if (s2) {
      var l2 = s2.styleCallback;
      if (l2) {
        var h2 = l2(this._grid.handler, t3);
        i2.assign(h2);
      }
    }
    return !i2.styleName && s2 && (i2.styleName = s2.styleName), o2 && (i2.styleName ? i2.styleName = e2.FOOTER_CELL_STYLE + " " + i2.styleName : i2.styleName = e2.FOOTER_CELL_STYLE), i2;
  }, e2.prototype.getFooterCellFormatters = function(t3, e3) {
    return e3 && t3 ? (e3.numberFormatter = e3.numberFormatter || t3.numberFormatter, e3.datetimeWriter = e3.datetimeWriter || t3.datetimeWriter, e3.booleanFormatter = e3.booleanFormatter || t3.boolFormatter, e3.textFormatter = e3.textFormatter || t3.textFormatter, e3.prefix = e3.prefix || t3.prefix, e3.suffix = e3.suffix || t3.suffix) : t3 && ((e3 = this._footerFormatter).numberFormatter = t3.numberFormatter, e3.datetimeWriter = t3.datetimeWriter, e3.booleanFormatter = t3.boolFormatter, e3.textFormatter = t3.textFormatter, e3.prefix = t3.prefix, e3.suffix = t3.suffix), e3;
  }, e2.prototype.getBarCell = function(t3) {
    return this._barCell.setIndex(t3), this._barCell;
  }, e2.prototype.getHeaderText = function(t3) {
    return !this._headerStatement && this._headerCallback ? this._headerCallback(this.owner.handler, t3) : (this._statementRuntime.setGrid(this.owner), this._statementRuntime.setGroup(t3), this._headerStatementExpr.evaluate(this._statementRuntime));
  }, e2.prototype.getFooterText = function(t3) {
    if (this._footerStatement && this._footerStatementExpr) return this._statementRuntime.setGrid(this.owner), this._statementRuntime.setGroup(t3), this._footerStatementExpr.evaluate(this._statementRuntime);
  }, e2.prototype.getIndentCount = function(t3) {
    var e3 = this.indentVisibleLevel;
    return 0 === e3 ? t3 : Math.min(Math.abs(e3), t3);
  }, e2.prototype._doChanged = function() {
    this.owner.$_rowGroupChanged(this);
  }, e2.prototype.$_isExpanderVisible = function(t3) {
    var e3;
    if (!t3.expanded) return true;
    if (this._expanderVisibleCallback) e3 = null == (e3 = this._expanderVisibleCallback.call(this._grid, this._grid.handler, t3)) || e3;
    else switch (this._expanderVisibility) {
      case j.NONE:
        e3 = false;
        break;
      case j.ALWAYS:
        e3 = true;
        break;
      default:
        e3 = Br(t3);
    }
    return !!e3 && (t3 instanceof Go ? t3.footerCount > 0 || C(this.collapsedAdornments) : void 0);
  }, e2.FOOTER_CELL_STYLE = "rg-rowgroup-footer-cell", e2.FOOTER_CELL_RENDERER = "rg-rowgroup-footer-renderer", e2;
}(cr);
var Pc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc, "gridDebugLayer") || this;
    return i2._owner = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.layout = function() {
    var t3 = this._owner.layoutManager;
    this.$_setBounds(this._grid, t3.gridBounds.clone().inflate(-1, -1));
    var e3 = t3.dataBounds.clone();
    e3.offset(t3.contentBounds.x, t3.contentBounds.y), this.$_setBounds(this._data, e3);
  }, e2.prototype._getCssSelector = function() {
    return "rg-debug-layer";
  }, e2.prototype._initDom = function(t3) {
    var e3 = t3.style, i2 = It(t3);
    e3.position = "absolute", t3.appendChild(this._client = this.$_createElement(i2, "Client")), t3.appendChild(this._topContent = this.$_createElement(i2, "Top Content")), t3.appendChild(this._leftContent = this.$_createElement(i2, "Left Content")), t3.appendChild(this._fixedContent = this.$_createElement(i2, "Fixed Content")), t3.appendChild(this._content = this.$_createElement(i2, "Content")), t3.appendChild(this._rightContent = this.$_createElement(i2, "Right Content")), t3.appendChild(this._grid = this.$_createElement(i2, "Grid Bounds", "b")), t3.appendChild(this._data = this.$_createElement(i2, "Data Bounds", "g")), t3.appendChild(this._nonFixed = this.$_createElement(i2, "Non Fixed", "g"));
  }, e2.prototype.$_createElement = function(t3, e3, i2) {
    void 0 === i2 && (i2 = "r");
    var o2 = t3.createElement("span"), r2 = o2.style;
    return r2.display = "inline-block", r2.position = "absolute", r2.boxSizing = "border-box", r2.pointerEvents = "none", "b" == i2 ? (r2.border = "2px dashed rgba(0, 0, 255, 0.5)", r2.color = "blue") : "g" == i2 ? (r2.paddingTop = "20px", r2.border = "2px solid rgba(0, 128, 0, 0.5)", r2.color = "rgb(0, 128, 0)") : (r2.border = "1px solid rgba(255, 0, 0, 0.7)", r2.color = "red"), r2.fontWeight = "bold", r2.textAlign = "center", r2.verticalAlign = "middle", r2.whiteSpace = "normal", o2[Ot.TextProp] = e3, o2;
  }, e2.prototype.$_setBounds = function(t3, e3) {
    var i2 = t3.style;
    e3.isEmpty ? i2.display = "none" : (i2.display = "inline-block", i2.left = e3.x + "px", i2.top = e3.y + "px", i2.width = e3.width + "px", i2.height = e3.height + "px", i2.lineHeight = e3.height + "px");
  }, e2;
}(ga);
!function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._min = 0, e3._max = 100, e3._step = 1, e3._next = 0, e3._completed = false, e3._timer = void 0, e3;
  }
  i(e2, t2), Object.defineProperty(e2.prototype, "min", { get: function() {
    return this._min;
  }, set: function(t3) {
    this._min = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "max", { get: function() {
    return this._max;
  }, set: function(t3) {
    this._max = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "step", { get: function() {
    return this._step;
  }, set: function(t3) {
    this._step = t3;
  }, enumerable: false, configurable: true }), e2.prototype.execute = function(t3) {
    if (t3) {
      this._runner = t3, this._next = this._min;
      var e3 = xt(t3.container);
      t3.container instanceof e3.HTMLElement && (this._view.setProperties(this._min, this._max, this._min), this._view.show(t3.container)), this.$_runNext();
    }
  }, e2.prototype.$_runNext = function() {
    if (this._next < this._max) {
      var t3 = this._runner.run(this._next);
      if (this._next += this._step, this._view.setPosition(this._next, t3), this._next < this._max) return void setTimeout((function() {
        this.$_runNext();
      }).bind(this), 0);
    }
    !this._completed && this.$_complete();
  }, e2.prototype.$_complete = function() {
    try {
      this._runner.complete && this._runner.complete();
    } finally {
      this._completed = true, this._view.close();
    }
  };
}(Oe);
var kc;
var Dc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    i2._message = "Load data...", i2._min = 0, i2._max = 0, i2._pos = 0;
    var o2 = It(e3);
    return i2._dom = i2.$_createElement(o2), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "message", { get: function() {
    return this._message;
  }, set: function(t3) {
    this._message = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "position", { get: function() {
    return this._pos;
  }, enumerable: false, configurable: true }), e2.prototype.setPosition = function(t3, e3) {
    (t3 = Math.max(this._min, Math.min(this._max, t3))) != this._pos && (this._pos = t3, this._message = e3, this.$_refreshView());
  }, e2.prototype.setProperties = function(t3, e3, i2, o2, r2) {
    void 0 === o2 && (o2 = null), void 0 === r2 && (r2 = false), this._min = t3, this._max = Math.max(t3, e3), this._max == this._min && (this._max = this._min + 1), this._pos = Math.max(this._min, Math.min(this._max, i2)), this._message = o2, r2 && this.$_refreshView();
  }, e2.prototype.setZIndex = function(t3) {
    this._dom.style.zIndex = String(t3 + 5);
  }, e2.prototype.show = function(t3, e3) {
    void 0 === e3 && (e3 = null), this._container = t3, e3 && this.$_setMessage(e3), t3.appendChild(this._dom);
    var i2 = Ot.getSize(t3), o2 = Ot.getSize(this._dom);
    Ot.move(this._dom, (i2.width - o2.width) / 2, (i2.height - o2.height) / 3);
  }, e2.prototype.close = function() {
    Ot.detach(this._dom);
  }, e2.prototype.$_createElement = function(t3) {
    var e3 = t3.createElement("div");
    e3.className = "rg-progress";
    var i2 = e3.style;
    return i2.position = "absolute", i2.zIndex = "3001", i2.minWidth = "250px", i2.padding = "8px 10px", e3.appendChild(e3.$_bar = this.$_createBar(t3)), e3.appendChild(e3.$_msg = this.$_createMsg(t3)), e3;
  }, e2.prototype.$_createBar = function(t3) {
    var e3 = t3.createElement("div");
    e3.className = "rg-progress-bar";
    var i2 = e3.style;
    i2.width = "100%", i2.height = "13px", i2.marginBottom = "4px";
    var o2 = t3.createElement("div");
    return o2.className = "rg-progress-progress", (i2 = o2.style).height = "100%", i2.width = "0px", e3.appendChild(e3.$_led = o2), e3;
  }, e2.prototype.$_createMsg = function(t3) {
    var e3 = t3.createElement("div"), i2 = t3.createElement("span");
    i2.className = "rg-progress-message";
    var o2 = e3.style;
    return o2.width = "100%", o2.textAlign = "center", e3.appendChild(e3.$_span = i2), e3;
  }, e2.prototype.$_refreshView = function() {
    var t3 = this._dom, e3 = t3.$_bar, i2 = e3.$_led;
    t3.$_msg.$_span.innerHTML = Ot.htmlEncode(this._message);
    var o2 = Ot.getSize(e3);
    i2.style.width = Math.min(o2.width - 1, Math.floor(o2.width * (this._pos - this._min) / (this._max - this._min))) + "px";
  }, e2.prototype.$_setMessage = function(t3) {
    this._dom.$_msg.$_span.innerHTML = Ot.htmlEncode(this._message);
  }, e2;
}(Oe);
var Tc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._container = e3, i2;
  }
  return i(e2, t2), e2.prototype.show = function(t3, e3, i2) {
    this._view || (this._view = new Dc(t3)), this._view.setZIndex(i2), this._view.show(t3 || this._container, e3 || "Load data...");
  }, e2.prototype.close = function() {
    this._view && this._view.close();
  }, e2.prototype.setProperties = function(t3, e3, i2, o2) {
    this._view && (o2 || (o2 = this._title || "Load data... ", e3 > t3 && (o2 += Math.floor(100 * (i2 - t3) / (e3 - t3)) + "% (" + i2 + " / " + e3 + ")")), this._view.setProperties(t3, e3, i2, o2, true));
  }, e2.prototype.showLoader = function(t3, e3) {
    this._loaderView || (this._loaderView = new Mc(t3)), this._loaderView.setZIndex(e3), this._loaderView.show(t3 || this._container);
  }, e2.prototype.closeLoader = function() {
    this._loaderView && this._loaderView.close();
  }, e2.prototype.loaderShowing = function() {
    return this._loaderView && this._loaderView.isShowing();
  }, e2;
}(Oe);
var Mc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this, o2 = It(e3);
    return i2._dom = i2.$_createElement(o2), i2;
  }
  return i(e2, t2), e2.prototype.show = function(t3) {
    t3.appendChild(this._dom);
  }, e2.prototype.setZIndex = function(t3) {
    this._dom.style.zIndex = String(t3 + 5);
  }, e2.prototype.close = function() {
    Ot.detach(this._dom);
  }, e2.prototype.isShowing = function() {
    return !!this._dom.parentElement;
  }, e2.prototype.$_createElement = function(t3) {
    var e3 = t3.createElement("div");
    return e3.className = "rg-load-indicator", e3.style.position = "absolute", e3;
  }, e2;
}(Oe);
var Fc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._title = "리얼그리드 테이블 (테이블에서 엔터키로 버튼 링크등의 기능이 실행됩니다)", i2._description = "${columns} 열로 이루어진 데이터 테이블입니다.", i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "title", { get: function() {
    return this._title;
  }, set: function(t3) {
    this._title !== t3 && (this._title = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "description", { get: function() {
    return this._description;
  }, set: function(t3) {
    this._description !== t3 && (this._description = t3);
  }, enumerable: false, configurable: true }), e2.prototype.getDescription = function() {
    var t3, e3 = this.title ? "<strong>" + this.title + "</strong>" : "", i2 = "";
    if (t3 = this.grid) {
      var o2 = t3.layoutManager.cellLayouts._dataCells, r2 = o2 && o2[0];
      r2 && r2.forEach(function(t4) {
        t4.isProxy || (i2 += t4.displayText + ", ");
      });
    }
    return e3 + (i2 = this.description ? "<span>" + this.description.replace("${columns}", i2.substr(0, i2.length - 2)) + "</span>" : "");
  }, e2;
}(ml);
var Lc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc, "watermark") || this;
    return i2._grid = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "message", { get: function() {
    return this._message;
  }, set: function(t3) {
    this._message = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "active", { get: function() {
    return this._active;
  }, set: function(t3) {
    this._active = t3;
  }, enumerable: false, configurable: true }), e2.prototype.refresh = function() {
    var t3 = 32 === this._grid.container._lkCheck;
    if (t3) {
      this._active = true;
      var e3 = this._dom;
      if (e3 && !e3.parentElement) this._grid._dom.appendChild(e3);
      this.$_setDiv(e3, t3), this.$_setSpan(this._span, t3, this.message || Rt.decode("6riw6rCE7J20IOunjOujjOuQmOyXiOyKteuLiOuLpA==")), this.resetSize(), this._grid.container.disabled = true;
    }
  }, e2.prototype._getCssSelector = function() {
    return "rg-watermark-layer";
  }, e2.prototype._initDom = function(t3) {
    var e3 = It(t3);
    t3.appendChild(this._span = this.$_createElement(e3, ""));
  }, e2.prototype._setSizeStyle = function(t3) {
    var e3 = this._active;
    t3.width = e3 ? "100%" : "0px", t3.height = e3 ? "100%" : "0px";
  }, e2.prototype.$_setDiv = function(t3, e3) {
    var i2 = t3.style;
    i2.position = "absolute", i2.zIndex = "1", e3 ? (this.setImportantStyle("background-color", "rgba(80, 80, 80, 0.5)"), this.setImportantStyle("display", "block"), i2.removeProperty("pointer-events")) : i2.pointerEvents = "none";
  }, e2.prototype.$_setSpan = function(t3, e3, i2) {
    var o2 = t3.style;
    e3 && (o2.display = "inline-block", o2.position = "absolute", o2.boxSizing = "border-box", o2.pointerEvents = "none", o2.fontWeight = "bold", o2.textAlign = "center", o2.verticalAlign = "middle", o2.whiteSpace = "normal", o2.top = "50%", o2.left = "50%", o2.transform = "translate(-50%, -50%)", o2.fontSize = "50px", t3[Ot.TextProp] = i2);
  }, e2.prototype.$_createElement = function(t3, e3) {
    return t3.createElement("span");
  }, e2;
}(ga);
var Nc = function(t2) {
  function e2() {
    return t2.call(this, "filterPanelCell") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2;
}(_r);
var $c = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._showInput = true, i2._height = 23, i2._minRowHeight = 23, i2._filterDelay = 500, i2._ignoreCase = true, i2._trimData = false, i2._beforeCommit = true, i2._defaultNumberOperator = z.GREATER_EQUAL, i2._defaultTextOperator = z.CONTAINS, i2._defaultDateOperator = z.GREATER_EQUAL, i2.visible = false, i2.assignFrom(Ke.filterPanel), i2._cell = new Nc(), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "height", { get: function() {
    return this._height;
  }, set: function(t3) {
    t3 !== this._height && (this._height = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minRowHeight", { get: function() {
    return this._minRowHeight;
  }, set: function(t3) {
    t3 !== this._minRowHeight && (this._minRowHeight = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showInput", { get: function() {
    return this._showInput;
  }, set: function(t3) {
    t3 != this._showInput && (this._showInput = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "ignoreCase", { get: function() {
    return this._ignoreCase;
  }, set: function(t3) {
    t3 !== this._ignoreCase && (this._ignoreCase = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterDelay", { get: function() {
    return this._filterDelay;
  }, set: function(t3) {
    this._filterDelay = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "beforeCommit", { get: function() {
    return this._beforeCommit;
  }, set: function(t3) {
    t3 != this._beforeCommit && (this._beforeCommit = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "textOperators", { get: function() {
    if (!e2.$_DefaultTextOperators) {
      var t3 = Ge.messages;
      e2.$_DefaultTextOperators = { contains: t3.filterOperatorContains, notContains: t3.filterOperatorNotContains, startsWith: t3.filterOperatorStartsWith, endsWith: t3.filterOperatorEndsWith, equal: t3.filterOperatorEqual, notEqual: t3.filterOperatorNotEqual, empty: t3.filterOperatorEmpty, reset: t3.filterOperatorReset };
    }
    return this._textOperators || e2.$_DefaultTextOperators;
  }, set: function(t3) {
    this._grid.closePopups(false);
    var i2 = this.$_setOperators(t3);
    i2 && (this._textOperators = i2), this.$_getPopup(e2.$_TEXT_POPUP, this.textOperators, true);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "numberOperators", { get: function() {
    if (!e2.$_DefaultNumberOperators) {
      var t3 = Ge.messages;
      e2.$_DefaultNumberOperators = { equal: t3.filterOperatorEqual, notEqual: t3.filterOperatorNotEqual, greater: t3.filterOperatorGreater, greaterEqual: t3.filterOperatorGreaterEqual, lower: t3.filterOperatorLower, lowerEqual: t3.filterOperatorLowerEqual, between: t3.filterOperatorBetween, empty: t3.filterOperatorEmpty, reset: t3.filterOperatorReset };
    }
    return this._numberOperators || e2.$_DefaultNumberOperators;
  }, set: function(t3) {
    this._grid.closePopups(false);
    var i2 = this.$_setOperators(t3);
    i2 && (this._numberOperators = i2), this.$_getPopup(e2.$_NUMBER_POPUP, this.numberOperators, true);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "dateOperators", { get: function() {
    if (!e2.$_DefaultDateOperators) {
      var t3 = Ge.messages;
      e2.$_DefaultDateOperators = { contains: t3.filterOperatorContains, notContains: t3.filterOperatorNotContains, startsWith: t3.filterOperatorStartsWith, endsWith: t3.filterOperatorEndsWith, equal: t3.filterOperatorEqual, notEqual: t3.filterOperatorNotEqual, greater: t3.filterOperatorGreater, greaterEqual: t3.filterOperatorGreaterEqual, lower: t3.filterOperatorLower, lowerEqual: t3.filterOperatorLowerEqual, empty: t3.filterOperatorEmpty, reset: t3.filterOperatorReset };
    }
    return this._dateOperators || e2.$_DefaultDateOperators;
  }, set: function(t3) {
    this._grid.closePopups(false);
    var i2 = this.$_setOperators(t3);
    i2 && (this._dateOperators = i2), this.$_getPopup(e2.$_DATE_POPUP, this.dateOperators, true);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "trimData", { get: function() {
    return this._trimData;
  }, set: function(t3) {
    t3 !== this._trimData && (this._trimData = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterPanelCallback", { get: function() {
    return this._filterPanelCallback;
  }, set: function(t3) {
    this._filterPanelCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    return this._styleName;
  }, set: function(t3) {
    t3 !== this._styleName && (this._styleName = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype.getPopup = function(t3) {
    switch (t3.valueType) {
      case a.DATE:
      case a.DATETIME:
        return this.$_getPopup(e2.$_DATE_POPUP, this.dateOperators, false);
      case a.NUMBER:
      case a.UINT:
      case a.INT:
      case a.UNUM:
        return this.$_getPopup(e2.$_NUMBER_POPUP, this.numberOperators, false);
      case a.TEXT:
      case a.CHAR:
        return this.$_getPopup(e2.$_TEXT_POPUP, this.textOperators, false);
    }
  }, e2.prototype.clearInput = function(t3) {
    ("string" != typeof t3 || (t3 = this._grid.columnByName(t3))) && this._grid.clearInlineFilter(t3);
  }, e2.prototype.getCell = function(t3) {
    var e3 = this._cell, i2 = t3.getDataColumn();
    return e3.index.set(-1, i2), e3.showInput = !!i2 && (i2.filterable && (this.showInput ? false !== i2.showInlineFilter : i2.showInlineFilter)), e3.filterOperator = i2._inlineFilterOp || this.$_getDefaultOperator(i2), e3.filterText = i2._inlineFilterText || "", e3;
  }, e2.prototype.assignFrom = function(e3) {
    t2.prototype.assignFrom.call(this, e3);
  }, e2.prototype._doChanged = function() {
    this._grid && this._grid.invalidatePosition();
  }, e2.prototype.$_getPopup = function(t3, e3, i2) {
    var o2 = this._grid, r2 = o2.popupMenuManager, n2 = r2.getMenu(t3);
    if (!n2 || i2) {
      for (var s2 = [], a2 = Object.keys(e3), l2 = o2.filterOperatorCallback.bind(o2), h2 = 0, u2 = a2; h2 < u2.length; h2++) {
        var c2 = u2[h2], d2 = new Qu(null, { label: e3[c2], tag: c2, styleName: "rg-inline-filter-icon rg-inline-filter-".concat(Ot.camelToHyphen(c2)), callback: l2 });
        s2.push(d2);
      }
      n2 = r2.addMenu(t3, s2, true, null);
    }
    return n2.name;
  }, e2.prototype.$_getDefaultOperator = function(t3) {
    switch (t3.valueType) {
      case a.DATE:
      case a.DATETIME:
        return this._defaultDateOperator;
      case a.NUMBER:
      case a.UNUM:
      case a.UINT:
      case a.INT:
        return this._defaultNumberOperator;
      case a.CHAR:
      case a.TEXT:
        return this._defaultTextOperator;
    }
  }, e2.prototype._createCell = function() {
    return new Nc();
  }, e2.prototype.$_setOperators = function(t3) {
    var e3, i2 = Object.keys(t3), o2 = false;
    if (i2.length > 0) {
      var r2 = Object.keys(z);
      e3 = {};
      for (var n2 = 0; n2 < i2.length; n2++) for (var s2 = i2[n2], a2 = 0; a2 < r2.length; a2++) z[r2[a2]].toLowerCase() == s2.toLowerCase() && (e3[z[r2[a2]]] = t3[s2], o2 = true);
    }
    return o2 && e3 ? e3 : null;
  }, e2.$_TEXT_POPUP = "$$_textOperators_$$", e2.$_NUMBER_POPUP = "$$_numberOperators_$$", e2.$_DATE_POPUP = "$$_dateOperators_$$", e2;
}(cr);
var Ac = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3.input = null, e3.operatorButton = null, e3.popupMenu = null, e3;
  }
  return i(e2, t2), e2.prototype.span = function() {
    this.spanned = true, this.clear(false);
  }, e2.prototype.clear = function(e3) {
    return t2.prototype.clear.call(this, e3), this.className && (this.cell.className = this.className = ""), this;
  }, e2.prototype.setOperator = function(t3) {
    this.setClass(t3), this.setPlaceHolder(t3);
  }, e2.prototype.setClass = function(t3) {
    this.operatorButton && (this.operatorButton.className = "rg-filter-panel-operator " + (t3 ? " rg-inline-filter-".concat(Ot.camelToHyphen(t3)) : ""));
  }, e2.prototype.setPlaceHolder = function(t3) {
    this.input && (this.input.placeholder = t3 === z.BETWEEN ? "value1 ~ value2" : "");
  }, e2.prototype.setFocus = function() {
    this.input.focus();
  }, e2;
}(Wl);
var Bc = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "filterPanelView") || this;
    return o2._rowPoints = [], o2._cells = [], o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) i2[o2].dispose(), i2[o2] = null;
    this._cells = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.tableCellByCell = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) {
      var r2 = i2[o2];
      if (r2 && r2.cell === t3) return r2;
    }
  }, e2.prototype.tableCellByLayout = function(t3) {
    for (var e3 = 0; e3 < this._cells.length; e3++) for (var i2 = this._cells[e3], o2 = 0; o2 < i2.length; o2++) if (i2[o2].layout === t3) return i2[o2];
  }, e2.prototype.layoutByCell = function(t3) {
    var e3 = this.tableCellByCell(t3);
    return e3 && e3.layout;
  }, e2.prototype.columnByCell = function(t3) {
    var e3 = this.layoutByCell(t3);
    return e3 && e3._columnObj;
  }, e2.prototype.operatorChange = function(t3, e3, i2, o2) {
    var r2 = e3.tag, n2 = i2.getDataColumn(), s2 = this.model.getCell(i2);
    r2 === z.RESET && (t3.input.value = "", r2 = s2.filterOperator), t3.setOperator(r2), this._filterRun(this.model, t3.input.value, r2, n2);
  }, e2.prototype.clearInput = function(t3, e3) {
    if (t3) t3.input.value = "", this._filterRun(this.model, "", void 0, e3);
    else for (var i2 = 0, o2 = this._cells.length; i2 < o2; i2++) for (var r2 = 0, n2 = this._cells[i2].length; r2 < n2; r2++) {
      (t3 = this._cells[i2][r2]).input.value = "";
      var s2 = t3.layout.getDataColumn();
      s2._inlineFilterText = "", s2 && s2.setInlineFilter(void 0, false);
    }
  }, e2.prototype.setFocus = function(t3) {
    t3.setFocus();
  }, e2.prototype._getCssSelector = function() {
    return "rg-filter-panel";
  }, e2.prototype._getTableHidden = function() {
    return false;
  }, e2.prototype._getRendererStyle = function() {
    return "rg-filter-panel-renderer";
  }, e2.prototype._getTableRowCount = function(t3) {
    return t3.dataRows;
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return this._rowPoints[e3 + 1] - this._rowPoints[e3];
  }, e2.prototype._getCellCount = function(t3) {
    return t3.cellCount - t3.fixedCellCount - t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getCellWidth(e3);
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
    var n2 = e3.grid;
    Ot.setClassName(r2, n2.filterPanel.styleName || "rg-filter-panel-row");
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    var i2 = It(t3).createElement("div");
    return i2.className = this._getRendererStyle(), i2;
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    for (var o2 = t3.layoutManager.dataRows, r2 = Math.max(t3.filterPanel.height, t3.filterPanel.minRowHeight * o2), n2 = 0, s2 = this._rowPoints = [n2], a2 = 0; a2 < o2 - 1; a2++) s2.push(n2 += Math.round(r2 / o2));
    return s2.push(n2 = r2), wl.create(e3, n2);
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = t3.cellLayouts._dataCells, o2 = i2.length, r2 = this._getFirstCell(t3), n2 = this._getStartCell(t3) - r2, s2 = this._getEndCell(t3) - r2, a2 = this.model;
    this.$_refreshCells(t3, i2, this._tbody), this.$_refreshSpans(t3, o2), this.$_refreshHeadTitle(t3, this._thead);
    for (var l2 = 0; l2 < o2; l2++) {
      var h2 = this._cells[l2];
      this._getTableRow(t3, l2);
      for (var u2 = n2; u2 <= s2; u2++) {
        var c2 = h2[u2];
        if (c2.visible) {
          var d2 = c2.layout;
          if (d2.isProxy || d2 instanceof vs) c2.clear(false);
          else {
            var p2 = a2.getCell(d2);
            this._updateCell(e3, a2, p2, c2);
          }
        }
      }
    }
  }, e2.prototype._updateCell = function(t3, e3, i2, o2) {
    var r2 = t3.doc, n2 = t3.container, s2 = o2.input, a2 = o2.operatorButton, l2 = o2.cell.firstElementChild;
    if (a2 || (a2 = o2.operatorButton = r2.createElement("span"), l2.appendChild(a2)), !s2) {
      (s2 = o2.input = r2.createElement("input")).type = "text", n2.$_addListener(s2, "keydown", this._keydownHandler.bind(this), false), n2.$_addListener(s2, "keyup", this._keyupHandler.bind(this), false), n2.$_addListener(s2, "input", this._inputHandler.bind(this), false);
      var h2 = "$$-rg-filter-cell" + i2.valueColumn.$_hash;
      s2.id = h2;
      var u2 = document.createElement("label");
      u2.style.display = "none", u2.setAttribute("for", h2), l2.appendChild(u2), l2.appendChild(s2);
    }
    s2.value != i2.filterText && (s2.value = i2.filterText);
    var c2 = this._rowPoints[1] - this._rowPoints[0];
    l2.style.display = i2.showInput ? "" : "none";
    var d2 = a2.style;
    d2.width = "20px", d2.height = "".concat(c2 - 6, "px");
    (d2 = s2.style).width = o2.width - 30 + "px", d2.height = "".concat(c2 - 6, "px"), o2.setOperator(i2.filterOperator), o2.popupMenu = e3.getPopup(o2.layout.getDataColumn());
  }, e2.prototype._keydownHandler = function(t3) {
    this.grid, 9 === (t3.keyCode || t3.charCode) && this._timer && this.$_search(t3, true);
  }, e2.prototype._keyupHandler = function(t3) {
    var e3 = this.grid, i2 = t3.keyCode || t3.charCode;
    if (Ot.included(i2, 38, 40)) {
      var o2 = e3.getTableCell(t3.target), r2 = this.tableCellByCell(o2), n2 = Ts.temp(e3, -1, r2.layout), s2 = void 0;
      if (38 !== i2 || n2.isTop) {
        if (40 === i2) {
          if (n2.isBottom) return n2.itemIndex = e3.topIndex, e3.setFocusedIndex(n2, true, true, true), void e3.setFocus();
          n2.down(gs.CELL), s2 = n2.layout;
        }
      } else n2.up(gs.CELL), s2 = n2.layout;
      s2 && (r2 = this.tableCellByLayout(n2.layout)).setFocus();
    } else 13 === i2 && this.$_search(t3, true);
  }, e2.prototype._inputHandler = function(t3) {
    this.$_search(t3, false);
  }, e2.prototype.$_search = function(t3, e3) {
    var i2, o2 = t3.target, r2 = this.grid, n2 = this.model;
    i2 = o2.value;
    var s2 = r2.getTableCell(o2), a2 = this.columnByCell(s2);
    if (a2) {
      var l2 = n2.getCell(a2.layout);
      e3 ? (clearTimeout(this._timer), this._filterRun(n2, i2, l2.filterOperator, a2)) : this._startTimer(i2, l2.filterOperator, a2);
    }
  }, e2.prototype._startTimer = function(t3, e3, i2) {
    var o2 = this.model;
    clearTimeout(this._timer), this._timer = setTimeout((function() {
      this._filterRun(o2, t3, e3, i2);
    }).bind(this), o2.filterDelay);
  }, e2.prototype._filterRun = function(t3, e3, i2, o2) {
    var r2, n2, s2 = e3, l2 = t3.filterPanelCallback, h2 = true;
    if (l2) {
      var u2 = this.grid;
      if ("boolean" == typeof (h2 = l2.call(this, u2.handler, o2, i2, e3))) {
        if (false !== h2) return o2.setInlineFilter(void 0, true), void (o2._inlineFilterText = e3);
      } else if (h2 && (i2 = h2.operator, e3 = h2.text, !i2)) return;
    }
    if (null != e3 && "" != e3 || i2 === z.EMPTY) switch (o2.valueType) {
      case a.DATE:
      case a.DATETIME:
      case a.NUMBER:
        var c2 = e3 = e3.replace(/[^0-9\-.~]/g, "");
        switch (Ot.included(o2.valueType, a.DATE, a.DATETIME) ? (e3 = e3.replace(/-/g, ""), n2 = "datestr(value)", c2 = '"'.concat(e3, '"')) : n2 = "value", i2) {
          case z.EQUAL:
            r2 = "".concat(n2, " = ").concat(c2);
            break;
          case z.NOT_EQUAL:
            r2 = "".concat(n2, " <> ").concat(c2);
            break;
          case z.GREATER:
            r2 = "".concat(n2, " > ").concat(c2);
            break;
          case z.GREATER_EQUAL:
            r2 = "".concat(n2, " >= ").concat(c2);
            break;
          case z.LOWER:
            r2 = "".concat(n2, " < ").concat(c2);
            break;
          case z.LOWER_EQUAL:
            r2 = "".concat(n2, " <= ").concat(c2);
            break;
          case z.CONTAINS:
            r2 = "".concat(n2, " like '%").concat(e3, "%'");
            break;
          case z.NOT_CONTAINS:
            r2 = "".concat(n2, " not like '%").concat(e3, "%'");
            break;
          case z.STARTS_WITH:
            r2 = "".concat(n2, " like '").concat(e3, "%'");
            break;
          case z.ENDS_WITH:
            r2 = "".concat(n2, " like '%").concat(e3, "'");
            break;
          case z.EMPTY:
            r2 = "value is empty";
            break;
          case z.BETWEEN:
            var d2 = c2.split("~").sort(function(t4, e4) {
              return parseFloat(t4) - parseFloat(e4);
            });
            r2 = 2 === d2.length && d2[1] ? "(value >= ".concat(d2[0], ") and (value <= ").concat(d2[1], ")") : "value >= ".concat(d2[0]);
        }
        break;
      case a.TEXT:
      default:
        n2 = o2.lookupDisplay ? "text" : "value", n2 = t3.trimData ? "trim(".concat(n2, ")") : n2;
        var p2 = t3.ignoreCase ? "i" : "";
        switch (e3 = t3.trimData && e3 ? e3.trim() : e3, e3 = (e3 = t3.ignoreCase && e3 ? e3.toLowerCase() : e3).replace(/\\/g, "\\\\").replace(/\'/g, "\\'"), i2) {
          case z.CONTAINS:
            r2 = "".concat(n2, " ").concat(p2, "likehan '%").concat(e3, "%'");
            break;
          case z.NOT_CONTAINS:
            r2 = "".concat(n2, " not ").concat(p2, "likehan '%").concat(e3, "%'");
            break;
          case z.STARTS_WITH:
            r2 = "".concat(n2, " ").concat(p2, "likehan '").concat(e3, "%'");
            break;
          case z.ENDS_WITH:
            r2 = "".concat(n2, " ").concat(p2, "likehan '%").concat(e3, "'");
            break;
          case z.EQUAL:
            r2 = "".concat(n2, " ").concat(p2, "like '").concat(e3, "'");
            break;
          case z.NOT_EQUAL:
            r2 = "".concat(n2, " not ").concat(p2, "like '").concat(e3, "'");
            break;
          case z.EMPTY:
            r2 = "value is empty";
        }
    }
    else r2 = void 0;
    var f2 = this.tableCellByLayout(o2.layout);
    r2 != f2.criteria && (f2.criteria = r2, o2.setInlineFilter(r2, true)), i2 && (o2._inlineFilterOp = i2), o2._inlineFilterText = s2;
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell();
  }, e2.prototype._getEndCell = function(t3) {
    return t3.getEndCell();
  }, e2.prototype.$_getCellHeight = function(t3) {
    var e3 = t3.layout.hrow, i2 = this._rowPoints[e3];
    return this._rowPoints[e3 + t3.rowSpan] - i2;
  }, e2.prototype.$_refreshCells = function(t3, e3, i2) {
    for (var o2 = this._cells, r2 = i2.children, n2 = r2.length, s2 = this._getFirstCell(t3), a2 = this._getLastCell(t3) - s2 + 1, l2 = o2.length; l2 < n2; l2++) o2.push([]);
    for (var h2 = 0; h2 < n2; h2++) {
      for (var u2 = o2[h2], c2 = r2[h2].children, d2 = e3[h2], p2 = 0; p2 < a2; p2++) {
        var f2 = c2[p2], _2 = d2[p2 + s2], g2 = u2[p2];
        g2 ? g2.cell !== f2 || g2.layout != _2 && (g2.layout = _2, g2.clear(true)) : (g2 = u2[p2] = new Ac(c2[p2])).layout = _2, g2.height = this.$_getCellHeight(g2), g2.width = this._getCellWidth(t3, p2), g2.spanned = false;
      }
      for (p2 = a2; p2 < u2.length; p2++) u2[p2].dispose();
      u2.length = a2;
    }
    for (h2 = n2; h2 < o2.length; h2++) {
      var y2 = o2[h2];
      for (p2 = 0; p2 < y2.length; p2++) y2[p2].dispose(), y2[p2] = null;
    }
    o2.length = n2;
  }, e2.prototype.$_refreshSpans = function(t3, e3) {
    for (var i2 = this._getFirstCell(t3), o2 = this._getFirstCell(t3) - i2, r2 = this._getLastCell(t3) - i2, n2 = t3.cellLayouts._dataCells.length, s2 = 0; s2 < e3; s2++) for (var a2 = this._cells[s2], l2 = a2.length, h2 = o2; h2 <= r2; h2++) {
      var u2 = a2[h2], c2 = u2.layout, d2 = c2.parent, p2 = d2 && d2.vertical;
      if (u2.spanned) ;
      else if (c2.isProxy) u2.clear(false);
      else {
        var f2 = 0, _2 = 0, g2 = c2.getDataSpan() - 1;
        if (g2 > 0) {
          var y2 = 0, m2 = c2.vindex + 1;
          if (p2) for (; y2++ < g2 && y2 < n2; ) {
            if (!(b2 = d2.getVisible(m2++))) break;
            _2 += b2._dspan, this._cells[s2 + y2][h2].span();
          }
          else for (; y2++ < g2 && h2 - o2 + y2 < l2 && m2 < d2.visibleCount; ) {
            var b2;
            if (!(b2 = d2.getVisible(m2++))) break;
            f2 += b2._cspan, a2[h2 + y2].span();
          }
        }
        c2.isNull && u2.clear(true), u2.set(c2._cspan + f2, c2._dspan + _2, true);
      }
    }
  }, e2.prototype.$_refreshHeadTitle = function(t3, e3) {
    for (var i2 = this._cells[0], o2 = e3.children[0], r2 = 0; o2 && r2 < i2.length; r2++) {
      var n2 = i2[r2].layout.source, s2 = o2.children[r2];
      s2 && n2 && (s2[Ot.TextProp] = n2.header.getDisplayText() || n2.firstColumn.header.displayText);
    }
  }, e2.RENDERER_STYLE = "rg-filter-renderer", e2;
}(Rl);
var Vc = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-filter-panel";
  }, e2.prototype._getExplicitWidth = function(t3) {
    return t3.fixedWidth - t3.fixedBarWidth;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.fixedCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getFixedCellWidth(e3);
  }, e2;
}(Bc);
var jc = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-fixed-filter-panel";
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2.prototype._getCellCount = function(t3) {
    return t3.rightCellCount;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return t3.getRightCellWidth(e3);
  }, e2;
}(Bc);
var Hc = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "gridFilterCellView") || this;
  }
  return i(e2, t2), e2;
}($h);
var Wc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, null, "gridFilterView") || this;
    return i2._domCssSelector = "rg-filter", i2;
  }
  return i(e2, t2), e2.prototype.getFilterModel = function(t3) {
    return this._getCellModel(t3);
  }, e2.prototype._createCellElement = function(t3) {
    return new Hc(t3);
  }, e2.prototype._sectionCell = function(t3) {
    return t3.getFilterCell();
  }, e2.prototype._getSectionStyleName = function(t3) {
    return this.$_getCellSelector() + " " + t3.getFilterStyleName();
  }, e2.prototype._getHeadTrText = function(t3) {
    return t3.getCellType() + " filter";
  }, e2.prototype._getSectionText = function(t3) {
    return "";
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2);
    var n2 = e3.grid;
    Ot.setClassName(r2, n2.filterPanel.styleName);
  }, e2.prototype.$_getCellSelector = function() {
    return "rg-filter-cell";
  }, e2;
}(Ah);
var Gc = function() {
  function t2(t3, e2) {
    this._containerDom = t3, this._commandType = e2, this.$_createDom();
  }
  return t2.prototype.getCommandType = function() {
    return this._commandType;
  }, t2.prototype.$_getStyle = function() {
    return "commit" === this._commandType ? "rg-editor-commit" : "cancel" === this._commandType ? "rg-editor-cancel" : void 0;
  }, t2.prototype.$_createDom = function() {
    var t3 = this._containerDom, e2 = It(t3), i2 = this._dom = e2.createElement("div");
    i2.style.touchAction = "none", this.$_createButton(), Ot.addChild(t3, i2);
  }, t2.prototype.$_createButton = function() {
    var t3 = It(this._containerDom), e2 = this._button = t3.createElement("div");
    e2.style.touchAction = "none", e2.style.pointerEvents = "none", e2.className = this.$_getStyle(), Ot.addChild(this._dom, e2);
  }, t2;
}();
var Uc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._owner = e3, i2._commands = [], i2.$_clickHandler = i2._clickHandler.bind(i2), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "showing", { get: function() {
    return this._showing;
  }, enumerable: false, configurable: true }), e2.prototype.setContainerDom = function(t3) {
    this._containerDom = t3;
  }, e2.prototype.show = function(t3) {
    var i2 = It(this._containerDom);
    this._dom || ((this._dom = i2.createElement("div")).className = e2.STYLE);
    if (!this._commands || 0 == this._commands.length) {
      var o2 = new Gc(this._dom, "commit");
      this._commands.push(o2), o2 = new Gc(this._dom, "cancel"), this._commands.push(o2);
    }
    Ot.addChild(this._containerDom, this._dom), this._dom.addEventListener("click", this.$_clickHandler), this._showing = true, this.$_setPosition(t3);
  }, e2.prototype.hide = function() {
    this._showing = false, this._dom.removeEventListener("click", this.$_clickHandler), Ot.detach(this._dom);
  }, e2.prototype.setPosition = function(t3) {
    this._dom && this.$_setPosition(t3);
  }, e2.prototype._clickHandler = function(t3) {
    t3.target !== this._dom && this.$_doClick(t3);
  }, e2.prototype.$_doClick = function(t3) {
    var e3 = this.$_findCommand(t3.target);
    if (e3) switch (e3.getCommandType()) {
      case "commit":
        this._owner.commitCommand(t3);
        break;
      case "cancel":
        this._owner.cancelCommand(t3);
    }
  }, e2.prototype.$_findCommand = function(t3) {
    for (var e3 = 0; e3 < this._commands.length; e3++) if (this._commands[e3]._dom === t3) return this._commands[e3];
    return null;
  }, e2.prototype.$_setPosition = function(t3) {
    var e3 = this._dom.style, i2 = Ot.getSize(this._dom), o2 = t3.right - i2.width, r2 = t3.top - i2.height;
    e3.left = o2 + "px", e3.top = r2 + "px";
  }, e2.STYLE = "rg-mobile-command-view", e2;
}(Ft);
var Yc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._commandView = new Uc(i2), i2._commandView.setContainerDom(e3.container._containerDom), i2;
  }
  return i(e2, t2), e2.prototype.commitCommand = function(t3) {
    this.commitEditor(true, false, true, false);
  }, e2.prototype.cancelCommand = function(t3) {
    this.cancelEditor(true);
  }, e2.prototype._showCommand = function(t3) {
    this._commandView && this._commandView.show(t3);
  }, e2.prototype._resetPosition = function(t3) {
    this._commandView && this._commandView.setPosition(t3);
  }, e2.prototype._hideCommand = function() {
    this._commandView && this._commandView.showing && this._commandView.hide();
  }, e2.prototype._editorActivated = function(e3) {
    t2.prototype._editorActivated.call(this, e3);
    var i2 = this._grid;
    if (this._grid.mobileOptions.showEditCommander && i2.$_canShowEditCommand(this._editIndex)) {
      var o2 = this._grid.getEditCellBounds(this._editor, this._editIndex);
      this._showCommand(o2);
    }
  }, e2.prototype._internalHideEditor = function(e3) {
    t2.prototype._internalHideEditor.call(this, e3), this._hideCommand();
  }, e2.prototype._resetBounds = function() {
    t2.prototype._resetBounds.call(this);
    var e3 = this._grid.getEditCellBounds(this._editor, this._editIndex);
    this._resetPosition(e3);
  }, e2;
}(yu);
var zc = function(e2) {
  function o2(i2, o3, r2) {
    var n2 = e2.call(this, i2.doc, true) || this;
    n2._debugging = false, n2._scrollBarWidth = 16, n2._scrollBarHeight = 16, n2._loading = true, n2._dataLoad = false, n2._gridObjects = [], n2._tableViews = {}, n2._columnMap = {}, n2._columnLayouts = new cs(), n2._columnLock = 0, n2._columnsDirty = false, n2._columnSummaryRuntime = new As(), n2._columnValidationRuntime = new Nn(), n2._rowValidationRuntime = new Ln(), n2._layouted = false, n2._resetting = false, n2._needMerge = false, n2._leftPos = 0, n2._horzScrolled = false, n2._topIndex = 0, n2._prevTop = 0, n2._prevLeftPos = 0, n2._prevLast = -1, n2._updateLock = false, n2._hoveredY = -1, n2._focusing = false, n2._dataChanged = false, n2._validations = new Fn(false), n2.$_editFocused = false, n2.$_showFocusCell = false, n2._itemCheckChanged = false, n2._cellUpdateEventLock = false, n2._currentRowId = -1, n2._currentRow = -1, n2._scrolledTime = 0, n2._cellLayoutDirty = false, n2._needRefresh = true, n2._needPosition = true, n2._fitHeader = false, n2._keepLeftPos = false, n2._cellGhostStyle = {};
    var s2 = i2.doc, a2 = function() {
      var e3, i3 = null;
      try {
        if (e3 = t.code || realGrid2Lic, !(i3 = new bc.h(e3, "dkdl")) || !i3.lic || !Object.keys(i3.lic).length) throw new Error();
      } catch (t2) {
        return { type: 1, code: e3 };
      }
      if (!i3.is("name", t.name)) return { type: 2, code: e3 };
      var o4 = null === window || void 0 === window ? void 0 : window.location, r3 = o4 ? o4.hostname : "", n3 = o4 ? o4.pathname.toLowerCase() : "", s3 = Cc, a3 = i3.is("lic", "Enterprise"), l3 = i3.is("lic", "Evaluation"), h3 = i3.is("lic", "Limited"), u3 = i3.is("lic", "Subscription"), c2 = s3(i3.lic.server, r3, n3), d2 = !a3 && s3(i3.lic.server, "*", null);
      return a3 || l3 || h3 || u3 ? c2 || d2 ? !a3 && i3.expired("expire", 1) ? d2 || u3 ? { type: 32, code: e3 } : { type: 16, code: e3 } : (t.license = i3.lic.lic, t.expire = i3.lic.expire, { type: 0, code: e3 }) : { type: 8, code: e3 } : { type: 64, code: e3 };
    }();
    switch (i2[Rt.decode("X2xrQ2hlY2s=")] = a2.type, a2.type) {
      case 0:
      case 32:
        break;
      default:
        throw new vc(a2.type, a2.code);
    }
    n2._container = i2, n2._accessibility = o3, n2._addGridObject(n2._header = new Hs(n2)), n2._addGridObject(n2._footers = new Ks(n2)), n2._addGridObject(n2._headerSummaries = new nc(n2)), n2._addGridObject(n2._rowIndicator = new ea(n2)), n2._addGridObject(n2._stateBar = new oa(n2)), n2._addGridObject(n2._checkBar = new na(n2)), n2._addGridObject(n2._body = new yl(n2)), n2._addGridObject(n2._filterPanel = new $c(n2)), n2.addChild(n2._rootElement = new ga(s2, "grid root view")), n2._debugView = new Pc(n2), 32 === a2.type && n2.addChild(n2._watermarkLayer = new Lc(n2)), n2.addChild(n2._emptyView = new Sl(s2)), n2.addElement(n2._contentPane = new qh(s2, "contentPane")), n2.addElement(n2._rightContentPane = new Jh(s2, "rightContentPane")), n2.addElement(n2._fixedContentPane = new Xh(s2, "fixedContentPane")), n2._doContentPanesCreated(), n2.addElement(n2._leftContentPane = new zh(s2, "leftContentPane")), n2._sideContentPane = n2._createSidePane(), n2._sideContentPane && n2.addElement(n2._sideContentPane), n2.addElement(n2._topContentPane = new Yh(s2, "topContentPane")), n2._filterPanelView = new Bc(s2, n2._filterPanel), n2._fixedFilterView = new Vc(s2, n2._filterPanel), n2._rightFilterView = new jc(s2, n2._filterPanel), n2._bodyView = n2._createBodyView(n2._body), n2._fixedBodyView = n2._createFixedBodyView(n2._body), n2._rightBodyView = n2._createRightBodyView(n2._body), n2._headerView = new Kl(s2, n2._header), n2._fixedHeaderView = new Xl(s2, n2._header), n2._rightHeaderView = new Zl(s2, n2._header), n2._headerSummaryView = new sc(s2, n2._headerSummaries), n2._fixedHeaderSummaryView = new ac(s2, n2._headerSummaries), n2._rightHeaderSummaryView = new lc(s2, n2._headerSummaries), n2._footerView = new eh(s2, n2.footers), n2._fixedFooterView = new ih(s2, n2.footers), n2._rightFooterView = new oh(s2, n2.footers), n2._rowBarContainer = new Cu(n2), n2._headView = new Nh(n2), n2._sumView = new uc(s2), n2._footView = new Vh(s2), n2._filterView = new Wc(s2);
    for (var l2 = [n2._rowBarContainer, n2._bodyView, n2._fixedBodyView, n2._rightBodyView, n2._headerView, n2._fixedHeaderView, n2._rightHeaderView, n2._headerSummaryView, n2._fixedHeaderSummaryView, n2._rightHeaderSummaryView, n2._footerView, n2._fixedFooterView, n2._rightFooterView, n2._headView, n2._sumView, n2._footView, n2._filterView, n2._filterPanelView, n2._fixedFilterView, n2._rightFilterView], h2 = l2.length - 1; h2 >= 0; h2--) {
      var u2 = l2[h2];
      n2._tableViews[u2.$_hash] = u2;
    }
    return n2._contentPane.addChild(n2._headerView), n2._contentPane.addChild(n2._headerSummaryView), n2._contentPane.addChild(n2._filterPanelView), n2._contentPane.addChild(n2._bodyView), n2._contentPane.addChild(n2._footerView), n2._fixedContentPane.addChild(n2._fixedBodyView), n2._fixedContentPane.addChild(n2._fixedFooterView), n2._fixedContentPane.addChild(n2._fixedHeaderSummaryView), n2._fixedContentPane.addChild(n2._fixedHeaderView), n2._fixedContentPane.addChild(n2._fixedFilterView), n2._rightContentPane.addChild(n2._rightBodyView), n2._rightContentPane.addChild(n2._rightFooterView), n2._rightContentPane.addChild(n2._rightHeaderSummaryView), n2._rightContentPane.addChild(n2._rightHeaderView), n2._rightContentPane.addChild(n2._rightFilterView), n2._leftContentPane.addChild(n2._rowBarContainer), n2._leftContentPane.addChild(n2._footView), n2._leftContentPane.addChild(n2._sumView), n2._leftContentPane.addChild(n2._headView), n2._leftContentPane.addChild(n2._filterView), n2._doCreateOtherElements(), n2.addElement(n2._selectionLayer = n2._createSelectionLayer()), n2.addElement(n2._feedbackLayer = new ga(s2, "feedbackLayer")), n2.addFeedbackElement(n2._rowHoverView = new Gu(s2)), n2.addElement(n2._hscrollBar = new Eh(i2, false)), n2.addElement(n2._vscrollBar = new Eh(i2, true)), n2.addElement(n2._scrollEdge = new wh(s2)), n2._hscrollBar.addListener(n2), n2._vscrollBar.addListener(n2), n2._selections = new Ia(n2), n2._selections.addListener(n2), n2._fixedOptions = new bl(n2), n2._displayOptions = new vl(n2), n2._formatOptions = new jh(n2), n2._editOptions = new eu(n2), n2._editorOptions = new ou(n2), n2._copyOptions = new ru(n2), n2._pasteOptions = new nu(n2), n2._dataDropOptions = new ah(n2), n2._sortingOptions = new Uh(n2), n2._filteringOptions = new cc(n2), n2._waiOptions = new Fc(n2), n2._mobileOptions = new su(n2), n2._initStyles(), n2._columns = new Vs(n2), n2._activeCellLayout = n2._defaultCellLayout = new Ps(n2), n2._defaultCellLayout.addListener(n2), n2._delegate = n2._createDelegate(), n2._layoutManager = n2._createLayoutManager(), n2._editController = n2._createEditController(), n2._validationManager = new $n(n2), n2._lookupProvider = new Zu(), n2._lookupProvider.addListener(n2), n2._clipboardManager = new gl(n2), n2._progressManager = new Tc(n2._container._containerDom), n2._popupMenuManager = new ic(n2._container), n2._popupMenuManager.addListener(n2), n2._tooltipManager = new yc(n2), n2._filterSelector = new _c(n2._container, n2._filteringOptions, n2), n2._toastManager = new Gh(n2), n2._currentIndex = new Ts(n2), n2._editorIndex = new Ts(n2), n2._focusedIndex = new Ts(n2), o3 && (n2._waiOptions.assignFrom(r2), n2.checkBar.useImages = true), n2;
  }
  return i(o2, e2), o2.createColumn = function(t2) {
    if (t2) {
      var e3 = t2.type;
      return "series" == e3 ? new hs(t2) : "literal" === e3 ? new us(t2) : new ls(t2);
    }
    return null;
  }, o2.prototype._doDispose = function() {
    return this.clearListener(), this._container = this._container.dispose(), this._gridObjects.length = 0, this._header = this._header.dispose(), this._headerSummaries = this._headerSummaries.dispose(), this._footers = this._footers.dispose(), this._rowIndicator = this._rowIndicator.dispose(), this._stateBar = this._stateBar.dispose(), this._checkBar = this._checkBar.dispose(), this._body = this._body.dispose(), this._filterPanel = this._filterPanel.dispose(), this._rootElement = this._rootElement.dispose(), this._contentPane = this._contentPane.dispose(), this._rightContentPane = this._rightContentPane.dispose(), this._fixedContentPane = this._fixedContentPane.dispose(), this._leftContentPane = this._leftContentPane.dispose(), this._sideContentPane = this._sideContentPane && this._sideContentPane.dispose(), this._topContentPane = this._topContentPane && this._topContentPane.dispose(), this._bodyView = this._bodyView.dispose(), this._fixedBodyView = this._fixedBodyView.dispose(), this._rightBodyView = this._rightBodyView.dispose(), this._headerView = this._headerView.dispose(), this._fixedHeaderView = this._fixedHeaderView.dispose(), this._rightHeaderView = this._rightHeaderView.dispose(), this._headerSummaryView = this._headerSummaryView.dispose(), this._fixedHeaderSummaryView = this._fixedHeaderSummaryView.dispose(), this._rightHeaderSummaryView = this._rightHeaderSummaryView.dispose(), this._footerView = this._footerView.dispose(), this._fixedFooterView = this._fixedFooterView.dispose(), this._rightFooterView = this._rightFooterView.dispose(), this._rowBarContainer = this._rowBarContainer.dispose(), this._headView = this._headView.dispose(), this._sumView = this._sumView.dispose(), this._footView = this._footView.dispose(), this._filterPanelView = this._filterPanelView.dispose(), this._fixedFilterView = this._fixedFilterView.dispose(), this._rightFilterView = this._rightFilterView.dispose(), this._selectionLayer = this._selectionLayer.dispose(), this._feedbackLayer = this._feedbackLayer.dispose(), this._hscrollBar = this._hscrollBar.dispose(), this._vscrollBar = this._vscrollBar.dispose(), this._scrollEdge = this._scrollEdge.dispose(), this._selections = this._selections.dispose(), this._fixedOptions = this._fixedOptions.dispose(), this._displayOptions = this._displayOptions.dispose(), this._formatOptions = this._formatOptions.dispose(), this._editOptions = this._editOptions.dispose(), this._editorOptions = this._editorOptions.dispose(), this._copyOptions = this._copyOptions.dispose(), this._pasteOptions = this._pasteOptions.dispose(), this._sortingOptions = this._sortingOptions.dispose(), this._filteringOptions = this._filteringOptions.dispose(), this._mobileOptions = this._mobileOptions && this._mobileOptions.dispose(), this._columns = this._columns.dispose(), this._activeCellLayout = null, this._defaultCellLayout = this._defaultCellLayout.dispose(), this._delegate = this._delegate.dispose(), this._layoutManager = this._layoutManager.dispose(), this._editController = this._editController && this._editController.dispose(), this._filterSelector = this._filterSelector.dispose(), this._toastManager = this._toastManager.dispose(), this._tableViews = null, this._lookupProvider = this._lookupProvider && this._lookupProvider.dispose(), this._columnSummaryRuntime = this._columnSummaryRuntime && this._columnSummaryRuntime.dispose(), this._popupMenuManager = this._popupMenuManager && this._popupMenuManager.dispose(), this._tooltipManager = this._tooltipManager && this._tooltipManager.dispose(), this._focusedIndex = this._focusedIndex.dispose(), this._scrollTipView = this._scrollTipView && this._scrollTipView.dispose(), this._waiOptions = this._waiOptions && this._waiOptions.dispose(), this._watermarkLayer = this._watermarkLayer && this._watermarkLayer.dispose(), Ts.clearTemp(), this._cellGhostStyle = {}, e2.prototype._doDispose.call(this);
  }, Object.defineProperty(o2.prototype, "debugging", { get: function() {
    return this._debugging;
  }, set: function(t2) {
    t2 != this._debugging && (this._debugging = t2, t2 ? (this.addChild(this._debugView), this.invalidateLayout()) : this.removeChild(this._debugView));
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "activeTool", { get: function() {
    return this.container.activeTool;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "scrollBarWidth", { get: function() {
    return this._scrollBarWidth;
  }, set: function(t2) {
    (t2 = Math.max(0, t2)) != this._scrollBarWidth && (this._scrollBarWidth = t2, this.invalidateLayout(), this.invalidatePosition());
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "scrollBarHeight", { get: function() {
    return this._scrollBarHeight;
  }, set: function(t2) {
    (t2 = Math.max(0, t2)) != this._scrollBarHeight && (this._scrollBarHeight = t2, this.invalidateLayout(), this.invalidatePosition());
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "body", { get: function() {
    return this._body;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "header", { get: function() {
    return this._header;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "footers", { get: function() {
    return this._footers;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "footer", { get: function() {
    return this._footers.get(0);
  }, enumerable: false, configurable: true }), o2.prototype.setFooters = function(t2) {
    this._footers.assignFrom(t2);
  }, Object.defineProperty(o2.prototype, "headerSummaries", { get: function() {
    return this._headerSummaries;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "headerSummary", { get: function() {
    return this._headerSummaries.get(0);
  }, enumerable: false, configurable: true }), o2.prototype.setHeaderSummaries = function(t2) {
    this._headerSummaries.assignFrom(t2);
  }, Object.defineProperty(o2.prototype, "rowIndicator", { get: function() {
    return this._rowIndicator;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "checkBar", { get: function() {
    return this._checkBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "stateBar", { get: function() {
    return this._stateBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "filterPanel", { get: function() {
    return this._filterPanel;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "activeCellLayout", { get: function() {
    return this._activeCellLayout;
  }, enumerable: false, configurable: true }), o2.prototype._cellLayoutChanged = function() {
    this._cellLayoutDirty = true;
  }, Object.defineProperty(o2.prototype, "layoutCount", { get: function() {
    return this._activeCellLayout.visibleCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "visibleLayoutCount", { get: function() {
    return this._activeCellLayout.visibleCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "columnCount", { get: function() {
    return this._columns.count;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "dataSource", { get: function() {
    return this._items ? this._items.dataSource : null;
  }, set: function(t2) {
    this.dataSource;
    this._items && (this._items.dataSource = t2), this.dataSource;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "itemSource", { get: function() {
    return this._items;
  }, set: function(t2) {
    this._items && this._items.removeListener(this), this._items = t2, this._items && (this._items.addListener(this), this.fixedOptions && this.fixedOptions._dirty && this.fixedOptions.$_resetItemSource());
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "maxItemCount", { get: function() {
    return this.itemSource.maxItemCount;
  }, set: function(t2) {
    this.itemSource.maxItemCount = Math.max(0, t2);
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "itemCount", { get: function() {
    return this._items ? this._items.itemCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rowCount", { get: function() {
    return this._items ? this._items.rowCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "visibleRowCount", { get: function() {
    return this._items ? this._items.rowCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "dataCount", { get: function() {
    var t2 = this.dataSource;
    return t2 ? t2.rowCount : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "columnSummaryRuntime", { get: function() {
    return this._columnSummaryRuntime;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "columnValidationRuntime", { get: function() {
    return this._columnValidationRuntime;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rowValidationRuntime", { get: function() {
    return this._rowValidationRuntime;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "focusedIndex", { get: function() {
    return this._focusedIndex;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "focusedLayout", { get: function() {
    return this._focusedIndex && this._focusedIndex.layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "focusedColumn", { get: function() {
    return this._focusedIndex && this._focusedIndex.layout && this._focusedIndex.layout.firstColumn;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "focusedRow", { get: function() {
    return this._focusedIndex ? this._focusedIndex.itemIndex : -1;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "focusedItem", { get: function() {
    return this._focusedIndex && this._focusedIndex.item;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rowBarContainer", { get: function() {
    return this._rowBarContainer;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "topContentPane", { get: function() {
    return this._topContentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "sideContentPane", { get: function() {
    return this._sideContentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "leftContentPane", { get: function() {
    return this._leftContentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "contentPane", { get: function() {
    return this._contentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedContentPane", { get: function() {
    return this._fixedContentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightContentPane", { get: function() {
    return this._rightContentPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "bodyView", { get: function() {
    return this._bodyView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedBodyView", { get: function() {
    return this._fixedBodyView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightBodyView", { get: function() {
    return this._rightBodyView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "headerView", { get: function() {
    return this._headerView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedHeaderView", { get: function() {
    return this._fixedHeaderView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightHeaderView", { get: function() {
    return this._rightHeaderView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "headerSummaryView", { get: function() {
    return this._headerSummaryView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedHeaderSummaryView", { get: function() {
    return this._fixedHeaderSummaryView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightHeaderSummaryView", { get: function() {
    return this._rightHeaderSummaryView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "footerView", { get: function() {
    return this._footerView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedFooterView", { get: function() {
    return this._fixedFooterView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightFooterView", { get: function() {
    return this._rightFooterView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "filterPanelView", { get: function() {
    return this._filterPanelView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedFilterView", { get: function() {
    return this._fixedFilterView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "rightFilterView", { get: function() {
    return this._rightFilterView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "headView", { get: function() {
    return this._headView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "sumView", { get: function() {
    return this._sumView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "footView", { get: function() {
    return this._footView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "filterView", { get: function() {
    return this._filterView;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "fixedOptions", { get: function() {
    return this._fixedOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "displayOptions", { get: function() {
    return this._displayOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "formatOptions", { get: function() {
    return this._formatOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "editOptions", { get: function() {
    return this._editOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "editorOptions", { get: function() {
    return this._editorOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "copyOptions", { get: function() {
    return this._copyOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "pasteOptions", { get: function() {
    return this._pasteOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "dataDropOptions", { get: function() {
    return this._dataDropOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "sortingOptions", { get: function() {
    return this._sortingOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "filteringOptions", { get: function() {
    return this._filteringOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "mobileOptions", { get: function() {
    return this._mobileOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "WaiOptions", { get: function() {
    return this._waiOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "accessibility", { get: function() {
    return this._accessibility;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "delegate", { get: function() {
    return this._delegate;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "heightMeasurer", { get: function() {
    return this.container.heightMeasurer;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "layoutManager", { get: function() {
    return this._layoutManager;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "selections", { get: function() {
    return this._selections;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "selectionLayer", { get: function() {
    return this._selectionLayer;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "editController", { get: function() {
    return this._editController;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "validations", { get: function() {
    return this._validations;
  }, set: function(t2) {
    this._validations.assignFrom(t2);
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "validationManager", { get: function() {
    return this._validationManager;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "popupMenuManager", { get: function() {
    return this._popupMenuManager;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "tooltipManager", { get: function() {
    return this._tooltipManager;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "toastManager", { get: function() {
    return this._toastManager;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "topIndex", { get: function() {
    return this._topIndex;
  }, set: function(t2) {
    if ((t2 = Math.max(0, Math.min(t2, this.itemCount - this.layoutManager.fixedItemCount - 1, this._vscrollBar ? this._vscrollBar.maxPosition : 0))) != this._topIndex) {
      var e3 = this.topIndexChanging(this._topIndex, t2 - this._topIndex, false, false);
      null == e3 || isNaN(e3) || (t2 = this._topIndex + e3, t2 = Math.min(this.itemCount - 1, Math.max(0, t2))), this._topIndex !== t2 && (this._needRefresh = true), this._topIndex = t2, this.refreshView(), Ot.isMobile() && this.isEditing() && !this.isItemEditing() ? this.closePopups(false) : this.closePopups();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "topItem", { get: function() {
    return this._topIndex + this.layoutManager.fixedItemCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "leftPos", { get: function() {
    return this._leftPos;
  }, set: function(t2) {
    (t2 = Math.max(0, Math.min(t2, this._hscrollBar ? this._hscrollBar._maxPosition : 0))) != this._leftPos && (this._leftPos = t2, this._horzScrolled = true, this._displayOptions.refreshMode == $.VISIBLE_ONLY || this.isRecycleMode() && this._needRefresh ? this.refreshView() : this.invalidate(), this.closePopups()), !this.isRecycleMode() && this._debugging && this._debugView.layout();
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "leftCell", { get: function() {
    return this._layoutManager.getCellIndex(this.leftPos);
  }, set: function(t2) {
    this.leftPos = this._layoutManager.getCellPoint(t2);
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "leftLayout", { get: function() {
    return this._layoutManager.firstLayout;
  }, set: function(t2) {
    var e3 = this._layoutManager;
    t2 = Math.max(e3.fixedLayoutCount, Math.min(t2, e3.layoutCount - 1)), this.leftPos = e3.getLayoutBounds(t2).x;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "lookupProvider", { get: function() {
    return this._lookupProvider;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "hoveredCell", { get: function() {
    return this._hoveredCell;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "empty", { get: function() {
    return 0 == this.itemCount || 0 == this.visibleLayoutCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "sorted", { get: function() {
    return this.itemSource.sorted;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "spanned", { get: function() {
    return this._bodyView.visible && this._bodyView.spanned || this._fixedBodyView.visible && this._fixedBodyView.spanned || this._rightBodyView.visible && this._rightBodyView.spanned;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "isSwiping", { get: function() {
    var t2 = this.activeTool, e3 = t2.dragTracker;
    return e3 instanceof Su && e3.dragging || t2._touchMoving || this._keepLeftPos;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "cellGhostStyle", { get: function() {
    return this._cellGhostStyle = this._cellGhostStyle || {};
  }, enumerable: false, configurable: true }), o2.prototype.addFeedbackElement = function(t2) {
    if (t2 && !this._feedbackLayer.contains(t2)) return this._feedbackLayer.addChild(t2), true;
  }, o2.prototype.removeFeedbackElement = function(t2) {
    var e3 = this._feedbackLayer.indexOf(t2);
    return e3 >= 0 && (this._feedbackLayer.removeChildAt(e3), true);
  }, o2.prototype.setEventFrom = function(t2) {
    this._eventFrom = t2;
  }, o2.prototype.getVisibleLayout = function(t2) {
    return this._activeCellLayout.getVisible(t2);
  }, o2.prototype.getColumn = function(t2) {
    return this._columns.getColumn(t2);
  }, o2.prototype.setColumns = function(t2) {
    var e3 = false;
    this._columns.setColumns(t2), this._columnMap = {};
    for (var i2 = this._columns.count - 1; i2 >= 0; i2--) {
      var o3 = this._columns.getColumn(i2);
      this._columnMap[o3.$_hash] = o3, o3 instanceof ls && o3.getActiveFilters(true).length > 0 && (e3 = true);
    }
    this._columnsReset(), e3 && this.dataSource && this.applyFilters();
  }, o2.prototype.setCellLayout = function(t2) {
    this._beforeChangeLayout();
    var e3, i2 = this.isValid(this.focusedIndex) && this.focusedIndex.column, o3 = this.activeCellLayout;
    try {
      t2 ? (e3 = new Rs(this).load(t2)).addListener(this) : e3 = this._defaultCellLayout, e3.isDefault() && this.setColumns(this._columns.columns), e3.resetColumns(this._columns);
    } catch (t3) {
      throw e3 && !e3.isDefault() && e3.dispose(), o3 && o3.resetColumns(this._columns), t3;
    }
    o3 && !o3.isDefault() && o3.dispose(), this._activeCellLayout = e3, this._cellLayoutDirty = true, this.invalidateLayout(), e3.$_refresh(this._columns, this.displayOptions.minCellWidth), e3.invalidate(), i2 && (this.focusedIndex.layout = e3.layoutByColumn(i2) || e3.layoutByColumn(e3.firstColumn), this.$_makeFocusedIndexVisible()), this.clearAddSelection(true, !!i2, false), this.clearRowHeights(), this._populateMerges(), this.refreshView();
  }, o2.prototype._checkEditing = function() {
    if (this.itemSource instanceof Zo && this.itemSource.isEditing()) throw new Error("Item is editing");
  }, o2.prototype.addColumn = function(t2, e3) {
    this._checkEditing();
    var i2 = this._columns.add(t2, e3);
    return i2 && (this._columnMap[i2.$_hash] = i2, this._columnsReset(), i2 instanceof ls && i2.getActiveFilters(true).length > 0 && this.dataSource && this.applyFilters()), i2;
  }, o2.prototype.removeColumn = function(t2) {
    return "string" == typeof t2 && (t2 = this.columnByName(t2)), !!t2 && (this._checkEditing(), !!this._columns.remove(t2) && (delete this._columnMap[t2.$_hash], this._columnsReset(), t2 instanceof ls && t2.getActiveFilters(true).length > 0 && this.dataSource && this.applyFilters(), true));
  }, o2.prototype.addLayout = function(t2, e3) {
    return this.activeCellLayout.addLayout(t2, e3);
  }, o2.prototype.removeLayout = function(t2) {
    this.activeCellLayout.removeLayout(t2);
    var e3 = this.focusedIndex;
    this.isValid(e3) && !this.isValid(e3, true) && (e3.normalize(this), !this._cellLayoutDirty && this.clearAddSelection(true));
  }, o2.prototype.restoreColumns = function(t2) {
    this._columns.restoreColumns(), this._columnsReset();
  }, o2.prototype.linearizeColumns = function(t2) {
    var e3 = this._activeCellLayout.collectColumns(true, true, true);
    if (t2 = Ot.makeArray(t2), e3 && e3.length > 0) {
      if (t2 && t2.length > 0) for (var i2 = function(i3) {
        e3.sort(function(e4, o4) {
          var r3 = e4[t2[i3]], n2 = o4[t2[i3]];
          return r3 < n2 ? 1 : r3 > n2 ? -1 : 0;
        });
      }, o3 = 0; o3 < t2.length; o3++) i2(o3);
      var r2 = [];
      e3.forEach(function(t3) {
        r2.push(t3.name);
      }), this.setCellLayout(r2);
    }
  }, o2.prototype.registerColumnLayouts = function(t2) {
    this._columnLayouts.load(t2);
  }, o2.prototype.findColumnLayout = function(t2) {
    return this._columnLayouts.find(t2);
  }, o2.prototype.invalidateColumn = function(t2) {
    this._columnLock <= 0 && this._resetColumnIndices(t2), this._columnsDirty || (this._columnsDirty = true, this.refreshView());
  }, o2.prototype.invalidateColumns = function() {
    this._columnsDirty || (this._columnsDirty = true, this.refreshView());
  }, o2.prototype.beginUpdate = function() {
    this._updateLock = true;
  }, o2.prototype.endUpdate = function(t2) {
    (t2 || this._updateLock) && (this._updateLock = false, this.refreshView());
  }, o2.prototype.invalidate = function() {
    this._container && this._container.invalidate(false);
  }, o2.prototype.invalidateLayout = function() {
    this._updateLock || this._loading || e2.prototype.invalidateLayout.call(this);
  }, o2.prototype.invalidatePosition = function() {
    this._needPosition = true;
  }, o2.prototype.setNeedRefresh = function(t2) {
    this._needRefresh = true, t2 && e2.prototype.invalidate.call(this, false, true);
  }, o2.prototype.invalidateCellLayouts = function() {
    this._updateLock || (this.clearRowHeights(), e2.prototype.invalidateLayout.call(this), this._columnsDirty = true);
  }, o2.prototype.refreshView = function(t2, e3) {
    if (!this._loading) {
      if (t2) {
        var i2 = this._container;
        this.setNeedRefresh(true), i2._layoutNeeded = true, this._needPosition = true, this._horzScrolled = this._horzScrolled || this._needRefresh, i2._render(Date.now());
      } else e3 && (this._needPosition = true), this.invalidateLayout();
      this.topIndex = this._topIndex, this.leftPos = this._leftPos;
    }
  }, o2.prototype.resetGrid = function(t2) {
    this._resetting = true, t2 && (this.topIndex = 0, this.leftPos = 0), this.refreshView();
  }, o2.prototype.getFirstCell = function() {
    if (this.itemCount > 0) {
      for (var t2 = 0, e3 = 0, i2 = this.itemCount; e3 < i2; e3++) if (this.getItem(e3) instanceof Ho) {
        t2 = e3;
        break;
      }
      return new Ts(this, t2 >= 0 ? t2 : 0, this.getFirstColumn());
    }
    return null;
  }, o2.prototype.$_setEditFocused = function(t2, e3) {
    if (t2 != this.$_editFocused) {
      if (this.$_editFocused = t2, t2 && this.$_showFocusCell) {
        var i2 = this.focusedIndex;
        !i2 || this.isValid(i2);
      }
      this.$_showFocusCell = false;
    }
    t2 && e3 && "focusin" == e3.type && Ot.isAncestorOf(this._container._container, e3.target, e3) && Th.setActiveGrid(this.container.$_hash);
  }, o2.prototype.getItem = function(t2) {
    return this._items.getItem(t2);
  }, o2.prototype.getItemIndexOfRow = function(t2) {
    return this._items.getIndexOfRow(t2, false);
  }, o2.prototype.getItemOfRow = function(t2, e3) {
    return this._items.getItemOfRow(t2, e3);
  }, o2.prototype.getItemIndicesOfRows = function(t2) {
    return this._items.getIndicesOfRows(t2, false);
  }, o2.prototype.getRowOfItem = function(t2) {
    var e3 = this.getItem(t2);
    return e3 ? e3.dataRow : -1;
  }, o2.prototype.getItemOfModel = function(t2) {
    return null;
  }, o2.prototype.getRowsOfItems = function(t2, e3) {
    void 0 === e3 && (e3 = false);
    for (var i2 = [], o3 = 0, r2 = t2; o3 < r2.length; o3++) {
      var n2 = r2[o3], s2 = this.getItem(n2), a2 = s2 ? s2.dataRow : -1;
      (e3 || a2 >= 0) && i2.push(a2);
    }
    return i2;
  }, o2.prototype.getIndicatorIndex = function(t2, e3) {
    return e3 ? this.itemCount - t2.index - 1 : t2.index;
  }, o2.prototype.indicatorReverse = function(t2) {
    return t2 === ks.REVERSE;
  }, o2.prototype.getAllItems = function() {
    return this._items.getAllItems();
  }, o2.prototype.getImage = function(t2) {
    return null;
  }, o2.prototype.getIndex = function(t2, e3) {
    return void 0 === t2 && (t2 = -1), void 0 === e3 && (e3 = null), new Ts(this, t2, e3);
  }, o2.prototype.getDataCellIndex = function(t2, e3) {
    var i2 = t2.parentElement, o3 = this._tableViews[i2.$_view], r2 = i2.$_row, n2 = o3.layoutByCell(t2);
    return null != e3 ? e3.set(r2, n2) : Ts.temp(this, r2, n2);
  }, Object.defineProperty(o2.prototype, "handler", { get: function() {
    return this.$_handler;
  }, enumerable: false, configurable: true }), o2.prototype.getDataColumns = function(t2) {
    return void 0 === t2 && (t2 = true), this._activeCellLayout.getDataColumns(t2);
  }, o2.prototype.optionsChanged = function(t2) {
    this._columnsDirty = true, this.refreshView();
  }, o2.prototype.sortOptionsChanged = function() {
    this.itemSource && this.itemSource.setSortingOptions(this._sortingOptions);
  }, o2.prototype.scrollRow = function(t2) {
    var e3 = this.topIndex;
    this.topIndex = e3 + t2;
  }, o2.prototype.showFilterSelector = function(t2, e3) {
    if (t2 && t2.hasFilters) {
      var i2 = this.getHeaderCellAt(t2.layout);
      return this.selectColumnFilters(i2, e3);
    }
  }, o2.prototype.selectColumnFilters = function(t2, e3) {
    if (this.isItemEditing(null)) {
      if (!this.filteringOptions.commitBeforeFiltering) return;
      try {
        if (!this.commit(false)) return;
      } catch (t3) {
        var i2 = this.focusedItem;
        if (i2 && t3 instanceof Tn) return void ((t3 = this._fireValidationFail(i2.index, t3.column, t3)) && alert(this.editOptions.showOnlyValidationMessage && t3.userMessage ? t3.userMessage : t3.toString()));
        throw t3;
      }
    }
    var o3 = t2.layout.boundColumn;
    if (this._fireFiltering(o3)) return this.hideEditor(true), this._filterSelector.show(o3, t2.cell, this.dataSource, e3), true;
  }, o2.prototype.closeFilterSelector = function() {
    this._filterSelector.hide();
  }, o2.prototype.closePopups = function(t2) {
    void 0 === t2 && (t2 = true), this._filterRunning || this._filterSelector.hide(), this._popupMenuManager.close(), this._tooltipManager.close(), this._tooltipManager.closeMessage(), t2 && this._editController.closeList(false);
  }, o2.prototype.layoutByDataCell = function(t2) {
    var e3 = t2.parentElement;
    return this._tableViews[e3.$_view].layoutByCell(t2);
  }, o2.prototype.columnByHash = function(t2) {
    return this._columnMap[t2];
  }, o2.prototype.columnByDataCell = function(t2) {
    return this._bodyView.columnByCell(t2) || this._fixedBodyView.columnByCell(t2) || this._rightBodyView.columnByCell(t2);
  }, o2.prototype.columnByName = function(t2) {
    return this._columns.columnByName(t2);
  }, o2.prototype.columnByField = function(t2) {
    return "string" == typeof t2 && (t2 = this.dataSource.getFieldIndex(t2)), this._columns.columnByField(t2);
  }, o2.prototype.columnsByField = function(t2) {
    return "string" == typeof t2 && (t2 = this.dataSource.getFieldIndex(t2)), this._columns.columnsByField(t2);
  }, o2.prototype.columnByTag = function(t2) {
    return this._columns.columnByTag(t2);
  }, o2.prototype.columnsByTag = function(t2) {
    return this._columns.columnsByTag(t2);
  }, o2.prototype.getHorzColumns = function(t2, e3) {
    return this._activeCellLayout.getHorzColumns(t2, e3);
  }, o2.prototype.getGroupLevel = function(t2) {
    return -1;
  }, o2.prototype.isGroupedColumn = function(t2) {
    return false;
  }, o2.prototype.blankGroupData = function() {
    return false;
  }, o2.prototype.layoutByColumn = function(t2) {
    return t2 instanceof ss || (t2 = this.columnByName(t2)), t2 ? this._activeCellLayout.layoutByColumn(t2) : null;
  }, o2.prototype.layoutByName = function(t2) {
    return this._activeCellLayout.layoutByName(t2);
  }, o2.prototype.setFocus = function(t2, e3) {
    var i2 = this;
    void 0 === e3 && (e3 = false);
    var o3 = function(t3) {
      i2.$_showFocusCell = true;
      var o4 = i2.focusedIndex.clone();
      if (!e3 && "keydown_tab" !== i2._eventFrom || !o4 || i2.isValid(o4) || (o4.set(Math.max(0 === i2.topIndex ? 0 : i2.topItem, 0), i2.getFirstColumn(), i2), i2.setFocusedIndex(o4, true, true)), i2._accessibility && !i2.isEditing()) if (i2.isValid(o4)) if (i2.layoutManager.cellIsVisible(o4) && !i2._resetTdFocus) {
        var r2 = i2.getBodyCellAt(o4, true);
        if (r2 && t3 !== r2.cell) i2.getBodyViewAt(o4).refreshTdFocused(o4, false);
      } else i2._resetTdFocus = true;
      else 0 === i2.itemCount && i2._emptyView.visible ? (i2.container._containerDom.setAttribute("tabindex", "-1"), i2._emptyView.setFocus()) : i2.container.setFocus();
      else Ot.isMobile() ? i2.container.setFocus() : i2._editController.setFocus(true, t3);
      Th.getActiveGrid() !== i2 && Th.setActiveGrid(i2.container.$_hash);
    };
    this.activeCellLayout.visibleCount > 0 ? o3.call(this, t2) : (this._setFocusTimer && clearTimeout(this._setFocusTimer), this._setFocusTimer = setTimeout((function() {
      this._setFocusTimer = null, o3.call(this, t2);
    }).bind(this), 10));
  }, o2.prototype.getFirstLayout = function() {
    return this._activeCellLayout.first;
  }, o2.prototype.getFirstColumn = function() {
    return this._activeCellLayout.firstColumn;
  }, o2.prototype.collectColumns = function(t2, e3, i2) {
    return this._activeCellLayout.collectColumns(t2, e3, i2);
  }, o2.prototype.collectColumnNames = function(t2, e3) {
    return this._activeCellLayout.collectColumnNames(t2, e3);
  }, o2.prototype.collectGroupNames = function() {
    return this._activeCellLayout.collectColumnNames(false, false, true);
  }, o2.prototype.getChildColumnNames = function(t2) {
    return this._activeCellLayout.collectColumnNames(false, false, false, t2);
  }, o2.prototype.collectDataColumns = function(t2, e3) {
    return this._activeCellLayout.collectDataColumns(t2, e3);
  }, o2.prototype.isValid = function(t2, e3) {
    void 0 === e3 && (e3 = false);
    var i2 = t2 && t2.grid === this && t2.itemIndex >= 0 && t2.itemIndex < this.itemCount && t2.layout && t2.layout.grid === this;
    return e3 && (i2 = (i2 = i2 && this.activeCellLayout.contains(t2.layout)) && this._columns.columns.indexOf(t2.layout.boundColumn) >= 0), i2;
  }, o2.prototype.getSelection = function(t2) {
    return void 0 === t2 && (t2 = 0), t2 >= 0 && t2 < this._selections.count ? this._selections.getItem(t2) : null;
  }, o2.prototype.getSelections = function() {
    return this._selections.getItems();
  }, o2.prototype.clearAddSelection = function(t2, e3, i2) {
    void 0 === t2 && (t2 = true), void 0 === e3 && (e3 = true), void 0 === i2 && (i2 = true);
    var o3 = this.focusedIndex;
    t2 && this._selections.clear(i2), e3 && this.isValid(o3, true) && this.itemCount > 0 && this.visibleLayoutCount > 0 && this._selections.add(o3, o3, this._displayOptions.selectionStyle, i2);
  }, o2.prototype.deleteSelection = function(t2) {
    void 0 === t2 && (t2 = false), this.$_deleteSelection(null, t2);
  }, o2.prototype.$_deleteSelection = function(t2, e3) {
    function i2(t3, e4) {
      try {
        if (e4 && e4.length > 0) {
          for (var i3 = [], o4 = 0, r3 = e4.length; o4 < r3; o4++) {
            var n3 = t3.getItem(e4[o4]);
            n3 && n3.dataRow >= 0 && i3.push(n3.dataRow);
          }
          if (i3.length > 0 && !t3._fireRowsDeleting(i3)) return false;
        }
      } catch (t4) {
        return alert(t4), false;
      }
      return true;
    }
    function o3(t3, o4) {
      var r3 = t3.recursiveDeleting();
      return !!o4 && ((e3 || !t3.editOptions.confirmWhenDelete || confirm(t3.editOptions.deleteRowsMessage) && i2(t3, [o4.index])) && (t3.cancel(), Ao(o4.itemState) || t3.itemSource.remove(o4, r3)), true);
    }
    function r2(t3, e4) {
      for (var i3 = null, o4 = e4.length; o4--; ) {
        var r3 = t3.getItem(e4[o4]), n3 = r3.itemState;
        if ($o(n3)) {
          i3 = r3, Ao(n3) && e4.splice(o4, 1);
          break;
        }
      }
      var s3 = null;
      e4.length > 0 && (s3 = t3.itemSource.getRemovableRows(e4)), i3 && t3.cancel(), s3 && t3.itemSource.removeRows(s3, t3.recursiveDeleting());
    }
    void 0 === e3 && (e3 = false);
    var n2 = this.editOptions, s2 = this.selections, a2 = this.itemSource;
    if ((e3 || n2.deletable) && a2 instanceof Zo) if (!this.isItemEditing(null) || n2.deletableWhenEdit) {
      if (this.commitEditor(true), o3(this, t2)) return true;
      if (!function(t3, e4) {
        if (0 == e4.count || 1 == e4.count && e4.getItem(0).single) {
          var i3, r3 = -1;
          return (r3 = 0 == e4.count ? t3.focusedIndex.itemIndex : e4.getItem(0).getBounds().r1) >= 0 && t3.canDelete(i3 = t3.getItem(r3)) && o3(t3, i3), true;
        }
        return false;
      }(this, s2)) {
        for (var l2 = s2.count, h2 = [], u2 = 0; u2 < l2; u2++) {
          var c2 = s2.getItem(u2);
          if (Ca(c2) || Ot.included(c2.style, Js.BLOCK, Js.GROUP)) for (var d2 = c2.getBounds(), p2 = Math.min(d2.r1, d2.r2), f2 = Math.max(d2.r1, d2.r2), _2 = p2; _2 <= f2; _2++) {
            var g2 = this.getItem(_2);
            (g2.dataRow >= 0 || g2.editable) && h2.push(_2);
          }
        }
        h2.sort(function(t3, e4) {
          return t3 - e4;
        });
        var y2 = -1;
        for (u2 = h2.length; u2--; ) h2[u2] == y2 ? h2.splice(u2, 1) : y2 = h2[u2];
        h2.length > 0 && this.canDelete(this.getItem(h2[0])) && (e3 || !n2.confirmWhenDelete ? i2(this, h2) && (r2(this, h2), this.clearAddSelection(true)) : confirm(n2.deleteRowsMessage) && i2(this, h2) && (r2(this, h2), this.clearAddSelection(true)));
      }
    } else alert(n2.commitEditingMessage);
  }, o2.prototype.revertSelection = function(t2) {
    void 0 === t2 && (t2 = false);
    var e3 = this.editOptions, i2 = this.selections, o3 = this.itemSource;
    if ((t2 || e3.revertable) && o3 instanceof Zo && (this.commitEditor(true), !function(t3, e4) {
      if (0 == e4.count || 1 == e4.count && e4.getItem(0).single) {
        var i3 = -1;
        if ((i3 = 0 == e4.count ? t3.focusedIndex.itemIndex : e4.getItem(0).getBounds().r1) >= 0) return t3.itemSource.revert(i3), true;
      }
      return false;
    }(this, i2))) {
      for (var r2 = i2.count, n2 = [], s2 = 0; s2 < r2; s2++) {
        var a2 = i2.getItem(s2);
        if (Ca(a2) || Ot.included(a2.style, Js.BLOCK, Js.GROUP)) for (var l2 = a2.getBounds(), h2 = Math.min(l2.r1, l2.r2), u2 = Math.max(l2.r1, l2.r2), c2 = h2; c2 <= u2; c2++) {
          var d2 = this.getItem(c2);
          (d2.dataRow >= 0 || d2.editable) && n2.push(c2);
        }
      }
      n2.sort(function(t3, e4) {
        return t3 - e4;
      });
      var p2 = -1;
      for (s2 = n2.length; s2--; ) n2[s2] == p2 ? n2.splice(s2, 1) : p2 = n2[s2];
      n2.length > 0 && o3.revertAll(n2);
    }
  }, o2.prototype.eraseSelection = function(t2, e3) {
    var i2 = this.editOptions, o3 = this.copyOptions;
    var r2 = this.selections, n2 = this.itemSource;
    if (i2.readOnly || !t2 && !i2.erasable || !i2.updatable) return false;
    if (!(n2 instanceof Zo)) return false;
    if (this.isEditing()) return false;
    if (function(t3, i3) {
      if (0 == i3.count || 1 == i3.count && i3.getItem(0).single) {
        var r3 = t3.focusedIndex;
        return (t3.getWritableAt(r3, false) || e3 && o3.cutReadOnlyCell) && t3.setCellValue(r3, void 0), true;
      }
      return false;
    }(this, r2)) return true;
    var s2 = r2.count;
    if (s2 < 1) return false;
    if (this.isItemEditing()) {
      var a2 = r2.getItem(0)._getRows(), l2 = this.getEditItem();
      return a2.fields.map(function(t3) {
        l2.setData(t3, void 0);
      }), true;
    }
    for (var h2 = [], u2 = 0; u2 < s2; u2++) {
      var c2 = r2.getItem(u2);
      (Ca(c2) || Ot.included(c2.style, Js.BLOCK, Js.GROUP)) && (h2 = h2.concat(c2.getItems()));
    }
    if (h2.length > 0) {
      for (u2 = 0; u2 < s2; u2++) r2.getItem(u2).setValues(void 0, e3);
      return true;
    }
  }, o2.prototype.getSelectedItems = function(t2) {
    void 0 === t2 && (t2 = false);
    var e3 = this._selections.getItem(0);
    return e3 && e3.getItems(t2);
  }, o2.prototype.getSelectedItemIndices = function(t2) {
    void 0 === t2 && (t2 = false);
    for (var e3 = this._selections, i2 = [], o3 = 0; o3 < e3.count; o3++) {
      e3.getItem(o3).getItemIndices(t2).forEach(function(t3) {
        i2.indexOf(t3) < 0 && i2.push(t3);
      });
    }
    return i2;
  }, o2.prototype.getSelectedRows = function() {
    for (var t2 = this._selections, e3 = [], i2 = 0; i2 < t2.count; i2++) {
      t2.getItem(i2).getRows().forEach(function(t3) {
        e3.indexOf(t3) < 0 && e3.push(t3);
      });
    }
    return e3;
  }, o2.prototype.getSelectedLayouts = function() {
    for (var t2 = this.activeCellLayout.collectLayouts(true), e3 = this._selections, i2 = [], o3 = 0; o3 < t2.length; o3++) e3.containsLayout(t2[o3]) && i2.indexOf(t2[o3]) < 0 && i2.push(t2[o3]);
    return i2;
  }, o2.prototype.setFocusedIndex = function(t2, e3, i2, o3) {
    if (void 0 === e3 && (e3 = true), void 0 === i2 && (i2 = false), void 0 === o3 && (o3 = true), !this._focusing && !this.disposing) {
      this._focusing = true;
      try {
        return this.$_doSetFocusedIndex(t2, e3, i2, true, o3);
      } finally {
        this._focusing = false;
      }
    }
  }, o2.prototype.resetFocusedIndex = function() {
    this.setFocusedIndex(this._focusedIndex);
  }, o2.prototype.clearFocusedIndex = function(t2) {
    if (void 0 === t2 && (t2 = false), !this._focusing && !this.disposing) {
      this._focusing = true;
      try {
        var e3 = void 0;
        t2 && this.focusedRow >= this.itemCount && ((e3 = this.focusedIndex.clone()).itemIndex = Math.max(-1, this.itemCount - 1));
        var i2 = t2;
        this.$_doSetFocusedIndex(e3, true, false, false, i2);
      } finally {
        this._focusing = false;
      }
    }
  }, o2.prototype.getTableCell = function(t2) {
    if (!t2) return null;
    for (var e3 = t2, i2 = xt(e3); e3 && !(e3 instanceof i2.HTMLTableCellElement); ) e3 = e3.parentElement;
    if (e3 instanceof i2.HTMLTableCellElement && e3.parentElement) {
      var o3 = e3.parentElement[_];
      if (o3) return e3;
      for (e3 = e3.parentElement; e3; ) {
        if (e3 instanceof i2.HTMLTableCellElement && (o3 = e3.parentElement[_])) return e3;
        e3 = e3.parentElement;
      }
    }
    return null;
  }, o2.prototype.getTableView = function(t2) {
    return this._tableViews[t2.parentElement[_]];
  }, o2.prototype.getBodyViewAt = function(t2) {
    return this._layoutManager.getBodyView(t2);
  }, o2.prototype.getBodyView = function(t2) {
    return this.getTableView(t2);
  }, o2.prototype.getRowView = function(t2, e3) {
    return t2.getRowView(e3);
  }, o2.prototype.getHeaderView = function(t2) {
    return this.getTableView(t2);
  }, o2.prototype.getFooterView = function(t2) {
    return this.getTableView(t2);
  }, o2.prototype.getSummaryView = function(t2) {
    return this.getTableView(t2);
  }, o2.prototype.getFilterView = function(t2) {
    return this.getTableView(t2);
  }, o2.prototype.getCellType = function(t2) {
    if (t2) {
      var e3 = t2.parentElement;
      if (-99 === e3[g]) return O.FIXED_BAR;
      var i2 = this._tableViews[e3[_]];
      if (!(i2 instanceof Ul)) return i2 instanceof Cu ? i2.getCellType(t2) : i2 instanceof Kl ? O.HEADER : i2 instanceof eh ? O.FOOTER : i2 instanceof sc ? O.SUMMARY : i2 instanceof Bc ? O.INLINE_FILTER : i2 instanceof Nh ? O.HEAD : i2 instanceof Vh ? O.FOOT : i2 instanceof uc ? O.SUM : i2 instanceof Wc ? O.FILTER : this._getCellTypeOf(i2);
      var o3 = i2.bodyCellByCell(t2);
      if (o3) return !(o3.item instanceof Uo) || o3.dataColumn && o3.dataColumn.mergeGrouped ? O.DATA : O.GROUP_FOOTER;
    }
  }, o2.prototype._getCellTypeOf = function(t2) {
  }, o2.prototype.getBodyCellAt = function(t2, e3) {
    var i2 = this._layoutManager, o3 = this._bodyView.visible && this._bodyView.getCellAt(i2, t2) || this._fixedBodyView.visible && this._fixedBodyView.getCellAt(i2, t2) || this._rightBodyView.visible && this._rightBodyView.getCellAt(i2, t2);
    return o3 && e3 && o3.merged && o3.head ? o3.head : o3;
  }, o2.prototype.getHeaderCellAt = function(t2) {
    return this._headerView.visible && this._headerView.tableCellByLayout(t2) || this._fixedHeaderView.visible && this._fixedHeaderView.tableCellByLayout(t2) || this._rightHeaderView.visible && this._rightHeaderView.tableCellByLayout(t2);
  }, o2.prototype.getSummaryCellsAt = function(t2, e3) {
    for (var i2 = 0; i2 < e3.length; i2++) {
      var o3 = e3[i2], r2 = o3.visible && o3.tableCellsByLayout(t2);
      if (r2) return r2;
    }
  }, o2.prototype.getFooterCellsAt = function(t2) {
    return this.getSummaryCellsAt(t2, [this._footerView, this._fixedFooterView, this._rightFooterView]);
  }, o2.prototype.getHeaderSummaryCellsAt = function(t2) {
    return this.getSummaryCellsAt(t2, [this._headerSummaryView, this._fixedHeaderSummaryView, this._rightHeaderSummaryView]);
  }, o2.prototype.getBodyCellbyCell = function(t2) {
    return this.getBodyCellAt(this.cellToIndex(t2), false);
  }, o2.prototype.cellToIndex = function(t2) {
    var e3 = Ts.temp(this, -1, null);
    if ((t2 = this.getCellViewOf(t2)) && t2 instanceof xt(t2).HTMLTableCellElement) {
      var i2 = this.getBodyView(t2);
      i2 && i2 instanceof Ul && (e3.layout = i2.layoutByCell(t2), e3.itemIndex = t2.parentElement[g]);
    }
    return e3;
  }, o2.prototype.cellToContainer = function(t2, e3) {
    void 0 === e3 && (e3 = null);
    var i2 = this.getTableView(t2);
    e3 = i2.getCellPoint(t2, e3);
    var o3 = i2.boundsByContainer(it.Temp.set(e3.x, e3.y, 0, 0));
    return e3.set(o3.x, o3.y), e3;
  }, o2.prototype.pointToIndex = function(t2, e3, i2, o3) {
    var r2;
    return o3 ? this._layoutManager.mouseToIndex(this.getCellViewOf(t2), e3, i2, r2 = Ts.temp(this, -1, null)) : r2 = this._layoutManager.mouseToIndex2(e3, i2, true), r2;
  }, o2.prototype.mouseToIndex = function(t2, e3, i2) {
    if (i2) {
      var o3 = this.boundsByScreen();
      t2 -= o3.x, e3 -= o3.y;
    }
    return this._layoutManager.mouseToIndex2(t2, e3, false);
  }, o2.prototype.getCellRectAt = function(t2, e3, i2) {
    var o3 = this.getBodyViewAt(e3);
    if (o3) {
      var r2 = o3.getCellAt(t2, e3);
      return r2 && o3.getCellRect(t2, r2, i2);
    }
  }, o2.prototype.getEditCellBounds = function(t2, e3) {
    var i2 = this.layoutManager, o3 = i2.getBodyView(e3), r2 = o3.getCellAt(i2, e3);
    if (r2) {
      var n2 = this.canMergeEditing(r2), s2 = o3.getCellRectAt(i2, e3, n2);
      return s2 = o3.boundsByContainer(s2), !e3.colFixed && s2.width > i2.nonFixedBounds.width && (s2.width = i2.nonFixedBounds.width), s2;
    }
    return Ot.$_INVISIBLE_EDIT_BOUNDS.clone();
  }, o2.prototype.getEditBounds = function(t2, e3) {
    var i2 = e3.item;
    if (!i2) return null;
    var o3 = this.layoutManager, r2 = o3.fixedItemCount;
    if (r2 > 0 && i2.index >= r2 && i2.index - r2 < o3.topIndex) return Ot.$_INVISIBLE_EDIT_BOUNDS.clone();
    var n2 = o3.getBodyView(e3), s2 = n2.getCellAt(o3, e3);
    if (s2) {
      s2 = s2.merged ? s2.head : s2;
      var a2 = n2.getCellRectAt(o3, e3, false);
      return (a2 = n2.boundsByContainer(a2)).width -= (t2.native ? 0 : s2.$_editWidth) + s2.$_buttonWidth + s2.$_errorWidth, a2;
    }
    return Ot.$_INVISIBLE_EDIT_BOUNDS.clone();
  }, o2.prototype.getCellViewOf = function(t2) {
    for (var e3 = xt(t2); t2; ) {
      if (t2 instanceof e3.HTMLTableCellElement) return t2;
      t2 = t2.parentElement;
    }
    return null;
  }, o2.prototype.getFocusedCellView = function(t2) {
    var e3 = t2.item;
    if (!e3) return null;
    var i2 = this.layoutManager, o3 = i2.fixedItemCount;
    if (o3 > 0 && e3.index >= o3 && e3.index - o3 < i2.topIndex) return null;
    var r2 = e3.merged, n2 = t2.colFixed, s2 = t2.rightFixed;
    return e3.isData || r2 ? (s2 ? this._rightBodyView : n2 ? this._fixedBodyView : this._bodyView).getCellView(i2, t2) : null;
  }, o2.prototype.isFocusedCell = function(t2) {
    return Ts.areEquals(t2, this._focusedIndex);
  }, o2.prototype.isFocusedRow = function(t2) {
    return this._focusedIndex.itemIndex == t2;
  }, o2.prototype.isFocusedColumn = function(t2) {
    return this._focusedIndex.column === t2;
  }, o2.prototype.fitSyncHeight = function() {
    return this._layoutManager.fitSyncHeight();
  }, o2.prototype.pasteFromClipboard = function(t2, e3) {
    var i2 = this.focusedIndex.clone(), o3 = this.pasteOptions;
    if (i2.normalize(this), this.isValid(i2) && o3.enabled && this._firePaste(i2, e3)) try {
      o3.singleMode ? this._clipboardManager.pasteCellFromClipboard(i2, t2) : (this._clipboardManager.pasteFromClipboard(i2, t2), i2.item && $o(i2.item.itemState) && this.refreshView()), this._firePasted();
    } catch (t3) {
      throw t3 instanceof Tn && (t3 = this._fireValidationFail(this._clipboardManager.appendingIndex.itemIndex, t3.column, t3)) && alert(this._editOptions.showOnlyValidationMessage && t3.userMessage ? t3.userMessage : t3.toString()), t3;
    }
  }, o2.prototype.copyToClipboard = function(t2, e3, i2) {
    void 0 === i2 && (i2 = false);
    var o3, r2, n2 = false, s2 = this.focusedIndex, a2 = this.selections, l2 = t2 && Ot.included(t2.type, "copy", "cut");
    if (l2 && t2.preventDefault(), this.isValid(s2, true) || !(a2.count < 1) || i2) {
      if (i2 || this.copyOptions.enabled) if (i2 || (o3 = (n2 = this.copyOptions.singleMode || 0 == a2.count || a2.single) ? new Ea(a2, Js.BLOCK, s2, s2) : a2.getItems(), i2 = this._fireCopy(o3, t2)), i2) {
        var h2 = void 0, u2 = void 0;
        if (!e3 && Array.isArray(o3)) {
          var c2 = o3.length > 1, d2 = o3.length > 1, p2 = true;
          if (o3.length > 1 && o3.forEach(function(t3) {
            p2 = p2 && (t3 instanceof Sa || t3 instanceof Oa), c2 = c2 && t3 instanceof Sa, d2 = d2 && t3 instanceof Oa;
          }), !p2) return alert("multi selection copy not supported"), null;
          h2 = c2 ? this.getSelectedItemIndices(false) : null, u2 = d2 ? this.getSelectedLayouts() : null;
        }
        e3 = e3 || (Array.isArray(o3) ? o3[0].getBounds() : o3.getBounds()), r2 = n2 ? this._clipboardManager.copyCellToClipboard(s2) : this._clipboardManager.copyToClipboard(e3, h2, u2);
      } else r2 = null;
      else r2 = this._clipboardManager.copyEmtpyToClipboard();
      return null != r2 && l2 && (t2 && "cut" === t2.type && this.eraseSelection(true, true), t2.clipboardData ? t2.clipboardData.setData("text/plain", r2) : window.clipboardData.setData("Text", r2)), r2;
    }
  }, o2.prototype.toClipboard = function(t2, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = (function(t3) {
      var e4;
      return "string" == typeof t3 ? e4 = this.columnByName(t3) : t3 instanceof ss && (e4 = t3), e4 && e4.layout;
    }).bind(this);
    if (!this.empty) {
      var o3;
      if (!(t2 && t2 instanceof Ns)) {
        var r2 = void 0, n2 = void 0;
        if (t2 ? (r2 = i2(t2.startColumn), n2 = i2(t2.endColumn)) : (r2 = this._activeCellLayout.first, n2 = this._activeCellLayout.last), !r2 || !n2) return;
        var s2 = null == (t2 = t2 || {}).startItem ? 0 : Math.max(0, t2.startItem), a2 = null == t2.endItem ? this.itemCount - 1 : Math.min(t2.endItem, this.itemCount - 1);
        o3 = Ns.createRange(s2, r2, a2, n2);
      }
      var l2 = this.copyToClipboard(null, o3, true);
      if (l2 = null == l2 ? "" : l2, !e3) return l2;
      if (Ot.isIE && window.clipboardData) window.clipboardData.setData("text", l2);
      else {
        var h2 = this.doc, u2 = h2.createElement("textarea"), c2 = u2.style;
        c2.position = "absolute", c2.top = "-10000px", h2.body.appendChild(u2), u2.value = l2, u2.select(), h2.execCommand("copy"), setTimeout(function() {
          h2.body.removeChild(u2);
        }, 100);
      }
    }
  }, o2.prototype.fromClipboard = function(t2) {
    var e3 = this.pasteOptions;
    try {
      var i2 = void 0, o3 = (t2.originalEvent || t2).clipboardData;
      null != (i2 = o3 ? o3.getData("text/plain") : window.clipboardData.getData("text")) && (t2.preventDefault(), this.pasteFromClipboard(i2, t2));
    } catch (t3) {
      if (t3 instanceof Tn) {
        if (e3.throwValidationError) throw t3;
      } else if (t3 instanceof Dn) alert(t3.message);
      else if (t3) throw t3;
    }
  }, o2.prototype.showToast = function(t2, e3) {
    this._toastManager.show(t2, e3, null);
  }, o2.prototype.hideToast = function(t2) {
    this._toastManager.close(), t2 && setTimeout(t2, 0);
  }, o2.prototype.showMessage = function(t2, e3, i2) {
    this._tooltipManager.showMessage(t2, e3, i2);
  }, o2.prototype.isEditing = function(t2) {
    return this._editController.editing && (!t2 || Ts.areEquals(t2, this._editController.editIndex));
  }, o2.prototype.getEditItem = function() {
    return this.itemSource instanceof Zo && this.itemSource.editingItem;
  }, o2.prototype.isItemEditing = function(t2) {
    return (t2 = t2 || this.focusedIndex.item) && this.itemSource instanceof Zo && this.itemSource.isEditing(t2);
  }, o2.prototype.isItemEdited = function(t2) {
    return (t2 = t2 || this.focusedIndex.item) && this.itemSource instanceof Zo && this.itemSource.isEdited(t2);
  }, o2.prototype.getEditValue = function(t2, e3, i2) {
    return this._doGetEditValue(e3, i2);
  }, o2.prototype._doGetEditValue = function(t2, e3) {
    return this._fireGetEditValue(t2, e3);
  }, o2.prototype.isCellEditing = function() {
    return !!this._editOptions.commitByCell && this._items.isUpdating;
  }, o2.prototype.editorCommit = function(t2, e3, i2) {
    return this._doCellCommit(t2, e3, i2);
  }, o2.prototype.scrollOnEditing = function() {
    if (this.isEditing()) switch (this.editOptions.scrollOnEditing) {
      case A.CANCEL:
        this.cancelEditor(true);
        break;
      case A.COMMIT:
        this.commitEditor(true);
      case A.DEFAULT:
    }
  }, o2.prototype._doCellCommit = function(t2, e3, i2) {
    return this._fireEditCommit(t2, e3, i2);
  }, o2.prototype.editorActivated = function(t2) {
    this._doEditorActivated(t2.editIndex, true, t2);
  }, o2.prototype._doEditorActivated = function(t2, e3, i2) {
    var o3 = this.getBodyCellAt(t2, false), r2 = o3 && this.getBodyView(o3.cell);
    this.accessibility && !e3 && this.setFocus(), r2 && r2.$_buttonZIndexChanged(this, o3, e3, i2);
  }, o2.prototype.setCellUpdateEventLock = function(t2) {
    this._cellUpdateEventLock = t2;
  }, o2.prototype.$_validateCellValue = function(t2, e3) {
    try {
      var i2 = Ao(t2.item.itemState);
      return this._validationManager.validateCell(t2, i2, false), true;
    } catch (e4) {
      if (!(e4 instanceof Tn)) throw e4;
      this._validationManager.addInvalidateCell(t2, e4);
    }
    return false;
  }, o2.prototype.$_refreshInvalidList = function(t2) {
    this.itemCount <= 0 || t2 ? this.validationManager.clearInvalidateList() : this.validationManager.checkRowIds();
  }, o2.prototype.validateCellCommit = function(t2, e3) {
    this.editOptions.validateOnEdited && this.$_validateCellValue(t2, e3);
  }, o2.prototype.validateCells = function(t2, e3, i2, o3) {
    return this._validationManager.validateCells(t2, e3, i2, o3);
  }, o2.prototype.getInvalidCells = function(t2) {
    return this._validationManager.getInvalidCells(t2);
  }, o2.prototype.clearInvalidCells = function(t2, e3) {
    if (t2) {
      if (null != e3) {
        var i2 = this.columnByField(e3), o3 = Ms.tempItem(this, t2, i2);
        return this._validationManager.clearInvalidCell(o3);
      }
      return this._validationManager.clearInvalidCells(t2.dataId);
    }
    this._validationManager.clearInvalidCells();
  }, o2.prototype.addInvalidCell = function(t2, e3, i2, o3) {
    var r2 = this.columnByField(e3), n2 = Ms.tempItem(this, t2, r2);
    return this._validationManager.addInvalidateCell(n2, { level: i2, message: o3 });
  }, o2.prototype.getEditableAt = function(t2, e3) {
    var i2 = t2.dataColumn;
    if (!i2) return false;
    if (e3 && null != e3.editable) return e3.editable;
    if (t2.item.isDataRow) {
      var o3 = t2.item;
      if (null != o3.editable) return o3.editable;
    }
    var r2 = this.editOptions;
    if (r2.columnEditableFirst) {
      if (!(null != i2.editable ? i2.editable : r2.editable)) return false;
    } else {
      if (!r2.editable) return false;
      if (false === i2.editable) return false;
    }
    var n2 = this.fixedOptions;
    return !(t2.colFixed && !n2.editable) && !(t2.rowFixed && !n2.rowEditable);
  }, o2.prototype.getReadOnlyAt = function(t2, e3) {
    var i2 = t2.dataColumn;
    if (!i2) return true;
    var o3 = this._items.getItem(t2.itemIndex);
    return !o3 || (e3 && null != e3.readOnly ? e3.readOnly : (o3 = o3.merged && o3 instanceof Wo ? o3.firstDataItem : o3, !this.editOptions.updatable && !Bo(o3.itemState, o3.rowState) || (!this._items.canUpdate(o3, i2.dataIndex) || (!!this._editOptions.readOnly || !!i2.readOnly))));
  }, o2.prototype.getWritableAt = function(t2, e3) {
    if (!this.isValid(t2)) return false;
    var i2 = this.getBodyViewAt(t2);
    if (i2) {
      var o3 = i2.getCellAt(this._layoutManager, t2);
      if (o3 && !e3) {
        var r2 = o3.merged && o3.head || o3;
        return t2.item.isDataRow && (null == o3.editable || o3.editable || r2.renderer2 && r2.renderer2.canEdit()) && !o3.readonly;
      }
      var n2 = t2.dataColumn;
      if (!n2) return false;
      var s2 = this.body.getCell(t2), a2 = s2 && n2.getCellStyle(s2), l2 = n2.readOnly, h2 = n2.isWritable(), u2 = false;
      if (a2 && "string" != typeof a2 && (l2 = null !== a2.readOnly ? a2.readOnly : n2.readOnly, a2.hasOwnProperty("editable") && (h2 = null !== a2.editable ? a2.editable : h2)), o3 && e3 && (u2 = (r2 = o3.merged && o3.head || o3).renderer2 && r2.renderer2.canEdit()), !e3) {
        var c2 = this.fixedOptions, d2 = this.editOptions, p2 = a2 && a2.renderer || n2.renderer, f2 = p2 && ("string" == typeof p2 ? p2 : p2.type), _2 = f2 && this.delegate.createRenderer(f2, p2, null);
        _2 && (_2._index = t2.clone(), u2 = _2.canEdit(), _2 = _2.dispose());
        var g2 = t2.item;
        h2 = (h2 = h2 && (!t2.colFixed || c2.editable)) && (!t2.rowFixed || c2.rowEditable), h2 = !!g2.isDataRow && (h2 && (d2.updatable || Bo(g2.itemState, g2.rowState)));
      }
      return h2 && !l2 || u2;
    }
  }, o2.prototype.getWritable = function(t2, e3) {
    var i2 = e3.layout, o3 = Ts.temp(this, t2, i2, true), r2 = this.getWritableAt(o3, false);
    return void 0 === r2 ? e3.isWritable() : r2;
  }, o2.prototype.canEditAt = function(t2) {
    var e3 = this.getBodyViewAt(t2);
    if (e3) {
      var i2 = e3.getCellAt(this._layoutManager, t2);
      return i2 && void 0 !== i2.editable ? i2.editable : this.getEditableAt(t2, null);
    }
  }, o2.prototype.canWriteAt = function(t2) {
    var e3 = this.getBodyViewAt(t2);
    if (e3) {
      var i2 = e3.getCellAt(this._layoutManager, t2);
      return i2 && void 0 !== i2.readonly ? !i2.readonly : !this.getReadOnlyAt(t2, null);
    }
  }, o2.prototype.canUpdate = function(t2, e3) {
    return this.editOptions.canUpdate(t2.rowState === St.CREATED) && this.visibleLayoutCount > 0 && this.itemSource && this.itemSource.canUpdate(t2, e3);
  }, o2.prototype.canAppend = function(t2) {
    var e3 = this.itemSource, i2 = !this.isEditing() && (t2 || this.editOptions.canAppend()) && this.visibleLayoutCount > 0 && e3 && e3.canAppend();
    if (i2) try {
      if (!this._fireRowInserting(e3.itemCount, -1)) return false;
    } catch (t3) {
      return alert(t3.message || t3), false;
    }
    return i2;
  }, o2.prototype.canInsert = function(t2, e3, i2, o3) {
    var r2 = this.itemSource, n2 = !this.isEditing() && this._doCanInsert(t2, e3, i2) && (this.editOptions.canInsert() || o3) && this.visibleLayoutCount > 0 && r2 && r2.canInsert(t2);
    if (n2) try {
      if (!this._fireRowInserting(t2.index + (e3 ? 1 : 0), -1)) return false;
    } catch (t3) {
      return alert(t3.message || t3), false;
    }
    return n2;
  }, o2.prototype._doCanInsert = function(t2, e3, i2) {
    return true;
  }, o2.prototype.canDelete = function(t2) {
    var e3 = this.itemSource;
    return this.editOptions.canDelete() && this.visibleLayoutCount > 0 && e3 && (this.isItemEditing(t2) || e3.canDelete(t2));
  }, o2.prototype.canCommit = function(t2) {
    return this.isItemEditing(t2) && (this.isItemEdited() || this.editOptions.commitWhenNoEdit);
  }, o2.prototype.canCancel = function(t2) {
    return this.isItemEditing(t2);
  }, o2.prototype.canMergeEditing = function(t2) {
    return !this.isTree() && t2 && t2.merged && this.editOptions.commitByCell && t2.dataColumn && t2.dataColumn.mergeEdit;
  }, o2.prototype.edit = function(t2) {
    return t2 || (t2 = this.focusedIndex), !!(this.isValid(t2) && this.itemSource instanceof Zo) && (!(t2.dataColumn && !this.canUpdate(t2.item, t2.dataField)) && (!$o(t2.item.itemState) && this.validationManager.cloneError(t2.dataId, -1), this.itemSource.edit(t2.item)));
  }, o2.prototype.insertAt = function(t2, e3, i2) {
    return this.insert(this.getItem(t2), e3, false, true, i2);
  }, o2.prototype.insert = function(t2, e3, i2, o3, r2) {
    if (t2 || (t2 = this.focusedIndex ? this.focusedIndex.item : null), !t2) return -1;
    var n2 = this.itemSource;
    if (n2 instanceof Zo && this.canInsert(t2, e3, i2, o3)) {
      var s2 = this.$_getInsertDefaults(r2);
      return this._cancelDummy(), n2.insert(t2, s2, e3, i2);
    }
    return -1;
  }, o2.prototype.appendAt = function(t2) {
    return this.append(true, t2);
  }, o2.prototype.append = function(t2, e3) {
    var i2 = this.itemSource;
    if (i2 instanceof Zo && i2.dataSource && this.canAppend(t2)) {
      var o3 = this.$_getInsertDefaults(e3);
      return this._cancelDummy(), i2.append(o3);
    }
    return -1;
  }, o2.prototype._appendDummy = function() {
    var t2 = this._editOptions;
    t2.displayEmptyEditRow && t2.appendable && this._items.appendDummy();
  }, o2.prototype._cancelDummy = function() {
    this._items.cancelDummy();
  }, o2.prototype.setValueAt = function(t2, e3, i2) {
    var o3 = this.getItem(t2);
    if (o3 && e3 >= 0) if (o3 instanceof Xo || o3 instanceof Pn) o3.setValue(e3, i2);
    else {
      var r2 = o3.dataRow;
      r2 >= 0 && this.dataSource.setValue(r2, e3, i2);
    }
  }, o2.prototype.setCellValue = function(t2, e3) {
    this.isValid(t2) && this.setValueAt(t2.itemIndex, t2.dataField, e3);
  }, o2.prototype.recallHeight = function() {
    this._container.recallHeight();
  }, o2.prototype.$_canShowEditor = function(t2, e3, i2) {
    return !!this.isValid(t2) && this._fireShowEditor(this._editorIndex.assign(t2), e3, i2);
  }, o2.prototype.$_canShowEditCommand = function(t2) {
    if (this.isValid(t2)) return this._fireShowEditCommand(t2);
  }, o2.prototype.hideEditor = function(t2) {
    void 0 === t2 && (t2 = false), this._editController.closeList(false), this._editController.hideEditor(), t2 && this.activeTool.resetFocused();
  }, o2.prototype.requestPrepareEditor = function() {
    var t2 = this._editController;
    t2 && t2.requestPrepareEditor();
  }, o2.prototype.fillEditSearchItems = function(t2, e3, i2, o3, r2) {
    this._editController.fillSearchItems(t2, e3, i2, o3, r2);
  }, o2.prototype.showEditor = function(t2, e3, i2) {
    if (void 0 === e3 && (e3 = false), void 0 === i2 && (i2 = false), t2 = t2 || this.focusedIndex, this._editController.showEditor(t2, i2)) return this.activeTool.resetFocused(), e3 && this._editController.caretToLast(), true;
  }, o2.prototype.showEditList = function(t2) {
    if (this._editController.showList(t2)) return true;
  }, o2.prototype.editorButtonClicked = function(t2, e3) {
    this._editController.buttonClicked(t2, e3), this._fireEditButtonClicked(t2);
  }, Object.defineProperty(o2.prototype, "canUndo", { get: function() {
    var t2 = this.dataSource;
    return t2 && t2.canUndo && !this.isItemEditing();
  }, enumerable: false, configurable: true }), o2.prototype.undo = function() {
    return !!this.canUndo && (this.dataSource.undo(), true);
  }, Object.defineProperty(o2.prototype, "canRedo", { get: function() {
    var t2 = this.dataSource;
    return t2 && t2.canRedo && !this.isItemEditing();
  }, enumerable: false, configurable: true }), o2.prototype.redo = function() {
    return !!this.canRedo && (this.dataSource.redo(), true);
  }, o2.prototype.execute = function(t2) {
  }, o2.prototype.clearCommandStack = function(t2) {
    this.dataSource.clearCommandStack();
  }, o2.prototype.setLookups = function(t2) {
    t2 && (this._lookupProvider || (this._lookupProvider = new Zu(), this._lookupProvider.addListener(this)), this._lookupProvider.load(t2));
  }, o2.prototype.addLookupSource = function(t2) {
    (this._lookupProvider || (this._lookupProvider = new Zu())).add(t2);
  }, o2.prototype.removeLookupSource = function(t2) {
    this._lookupProvider && this._lookupProvider.remove(t2);
  }, o2.prototype.existsLookupData = function(t2, e3) {
    if (t2 && e3) {
      var i2 = this._lookupProvider && this._lookupProvider.getSource(t2);
      if (!i2) throw new Error("Invalid lookup source id: " + t2);
      return i2.exists(Ot.makeArray(e3));
    }
  }, o2.prototype.getLookupData = function(t2, e3) {
    var i2;
    if (!t2 || !(i2 = this._lookupProvider && this._lookupProvider.getSource(t2))) throw new Error("Invalid lookup source id: " + t2);
    return i2.getLookupData(Ot.makeArray(e3));
  }, o2.prototype.fillLookupData = function(t2, e3) {
    if (t2 && e3) {
      var i2 = this._lookupProvider && this._lookupProvider.getSource(t2);
      if (!i2) throw new Error("Invalid lookup source id: " + t2);
      e3.rows ? i2.fillRows(e3.rows) : i2.fill(e3.keys, e3.values, e3.listResult);
    }
  }, o2.prototype.clearLookupData = function(t2) {
    if (t2) {
      var e3 = this._lookupProvider && this._lookupProvider.getSource(t2);
      if (!e3) throw new Error("Invalid lookup source id: " + t2);
      e3.clear();
    }
  }, o2.prototype.addLookupData = function(t2, e3, i2) {
    if (void 0 === i2 && (i2 = null), t2 && e3) {
      e3 = Ot.makeArray(e3);
      var o3 = this._lookupProvider && this._lookupProvider.getSource(t2);
      if (!o3) throw new Error("Invalid lookup source id: " + t2);
      i2 ? o3.add(e3, i2) : o3.addRow(e3);
    }
  }, o2.prototype.setOptions = function(t2) {
  }, o2.prototype.doContextMenu = function(t2) {
    var e3, i2, o3, r2, n2, s2, a2, l2 = t2.mouseX, h2 = t2.mouseY, u2 = this.activeTool, c2 = u2._findTableCell(), d2 = u2.findElementAt(l2, h2, false);
    if (c2) {
      var p2 = this.getTableView(c2), f2 = this.getCellType(c2), _2 = void 0, y2 = void 0;
      switch (f2) {
        case O.HEAD:
          e3 = Tu.getSub(f2, this.headView.getCellType(c2)), s2 = (i2 = this.headView.getHeadModel(c2)) && i2.popupMenuName;
          break;
        case O.FOOT:
          e3 = Tu.getSub(f2, this.footView.getCellType(c2)), s2 = (i2 = this.footView.getFootModel(c2)) && i2.popupMenuName;
          break;
        case O.INDICATOR:
          _2 = this.rowBarContainer.rowOf(c2), y2 = this.getRowOfItem(_2), e3 = Tu.getItem(f2, _2, y2), s2 = this.rowIndicator.popupMenuName;
          break;
        case O.STATE:
          _2 = this.rowBarContainer.rowOf(c2), y2 = this.getRowOfItem(_2), e3 = Tu.getItem(f2, _2, y2), s2 = this.stateBar.popupMenuName;
          break;
        case O.CHECK:
          _2 = this.rowBarContainer.rowOf(c2), y2 = this.getRowOfItem(_2), e3 = Tu.getItem(f2, _2, y2), s2 = this.checkBar.popupMenuName;
          break;
        case O.HEADER:
          a2 = p2.layoutByCell(c2), e3 = Tu.getLayout(f2, a2), s2 = a2.firstColumn.header.popupMenuName;
          break;
        case O.DATA:
          if ((r2 = p2.bodyCellByCell(c2)).grouped) e3 = Tu.getItem(O.GROUP_HEADER, r2.item.index, null);
          else {
            var m2 = Ts.temp(this, d2 instanceof Al ? d2.itemIndex : r2.item.index, r2.layout);
            e3 = Tu.getCell(f2, r2, m2), s2 = r2.dataColumn.popupMenuName;
          }
          break;
        case O.GROUP_FOOTER:
          r2 = p2.bodyCellByCell(c2), n2 = d2 && d2._item && d2._item.$_footerIndex, e3 = Tu.getGroupFooter(f2, r2.item.index, r2.layout, n2);
          var v2 = r2.dataColumn.groupFooters.get(n2);
          s2 = v2 && v2.popupMenuName;
          break;
        case O.FOOTER:
        case O.SUMMARY:
          var w2 = p2.tableCellByCell(c2);
          n2 = w2.summaryIndex;
          var C2 = f2 === O.FOOTER ? w2.layout.firstColumn.footers.get(n2) : w2.layout.firstColumn.headerSummaries.get(n2);
          e3 = Tu.getSummary(f2, w2.summaryIndex, w2.layout), s2 = C2 && C2.popupMenuName;
          break;
        case O.GROUP_HEAD:
        case O.GROUP_FOOT:
          var x2 = c2[b];
          e3 = Tu.getGroupElt(f2, x2);
          break;
        case O.GROUP_BAR:
          var I2 = c2[g];
          y2 = this.getRowOfItem(I2), e3 = Tu.getItem(f2, I2, y2);
      }
    } else d2 && d2 === u2._clickElement && (e3 = u2._getClickData(d2, t2));
    if (false !== (o3 = this._fireContextMenuPopup(l2, h2, e3, s2 || this._contextMenu, true))) {
      var E2 = this._popupMenuManager;
      if ("string" == typeof o3 ? s2 = o3 : null != o3 && "object" == typeof o3 || (s2 = s2 || this._contextMenu), s2) {
        t2.preventDefault();
        var S2 = E2.getMenu(s2);
        S2 && E2.showContext(S2, t2, l2, h2, e3);
      }
    }
    return null;
  }, o2.prototype.setContextMenu = function(t2) {
    return t2 ? this.addPopupMenu(this._contextMenu = "gridContextMenu", t2, true, this) : this._contextMenu = null;
  }, o2.prototype.addPopupMenu = function(t2, e3, i2, o3) {
    if (void 0 === i2 && (i2 = true), e3 = Ot.makeArray(e3), t2 && e3) return this.popupMenuManager.addMenu(t2, e3, i2, o3);
  }, o2.prototype.removePopupMenu = function(t2) {
    this.popupMenuManager.removeMenu(t2);
  }, o2.prototype.getPopupMenu = function(t2) {
    return this.popupMenuManager.getMenu(t2);
  }, o2.prototype.setCursor = function(t2, e3) {
    if (t2) {
      var i2 = this.getTableCell(t2), o3 = i2 ? this.getTableView(i2) : this._tableViews[t2[_]];
      if (o3 instanceof El) return void o3.setCursor(e3);
    }
    this._container.setCursor(e3);
  }, o2.prototype.canMoveLayout = function(t2) {
    var e3 = t2.root.vindex, i2 = this.layoutManager;
    return !(i2.mergedRowGrouped && e3 < i2.rowGroupLevels) && (this.fixedOptions.movable || e3 >= i2.fixedLayoutCount && e3 < i2.rightFirstLayout);
  }, o2.prototype.canMoveToLayout = function(t2) {
    return this.canMoveLayout(t2);
  }, o2.prototype.getEditCellValue = function() {
    return this._editController.editValue;
  }, o2.prototype.setEditCellValue = function(t2, e3, i2) {
    (this.isEditing() || e3) && this._editController.setEditValue(t2, i2);
  }, o2.prototype.searchItem = function(t2) {
    t2 instanceof si || (t2 = new si(t2));
    var e3 = Ot.makeArray(t2.fields), i2 = Ot.makeArray(t2.values), o3 = this.itemSource, r2 = t2.startIndex, n2 = t2.reverse, s2 = -1;
    if (e3 && e3.length > 0 && i2 && i2.length > 0 && o3) {
      var a2 = void 0, l2 = void 0, h2 = void 0, u2 = void 0, c2 = e3.length, d2 = [];
      for (a2 = 0; a2 < c2; a2++) l2 = parseFloat(e3[a2]), !isNaN(l2) && l2 >= 0 ? d2.push(l2) : (h2 = this.dataSource.getFieldIndex(e3[a2])) >= 0 && d2.push(h2);
      if (d2.length > 0) {
        var p2 = o3.itemCount;
        r2 = n2 ? Math.min(p2 - 1, r2) : Math.max(0, r2), (s2 = (n2 ? r2 >= 0 : r2 < p2) ? o3.findItem(d2, i2, t2, r2, n2 ? 0 : p2 - 1) : -1) < 0 && t2.wrap && (n2 ? r2 < p2 - 1 : r2 > 0) && (s2 = o3.findItem(d2, i2, t2, n2 ? p2 - 1 : 0, n2 ? r2 + 1 : r2 - 1));
      }
      s2 >= 0 && t2.select && (u2 = this.getIndex(s2, Ot.pick(this.focusedIndex.column, this.getFirstColumn())), this.setFocusedIndex(u2, true, true));
    }
    return s2;
  }, o2.prototype.searchCell = function(t2) {
    var e3, i2, o3, r2 = this.itemSource, n2 = r2 && r2.dataSource, s2 = r2.itemCount, a2 = t2.fields = Ot.makeArray(t2.fields), l2 = t2.columns = Ot.makeArray(t2.columns), h2 = [], u2 = null;
    if (n2) if (!a2 && l2) for (e3 = 0, i2 = l2.length; e3 < i2; e3++) {
      var c2 = this.columnByName(l2[e3]);
      if (c2 instanceof ls) {
        if (c2.dataIndex < 0) throw new Error("invalid search Column " + l2[e3]);
        h2.push(c2.dataIndex);
      }
    }
    else for (e3 = 0, i2 = (a2 = a2 || n2.getOrgFieldNames()).length; e3 < i2; e3++) o3 = parseFloat(a2[e3]), !isNaN(o3) && o3 >= 0 ? h2.push(o3) : h2.push(n2.getFieldIndex(a2[e3]));
    t2 instanceof ai || (t2.reverse && (t2.hasOwnProperty("startIndex") || (t2.startIndex = s2 - 1), t2.hasOwnProperty("startFieldIndex") || (t2.startFieldIndex = h2.length - 1)), t2 = new ai(t2));
    var d2 = t2.wrap, p2 = t2.select, f2 = t2.value, _2 = t2.reverse;
    if (n2 && h2 && h2.length > 0 && null != f2) {
      if (h2.length > 0) {
        var g2 = _2 ? Math.min(s2 - 1, t2.startIndex) : Math.max(0, t2.startIndex), y2 = Math.max(_2 ? -1 : 0, t2.startFieldIndex), m2 = _2 ? g2 >= 0 : g2 < s2, b2 = _2 ? g2 < s2 - 1 || y2 < h2.length : g2 > 0 || y2 > 0, v2 = _2 ? 0 : s2 - 1;
        !(u2 = m2 ? r2.findCell(h2, f2, t2, g2, v2, y2) : null) && d2 && b2 && (u2 = r2.findCell(h2, f2, t2, _2 ? s2 - 1 : 0, g2, _2 ? y2 : 0)), u2 && (u2.fieldName = n2.getOrgFieldName(u2.fieldIndex));
      }
      if (u2 && p2) {
        var w2 = void 0;
        (w2 = l2 ? this.getIndex(u2.itemIndex, Ot.pick(this.columnByName(l2[u2.searchFieldIndex]), this.focusedIndex.column)) : this.getIndex(u2.itemIndex, Ot.pick(this.columnByField(u2.fieldIndex), this.focusedIndex.column))) && this.setFocusedIndex(w2, true, true);
      }
    }
    return u2;
  }, o2.prototype.isCheckable = function(t2) {
    var e3 = this.getItem(t2);
    return e3 && e3.checkable;
  }, o2.prototype.isCheckableOfRow = function(t2) {
    var e3 = this.getItemOfRow(t2, true);
    return e3 && e3.checkable;
  }, o2.prototype.setCheckable = function(t2, e3) {
    var i2 = this.getItem(t2);
    i2 && i2.setCheckable(e3);
  }, o2.prototype.setCheckableOfRow = function(t2, e3) {
    var i2 = this.getItemOfRow(t2, true);
    i2 && i2.setCheckable(e3);
  }, o2.prototype.isIndeterminateItem = function(t2) {
    var e3 = this.getItem(t2);
    return e3 && e3.indeterminate;
  }, o2.prototype.isCheckedItem = function(t2) {
    var e3 = this.getItem(t2);
    return e3 && e3.checked;
  }, o2.prototype.isIndeterminateRow = function(t2) {
    var e3 = this._items.getItemOfRow(t2, true);
    return e3 && e3.indeterminate;
  }, o2.prototype.isCheckedRow = function(t2) {
    var e3 = this._items.getItemOfRow(t2, true);
    return e3 && e3.checked;
  }, o2.prototype.checkAll = function(t2, e3, i2, o3) {
    var r2 = this._checkBar.showGroup && !this._checkBar.merged;
    this._items.checkAll(t2, e3, i2, o3, r2);
  }, o2.prototype.toggleCheck = function(t2) {
    var e3 = this.getItem(t2);
    e3 && e3.checkable && this.checkItem(e3.index, !e3.checked, this.checkBar.exclusive, true);
  }, o2.prototype.toggleChecks = function(t2, e3) {
    var i2 = [];
    if (e3 && e3.isDataRow && e3.checkable) {
      if (this.checkBar.merged) {
        var o3 = t2[0], r2 = t2[t2.length - 1], n2 = o3.index, s2 = r2.index, a2 = this.checkBar.merges, l2 = a2.getRoom(Ts.temp(this, n2, null));
        n2 = Math.min(n2, l2 ? l2.head : n2), l2 = a2.getRoom(Ts.temp(this, s2, null)), s2 = Math.max(s2, l2 ? l2.tail : s2), t2 = [];
        for (var h2 = n2; h2 <= s2; h2++) {
          var u2 = this.getItem(h2);
          u2.checkable && u2.isDataRow && t2.push(u2);
        }
      }
      for (h2 = 0; h2 < t2.length; h2++) t2[h2].checkable && t2[h2].dataRow >= 0 && i2.push(t2[h2]);
      var c2 = !e3.checked;
      this.checkBar.exclusive && this.itemSource._clearChecked(), i2.length > 0 && this._items.checkItems(i2, c2, true);
    }
  }, o2.prototype.indeterminateItem = function(t2, e3) {
    var i2 = this.getItem(t2);
    i2 && this._items.setInditerminateItem(i2, e3);
  }, o2.prototype.checkItem = function(t2, e3, i2, o3) {
    var r2 = this.getItem(t2);
    r2 && this._items.checkItem(r2, e3, i2, o3);
  }, o2.prototype.$_getItemIndexOfRow = function(t2) {
    var e3, i2 = this.getItemIndexOfRow(t2);
    return i2 > -1 && (e3 = this.getItem(i2)) && (e3 = e3 instanceof Xo ? e3 : null), e3 || this.getItemOfRow(t2, true);
  }, o2.prototype.indeterminateRow = function(t2, e3) {
    var i2 = this.$_getItemIndexOfRow(t2);
    i2 && this._items.setInditerminateItem(i2, e3);
  }, o2.prototype.checkRow = function(t2, e3, i2, o3) {
    var r2 = this.$_getItemIndexOfRow(t2);
    r2 && this._items.checkItem(r2, e3, i2, o3);
  }, o2.prototype.checkModel = function(t2, e3, i2, o3) {
    t2 && this._items.checkItem(t2, e3, i2, o3);
  }, o2.prototype.indeterminateModel = function(t2, e3) {
    t2 && this._items.setInditerminateItem(t2, e3);
  }, o2.prototype.checkItems = function(t2, e3, i2) {
    var o3 = this._items.getItemsByIndices(t2);
    this._items.checkItems(o3, e3, i2);
  }, o2.prototype.checkRows = function(t2, e3, i2) {
    var o3 = this._items.getItemsByRows(t2, true);
    this._items.checkItems(o3, e3, i2);
  }, o2.prototype.setAllCheck = function(t2, e3) {
    var i2 = this.checkBar.exclusive;
    if (this._headView.allChecked = t2, e3 && (!i2 || !t2)) {
      var o3 = this.checkBar;
      this.checkAll(t2, o3.visibleOnly, o3.checkableOnly, false);
    }
  }, Object.defineProperty(o2.prototype, "allChecked", { get: function() {
    return this._headView.allChecked;
  }, enumerable: false, configurable: true }), o2.prototype.resetCheckables = function() {
  }, o2.prototype.applyCheckables = function() {
  }, o2.prototype.registerCustomRenderer = function(t2, e3) {
    this._delegate.addCustomRenderer(t2, e3);
  }, o2.prototype.unregisterCustomRenderer = function(t2) {
    this._delegate.removeCustomRenderer(t2);
  }, o2.prototype.existsCustomRenderer = function(t2) {
    return this._delegate.existsCustomRenderer(t2);
  }, o2.prototype.unregisterAllCustomRenderer = function() {
    this._delegate.clearCustomRenderers();
  }, o2.prototype.getValueAt = function(t2, e3) {
    var i2 = this.getItem(e3), o3 = t2.firstColumn;
    if (o3 instanceof ls) return i2 && i2.getData(o3.dataIndex);
  }, o2.prototype.getCellValue = function(t2) {
    if (this.isValid(t2)) {
      var e3 = this.getItem(t2.itemIndex), i2 = t2.dataColumn;
      if (e3 && i2) return e3.getData(i2.dataIndex);
    }
  }, o2.prototype.getDistinctItemValues = function(t2, e3, i2) {
    void 0 === e3 && (e3 = -1), void 0 === i2 && (i2 = l.ASCENDING);
    var o3 = this.columnByField(t2);
    if (!o3) return null;
    if (0 != e3) {
      for (var r2 = o3.getField().dataType, n2 = [], s2 = 0, h2 = this._items._rs.getAllItems(); s2 < h2.length; s2++) {
        var u2 = h2[s2];
        if (u2 instanceof Ho || u2 instanceof In) {
          var c2 = u2.getData(t2);
          switch (r2) {
            case a.NUMBER:
            case a.UINT:
            case a.UNUM:
            case a.INT:
              null != c2 && isNaN(c2) || n2.indexOf(c2) < 0 && n2.push(c2);
              break;
            case a.DATE:
            case a.DATETIME:
              n2.push(c2 ? c2.getTime() : void 0);
              break;
            default:
              n2.push(c2);
          }
        }
      }
      return n2 = Qe.getUniqueValues(n2, r2), i2 !== l.NONE && (Ot.included(r2, a.DATETIME, a.DATE, a.NUMBER) ? n2.sort(function(t3, e4) {
        return t3 - e4;
      }) : n2.sort(), i2 === l.DESCENDING && n2.reverse()), e3 < 0 ? n2 : n2.slice(0, e3);
    }
    return null;
  }, o2.prototype.getDisplayText = function(t2) {
    var e3 = t2.valueColumn;
    if (e3 instanceof ls) {
      var i2 = e3.dataIndex, o3 = t2.item;
      if (i2 >= 0) {
        if (o3 instanceof Ho || o3 instanceof In) {
          var r2 = o3.getData(i2), n2 = new ns(), s2 = this._body.getCellFormatters(e3, null, t2, n2.clear());
          return mr._getDisplayText(this, o3, e3, r2, s2);
        }
        if (o3 instanceof Uo) {
          var a2 = e3.groupFooters.get(o3.$_footerIndex);
          r2 = Ic.getValue(o3, e3), s2 = this._rowGroup.getFooterCellFormatters(a2, null);
          return Ic.$_displayText(o3, e3, r2, s2);
        }
      }
    } else {
      if (e3 instanceof us) {
        n2 = new ns();
        if ((o3 = t2.item) instanceof Uo) {
          a2 = e3.groupFooters.get(o3.$_footerIndex), r2 = Ic.getValue(o3, e3);
          var l2 = this._rowGroup.getFooterCellFormatters(a2, null);
          return Ic.$_displayText(o3, e3, r2, l2);
        }
        s2 = this._body.getCellFormatters(e3, null, t2, n2.clear());
        return vr.getDisplayText(this, o3, e3, e3.value, s2);
      }
      if (e3 instanceof hs) {
        var h2 = wr.getValue(t2);
        if (e3.actualTarget && (h2 = h2.reverse()), h2) return h2.join(e3.valueSeparator);
      }
    }
    return "";
  }, o2.prototype._fitLayoutWidth = function(t2, e3, i2) {
    var o3 = this, r2 = function(t3) {
      var e4 = xt(t3).getComputedStyle(t3), i3 = 0, o4 = {};
      if (e4) {
        h2 = e4.paddingLeft;
        var r3 = parseInt(h2.substr(0, h2.indexOf("px")));
        i3 += r3 > 0 ? r3 : 0, h2 = e4.paddingRight, i3 += (r3 = parseInt(h2.substr(0, h2.indexOf("px")))) > 0 ? r3 : 0, o4 = { fontSize: e4.fontSize, fontFamily: e4.fontFamily, fontWeight: e4.fontWeight, fontStyle: e4.fontStyle };
      }
      return { w: i3, font: o4 };
    };
    if (!t2.visible) return 0;
    var n2 = this.itemSource, s2 = this.getIndex(this.topIndex, t2.firstColumn), a2 = t2.firstColumn.header, l2 = "", h2 = "", u2 = 0, c2 = 0, d2 = 0, p2 = 0, f2 = this.getHeaderCellAt(t2);
    if (e3) {
      var _2 = f2 && f2.cell.firstElementChild;
      if (_2) {
        var g2 = r2(_2), y2 = g2.w, m2 = g2.font, b2 = f2.marginLeft + f2.marginRight + 2 + f2.checkWidth;
        c2 = y2 + this.container.measureText("rg-header-cell", a2.displayText, m2) + b2;
      } else p2 = Ot.getTextLength(l2), c2 = u2 + this.container.measureText("rg-header-cell", a2.displayText, null) + 2;
    }
    if (i2) {
      var v2 = this.getFooterCellsAt(t2);
      v2 && v2.forEach(function(e4, i3) {
        var n3 = e4 && e4.cell.firstElementChild;
        if (n3) {
          var s3 = r2(n3), a3 = s3.w, l3 = s3.font, h3 = o3.footers.getVisible(i3).getCell(t2).getDisplayText(e4);
          d2 = Math.max(d2, a3 + o3.container.measureText("rg-footer-cell", h3 || "", l3) + 2);
        }
      });
      var w2 = this.getHeaderSummaryCellsAt(t2);
      w2 && w2.forEach(function(e4, i3) {
        var n3 = e4 && e4.cell.firstElementChild;
        if (n3) {
          var s3 = r2(n3), a3 = s3.w, l3 = s3.font, h3 = o3.headerSummaries.getVisible(i3).getCell(t2).getDisplayText(e4);
          d2 = Math.max(d2, a3 + o3.container.measureText("rg-header-summary-cell", h3 || "", l3) + 2);
        }
      });
    }
    var C2, x2 = this.getBodyCellAt(s2, false), I2 = x2 && x2.renderer2 && x2.renderer2._dom;
    if (I2) {
      var E2 = r2(I2), S2 = E2.w;
      C2 = E2.font, u2 = S2;
    }
    for (var O2 = 0, R2 = n2.itemCount; O2 < R2; O2++) s2.itemIndex = O2, h2 = this.getDisplayText(s2), Ot.getTextLength(h2) > p2 && (p2 = Ot.getTextLength(h2), l2 = h2);
    if (p2 > 0) {
      u2 += this.container.measureText("rg-data-cell", l2, C2) + 2;
      var P2 = t2.getDataColumn(), k2 = P2.editor, D2 = this.delegate.getCellEditor(Ma.getEditorType(k2));
      D2.hasButton(this.displayOptions.showNativeEditButton, k2) && (u2 += this.body.editButtonWidth * D2.buttonCount), P2.button !== F.NONE && (u2 += this.body.cellButtonWidth);
    }
    return Math.max(u2, c2, d2);
  }, o2.prototype.fitLayoutWidth = function(t2, e3, i2, o3, r2) {
    var n2 = 0;
    function s2(t3, e4) {
      var i3 = this.getHeaderCellAt(t3);
      if (o3 && i3) {
        var r3 = i3.textSpan, n3 = r3.style.whiteSpace;
        r3.style.whiteSpace = "nowrap";
        var s3 = Ot.getSize(r3).width;
        return r3.style.whiteSpace = n3, s3 += i3.expander ? Ot.getSize(i3.expander).width : 0, Math.max(s3 + 6, e4);
      }
      return e4;
    }
    return o3 = null == o3 || o3, r2 = null == r2 || r2, t2 instanceof _s ? n2 = this._fitLayoutWidth(t2, o3, r2) : t2 instanceof vs && (n2 = (function t3(e4) {
      for (var i3 = e4.direction === ds.HORIZONTAL, r3 = 0, n3 = 0, a2 = e4.visibles; n3 < a2.length; n3++) {
        var l2 = a2[n3], h2 = 0;
        l2 instanceof _s ? (h2 = this._fitLayoutWidth(l2, o3), 1 === l2._defColSpan && (l2.cellWidth = h2)) : l2 instanceof vs && (h2 = t3.call(this, l2), h2 = s2.call(this, l2, h2)), r3 = i3 ? r3 + h2 : Math.max(r3, h2);
      }
      return r3;
    }).call(this, t2), n2 = s2.call(this, t2, n2)), i2 && i2 > this.displayOptions.minCellWidth && (n2 = Math.max(n2, i2)), e3 && e3 > this.displayOptions.minCellWidth && (n2 = Math.min(n2, e3)), t2.cellWidth = n2;
  }, o2.prototype.$_fitHeaderHeight = function() {
    var t2 = this._headerView.getMeasureHeights(), e3 = t2.reduce(function(t3, e4) {
      return t3 + e4;
    }, 0);
    return this.header.heights = t2.slice(), this.header.height = e3, e3;
  }, o2.prototype.fitHeaderHeight = function() {
    this._loading ? this._fitHeader = true : this.$_fitHeaderHeight();
  }, o2.prototype.canMoveRow = function(t2, e3) {
    return void 0 === e3 && (e3 = true), !this.isEditing() && !this.isItemEditing() && (e3 || this._editOptions.movable) && (!t2 || this.itemSource.getMovable(e3));
  }, o2.prototype.moveRows = function(t2, e3) {
    if (this.canMoveRows(t2, true, e3)) return this._doMoveRows(t2, e3);
  }, o2.prototype.moveSelection = function(t2, e3) {
    var i2 = this.getSelectedItems(false);
    if (i2 && i2.length > 0) {
      var o3 = i2[0], r2 = o3.index, n2 = this.itemSource;
      if (t2 > 0 && r2 + t2 <= n2.itemCount || t2 < 0 && r2 > 0) {
        var s2 = this._getMoveTarget(e3, i2, r2, t2);
        if (this.moveRows(i2, s2)) {
          t2 = this.isTree() ? o3.index - r2 : t2;
          var a2 = this.getSelection();
          a2.moveRow(t2), this._selections.clear(true), this._selections.$_addItem(a2, true);
          var l2 = this._focusedIndex.clone();
          l2.itemIndex = this.isTree() ? o3.index : r2 + t2, this.setFocusedIndex(l2, false, true, false);
        }
      }
    }
  }, o2.prototype.isSelectedItem = function(t2) {
    return this.selections.containsItem(t2, null);
  }, o2.prototype.isSelectedLayout = function(t2) {
    return this.selections.containsLayout(t2);
  }, o2.prototype.getFilteredColumns = function() {
    for (var t2 = this.columnCount, e3 = [], i2 = 0; i2 < t2; i2++) {
      var o3 = this.getColumn(i2);
      o3.isFiltered() && e3.push(o3);
    }
    return e3;
  }, o2.prototype.showProgress = function() {
    this._progressManager.show(this._container._containerDom, null, this.displayOptions.baseZindex);
  }, o2.prototype.setProgress = function(t2, e3, i2, o3) {
    this._progressManager.setProperties(t2, e3, i2, o3);
  }, o2.prototype.closeProgress = function() {
    this._progressManager.close();
  }, o2.prototype.showLoading = function(t2) {
    this._progressManager.loaderShowing() || (t2 ? (this._progressManager._gridDisabled = this.container.disabled, this.container.disabled = true) : this._progressManager._gridDisabled = void 0, this._progressManager.showLoader(this._container._containerDom, this._displayOptions.baseZindex));
  }, o2.prototype.hideLoading = function() {
    this._progressManager.closeLoader(), void 0 !== this._progressManager._gridDisabled && (this.container.disabled = this._progressManager._gridDisabled);
  }, o2.prototype.beginExportProgress = function(t2) {
    this._progressManager.show(this._container._containerDom, t2, this._displayOptions.baseZindex);
  }, o2.prototype.endExportProgress = function() {
    this._progressManager.close();
  }, o2.prototype.setExportProgress = function(t2, e3, i2) {
    this._progressManager.setProperties(0, t2, e3, i2);
  }, o2.prototype.setEmptyMessage = function(t2) {
    this._emptyView.setMessage(t2);
  }, o2.prototype.setWatchTimer = function(t2) {
    this._container.setWatchTimer(t2);
  }, o2.prototype.layoutExpandAll = function(t2, e3) {
    this._activeCellLayout.expandAll(t2, e3);
  }, o2.prototype.isRecycleMode = function() {
    return this.displayOptions.refreshMode === $.RECYCLE;
  }, o2.prototype.invalidateGridObject = function() {
    var t2 = false, e3 = this._gridObjects;
    return e3.forEach(function(e4) {
      e4 instanceof yl || (t2 = t2 || e4.dirty);
    }), t2 && e3.forEach(function(t3) {
      t3 instanceof yl || (t3._dirty = true);
    }), t2;
  }, o2.prototype.getEditContainer = function(t2) {
    return this._accessibility ? this.getBodyCellAt(t2).cell : this._container._container;
  }, o2.prototype._getCssSelector = function() {
    return "";
  }, Object.defineProperty(o2.prototype, "container", { get: function() {
    return this._container;
  }, enumerable: false, configurable: true }), o2.prototype._createDelegate = function() {
    return new Ku(this);
  }, o2.prototype._createLayoutManager = function() {
    return new Jl(this);
  }, o2.prototype._createEditController = function() {
    return Ot.isMobile() ? new Yc(this) : new yu(this);
  }, o2.prototype._createSelectionLayer = function() {
    return Ot.isMobile() ? new ku(this, "mobileSelectionLayer") : new ka(this, "selectionLayer");
  }, o2.prototype._initDom = function(t2) {
    e2.prototype._initDom.call(this, t2), t2.style.setProperty("overflow", "hidden", "important");
  }, o2.prototype.setRect = function(t2) {
    var i2 = t2.width != this.width || t2.height != this.height;
    e2.prototype.setRect.call(this, t2), i2 && (this._dirty = true);
  }, o2.prototype._doDraw = function(t2) {
  }, o2.prototype.$_containerResized = function() {
    Ot.isMobile() && this.isEditing() && !this.isItemEditing() && setTimeout((function() {
      var t2 = this.topItem, e3 = this.layoutManager.fullItemCount, i2 = this.focusedIndex.itemIndex;
      t2 + e3 < i2 && (this.topIndex = i2 - Math.round(e3 / 2));
    }).bind(this), 10), this._columnsDirty = true;
  }, o2.prototype._doCreateOtherElements = function() {
  }, o2.prototype._doContentPanesCreated = function() {
  }, o2.prototype._createSidePane = function() {
    return null;
  }, o2.prototype.isSidePaneVisible = function() {
    return false;
  }, o2.prototype._createBodyView = function(t2) {
    return new Ul(this.doc, t2);
  }, o2.prototype._createFixedBodyView = function(t2) {
    return new Yl(this.doc, t2);
  }, o2.prototype._createRightBodyView = function(t2) {
    return new zl(this.doc, t2);
  }, o2.prototype._initStyles = function() {
  }, o2.prototype._columnsReset = function() {
    this._resetColumnIndices(), this._activeCellLayout._columnsChanged(this._columns);
    var t2 = this.focusedIndex;
    this.isValid(t2) && !this.isValid(t2, true) && t2.normalize(this), this._columnsDirty = true, this._needRefresh = true;
  }, o2.prototype._resetColumnIndices = function(t2) {
    void 0 === t2 && (t2 = null), t2 ? t2._resetIndices(this) : this._columns.resetIndices(), !t2 && !this._cellLayoutDirty && this.clearAddSelection(true);
  }, o2.prototype._resetColumnSortStates = function() {
    this._columns.resetSortStates();
  }, o2.prototype._cleanGridObjects = function() {
    for (var t2 = 0, e3 = this._gridObjects.length; t2 < e3; t2++) this._gridObjects[t2].clean();
  }, o2.prototype._visualObjectChanged = function(t2) {
    this.invalidateLayout();
  }, o2.prototype._addGridObject = function(t2) {
    this._gridObjects.push(t2);
  }, o2.prototype.addElement = function(t2) {
    this._rootElement.addChild(t2);
  }, o2.prototype.$_prepareRender = function(t2) {
    this._doPrepareRender(t2);
  }, o2.prototype._doPrepareRender = function(t2) {
    if (this._horzScrolled) try {
      var e3 = this._layoutManager;
      e3.setLeftPos(t2, this._leftPos), this._leftPos = e3.leftPos, this.$_updateScrollBars(e3), this._layoutSelectionViews(), this._editController.resetEditor(false), this.container.defaultTool.layoutChanged();
    } finally {
      this._horzScrolled = false;
    }
  }, o2.prototype.$_layout = function(t2) {
    this._doLayout(t2);
  }, o2.prototype.$_detectWidth = function() {
    return !this.displayOptions.watchDisplayChange && this.layoutManager.syncHeight();
  }, o2.prototype.$_beforeRender = function() {
    this._itemCheckChanged && this._syncHeadCheck([]), this._beforeCount = this.layoutManager.itemCount, this.$_detectWidth() && (this._beforeWidth = this.container.getContainerWidth());
  }, o2.prototype.$_afterRender = function() {
    var t2 = this.$_detectWidth() && this._beforeWidth != this.container.getContainerWidth();
    if (this._layoutManager.needRelayout() || this._fitHeader || t2) this._fitHeader && this.$_fitHeaderHeight(), this._fitHeader = false, this.invalidateLayout();
    else {
      if (this._topIndexChanged && (this._topIndexChanged = false, this._needRefresh = true, this._resetTdFocus = this.accessibility, this._fireTopIndexChanged(this.topIndex)), this.leftPos !== this._prevLeftPos && (this._fireLeftPosChanged(this.leftPos), this._prevLeftPos = this.leftPos), this._beforeCount < this.layoutManager.itemCount && (this._needRefresh = true), this._resetTdFocus && this._container._focused) {
        var e3 = this.focusedIndex, i2 = this.doc;
        Ot.isAncestorOf(this.container._containerDom, i2.activeElement, null) && this.accessibility && this.isValid(e3) && this.layoutManager.cellIsVisible(e3) && (this._setFocusTimer && clearTimeout(this._setFocusTimer), this._setFocusTimer = setTimeout((function() {
          this._setFocusTimer = null, this.getBodyViewAt(e3).refreshTdFocused(e3, true);
        }).bind(this), 20)), delete this._resetTdFocus;
      }
      [this.fixedBodyView, this.bodyView, this.rightBodyView].forEach(function(t3) {
        if (t3.visible) for (var e4 = t3._tbody.rows, i3 = 0, o3 = e4.length; i3 < o3; i3++) e4[i3].recycle = false;
      }), this._fireDataLoadComplated(), this._horzScrolled && this._needRefresh && (this._needRefresh = false), this._horzScrolled = false, this._dataChanged = false, this._needPosition = false, this._itemCheckChanged = false, this._fitHeader = false, this._keepLeftPos = false, this._watermarkLayer && this._watermarkLayer.refresh();
    }
  }, o2.prototype._fireDataLoadComplated = function() {
    this._dataLoad && (this._dataLoad = false, this.fireEvent("onGridBaseDataLoadComplated"));
  }, o2.prototype._doLayout = function(t2) {
    var e3 = this._layoutManager;
    this._resetting = false;
    try {
      this.$_doLayout(e3, t2);
    } finally {
      this._loading = false, this._eventFrom = null;
    }
    if (this.$_checkFocusedLayout(), this._emptyView.visible = this.empty && this._displayOptions.showEmptyMessage) {
      var i2 = e3.bodyBounds.clone();
      i2.topBy(e3.topContentBounds.bottom), this._emptyView.setBounds(0, i2.y, this.width, i2.height);
    }
    if (this._debugging && this._debugView.layout(), this._cleanGridObjects(), this._columnsDirty && (this._columnsDirty = false, this._activeCellLayout.cleanColumns()), this.$_resetHovering(this.container._currentX, this.container._currentY, true), this.$_resetFocusRender(this.container._currentX, this.container._currentY), this.$_resetRowHover(), e3.itemCount > 0) {
      var o3 = e3.topIndex, r2 = o3 + e3.fullItemCount;
      this._topIndexChanged = o3 !== this._prevTop, this._prevTop = o3, r2 == this._prevLast || r2 != this.itemCount || Ot.included(this.displayOptions.syncGridHeight, [Y.ALWAYS, Y.OVER]) || setTimeout((function() {
        this._fireScrollToBottom();
      }).bind(this), 1), this._prevLast = r2;
    }
    this.$_checkCurrentRow(), this._editController.prepareEditor(this.focusedIndex), this._cellLayoutDirty = false, this.container.defaultTool.layoutChanged(), !this._editController.resetEditor(false) && this.isValid(this._focusedIndex) && this._editController.resetEditable(this._focusedIndex);
  }, o2.prototype.$_doLayout = function(t2, e3) {
    var i2 = this._displayOptions, o3 = this._fixedOptions, r2 = e3.clone(), n2 = i2.vscrollBar ? this._scrollBarWidth : 0, s2 = i2.hscrollBar ? this._scrollBarHeight : 0;
    this.setFocusedClass(this._focusedIndex, false), this.setFocusedRowClass(this._focusedIndex, false), this._activeCellLayout.$_refresh(this._columns, i2.minCellWidth), this._columnsDirty && this._activeCellLayout.$_prepareLayout(this, o3.colCount, o3.rightCount), this._needMerge && (this.$_populateMerges(), this._needMerge = false), this._body._prepareUpdate();
    var a2 = t2.topIndex, l2 = t2.leftPos;
    if (t2.measure(r2, this._leftPos, this._topIndex, n2, s2), a2 !== t2.topIndex) {
      var h2 = t2.topIndex - a2, u2 = [this.fixedBodyView, this.bodyView, this.rightBodyView];
      this.isRecycleMode() && !this._dataLoad && h2 && Math.abs(h2) < t2.fullItemCount / 2 ? u2.forEach(function(e4) {
        e4 && e4.visible && e4.reArrangeRows(t2, h2);
      }) : u2.forEach(function(t3) {
        t3 && t3.cleanRecycle();
      });
    }
    if (this._horzScrolled = this._horzScrolled || l2 !== t2.leftPos, t2.layout(r2), this._leftPos = t2.leftPos, this._topIndex = t2.topIndex, this.displayOptions.refreshMode !== $.RECYCLE) {
      var c2 = this.container._containerDom;
      r2 = new it(0, 0, c2.clientWidth, c2.clientHeight);
    }
    this.$_updateScrollBars(t2, r2), this._layoutSelectionViews(), this._layouted = true;
  }, o2.prototype._columnCheckedChanged = function(t2) {
    this._fireColumnCheckedChanged(t2);
  }, o2.prototype.$_updateScrollBars = function(t2, e3) {
    if (t2.hscrollBar) {
      var i2 = t2.bodyBounds.width, o3 = Math.min(t2.scrollWidth);
      this._hscrollBar.setProperties(0, i2, o3), this._hscrollBar.setPosition(t2.leftPos), this._hscrollBar.visible = true;
    } else this._hscrollBar && (this._hscrollBar.setProperties(0, 0, 0), this._hscrollBar.setPosition(0), this._hscrollBar.visible = false);
    if (t2.vscrollBar) {
      var r2 = this.itemCount, n2 = r2 - t2.fixedItemCount, s2 = Math.min(t2.fullItemCount, r2 - t2.topIndex);
      this._vscrollBar.setProperties(0, n2, s2), this._vscrollBar.setPosition(t2.topIndex), this._vscrollBar.visible = true;
    } else this._vscrollBar && (this._vscrollBar.setProperties(0, 0, 0), this._vscrollBar.setPosition(0), this._vscrollBar.visible = false);
    e3 && this.$_layoutScrollBars(t2, e3);
  }, o2.prototype.$_layoutScrollBars = function(t2, e3) {
    var i2 = t2.scrollBarWidth, o3 = t2.scrollBarHeight, r2 = this._hscrollBar, n2 = this._vscrollBar;
    t2.hscrollBar && (r2.setBounds(e3.x, e3.bottom - o3, e3.width - i2, o3), r2.layoutContent()), t2.vscrollBar && (n2.setBounds(e3.right - i2, e3.y, i2, e3.height - o3), n2.layoutContent()), (this._scrollEdge.visible = t2.vscrollBar && t2.hscrollBar) && this._scrollEdge.setBounds(e3.right - i2, e3.bottom - o3, i2, o3);
  }, o2.prototype._columnMergeRuleChanged = function(t2) {
    this._populateMerges(), this.refreshView();
  }, o2.prototype._canMerge = function() {
    return false;
  }, o2.prototype._populateMerges = function(t2) {
    void 0 === t2 && (t2 = true), this._needMerge = true, t2 && this.refreshView();
  }, o2.prototype.$_populateMerges = function() {
    if (this._canMerge()) {
      for (var t2 = this.getHorzColumns(), e3 = 0, i2 = t2.length; e3 < i2; e3++) {
        var o3, r2 = t2[e3], n2 = r2 && r2.layout;
        if (n2 && n2.canMerge()) if ((o3 = n2.merges) || (o3 = new Kn(n2)), o3.clear(), r2 instanceof ls && r2.mergeGrouped) this.getGroupLevel(r2.dataIndex) > 0 && o3.initialize(Vn.INIT_COUNT);
        else o3.initialize(Vn.INIT_COUNT);
      }
      if (this._checkBar.canMerge()) (o3 = this._checkBar.merges || new pa(this._checkBar)).clear(), o3.initialize(Vn.INIT_COUNT);
    }
  }, o2.prototype._addSelectionView = function(t2) {
    this._selectionLayer.addView(t2);
  }, o2.prototype._removeSelectionView = function(t2) {
    this._selectionLayer.removeView(t2);
  }, o2.prototype._layoutSelectionViews = function() {
    this._layouted && !this._resetting && this._selectionLayer.layout();
  }, o2.prototype.$_checkCurrentRow = function() {
    var t2 = this;
    if (this.dataSource && this._focusedIndex) {
      var e3 = this._focusedIndex.dataId, i2 = this._focusedIndex.dataRow, o3 = this.dataSource.getDataRow(this._currentRowId);
      if (e3 != this._currentRowId || this._currentRow !== o3) {
        clearTimeout(this._rowChangeTimer);
        var r2 = this.container.defaultTool, n2 = this._currentRow, s2 = this._displayOptions.rowChangeDelay, a2 = s2 <= 0;
        return this._currentRowId = e3, this._currentRow = i2, a2 ? (this._fireCurrentRowChanged(n2, i2), r2.currentRowChanged(n2, i2)) : s2 > 0 && (this._rowChangeTimer = setTimeout(function() {
          t2._fireCurrentRowChanged(n2, i2), r2.currentRowChanged(n2, i2);
        }, s2)), true;
      }
    }
    return false;
  }, o2.prototype.$_doSetFocusedIndex = function(t2, e3, i2, o3, r2) {
    if (void 0 === o3 && (o3 = true), void 0 === r2 && (r2 = true), !t2) {
      if (o3) return false;
      t2 = this.getIndex(-1, null);
    }
    var n2, s2, a2, l2 = this.layoutManager;
    if (!this.isValid(t2) && o3 && (t2 = t2.clone()).normalize(this), !this.isValid(t2)) {
      var h2 = this.dataSource;
      if (!h2 || 0 == h2.rowCount || 0 == this.itemCount) return this._focusedIndex.itemIndex = -1, this._focusedIndex.layout = null, this.clearAddSelection(true), false;
    }
    var u2 = 1 === this.selections.count ? this.getSelection(0) : null;
    if (Ts.areEquals(t2, this._focusedIndex)) return !(u2 && u2.single && this.selections.containsCell(t2)) && this.clearAddSelection(e3, r2), i2 && (l2.focusIsVisible(this._focusedIndex) || this.editController.requestPrepareEditor()), true;
    var c2 = this._editOptions, d2 = this._focusedIndex.clone(), p2 = this.itemSource, f2 = this.container.defaultTool;
    if (this.editOptions.currentChangingFirst ? !this._fireCurrentChanging(d2, t2) || !this._editController.focusedIndexChanging() : !this._editController.focusedIndexChanging() || !this._fireCurrentChanging(d2, t2)) {
      var _2 = this.activeTool.dragTracker;
      return _2 instanceof fh && (_2.dragging ? _2.cancel() : this.activeTool.dragTracker = null), false;
    }
    var g2 = d2.item;
    if (!this.isItemEditing(g2) || this.isItemEdited(g2) || t2.itemIndex == d2.itemIndex || g2.itemState !== vo.UPDATING || c2.commitWhenNoEdit) {
      if (p2 && t2.itemIndex != d2.itemIndex) try {
        if (g2) switch (g2.itemState) {
          case vo.INSERTING:
            if (!this.commit(c2.forceInsert, true)) return this.cancel(true), false;
            break;
          case vo.APPENDING:
            if (!this.commit(c2.forceAppend, true)) return this.cancel(true), false;
            break;
          case vo.UPDATING:
            if (!this.commit(c2.commitWhenNoEdit, true)) return this.cancel(true), false;
        }
      } catch (t3) {
        if (t3 instanceof Tn) return (t3 = this._fireValidationFail(g2.index, t3.column, t3)) && alert(c2.showOnlyValidationMessage && t3.userMessage ? t3.userMessage : t3.toString()), this.invalidateLayout(), false;
        if (t3 instanceof Dn) return false;
        throw t3;
      }
    } else this.cancel(true);
    f2.focusedIndexChanging(t2), this._focusedIndex.assign(t2), this.$_checkFocusedLayout(), a2 = this.getBodyCellAt(d2, false), s2 = this.getBodyCellAt(t2, false), this.isValid(d2) && (n2 = l2.getBodyView(d2)).$_focusChanged(this, a2, false), this.isValid(t2) && (n2 = l2.getBodyView(t2)).$_focusChanged(this, s2, true), p2 instanceof Zo && p2.setDiffs(this._editOptions.checkDiff, this._editOptions.checkCellDiff, this._editOptions.strictDiff), this._editController.focusedIndexChanged(d2, t2, false), f2.focusedIndexChanged(d2, t2);
    var y2 = this._focusedIndex, m2 = this.isValid(y2);
    if (!u2 || !wa(u2.style) || !this.selections.containsCell(y2)) {
      var b2 = i2;
      this.clearAddSelection(e3, r2, b2);
    }
    this._layouted && this._refreshSideViews();
    var v2 = !Ts.areEquals(y2, l2._prevFocused);
    if (i2 || v2) if (this.$_makeFocusedIndexVisible()) {
      if (this._resetTdFocus = false, this.accessibility) if (!this.isEditing() && this.isValid(y2) && this.isValid(d2)) n2 = this.getBodyViewAt(d2), "mousedown" !== this._eventFrom && d2.itemIndex !== y2.itemIndex && n2 && n2.tdClone(d2), this._resetTdFocus = true;
      else {
        var w2 = this._items.editingItem;
        this.isItemEditing() && w2.itemState === vo.APPENDING && (this._resetTdFocus = true);
      }
    } else {
      var C2, x2;
      if (this._editController.resetEditor(false), this.isValid(y2) && this.getItem(y2.itemIndex).canEdit() && this._editController.prepareEditor(y2), this.isValid(d2)) {
        if (C2 = this.getBodyViewAt(d2)) (x2 = C2.getRowView(d2.item)) instanceof Al && x2.resetButtons(this, a2, s2);
      }
      if (!this.container.isLayoutNeeded() && m2) {
        if (C2 = this.getBodyViewAt(y2)) (x2 = C2.getRowView(y2.item)) instanceof Al && x2.resetButtons(this, a2, s2);
      }
      this.accessibility && !this.isEditing() && this.isValid(y2) && this.layoutManager.cellIsVisible(y2) && ((n2 = this.getBodyViewAt(y2)) && n2.refreshTdFocused(y2, true), this._editController.attachEditor(this.getEditContainer(y2), false));
    }
    return this._fireCurrentChanged(this._currentIndex.assign(y2)), this.$_checkCurrentRow(), true;
  }, o2.prototype._refreshSideViews = function() {
    this.container.isLayoutNeeded() || (this._rowBarContainer.visible && this._rowBarContainer.refresh(this), this._headerView.visible && this._headerView.refresh(this), this._fixedHeaderView.visible && this._fixedHeaderView.refresh(this), this._rightHeaderView.visible && this._rightHeaderView.refresh(this));
  }, o2.prototype.$_makeFocusedIndexVisible = function() {
    return this.makeCellVisible(this._focusedIndex);
  }, o2.prototype.makeCellVisible = function(t2) {
    if (this.isValid(t2) || t2 && t2.column) {
      if (this.layoutManager.makeCellVisible(t2), !this.layoutManager.focusIsVisible()) return "mousedown" !== this._eventFrom && this.invalidateLayout(), true;
      this.layoutManager.clearFocusRequest();
    }
    return false;
  }, o2.prototype.makeColumnVisible = function(t2) {
    if (t2) {
      var e3 = this.getIndex(this._focusedIndex ? this._focusedIndex.itemIndex : -1, t2);
      this.makeCellVisible(e3);
    }
  }, o2.prototype.makeItemVisible = function(t2) {
    if (t2 >= 0) {
      var e3 = this.getIndex(t2, this._focusedIndex && this._focusedIndex.layout);
      this.makeCellVisible(e3);
    }
  }, o2.prototype.cancelEditor = function(t2) {
    this.isEditing() && (t2 = !(arguments.length > 0) || t2, this._editController.cancelEditor(t2));
  }, o2.prototype.itemEditCancel = function() {
    return this._fireItemEditCancel(this.itemSource.editingItem);
  }, o2.prototype.$_cancelItem = function(t2, e3) {
    void 0 === e3 && (e3 = false);
    var i2 = Ot.cast(this.itemSource, Zo);
    return !!(i2 && t2 && i2.isEditing(t2)) && (this._validationManager.clearInvalidCells(-1), i2.cancel(), e3 && this.resetFocusedIndex(), true);
  }, o2.prototype.cancel = function(t2) {
    void 0 === t2 && (t2 = false);
    var e3 = this.editController;
    this.isEditing() && (e3.cancelEditor(true), e3.invalidateEditor());
    var i2 = this.focusedIndex;
    return !(!this.isValid(i2) || !this.$_cancelItem(i2.item)) && (i2 = i2.clone(), this._rowBarContainer.stateError = void 0, e3._prepareEditor(e3._editIndex), i2.normalize(this), i2.item instanceof Ko && i2.up(), this.setFocusedIndex(i2), t2 && this.$_makeFocusedIndexVisible(), true);
  }, o2.prototype.commitEditor = function(t2, e3) {
    if (void 0 === t2 && (t2 = true), void 0 === e3 && (e3 = false), this.isEditing()) return this.editController.commitEditor(t2, false, true, e3);
  }, o2.prototype.$_commitItem = function(t2, e3, i2) {
    var o3 = Ot.cast(this.itemSource, Zo), r2 = this.validationManager, n2 = this.editOptions;
    if (o3 && t2 && o3.isEditing(t2) && (e3 || o3.isEdited(t2))) {
      var s2 = Ao(t2.itemState);
      try {
        n2.validateOnEdited && r2.validateRow(t2, s2, false, false), this._rowBarContainer.stateError = void 0;
      } catch (t3) {
        throw t3 instanceof Tn && (t3.level = t3.level || w.ERROR, !t3.column && (this._rowBarContainer.stateError = t3)), t3;
      }
      if (!o3.commit()) {
        if (i2) throw new Dn("Commit failed.");
        return false;
      }
      return t2.dataId > -1 && r2.cloneError(-1, t2.dataId), r2.clearInvalidCells(-1), this.editOptions.removeValidateOnCommit && t2.dataId > -1 && r2.clearInvalidCells(t2.dataId), true;
    }
  }, o2.prototype.commit = function(t2, e3, i2) {
    void 0 === i2 && (i2 = true);
    var o3 = this.focusedIndex, r2 = true;
    return !!this.isValid(o3) && (this.isEditing() && (r2 = this.editController.commitEditor(true, false, i2, false), this.editController.invalidateEditor()), r2 && this.$_commitItem(o3.item, t2, e3));
  }, o2.prototype.editorCancel = function(t2, e3) {
    this._doCellCancel(e3);
  }, o2.prototype._doCellCancel = function(t2) {
    return this._fireEditCanceled(t2);
  }, o2.prototype.editorCanceled = function() {
    this.activeTool.resetFocused();
  }, o2.prototype._editorStarted = function(t2, e3) {
    if (this.closePopups(false), this.edit(e3)) return true;
  }, o2.prototype._editorChange = function(t2, e3, i2) {
    this._fireEditChange(e3, i2);
  }, o2.prototype._editorSearch = function(t2, e3, i2) {
    this._fireEditSearch(e3, i2);
  }, o2.prototype._searchCellButtonClick = function(t2, e3, i2) {
    return this._fireSearchCellButtonClick(e3, i2);
  }, o2.prototype.$_getFieldDefaults = function(t2) {
    for (var e3 = t2.fieldCount, i2 = [], o3 = 0; o3 < e3; o3++) i2.push(void 0);
    for (o3 = 0; o3 < e3; o3++) {
      var r2 = t2.getField(o3).defaultValue;
      null != r2 && (i2[o3] = r2);
    }
    return i2;
  }, o2.prototype.$_getColumnDefaults = function(t2) {
    for (var e3 = 0, i2 = this.columnCount; e3 < i2; e3++) {
      var o3 = this.getColumn(e3);
      o3 instanceof ls && null != o3.defaultValue && (t2[o3.dataIndex] = o3.defaultValue);
    }
  }, o2.prototype.$_setData = function(t2, e3, i2) {
    var o3 = e3.fieldCount;
    if (Array.isArray(i2)) for (var r2 = 0; r2 < o3; r2++) r2 < i2.length && Object.hasOwnProperty.call(i2, r2) && (t2[r2] = i2[r2]);
    else if (i2) for (r2 = 0; r2 < o3; r2++) {
      var n2 = e3.getField(r2).orgFieldName;
      Object.hasOwnProperty.call(i2, n2) && (t2[r2] = i2[n2]);
    }
  }, o2.prototype.$_getInsertDefaults = function(t2) {
    var e3 = this.$_getFieldDefaults(this.itemSource.dataSource);
    return this.$_getColumnDefaults(e3), this.$_setData(e3, this.itemSource.dataSource, t2), e3;
  }, o2.prototype.sortColumn = function(t2, e3) {
    t2 && (this.sortingOptions.style == D.EXCLUSIVE ? e3 && e3.shiftKey ? this.sortColumnWithStyle(D.INCLUSIVE, t2) : this.sortColumnWithStyle(D.EXCLUSIVE, t2) : this.sortColumnWithStyle(this.sortingOptions.style, t2));
  }, o2.prototype.sortColumnWithStyle = function(t2, e3) {
    if (!e3) throw new Error("column is null");
    if (!(this.isItemEditing(null) || e3.dataIndex < 0)) {
      var i2 = this._sortingOptions.textCase;
      t2 == D.EXCLUSIVE ? e3.sortOrder < 0 ? this.orderBy([e3], [l.ASCENDING], [i2]) : e3.sortDirection == l.ASCENDING ? this.orderBy([e3], [l.DESCENDING], [i2]) : this.isGroupedColumn(e3) && this.itemSource._groupSorting ? this.orderBy([e3], [l.ASCENDING], [i2]) : this.unsortColumnWithStyle(t2, e3) : t2 != D.INCLUSIVE && t2 != D.REVERSE || (e3.sortOrder < 0 ? this.$$_addSort(e3, l.ASCENDING, i2, t2 == D.REVERSE) : e3.sortDirection == l.ASCENDING ? this.$$_addSort(e3, l.DESCENDING, i2, t2 == D.REVERSE) : this.isGroupedColumn(e3) && this.itemSource._groupSorting ? this.$$_addSort(e3, l.ASCENDING, i2, t2 == D.REVERSE) : this.unsortColumnWithStyle(t2, e3));
    }
  }, o2.prototype.orderBy = function(t2, e3, i2) {
    if (!this.isItemEditing(null)) if (!t2 || t2.length < 1) this._sortItems([], [], []);
    else {
      for (var o3 = [], r2 = t2.length, n2 = 0; n2 < r2; n2++) {
        var s2 = t2[n2];
        o3.push(s2.dataIndex);
      }
      this._sortItems(o3, e3, i2);
    }
  }, o2.prototype.unsortColumnWithStyle = function(t2, e3) {
    if (!this.isItemEditing() && e3) {
      var i2 = this.getSortFields(), o3 = this.getSortDirections(), r2 = this.getSortCases(), n2 = i2.indexOf(e3.dataIndex);
      n2 < 0 || (t2 == D.EXCLUSIVE ? this.orderBy([], [], []) : t2 != D.INCLUSIVE && t2 != D.REVERSE || (i2.splice(n2, 1), o3.splice(n2, 1), r2.splice(n2, 1), this._sortItems(i2, o3, r2)));
    }
  }, o2.prototype.$$_addSort = function(t2, e3, i2, o3) {
    var r2 = this.getSortFields(), n2 = this.getSortDirections(), s2 = this.getSortCases(), a2 = t2.dataIndex, l2 = r2.indexOf(a2);
    l2 >= 0 ? (n2[l2] = e3, s2[l2] = i2) : o3 ? (r2.splice(0, 0, a2), n2.splice(0, 0, e3), s2.splice(0, 0, i2)) : (r2.push(a2), n2.push(e3), s2.push(i2)), this._sortItems(r2, n2, s2);
  }, o2.prototype._sortItems = function(t2, e3, i2) {
    var o3 = this, r2 = t2.concat(), n2 = e3 ? e3.concat() : [], s2 = i2 ? i2.concat() : [];
    this._fireSorting(r2, n2) && this._toastManager.show(this.sortingOptions.toast, true, function() {
      var e4 = o3.sortingOptions.keepFocusedRow && o3.focusedIndex ? o3.focusedIndex.dataRow : -1;
      if (o3._doSortItems(t2, n2, s2), e4 >= 0) {
        var i3 = Ts.temp(o3, o3.getItemIndexOfRow(e4), o3.focusedIndex.column);
        o3._keepLeftPos = true, o3.setFocusedIndex(i3, true, true);
      }
    });
  }, o2.prototype._doPrepareComparer = function(t2) {
    for (var e3 = {}, i2 = 0; i2 < t2.length; i2++) {
      var o3 = this.columnByField(t2[i2]);
      o3.sortByLabel && (e3[t2[i2]] = r2(o3));
    }
    return e3;
    function r2(t3) {
      var e4 = t3.grid;
      return function(i3, o4, r3) {
        var n2 = e4.getItemOfRow(o4, true), s2 = e4.getItemOfRow(r3, true), a2 = mr.getText(n2, t3), l2 = mr.getText(s2, t3);
        return a2 == l2 ? 0 : null == a2 ? null == l2 ? 0 : -1 : null == l2 || a2 > l2 ? 1 : a2 < l2 ? -1 : 0;
      };
    }
  }, o2.prototype._doSortItems = function(t2, e3, i2) {
  }, o2.prototype.getSortFields = function() {
    return null;
  }, o2.prototype.getSortDirections = function() {
    return null;
  }, o2.prototype.getSortCases = function() {
    return null;
  }, o2.prototype.canFiltering = function() {
    return this._fireFiltering();
  }, Object.defineProperty(o2.prototype, "filterSelecting", { get: function() {
    return this._filterSelector.opened;
  }, enumerable: false, configurable: true }), Object.defineProperty(o2.prototype, "filterSelector", { get: function() {
    return this._filterSelector;
  }, enumerable: false, configurable: true }), o2.prototype.applyFilters = function(t2, e3, i2) {
    var o3 = this;
    if (this.isItemEditing(null)) return false;
    if (this._fireFiltering()) {
      var r2 = this.filteringOptions.toast, n2 = r2.visible;
      return this.dataCount <= 0 && (r2.visible = false), this._toastManager.show(r2, true, function() {
        o3._keepLeftPos = true, o3.$_doApplyFilters(t2, e3, i2), r2.visible = n2;
      }), true;
    }
    return false;
  }, o2.prototype.resetFilters = function(t2) {
    this.itemSource.beginFiltering();
    try {
      this.getDataColumns(false).forEach(function(t3) {
        t3.isFiltered() && (t3.activateAllFilters(false, false), t3.setInlineFilter(null, false));
      }), this.itemSource.clearAllFilters();
    } finally {
      this.itemSource.endFiltering(null, null, t2);
    }
  }, o2.prototype.getFilteredRows = function(t2) {
    var e3 = this.getAllItems().map(function(t3) {
      return t3.dataRow;
    });
    return t2 ? e3.sort(function(t3, e4) {
      return t3 - e4;
    }) : e3;
  }, o2.prototype.$_findFilterView = function(t2) {
    if (!t2) return {};
    for (var e3, i2 = [this._fixedFilterView, this._filterPanelView, this._rightFilterView], o3 = 0; o3 < i2.length; o3++) if (i2[o3].visible && (e3 = i2[o3].tableCellByLayout(t2))) return { view: i2[o3], cell: e3 };
    return {};
  }, o2.prototype.filterOperatorCallback = function(t2, e3, i2) {
    var o3 = this.layoutByName(i2.column), r2 = this.$_findFilterView(o3), n2 = r2.view, s2 = r2.cell;
    s2 && n2.operatorChange(s2, e3, o3, i2);
  }, o2.prototype.clearInlineFilter = function(t2) {
    var e3 = t2 && t2.layout;
    if (e3) {
      var i2 = this.$_findFilterView(e3), o3 = i2.view, r2 = i2.cell;
      o3.clearInput(r2, t2);
    } else [this._fixedFilterView, this._filterPanelView, this._rightFilterView].forEach(function(t3) {
      return t3.clearInput();
    }), this.$_doApplyFilters(null, null);
  }, o2.prototype.inlineFilterFocus = function(t2) {
    var e3 = this.$_findFilterView(t2), i2 = e3.view, o3 = e3.cell;
    i2.setFocus(o3);
  }, o2.prototype.$_doApplyFilters = function(t2, e3, i2) {
    var o3 = this.focusedIndex ? this.focusedIndex.dataRow : -1, r2 = this._items.itemCount;
    this._items.beginFiltering();
    try {
      this._filterRunning = true, this._items.clearAllFilters(), this.$_addFilters();
    } finally {
      if (this._items.endFiltering(t2, e3, i2), o3 >= 0) {
        var n2 = Ts.temp(this, this.getItemIndexOfRow(o3), this.focusedIndex.column, true);
        this.isValid(n2) ? this.setFocusedIndex(n2, true, true) : this._filteringOptions.clearFocusWhenFiltered && this.clearFocusedIndex();
      } else r2 !== this._items.itemCount && (this.topIndex = 0);
      this._filterRunning = false;
    }
  }, o2.prototype.$_addFilters = function() {
    for (var t2 = this.columnCount, e3 = 0; e3 < t2; e3++) {
      var i2 = this.getColumn(e3), o3 = i2.autoFilter ? i2.autoFilters : i2.filters;
      if (o3 && o3.activeCount > 0) for (var r2 = 0, n2 = o3.count; r2 < n2; r2++) {
        var s2;
        (s2 = o3.getItem(r2)).active && this._items.addFilter(i2.dataIndex, s2);
      }
      if ((o3 = i2._inlineFilters) && o3.activeCount > 0) (s2 = o3.getItem(0)).active && this._items.addFilter(i2.dataIndex, s2);
    }
  }, o2.prototype.columnFilterChanged = function(t2, e3, i2) {
    this._doColumnFiltersChanged(t2, e3, i2);
  }, o2.prototype.canGrouping = function() {
    return false;
  }, o2.prototype.$_layoutRowHover = function(t2, e3, i2) {
    var o3 = this._layoutManager, r2 = o3.footerBounds.y + o3.contentBounds.y, n2 = this.getBodyView(t2.cell);
    if (n2) {
      var s2 = o3.getTableRowIndex(e3);
      if (!(s2 < 0)) {
        s2 = n2.getViewIndex(s2);
        var a2 = o3.getTableItemBounds(s2);
        switch (a2.y += o3.contentBounds.y + o3.bodyBounds.y, a2.bottom > r2 && (a2.bottom = r2), i2) {
          case R.DATA:
            a2.x = this._fixedContentPane.x, a2.right = this._rightContentPane.width ? this._rightContentPane.right : this._contentPane.right;
            break;
          case R.FILL:
            a2.x = 0, a2.width = this.width;
            break;
          case R.CELL:
            var l2 = n2.pointByContainer(0, 0), h2 = n2.getCellRect(o3, t2, true);
            a2.x = h2.x + l2.x, a2.width = h2.width;
            break;
          case R.ROW:
            a2.x = 0, a2.right = this._rightContentPane.width ? this._rightContentPane.right : this._contentPane.right;
        }
        this._rowHoverView.setRect(a2);
      }
    }
  }, o2.prototype.$_resetHovering = function(t2, e3, i2) {
    void 0 === i2 && (i2 = false);
    var o3 = this.activeTool, r2 = this.container.getTableCell(o3.mouseEventTarget), n2 = this.getCellType(r2), s2 = this.container._updateRequested;
    if (o3 instanceof Yu && !s2) {
      if (!this.isEditing()) {
        if (i2 && this.isRecycleMode()) {
          var a2 = Ts.temp(this);
          this.layoutManager.mouseToIndex(r2, t2, e3, a2);
          var l2 = this.getBodyCellAt(a2);
          l2 && (r2 = l2.cell);
        }
        var h2 = false, u2 = false, c2 = false;
        if (n2 === O.DATA) {
          var d2 = this.getBodyCellbyCell(r2);
          this.$_setHoveredCell(d2, e3, i2), o3.$_setHoveredCell(d2, t2, e3), h2 = true;
        } else if (n2 === O.HEADER) {
          d2 = this.getHeaderView(r2).tableCellByCell(r2);
          o3.$_setHoveredHeaderCell(d2, t2, e3), u2 = true;
        } else if (n2 === O.STATE && this._rowBarContainer.stateError && this._stateBar.errorVisible && this.editOptions.hintOnError) {
          var p2 = this._rowBarContainer.rowOf(r2);
          this.isItemEditing(this.getItem(p2)) && (c2 = true, o3.$_showStateError(r2, this._rowBarContainer.stateError.message));
        }
        return !(h2 || u2 || c2) && o3._hideTooltip(), h2 || this.$_setHoveredCell(null, e3, false), true;
      }
      if (this.displayOptions.showTooltipWhileEditing) {
        if (n2 === O.DATA) {
          d2 = this.getBodyCellbyCell(r2);
          return o3.$_setHoveredCell(d2, t2, e3), true;
        }
        if (n2 === O.HEADER) {
          d2 = this.getHeaderView(r2).tableCellByCell(r2);
          return o3.$_setHoveredHeaderCell(d2, t2, e3), true;
        }
      }
    }
  }, o2.prototype.$_getCellAt = function(t2, e3) {
    var i2 = this.getBodyView(t2), o3 = this.layoutManager, r2 = this.getDataCellIndex(t2, this._currentIndex), n2 = i2.getCellAt(o3, r2);
    if (n2 && n2.merged) {
      var s2 = o3.getTableRowIndex(e3);
      if (s2 < 0) return n2;
      var a2 = i2.getRowIndex(s2);
      return r2.itemIndex = Math.min(Math.max(n2.item.index, a2), n2.item.index + n2.rowSpan - 1), i2.getCellAt(o3, r2);
    }
    return n2;
  }, o2.prototype.$_setHoveredCell = function(t2, e3, i2) {
    void 0 === i2 && (i2 = false);
    var o3 = t2 ? this.$_getCellAt(t2.cell, e3) : t2;
    if (i2 || o3 !== this._hoveredCell) {
      if (this._hoveredCell && this._hoveredCell.cell) this.getBodyView(this._hoveredCell.cell).$_mouseEnteredChanged(this, this._hoveredCell, false);
      if (o3) this.getBodyView(o3.cell).$_mouseEnteredChanged(this, o3, true);
      this._doHoveredCellChanged(this._hoveredCell = o3);
    }
    (i2 || e3 != this._hoveredY) && (this._hoveredY = e3, this.$_resetRowHover());
  }, o2.prototype.$_resetRowHover = function() {
    var t2 = this._displayOptions.rowHoverType;
    this._hoveredCell && t2 && t2 != R.NONE ? (this._rowHoverView.visible = true, this.$_layoutRowHover(this._hoveredCell, this._hoveredY, t2)) : this._rowHoverView.visible = false;
  }, o2.prototype.$_resetFocusRender = function(t2, e3) {
    var i2 = this.getBodyCellAt(this.focusedIndex, true), o3 = i2 && i2.merged && (i2.renderer2 || i2.head.renderer2), r2 = this.canMergeEditing(i2);
    if (o3 && o3.refreshFocusChanged) {
      var n2 = this.layoutManager, s2 = this.getBodyViewAt(this.focusedIndex), a2 = s2.getCellRectAt(n2, this.focusedIndex, false), l2 = s2.getCellRectAt(n2, this.focusedIndex, true), h2 = a2.top - l2.top + a2.height / 2 - l2.height / 2;
      o3.moveClickElement(h2, r2);
    }
  }, o2.prototype._doHoveredCellChanged = function(t2) {
  }, o2.prototype._doCellButtonClicked = function(t2) {
    this._fireCellButtonClicked(t2);
  }, o2.prototype._syncHeadCheck = function(t2, e3) {
    var i2 = this.checkBar;
    if (i2.syncHeadCheck) {
      var o3 = i2.showGroup && !i2.merged;
      if (false === e3) this._headView.allChecked = e3;
      else if (null == t2) this._headView.allChecked = e3;
      else {
        for (var r2 = 0, n2 = 0, s2 = void 0, a2 = i2.visibleOnly, l2 = a2 ? this._items.itemCount : (s2 = this.getAllItems()).length, h2 = 0; h2 < l2; h2++) {
          var u2 = a2 ? this._items.getItem(h2) : s2[h2];
          if ((u2.isDataRow || o3) && u2.checkable && (r2++, u2.checked && n2++, n2 > 0 && r2 !== n2)) break;
        }
        this._headView.allChecked = r2 > 0 && n2 === r2, this._headView.indeterminate = i2.headThreeStates && n2 > 0 && n2 < r2;
      }
    }
  }, o2.prototype.getRowHeight = function(t2) {
    var e3 = this.getItem(t2);
    return e3 ? e3.height : NaN;
  }, o2.prototype.setRowHeight = function(t2, e3, i2) {
    void 0 === i2 && (i2 = true);
    var o3 = this.getItem(t2);
    o3 && (this._items.setRowHeight(o3, e3, true), i2 && this.refreshView());
  }, o2.prototype.clearRowHeights = function(t2) {
    void 0 === t2 && (t2 = false), this._items && this._items.clearRowHeights(t2) && this.refreshView();
  }, o2.prototype.setFocusedClass = function(t2, e3) {
    if (this.displayOptions.useFocusClass) {
      var i2 = this.getBodyCellAt(t2, true);
      i2 && i2.cell && (e3 ? Ot.addClassName(i2.cell, "rg-focused-cell") : Ot.removeClassName(i2.cell, "rg-focused-cell"));
    }
  }, o2.prototype.setFocusedRowClass = function(t2, e3) {
    function i2(t3, i3) {
      var o4 = t3.getRowView(i3);
      if (o4) for (var r2 = 0, n2 = o4._getTableRows(this.layoutManager); r2 < n2.length; r2++) {
        var s2 = n2[r2];
        e3 ? Ot.addClassName(s2, "rg-focused-row") : Ot.removeClassName(s2, "rg-focused-row");
      }
    }
    if (this.displayOptions.useFocusClass) {
      var o3 = t2.item;
      i2.call(this, this.bodyView, o3), i2.call(this, this.fixedBodyView, o3), i2.call(this, this.rightBodyView, o3);
    }
  }, o2.prototype.getSummaryCount = function(t2) {
    switch (t2) {
      case "summary":
        return this.headerSummaries.count;
      case "footer":
        return this.footers.count;
      default:
        return 0;
    }
  }, o2.prototype.topIndexChanging = function(t2, e3, i2, o3) {
    return this._fireTopIndexChanging(t2, e3, i2, o3);
  }, o2.prototype.$_rendererChanged = function(t2) {
    var e3 = this._layoutManager.getBodyView(t2);
    e3 && e3.$_rendererChanged(t2);
  }, o2.prototype.$_clearDropData = function(t2) {
    var e3 = this.getRowsOfItems(t2, false);
    e3.length > 0 && this.dataSource.removeRows(e3);
  }, o2.prototype.$_dropData = function(t2, e3, i2) {
    var o3 = this.dataDropOptions, r2 = o3.callback, n2 = i2.index;
    if (r2) r2(t2.handler, e3, this.handler, i2.index, i2.column);
    else if (n2 >= 0) {
      var s2 = t2.getRowsOfItems(e3), a2 = void 0, l2 = o3.fieldMapCallback;
      if (l2 && (a2 = l2(t2.handler, e3, this.handler, n2, i2.column)), a2 = a2 || o3.fieldMap, n2 < this.itemCount) {
        var h2 = this.getRowOfItem(n2);
        h2 >= 0 && this.dataSource.insertRowsFrom(t2.dataSource, a2, s2, h2);
      } else this.dataSource.appendRowsFrom(t2.dataSource, a2, s2);
    }
    o3.dropMode == xl.MOVE && t2.$_clearDropData(e3);
  }, o2.prototype.$_checkFocusedLayout = function() {
    if (this._focusedIndex) {
      var t2 = this.getBodyCellAt(this._focusedIndex);
      t2 && t2.spanned && (this._focusedIndex.layout = t2.spanHead.layout);
    }
  }, o2.prototype.$_isBottomCell = function(t2) {
    var e3 = this.getBodyCellAt(t2);
    if (e3) return this.getBodyView(e3.cell).isBottomCell(e3);
  }, o2.prototype.$_getLowerOfCell = function(t2) {
    var e3 = this.getBodyCellAt(t2);
    if (e3) return (e3 = this.getBodyView(e3.cell).getLowerOf(e3)) && e3.layout.source;
  }, o2.prototype.$_isTopCell = function(t2) {
    var e3 = this.getBodyCellAt(t2);
    if (e3) return this.getBodyView(e3.cell).isTopCell(e3);
  }, o2.prototype.$_getUpperOfCell = function(t2) {
    var e3 = this.getBodyCellAt(t2);
    if (e3) return (e3 = this.getBodyView(e3.cell).getUpperOf(e3)) && e3.layout.source;
  }, o2.prototype.setCheckFieldIndex = function(t2) {
    this._items.setCheckFieldIndex(t2);
  }, o2.prototype._fireCurrentChanging = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseCurrentChanging", t2, e3);
  }, o2.prototype._fireCurrentChanged = function(t2) {
    this.fireEvent("onGridBaseCurrentChanged", t2);
  }, o2.prototype._fireCurrentRowChanged = function(t2, e3) {
    this.fireEvent("onGridBaseCurrentRowChanged", t2, e3);
  }, o2.prototype._fireValidateCell = function(t2, e3, i2) {
    this.fireEvent("onGridBaseValidateCell", t2, e3, i2);
  }, o2.prototype._fireValidateRow = function(t2, e3, i2) {
    this.fireEvent("onGridBaseValidateRow", t2, e3, i2);
  }, o2.prototype._fireValidationFail = function(t2, e3, i2) {
    return this.fireObjectEvent("onGridBaseValidationFail", t2, e3, i2);
  }, o2.prototype._fireCellClicked = function(t2) {
    this.fireEvent("onGridBaseCellClicked", t2);
  }, o2.prototype._fireCellDblClicked = function(t2) {
    this.fireEvent("onGridBaseCellDblClicked", t2);
  }, o2.prototype._fireCellItemClicked = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseCellItemClicked", t2, e3);
  }, o2.prototype._fireColumnCheckedChanged = function(t2) {
    this.fireEvent("onGridBaseColumnCheckedChanged", t2, t2.checked);
  }, o2.prototype._fireMenuItemClicked = function(t2, e3) {
    this.fireEvent("onGridBaseMenuItemClicked", t2, e3);
  }, o2.prototype._fireContextMenuPopup = function(t2, e3, i2, o3, r2) {
    return this.fireObjectEvent("onGridBaseContextMenuPopup", t2, e3, i2, o3, r2);
  }, o2.prototype._fireContextMenuItemClicked = function(t2, e3) {
    this.fireEvent("onGridBaseContextMenuItemClicked", t2, e3);
  }, o2.prototype._fireCellButtonClicked = function(t2) {
    this.fireEvent("onGridBaseCellButtonClicked", t2);
  }, o2.prototype._fireEditButtonClicked = function(t2) {
    this.fireEvent("onGridBaseEditButtonClicked", t2);
  }, o2.prototype._fireScrollToBottom = function() {
    this.fireEvent("onGridBaseScrollToBottom");
  }, o2.prototype._fireTopIndexChanging = function(t2, e3, i2, o3) {
    return this.fireObjectEvent("onGridBaseTopIndexChanging", t2, e3, i2, o3);
  }, o2.prototype._fireTopIndexChanged = function(t2) {
    this.fireEvent("onGridBaseTopIndexChanged", t2);
  }, o2.prototype._fireLeftPosChanged = function(t2) {
    this.fireEvent("onGridBaseLeftPosChanged", t2);
  }, o2.prototype._fireDataCellClicked = function(t2) {
    this.fireEvent("onGridBaseDataCellClicked", t2);
  }, o2.prototype._fireDataCellDblClicked = function(t2) {
    this.fireEvent("onGridBaseDataCellDblClicked", t2);
  }, o2.prototype._fireRowsDeleting = function(t2) {
    return this.fireConfirmEvent("onGridBaseRowsDeleting", t2);
  }, o2.prototype._fireRowInserting = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseRowInserting", t2, e3);
  }, o2.prototype._fireItemCommit = function(t2, e3) {
    this.fireEvent("onGridBaseItemCommit");
  }, o2.prototype._fireSelectionChanged = function(t2) {
    return this.fireEvent("onGridBaseSelectionChanged", t2);
  }, o2.prototype._fireSelectionAdded = function(t2) {
    return this.fireEvent("onGridBaseSelectionAdded", t2);
  }, o2.prototype._fireSelectionRemoved = function() {
    return this.fireEvent("onGridBaseSelectionRemoved");
  }, o2.prototype._fireSelectionCleared = function() {
    return this.fireEvent("onGridBaseSelectionCleared");
  }, o2.prototype._fireSelectionResized = function(t2) {
    return this.fireEvent("onGridBaseSelectionResized");
  }, o2.prototype._fireSelectionEnded = function(t2) {
    return this.fireEvent("onGridBaseSelectionEnded", t2);
  }, o2.prototype._fireUpdateStarted = function(t2, e3) {
    this.fireEvent("onGridBaseUpdateStarted", t2);
  }, o2.prototype._fireInsertStarted = function(t2, e3) {
    this.fireEvent("onGridBaseInsertStarted", t2, e3);
  }, o2.prototype._fireShowEditor = function(t2, e3, i2) {
    return this.fireConfirmEvent("onGridBaseShowEditor", t2, e3, i2);
  }, o2.prototype._fireShowEditCommand = function(t2) {
    return this.fireConfirmEvent("onGridBaseShowEditCommand", t2);
  }, o2.prototype._fireHideEditor = function(t2) {
    return this._doEditorActivated(t2, false, null), this.fireEvent("onGridBaseHideEditor", t2);
  }, o2.prototype._fireEditChange = function(t2, e3) {
    this.fireEvent("onGridBaseEditChange", t2, e3);
  }, o2.prototype._fireGetEditValue = function(t2, e3) {
    return this.fireObjectEvent("onGridBaseGetEditValue", t2, e3);
  }, o2.prototype._fireEditCommit = function(t2, e3, i2) {
    return this.fireConfirmEvent("onGridBaseEditCommit", t2, e3, i2);
  }, o2.prototype._fireEditCanceled = function(t2) {
    this.fireEvent("onGridBaseEditCanceled", t2);
  }, o2.prototype._fireItemEditCancel = function(t2) {
    return this.fireConfirmEvent("onGridBaseItemEditCancel", t2);
  }, o2.prototype._fireItemEditCanceled = function(t2) {
    this.fireEvent("onGridBaseItemEditCanceled", t2);
  }, o2.prototype._fireEditSearch = function(t2, e3) {
    this.fireEvent("onGridBaseEditSearch", t2, e3);
  }, o2.prototype._fireSearchCellButtonClick = function(t2, e3) {
    return this.fireObjectEvent("onGridBaseSearchCellButtonClick", t2, e3);
  }, o2.prototype._fireCellEdited = function(t2, e3) {
    this.fireEvent("onGridBaseCellEdited", t2, e3);
  }, o2.prototype._fireEditRowChanged = function(t2, e3, i2, o3) {
    this.fireEvent("onGridBaseEditRowChanged", t2, e3, i2, o3);
  }, o2.prototype._fireEditItemPasted = function(t2, e3, i2, o3) {
    this.fireEvent("onGridBaseEditRowPasted", t2, e3, i2, o3);
  }, o2.prototype._fireItemsPasted = function(t2) {
    this.fireEvent("onGridBaseRowsPasted", t2);
  }, o2.prototype._fireCellPasting = function(t2, e3, i2) {
    return this.fireObjectEvent("onGridBaseCellPasting", t2, e3, i2);
  }, o2.prototype._fireItemChecked = function(t2) {
    this.fireEvent("onGridBaseItemChecked", t2, t2.checked);
  }, o2.prototype._fireItemsChecked = function(t2, e3) {
    this.fireEvent("onGridBaseItemsChecked", t2, e3);
  }, o2.prototype._fireItemAllChecked = function(t2) {
    this.fireEvent("onGridBaseItemAllChecked", t2);
  }, o2.prototype._fireErrorClicked = function(t2, e3) {
    this.fireEvent("onGridBaseErrorClicked", e3);
  }, o2.prototype._fireSorting = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseSorting", t2, e3);
  }, o2.prototype._fireFiltering = function(t2) {
    return this.fireConfirmEvent("onGridBaseFiltering", t2);
  }, o2.prototype._fireKeyDown = function(t2) {
    return this.fireConfirmEvent("onGridBaseKeyDown", t2);
  }, o2.prototype._fireWheel = function(t2) {
    return this.fireConfirmEvent("onGridBaseWheel", t2);
  }, o2.prototype._fireKeyPress = function(t2) {
    this.fireEvent("onGridBaseKeyPress", t2);
  }, o2.prototype._fireKeyUp = function(t2) {
    this.fireEvent("onGridBaseKeyUp", t2);
  }, o2.prototype._fireShowTooltip = function(t2, e3) {
    return this.fireObjectEvent("onGridBaseShowTooltip", t2, e3);
  }, o2.prototype._fireShowHeaderTooltip = function(t2, e3, i2) {
    return this.fireObjectEvent("onGridBaseShowHeaderTooltip", t2, e3, i2);
  }, o2.prototype._fireColumnPropertyChanged = function(t2, e3, i2, o3) {
    this.fireEvent("onGridBaseColumnPropertyChanged", t2, e3, i2, o3);
  }, o2.prototype._fireLayoutPropertyChanged = function(t2, e3, i2, o3) {
    this.fireEvent("onGridBaseLayoutPropertyChanged", t2, e3, i2, o3);
  }, o2.prototype._fireGridActivated = function() {
    return this.fireEvent("onGridBaseGridActivated", this);
  }, o2.prototype._fireGridFocusChanged = function(t2, e3, i2) {
    this.fireEvent("onGridBaseGridFocusChanged", t2, e3, i2);
  }, o2.prototype._fireCopy = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseCopy", t2, e3);
  }, o2.prototype._firePaste = function(t2, e3) {
    return this.fireConfirmEvent("onGridBasePaste", t2, e3);
  }, o2.prototype._firePasted = function() {
    this.fireEvent("onGridBasePasted");
  }, o2.prototype._fireCommandStackChanged = function(t2, e3) {
    this.fireEvent("onGridBaseCommandStackChanged", t2, e3);
  }, o2.prototype.onPopupMenuManagerMenuItemClicked = function(t2, e3, i2) {
    this._fireMenuItemClicked(e3, i2);
  }, o2.prototype.onPopupMenuManagerPopup = function(t2, e3, i2, o3, r2, n2) {
    return this._fireContextMenuPopup(e3, i2, o3, r2, n2);
  }, o2.prototype.onItemProviderOuterSort = function(t2, e3, i2, o3) {
    var r2 = this;
    if (e3 instanceof Function) {
      return function(t3, i3) {
        var o4 = t3.map(function(t4, e4, o5) {
          return { fieldName: r2.dataSource.getFieldName(t4), orgFieldName: r2.dataSource.getOrgFieldName(t4), direction: i3[e4] || l.ASCENDING };
        });
        return e3.call(r2, r2.handler, o4);
      }(i2, o3);
    }
  }, o2.prototype.onScrollBarScrolled = function(t2, e3, i2, o3) {
    var r2, n2, s2, a2 = this.displayOptions, l2 = this.fixedOptions, h2 = a2.scrollMessageCallback, u2 = e3 === sh.SCROLL_END;
    if (!u2 && this.scrollOnEditing(), t2.vertical) {
      var c2 = -1;
      switch (e3) {
        case sh.LINE:
          return void this.scrollRow(i2);
        case sh.PAGE:
          c2 = Math.max(0, this.topIndex + i2 * t2._page);
          break;
        case sh.THUMB_TRACK:
          var d2 = a2.scrollDuration;
          a2.liveScroll || this._scrolledTime > 0 && Ot.getTimer() - this._scrolledTime > d2 ? (c2 = o3, this._scrolledTime = 0) : (this._scrollTipView || (this._scrollTipView = new kh(this.container)), this._vscrollBar.tipView = this._scrollTipView, this._vscrollBar.setPosition(o3, true), n2 = this._vscrollBar.pos + l2.rowCount, r2 = h2 ? h2(this.handler, t2.vertical, n2) : String(n2 + 1), this._vscrollBar.setText(r2), d2 > 0 && 0 == this._scrolledTime && (this._scrolledTime = Ot.getTimer()));
          break;
        case sh.THUMB_END:
          this._scrollTipView && this._scrollTipView.hide(), this._vscrollBar.tipView = null, c2 = o3, u2 = true;
          break;
        default:
          c2 = o3;
      }
      c2 >= 0 && (this.topIndex = c2);
    } else {
      var p2 = -1;
      switch (e3) {
        case sh.LINE:
          p2 = Math.max(0, this.leftPos + 8 * i2);
          break;
        case sh.PAGE:
          p2 = i2 > 0 ? this._layoutManager.scrollToNextCell() : this._layoutManager.scrollToPrevCell();
          break;
        case sh.THUMB_TRACK:
          d2 = a2.hscrollDuration;
          a2.liveScroll || this._scrolledTime > 0 && Ot.getTimer() - this._scrolledTime > d2 ? (p2 = o3, this._scrolledTime = 0) : (this._scrollTipView || (this._scrollTipView = new kh(this.container)), this._hscrollBar.tipView = this._scrollTipView, (s2 = this._layoutManager.getPositionToVIndex(o3)) > -1 && (r2 = h2 ? h2(this.handler, t2.vertical, s2) : this.getVisibleLayout(s2).getDataColumn().header.displayText, this._hscrollBar.setText(r2)), this._hscrollBar.setPosition(o3, true), d2 > 0 && 0 == this._scrolledTime && (this._scrolledTime = Ot.getTimer()));
          break;
        case sh.THUMB_END:
          this._scrollTipView && this._scrollTipView.hide(), this._hscrollBar.tipView = null, p2 = o3, u2 = true;
          break;
        default:
          p2 = o3;
      }
      p2 >= 0 && (this.leftPos = p2);
    }
    u2 && !Ot.isMobile() && this.setFocus();
  }, o2.prototype.$_checkFocusedRow = function(t2) {
    void 0 === t2 && (t2 = false), this.focusedRow >= this.itemCount && this.clearFocusedIndex(t2);
  }, o2.prototype.onItemProviderReset = function(t2, e3) {
    this.hideEditor(), this._dataChanged = true, this._needRefresh = true, this.clearRowHeights(), this._columnsReset(), this._populateMerges(), this.$_checkFocusedRow(), this._itemCheckChanged = true, this.resetGrid(e3), this.$_refreshInvalidList(true);
  }, o2.prototype.onItemProviderRefresh = function(t2, e3) {
    this.hideEditor(), this._dataChanged = true, this._needRefresh = true, this._resetColumnSortStates(), false !== e3 && this.clearRowHeights(), this._populateMerges(), this._filterRunning && this.filteringOptions.clearFocusWhenFiltered || this.$_checkFocusedRow(true), this._itemCheckChanged = true, this.refreshView(), this.$_refreshInvalidList(false);
  }, o2.prototype.onItemProviderRefreshClient = function(t2) {
    this.hideEditor(), this._dataChanged = true, this._needRefresh = true, this._populateMerges(), this.$_checkFocusedRow(), this.refreshView();
  }, o2.prototype.onItemProviderItemInserted = function(t2, e3) {
    if (t2.dataSource.undoing || t2.dataSource.redoing) {
      var i2 = this._focusedIndex.clone();
      i2.itemIndex = e3.index, this.setFocusedIndex(i2, true, true);
    }
  }, o2.prototype.onItemProviderItemDeleted = function(t2, e3) {
    if (t2.dataSource.undoing || t2.dataSource.redoing) {
      var i2 = this._focusedIndex.clone();
      i2.itemIndex = e3.index, this.setFocusedIndex(i2, true, true);
    }
  }, o2.prototype.onItemProviderItemUpdated = function(t2, e3) {
    if (t2.dataSource.undoing || t2.dataSource.redoing) {
      var i2 = this._focusedIndex.clone();
      i2.itemIndex = e3.index, this.setFocusedIndex(i2, true, true);
    }
  }, o2.prototype.onItemProviderCheckableChanged = function(t2, e3) {
    this._itemCheckChanged = true, this.refreshView();
  }, o2.prototype.onItemProviderItemChecked = function(t2, e3) {
    this.refreshView(), this._fireItemChecked(e3);
  }, o2.prototype.onItemProviderItemsChecked = function(t2, e3, i2) {
    this.refreshView(), this._fireItemsChecked(e3, i2);
  }, o2.prototype.onItemProviderItemAllChecked = function(t2, e3) {
    this.refreshView(), this._fireItemAllChecked(e3);
  }, o2.prototype.onItemProviderItemCheckChanged = function(t2, e3, i2) {
    this._itemCheckChanged = true, !this.isTree() && this.checkBar.canMerge() && this._populateMerges();
  }, o2.prototype.onItemProviderRowStateChanged = function(t2, e3) {
    this.refreshView();
  }, o2.prototype.onItemProviderRowStatesChanged = function(t2, e3) {
    this.refreshView();
  }, o2.prototype.onItemProviderRowStatesCleared = function(t2) {
    this.refreshView();
  }, o2.prototype.onItemProviderSort = function(t2, e3, i2) {
    this.refreshView();
  }, o2.prototype.onItemProviderSorted = function(t2) {
    this.header.dirty = true, this._needRefresh = true, this.refreshView(), this.fireEvent("onGridBaseSortingChanged");
  }, o2.prototype.onItemProviderFiltered = function(t2, e3, i2, o3) {
    this._populateMerges(), this._filterRunning && this.filteringOptions.clearFocusWhenFiltered || this.$_checkFocusedRow(), this._itemCheckChanged = !this._loading, this.header.dirty = true, this._needRefresh = true, this.refreshView(), this.fireEvent("onGridBaseFilteringChanged", e3, i2, o3);
  }, o2.prototype.onItemProviderCommandStackChanged = function(t2, e3, i2) {
    this._fireCommandStackChanged(e3, i2);
  }, o2.prototype.onItemProviderDataLoadComplated = function(t2) {
    this._prevLast = 0, this._dataLoad = true;
  }, o2.prototype.$_focusEditItem = function(t2) {
    var e3 = this.getIndex(t2.index, this.focusedIndex ? this.focusedIndex.column : null);
    !e3.column && this.visibleLayoutCount > 0 && (e3._layout = this.getVisibleLayout(0)), this.setFocusedIndex(e3, true), this.makeCellVisible(this.focusedIndex);
  }, o2.prototype.$_beforeEditing = function(t2, e3) {
  }, o2.prototype.onItemEditUpdateStarted = function(t2, e3) {
    this.$_beforeEditing(t2, e3), this.refreshView(), this._fireUpdateStarted(e3, false);
  }, o2.prototype.onItemEditAppendStarted = function(t2, e3) {
    this.$_beforeEditing(t2, e3), this.hideEditor(), this._populateMerges(), this.refreshView(), this.$_focusEditItem(e3), this.requestPrepareEditor(), this._fireInsertStarted(e3, true);
  }, o2.prototype.onItemEditInsertStarted = function(t2, e3) {
    this.$_beforeEditing(t2, e3), this.hideEditor(), this._populateMerges(), this.refreshView(), this.$_focusEditItem(e3), this.requestPrepareEditor(), this._fireInsertStarted(e3, false);
  }, o2.prototype.onItemEditCellEdited = function(t2, e3, i2) {
    this.refreshView(), !this._cellUpdateEventLock && this._fireCellEdited(e3, i2);
  }, o2.prototype.onItemEditCellUpdated = function(t2, e3, i2, o3, r2) {
    this.refreshView(), !this._cellUpdateEventLock && this._fireEditRowChanged(e3, i2, o3, r2);
  }, o2.prototype.onItemEditCommitting = function(t2, e3) {
  }, o2.prototype.onItemEditCommitted = function(t2, e3) {
    this._appendDummy(), this.hideEditor(), this.refreshView();
  }, o2.prototype.onItemEditCanceled = function(t2) {
    this._appendDummy(), this.hideEditor(), this._populateMerges(), this.refreshView(), this._fireItemEditCanceled(t2._editingItem);
  }, o2.prototype.onItemEditCommitRequest = function(t2) {
    this.commit(false);
  }, o2.prototype.onItemEditCancelReuqest = function(t2) {
    this.cancel();
  }, o2.prototype.onLookupSourceProviderChanged = function(t2) {
    this._resetColumnIndices(), this.refreshView();
  }, o2.prototype.onSelectionChanged = function(t2, e3, i2) {
    this._refreshSideViews(), i2 && this._fireSelectionChanged(e3);
  }, o2.prototype.onSelectionAdded = function(t2, e3, i2) {
    this._addSelectionView(e3), this._layoutSelectionViews(), i2 && this._fireSelectionAdded(e3);
  }, o2.prototype.onSelectionRemoved = function(t2, e3) {
    this._removeSelectionView(e3), this._fireSelectionRemoved();
  }, o2.prototype.onSelectionCleared = function(t2, e3) {
    this._selectionLayer.clearViews(), this._refreshSideViews(), e3 && this._fireSelectionCleared();
  }, o2.prototype.onSelectionResized = function(t2, e3) {
    this._layoutSelectionViews(), this._fireSelectionResized(e3);
  }, o2.prototype.onSelectionEnded = function(t2, e3) {
    this._fireSelectionEnded(e3);
  }, o2.prototype.onLayoutExpanding = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseLayoutExpanding", e3);
  }, o2.prototype.onLayoutExpanded = function(t2, e3) {
    this.fireEvent("onGridBaseLayoutExpanded", e3);
  }, o2.prototype.onLayoutCollapsing = function(t2, e3) {
    return this.fireConfirmEvent("onGridBaseLayoutCollapsing", e3);
  }, o2.prototype.onLayoutCollapsed = function(t2, e3) {
    this.fireEvent("onGridBaseLayoutCollapsed", e3);
  }, o2.prototype.onMenuItemClick = function(t2, e3) {
    this._fireContextMenuItemClicked(t2, e3);
  }, o2;
}(ya);
var qc = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3.prepareProgress = 10, e3.indicatorNo = 1, e3;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return null;
  }, e2.prototype.export = function(t3, e3) {
    this.grid = t3;
  }, e2;
}(Co);
var Kc = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return t2.prototype.dispose.call(this), null;
  }, e2.prototype.export = function(e3, i2) {
    t2.prototype.export.call(this, e3, i2);
    var o2 = this._exportOptions = i2;
    this._cols = [];
    var r2 = e3.collectColumns(true, true, true);
    this._cols = r2.filter(function(t3) {
      return t3 instanceof as;
    });
    var n2 = this.indicator = o2.indicatorVisible(e3) ? e3.rowIndicator : null;
    this.header = o2.headerVisible(e3), this.headerSummary = o2.headerSummaryVisible(e3), this.footer = o2.footerVisible(e3), this.indicatorHead = n2 && Ot.toStr(n2.headText), this.indicatorFoot = n2 && Ot.toStr(n2.footText), this.indicatorSummary = n2 && Ot.toStr(n2.sumText), this.done = function() {
      this.save();
    }, this.buildBook();
  }, e2.prototype.prepare = function() {
  }, e2.prototype.finallize = function() {
  }, e2.prototype.buildBook = function() {
    this.buildSheet(this.grid);
  }, e2.prototype.buildSheet = function(t3) {
    this._rows = [], this.header && this.buildHeader(t3), this.headerSummary && this.buildSummaryItem(t3, false, this._exportOptions.headerSummary), this.buildItems(t3), this.footer && this.buildSummaryItem(t3, true, this._exportOptions.footer), this.done();
  }, e2.prototype.addQuatation = function(t3, e3) {
    return Ot.addQuatation(t3, e3 === a.TEXT, this._exportOptions.replaceLfText, this._exportOptions.replaceCrText);
  }, e2.prototype.buildHeader = function(t3) {
    var e3 = [], i2 = this._cols;
    this.indicator && e3.push(this.indicatorHead);
    for (var o2 = i2.length, r2 = 0; r2 < o2; r2++) {
      var n2 = i2[r2];
      e3.push(this.addQuatation(n2.header.displayText));
    }
    this._rows.push(e3.join(","));
  }, e2.prototype.buildSummaryItem = function(t3, e3, i2) {
    var o2, r2 = this._exportOptions, n2 = e3 ? t3.footers : t3.headerSummaries;
    if (n2.visible) for (var s2 = n2.visibleCount, a2 = 0; a2 < s2; a2++) {
      var l2 = [];
      this.indicator && l2.push(0 == a2 ? this.indicatorFoot : "");
      for (var h2 = n2.getVisible(a2), u2 = 0, c2 = this._cols.length; u2 < c2; u2++) {
        var d2 = this._cols[u2], p2 = h2.getCell(d2.layout), f2 = p2.getSummary(), _2 = p2.value;
        o2 = "number" == typeof _2 ? isNaN(_2) ? p2.text : String(_2) : _2 instanceof Date ? r2.datetimeCallback ? (_2 = r2.datetimeCallback(-1, d2.name, _2, t3.handler)) instanceof Date ? He.Default.getText(_2) : _2 : He.Default.getText(_2) : null == _2 ? p2.text || f2.text : String(_2), l2.push(this.addQuatation(o2));
      }
      this._rows.push(l2.join(","));
    }
  }, e2.prototype.buildItems = function(t3) {
    for (var e3 = this.allItems ? this.allItems.length : t3.itemSource.itemCount, i2 = this.allItems, o2 = 0; o2 < e3; o2++) {
      var r2 = i2 ? i2[o2] : t3.getItem(o2);
      this.buildRow(t3, r2);
    }
  }, e2.prototype.buildRow = function(t3, e3) {
    var i2, o2 = this._exportOptions, r2 = [];
    if (this.indicator) {
      var n2 = o2.showIndicatorRow(t3) ? e3.dataRow : this.indicatorNo++;
      r2.push(n2.toString());
    }
    for (var s2 = 0, a2 = this._cols.length; s2 < a2; s2++) {
      var l2 = this._cols[s2], h2 = void 0;
      if (i2 = void 0, l2 instanceof ls) if (h2 = l2.getField()) {
        var u2 = Ms.tempItem(t3, e3, l2);
        i2 = t3.getDisplayText(u2);
      } else i2 = "";
      r2.push(this.addQuatation(i2, h2 && h2.dataType));
    }
    this._rows.push(r2.join(","));
  }, e2.prototype.buildGroupHeader = function(t3, e3) {
  }, e2.prototype.buildGroupFooter = function(t3, e3) {
  }, e2.prototype.buildMergedGroupHeader = function(t3, e3) {
  }, e2.prototype.buildMergedGroupFooter = function(t3, e3) {
  }, e2.prototype.buildTreeSheet = function(t3) {
    this._rows = [], this.header && this.buildHeader(t3), this.headerSummary && this.buildSummaryItem(t3, false, this._exportOptions.headerSummary), this.buildTreeItems(t3), this.footer && this.buildSummaryItem(t3, true, this._exportOptions.footer), this.done();
  }, e2.prototype.buildTreeItems = function(t3) {
    for (var e3 = this.allItems ? this.allItems.length : t3.itemCount, i2 = this.allItems, o2 = 0; o2 < e3; o2++) {
      var r2 = i2 ? i2[o2] : t3.getItem(o2);
      if (!(r2 instanceof In)) throw "Unkonw tree item type";
      this.buildTreeRow(t3, r2);
    }
  }, e2.prototype.buildTreeRow = function(t3, e3) {
    this.buildRow(t3, e3);
  }, e2.prototype.save = function() {
    var t3 = this._exportOptions, e3 = t3.fileName, i2 = "\uFEFF" + this._rows.join("\n"), o2 = this.grid.doc;
    t3.done && "function" == typeof t3.done && (t3.target === Vi.STREAM ? t3.done(i2) : t3.done()), t3.target == Vi.LOCAL ? this.saveLocal(e3, i2, o2) : t3.target == Vi.REMOTE && this.saveServer(e3, Rt.encode(i2), t3.url, o2, t3.params);
  }, e2;
}(qc);
var Xc = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._styles = null, i2.message = "", i2.visible = true, i2.spaceTop = 0, i2.spaceBottom = 0, i2.height = -1, i2.styleName = "", e3 && i2.extend(e3), i2._styles = e3 && e3.styles ? e3.styles : null, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._styles = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "cssStyle", { get: function() {
    return this._styles;
  }, enumerable: false, configurable: true }), e2;
}(Ft);
var Zc = "default";
var Jc = "hidden";
var Qc = "visible";
var td = "default";
var ed = "item";
var id = "reverse";
!function(t2) {
  t2.IGNORE = "ignore", t2.CURRENT = "current", t2.EXPAND = "expand", t2.COLLAPSE = "collapse";
}(kc || (kc = {}));
var od = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2.nullDateText = "", i2.linear = false, i2.allColumns = false, i2.allItems = true, i2.onlyCheckedItems = false, i2.pagingAllItems = false, i2.indicator = Zc, i2.checkBar = Jc, i2.header = Zc, i2.footer = Zc, i2.headerSummary = Zc, i2.indicatorValue = td, i2.checkMark = "v", i2.unCheckMark = "", i2.indenting = true, i2.separateRows = false, i2.fillMergeFooterValue = false, i2.lookupDisplay = false, i2.showLevelOutline = false, i2.outlineSummaryBelow = true, i2.outlineSummaryRight = true, i2.applyFitStyle = true, i2.applyDynamicStyles = false, i2.applyDefaultColumnFormat = false, i2.applyFixed = false, i2.sheetName = null, i2.exportSeriesColumn = false, i2.showColumns = [], i2.hideColumns = [], i2.hiddenColumns = [], i2.exportLink = false, i2.exportTemplate = false, i2.sheetAttrs = null, i2.stylePrefix = "", i2.trailPointZeroFormat = void 0, i2.layoutExpand = null, i2.exportShape = void 0, i2.exportImage = void 0, i2.bulkImageDownload = true, i2.exportLayout = void 0, i2.userCells = void 0, i2.userCellsCallback = void 0, i2.sheetProtect = false, i2.protectPassword = void 0, i2.exportMemo = void 0, i2.extend(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._documentTitle && (this._documentTitle = this._documentTitle.dispose()), this._documentSubtitle && (this._documentSubtitle = this._documentSubtitle.dispose()), this._documentTail && (this._documentTail = this._documentTail.dispose()), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "documentTitle", { get: function() {
    return this._documentTitle;
  }, set: function(t3) {
    this._documentTitle = new Xc(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "documentSubtitle", { get: function() {
    return this._documentSubtitle;
  }, set: function(t3) {
    this._documentSubtitle = new Xc(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "documentTail", { get: function() {
    return this._documentTail;
  }, set: function(t3) {
    this._documentTail = new Xc(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "protectProperties", { get: function() {
    return this.sheetProtect && (this._protectProperties = this._protectProperties || {}, Ot.extendObj({ objects: "1", scenarios: "1" }, this._protectProperties)), this._protectProperties;
  }, set: function(t3) {
    this._protectProperties = t3 ? Ot.deepCopy(t3) : void 0;
  }, enumerable: false, configurable: true }), e2.prototype.indicatorVisible = function(t3) {
    if (t3) switch (this.indicator) {
      case Qc:
        return true;
      case Jc:
        return false;
      default:
        return t3.rowIndicator.visible;
    }
    return false;
  }, e2.prototype.checkBarVisible = function(t3) {
    if (t3) switch (this.checkBar) {
      case Qc:
        return true;
      case Jc:
        return false;
      default:
        return t3.checkBar.visible;
    }
    return false;
  }, e2.prototype.headerVisible = function(t3) {
    if (t3) switch (this.header) {
      case Qc:
        return true;
      case Jc:
        return false;
      default:
        return t3.header.visible;
    }
    return false;
  }, e2.prototype.headerSummaryVisible = function(t3) {
    if (t3) switch (this.headerSummary) {
      case Qc:
        return true;
      case Jc:
        return false;
      default:
        return t3.headerSummaries.visible && t3.headerSummaries.visibleCount > 0;
    }
    return false;
  }, e2.prototype.footerVisible = function(t3) {
    if (t3) switch (this.footer) {
      case Qc:
        return true;
      case Jc:
        return false;
      default:
        return t3.footers.visible && t3.footers.visibleCount > 0;
    }
    return false;
  }, e2.prototype.showIndicatorRow = function(t3) {
    if (t3) switch (this.indicatorValue) {
      case id:
      case ed:
        return false;
      case "row":
        return true;
      default:
        return t3.rowIndicator.displayValue == ks.ROW;
    }
    return false;
  }, e2.prototype.showIndicatorReverse = function(t3) {
    if (t3) switch (this.indicatorValue) {
      case "row":
      case ed:
        return false;
      case id:
        return true;
      default:
        return t3.rowIndicator.displayValue == ks.REVERSE;
    }
  }, Object.defineProperty(e2.prototype, "yOffset", { get: function() {
    return null == this._yOffset ? 0 : this._yOffset;
  }, set: function(t3) {
    this._yOffset = Math.floor(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "xOffset", { get: function() {
    return null == this._xOffset ? 0 : this._xOffset;
  }, set: function(t3) {
    this._xOffset = Math.floor(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "xOffsetWidth", { get: function() {
    return null == this._xOffsetWidth ? 100 : this._xOffsetWidth;
  }, set: function(t3) {
    this._xOffsetWidth = Math.floor(t3);
  }, enumerable: false, configurable: true }), e2;
}(wo);
var rd = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, i2) || this;
    return o2._grids = [], o2._parseGrids(e3, i2), o2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "exportGrids", { get: function() {
    return this._grids;
  }, enumerable: false, configurable: true }), e2.prototype._doDispose = function() {
    this._grids = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._parseGrids = function(t3, e3) {
    var i2 = e3.exportGrids;
    if (i2 && Array.isArray(i2)) for (var o2 = 0, r2 = i2.length; o2 < r2; o2++) {
      var n2, s2 = i2[o2].grid;
      s2 = s2.$_handler ? s2 : s2._view, (n2 = new od(e3)).assignFrom(i2[o2]), n2.extend(i2[o2]), n2.grid = s2;
      var a2 = { grid: s2, sheetName: i2[o2].sheetName, options: n2 };
      this._grids.push(a2);
    }
    else (n2 = new od(e3)).extend(e3), n2.grid = t3, this._grids.push({ grid: t3, sheetName: e3.sheetName ? String(e3.sheetName) : "sheet1", options: n2 });
  }, e2;
}(od);
var nd = Ot.hex;
var sd = function() {
  function t2(e2, i2) {
    void 0 === e2 && (e2 = null), void 0 === i2 && (i2 = false), this._r = 0, this._g = 0, this._b = 0, this._a = 0, "string" == typeof e2 ? t2._parse(e2, this, i2, false) : e2 instanceof t2 ? (this._r = e2._r, this._g = e2._g, this._b = e2._b, this._a = e2._a) : isNaN(e2) ? (this._r = this._g = this._b = 0, this._a = i2 ? NaN : 1) : (this._a = (e2 >>> 24) / 255, this._r = (16711680 & e2) >> 16, this._g = (65280 & e2) >> 8, this._b = 255 & e2);
  }
  return t2._parse = function(t3, e2, i2, o2) {
    if (t3) {
      var r2 = t3.length;
      if ("#" == (t3 = t3.trim().toLowerCase()).charAt(0)) if (t3 = t3.substr(1), --r2 >= 6 && r2 <= 8) e2._b = Ot.toInt(t3.substr(r2 - 2, 2), 16), e2._g = Ot.toInt(t3.substr(r2 - 4, 2), 16), e2._r = Ot.toInt(t3.substr(r2 - 6, 2), 16), e2._a = 6 == r2 ? i2 ? NaN : 1 : Ot.toInt(t3.substr(0, r2 - 6), 16) / 255;
      else {
        if (3 != r2) {
          if (o2) throw "Invalid color value text: " + t3;
          return false;
        }
        e2._r = Ot.toInt(t3.charAt(0) + t3.charAt(0), 16), e2._g = Ot.toInt(t3.charAt(1) + t3.charAt(1), 16), e2._b = Ot.toInt(t3.charAt(2) + t3.charAt(2), 16), e2._a = i2 ? NaN : 1;
      }
      else if (0 == t3.indexOf("rgba(") && ")" == t3.charAt(r2 - 1)) {
        var n2 = (t3 = t3.substring(5, r2 - 1)).split(",");
        e2._r = Ot.toInt(n2[0]), e2._g = Ot.toInt(n2[1]), e2._b = Ot.toInt(n2[2]), e2._a = Ot.toFloat(n2[3]);
      } else {
        if (0 != t3.indexOf("rgb(") || ")" != t3.charAt(r2 - 1)) {
          if (ad.hasOwnProperty(t3)) {
            n2 = ad[t3];
            return e2._r = n2._r, e2._g = n2._g, e2._b = n2._b, e2._a = n2._a, n2;
          }
          if (o2) throw new Error("Invalid color text: " + t3);
          return false;
        }
        var n2 = (t3 = t3.substring(4, r2 - 1)).split(",");
        e2._r = Ot.toInt(n2[0]), e2._g = Ot.toInt(n2[1]), e2._b = Ot.toInt(n2[2]), e2._a = i2 ? NaN : 1;
      }
      return true;
    }
    return false;
  }, t2.prototype.toHex = function() {
    return "" + nd(Math.floor(255 * this._a)) + nd(this._r) + nd(this._g) + nd(this._b);
  }, t2.prototype.toColorHex = function() {
    return "" + nd(this._r) + nd(this._g) + nd(this._b);
  }, t2.prototype.toString = function() {
    return "#" + nd(Math.floor(255 * this._a)) + nd(this._r) + nd(this._g) + nd(this._b);
  }, t2;
}();
var ad = { transparent: new sd("#00000000"), ltGray: new sd("#d3d3d3"), ltgray: new sd("#d3d3d3"), aliceblue: new sd("#f0f8ff"), antiquewhite: new sd("#faebd7"), aqua: new sd("#00ffff"), aquamarine: new sd("#7fffd4"), azure: new sd("#f0ffff"), beige: new sd("#f5f5dc"), bisque: new sd("#ffe4c4"), black: new sd("#000000"), blanchedalmond: new sd("#ffebcd"), blue: new sd("#0000ff"), blueviolet: new sd("#8a2be2"), brown: new sd("#a52a2a"), burlywood: new sd("#deb887"), cadetblue: new sd("#5f9ea0"), chartreuse: new sd("#7fff00"), chocolate: new sd("#d2691e"), coral: new sd("#ff7f50"), cornflowerblue: new sd("#6495ed"), cornsilk: new sd("#fff8dc"), crimson: new sd("#dc143c"), cyan: new sd("#00ffff"), darkblue: new sd("#00008b"), darkcyan: new sd("#008b8b"), darkgoldenrod: new sd("#b8860b"), darkgray: new sd("#a9a9a9"), darkgreen: new sd("#006400"), darkgrey: new sd("#a9a9a9"), darkkhaki: new sd("#bdb76b"), darkmagenta: new sd("#8b008b"), darkolivegreen: new sd("#556b2f"), darkorange: new sd("#ff8c00"), darkorchid: new sd("#9932cc"), darkred: new sd("#8b0000"), darksalmon: new sd("#e9967a"), darkseagreen: new sd("#8fbc8f"), darkslateblue: new sd("#483d8b"), darkslategray: new sd("#2f4f4f"), darkslategrey: new sd("#2f4f4f"), darkturquoise: new sd("#00ced1"), darkviolet: new sd("#9400d3"), deeppink: new sd("#ff1493"), deepskyblue: new sd("#00bfff"), dimgray: new sd("#696969"), dimGray: new sd("#696969"), dimgrey: new sd("#696969"), dodgerblue: new sd("#1e90ff"), firebrick: new sd("#b22222"), floralwhite: new sd("#fffaf0"), forestgreen: new sd("#228b22"), fuchsia: new sd("#ff00ff"), gainsboro: new sd("#dcdcdc"), ghostwhite: new sd("#f8f8ff"), goldenrod: new sd("#daa520"), gold: new sd("#ffd700"), gray: new sd("#808080"), green: new sd("#008000"), greenyellow: new sd("#adff2f"), grey: new sd("#808080"), honeydew: new sd("#f0fff0"), hotpink: new sd("#ff69b4"), indianred: new sd("#cd5c5c"), indigo: new sd("#4b0082"), ivory: new sd("#fffff0"), khaki: new sd("#f0e68c"), lavenderblush: new sd("#fff0f5"), lavender: new sd("#e6e6fa"), lawngreen: new sd("#7cfc00"), lemonchiffon: new sd("#fffacd"), lightblue: new sd("#add8e6"), lightcoral: new sd("#f08080"), lightcyan: new sd("#e0ffff"), lightgoldenrodyellow: new sd("#fafad2"), lightgray: new sd("#d3d3d3"), lightgreen: new sd("#90ee90"), lightgrey: new sd("#d3d3d3"), lightpink: new sd("#ffb6c1"), lightsalmon: new sd("#ffa07a"), lightseagreen: new sd("#20b2aa"), lightskyblue: new sd("#87cefa"), lightslategray: new sd("#778899"), lightslategrey: new sd("#778899"), lightsteelblue: new sd("#b0c4de"), lightyellow: new sd("#ffffe0"), lime: new sd("#00ff00"), limegreen: new sd("#32cd32"), linen: new sd("#faf0e6"), magenta: new sd("#ff00ff"), maroon: new sd("#800000"), mediumaquamarine: new sd("#66cdaa"), mediumblue: new sd("#0000cd"), mediumorchid: new sd("#ba55d3"), mediumpurple: new sd("#9370db"), mediumseagreen: new sd("#3cb371"), mediumslateblue: new sd("#7b68ee"), mediumspringgreen: new sd("#00fa9a"), mediumturquoise: new sd("#48d1cc"), mediumvioletred: new sd("#c71585"), midnightblue: new sd("#191970"), mintcream: new sd("#f5fffa"), mistyrose: new sd("#ffe4e1"), moccasin: new sd("#ffe4b5"), navajowhite: new sd("#ffdead"), navy: new sd("#000080"), oldlace: new sd("#fdf5e6"), olive: new sd("#808000"), olivedrab: new sd("#6b8e23"), orange: new sd("#ffa500"), orangered: new sd("#ff4500"), orchid: new sd("#da70d6"), palegoldenrod: new sd("#eee8aa"), palegreen: new sd("#98fb98"), paleturquoise: new sd("#afeeee"), palevioletred: new sd("#db7093"), papayawhip: new sd("#ffefd5"), peachpuff: new sd("#ffdab9"), peru: new sd("#cd853f"), pink: new sd("#ffc0cb"), plum: new sd("#dda0dd"), powderblue: new sd("#b0e0e6"), purple: new sd("#800080"), rebeccapurple: new sd("#663399"), red: new sd("#ff0000"), rosybrown: new sd("#bc8f8f"), royalblue: new sd("#4169e1"), saddlebrown: new sd("#8b4513"), salmon: new sd("#fa8072"), sandybrown: new sd("#f4a460"), seagreen: new sd("#2e8b57"), seashell: new sd("#fff5ee"), sienna: new sd("#a0522d"), silver: new sd("#c0c0c0"), skyblue: new sd("#87ceeb"), slateblue: new sd("#6a5acd"), slategray: new sd("#708090"), slategrey: new sd("#708090"), snow: new sd("#fffafa"), springgreen: new sd("#00ff7f"), steelblue: new sd("#4682b4"), tan: new sd("#d2b48c"), teal: new sd("#008080"), thistle: new sd("#d8bfd8"), tomato: new sd("#ff6347"), turquoise: new sd("#40e0d0"), violet: new sd("#ee82ee"), wheat: new sd("#f5deb3"), white: new sd("#ffffff"), whitesmoke: new sd("#f5f5f5"), yellow: new sd("#ffff00"), yellowgreen: new sd("#9acd32") };
var ld = function() {
  function t2() {
  }
  return t2.parseDocumentStyles = function(t3) {
    for (var e2, i2, o2, r2 = {}, n2 = t3.styleSheets, s2 = 0, a2 = n2.length; s2 < a2; s2++) {
      e2 = n2[s2];
      try {
        e2.rules ? i2 = e2.rules : e2.cssRules && (i2 = e2.cssRules);
      } catch (t4) {
        continue;
      }
      if (i2) for (var l2 = i2.length; l2--; ) {
        var h2 = (o2 = i2[l2]).selectorText;
        if (h2) if (h2.indexOf(",") > -1) for (var u2 = h2.split(","), c2 = u2.length; c2--; ) {
          var d2 = u2[c2].trim();
          d2 && (r2[d2] = o2.style);
        }
        else r2[o2.selectorText] = o2.style;
      }
    }
    return r2;
  }, t2.extendCssStyle = function(t3, e2) {
    for (var i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = t3[i2];
      "inherit" == t3[r2] || Ot.included(r2, "background-color") && Ot.included(t3[r2], "none", "initial", "unset", "transparent") || (e2[r2] || (e2[e2.length] = r2, e2.length++), e2[r2] = t3[r2]);
    }
  }, t2.$_getSelectorStyle = function(t3, e2) {
    return t3[e2];
  }, t2.getSelectorStyle = function(e2, i2) {
    if (t2.prefix) {
      var o2 = [], r2 = { length: 0 };
      o2.push(t2.$_getSelectorStyle(e2, i2)), o2.push(t2.$_getSelectorStyle(e2, t2.prefix + i2));
      for (var n2 = 0, s2 = o2.length; n2 < s2; n2++) o2[n2] && t2.extendCssStyle(o2[n2], r2);
      return r2;
    }
    return t2.$_getSelectorStyle(e2, i2);
  }, t2.getSelectorStyles = function(e2, i2) {
    var o2 = "string" == typeof i2 ? i2.trim().split(" ") : Array.isArray(i2) ? i2 : null;
    return o2 ? o2.map(function(i3) {
      return t2.getSelectorStyle(e2, "." + i3);
    }) : [];
  }, t2;
}();
var hd = function() {
  function t2(t3, e2) {
    this._grid = t3, this._exportOptions = e2, this._exportLayout = e2.exportLayout, this._dataColumns = [], this._sparkColumns = {}, this.parse(e2);
  }
  return t2.prototype.dispose = function() {
    this._headerCells = null, this._dataCells = null, this._dataColumns = null, this._sparkColumns = null, this._exportLayout = null, this._layout = this._layout && this._layout.dispose();
  }, Object.defineProperty(t2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "colCount", { get: function() {
    var t3 = this._layout && this._layout._dataCells;
    return t3 && t3.length ? t3[0].length : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "headerRowCount", { get: function() {
    return (this._layout && this._layout._headerCells).length;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataRowCount", { get: function() {
    return (this._layout && this._layout._dataCells).length;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "sparkColumns", { get: function() {
    return this._sparkColumns;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "documentCssStyles", { get: function() {
    return this._documentCssStyles;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "groupModel", { get: function() {
    return this._groupModel;
  }, enumerable: false, configurable: true }), t2.prototype.getHeader = function(t3, e2) {
    return this._headerCells[t3][e2];
  }, t2.prototype.getItem = function(t3, e2) {
    return this._dataCells[t3][e2];
  }, t2.prototype.getFooterItem = function(t3, e2) {
    return this._footerCells[t3][e2];
  }, t2.prototype.getSummaryItem = function(t3, e2) {
    return this._summaryCells[t3][e2];
  }, t2.prototype.clearDataSpanned = function() {
    for (var t3 = this._dataCells, e2 = 0; e2 < t3.length; e2++) for (var i2 = 0; i2 < t3[e2].length; i2++) t3[e2][i2].spanned = false;
  }, t2.prototype.getItemLevel = function(t3) {
    for (var e2 = this.grid, i2 = t3.parent, o2 = t3.level - 1; i2 && i2.level > 0; ) {
      var r2 = e2.columnByField(i2.groupField), n2 = r2.layout;
      r2.visible && n2.visible || o2--, i2 = i2.parent;
    }
    return Math.max(o2, 0);
  }, t2.prototype.prepareLayout = function() {
    var t3, e2 = this.grid, i2 = this._exportOptions, o2 = e2.activeCellLayout;
    if (i2.linear) {
      for (var r2 = o2.getDataColumns(false), n2 = [], s2 = 0; s2 <= r2.length - 1; s2++) {
        var a2 = r2[s2], l2 = a2.visible && a2.layout.visible || i2.allColumns;
        (l2 = l2 && i2.hideColumns.indexOf(a2.name) < 0 || i2.showColumns.indexOf(a2.name) >= 0) && n2.push({ column: a2.name, width: a2.layout.domWidth || a2.layout.width });
      }
      t3 = new Rs(e2).load(n2);
    } else t3 = i2.exportLayout ? new Rs(e2).load(i2.exportLayout) : new Rs(e2).load(e2.activeCellLayout.getLayout(true, i2.applyFitStyle, i2.allColumns, i2.showColumns, i2.hideColumns, i2.layoutExpand));
    return t3;
  }, t2.prototype.parse = function(t3) {
    var e2 = this._grid, i2 = this._layout = this.prepareLayout(), o2 = this._exportOptions.stylePrefix;
    ld.prefix = o2 ? o2.trim() + " " : void 0, i2.$_refresh2(e2._columns, e2.displayOptions.minCellWidth), i2.$_prepareLayout(e2, e2.fixedOptions.colCount, e2.fixedOptions.rightCount), i2.$_prepareMerges(e2);
    var r2 = e2.footers, n2 = e2.headerSummaries;
    this._setCellInfo(i2._headerCells, this._headerCells = []), this._setCellInfo(i2._dataCells, this._dataCells = []), this._setFooterInfo(i2._dataCells, t3.footer === Qc ? r2.count : r2.visibleCount, this._footerCells = []), this._setFooterInfo(i2._dataCells, t3.headerSummary === Qc ? n2.count : n2.visibleCount, this._summaryCells = []), this._documentCssStyles = ld.parseDocumentStyles(e2.doc), this._setDataColumns(i2._dataCells), this._setSparkInfo(this._dataCells);
  }, t2.prototype._setCellInfo = function(t3, e2) {
    for (var i2 = 0; i2 < t3.length; i2++) {
      for (var o2 = [], r2 = 0; r2 < t3[i2].length; r2++) o2.push({ layout: t3[i2][r2], spanned: false });
      e2.push(o2);
    }
  }, t2.prototype._setFooterInfo = function(t3, e2, i2) {
    for (var o2 = 0; o2 < e2; o2++) for (var r2 = 0; r2 < t3.length; r2++) {
      for (var n2 = [], s2 = 0; s2 < t3[r2].length; s2++) n2.push({ footerIndex: o2, layout: t3[r2][s2], spanned: false });
      i2.push(n2);
    }
  }, t2.prototype.setGroupFooterItms = function(t3, e2, i2) {
    this._groupModel = t3;
    var o2 = this._groupFooterCells = [], r2 = this._dataCells, n2 = false;
    if (!(t3.footerCount > 0)) {
      var s2 = t3.provider._expandedAdornments, a2 = t3.provider._collapsedAdornments;
      n2 = i2 ? e2 && !t3.expanded && Ot.included(a2, p.SUMMARY, p.FOOTER) : (n2 = t3.expanded && s2 === p.SUMMARY) || !e2 && !t3.expanded && Ot.included(a2, p.SUMMARY, p.FOOTER);
    }
    for (var l2 = n2 ? t3.allFooterCount : t3.footerCount, h2 = 0; h2 < l2; h2++) for (var u2 = n2 ? t3._allFooters[h2] : t3.getFooter(h2), c2 = 0; c2 < r2.length; c2++) {
      for (var d2 = [], f2 = 0; f2 < r2[c2].length; f2++) d2.push({ footerIndex: u2.footerIndex, layout: r2[c2][f2].layout, spanned: false });
      o2.push(d2);
    }
  }, t2.prototype.getGroupFooterCells = function() {
    return this._groupFooterCells;
  }, t2.prototype._setDataColumns = function(t3) {
    var e2, i2;
    this._dataColumns = [];
    for (var o2 = 0, r2 = t3.length; o2 < r2; o2++) {
      e2 = [];
      for (var n2 = 0, s2 = t3[o2].length; n2 < s2; n2++) (i2 = t3[o2][n2]).isProxy && (i2 = i2.source), e2.push(i2.firstColumn);
      this._dataColumns.push(e2);
    }
  }, t2.prototype._setSparkInfo = function(t3) {
    function e2(t4, e3) {
      var i3 = { start: void 0, end: void 0, row: void 0 }, o3 = s2[0], r3 = s2[s2.length - 1], n3 = a2.columnByField(o3), l3 = a2.columnByField(r3);
      if (!n3 || !l3) return null;
      for (var h3 = 0, u3 = e3.length; h3 < u3; h3++) for (var c3 = 0, d3 = e3[h3].length; c3 < d3; c3++) n3 == e3[h3][c3] && (i3.start = c3, i3.row = h3 - t4), l3 == e3[h3][c3] && (i3.end = c3);
      return i3;
    }
    var i2, o2, r2, n2, s2, a2, l2 = this.documentCssStyles;
    this._sparkColumns = [];
    for (var h2 = 0, u2 = t3.length; h2 < u2; h2++) for (var c2 = 0, d2 = t3[h2].length; c2 < d2; c2++) if ((r2 = (o2 = (i2 = t3[h2][c2]).layout) instanceof _s ? o2.firstColumn : null) instanceof hs && (n2 = r2.renderer) && Dl.interfaced(n2)) {
      s2 = r2.fields, a2 = r2.grid;
      var p2 = s2.length > 0 && e2(h2, this._dataColumns);
      if (p2) {
        var f2 = n2.firstStyle, _2 = n2.lastStyle, g2 = n2.highStyle, y2 = n2.lowStyle, m2 = void 0, b2 = void 0, v2 = void 0;
        if (Tl.interfaced(n2)) {
          m2 = "line", !_2 && (_2 = Tl.LAST_STYLE), !g2 && (g2 = Tl.HIGH_STYLE), !y2 && (y2 = Tl.LOW_STYLE);
          var w2 = n2.pointStyle ? ld.getSelectorStyle(l2, "." + n2.pointStyle) : void 0;
          b2 = w2 ? new sd(w2.fill).toHex() : void 0, v2 = (x2 = ld.getSelectorStyle(l2, "." + Tl.CHART_STYLE)) ? new sd(x2.stroke).toHex() : void 0;
        } else {
          var C2 = void 0;
          Ml.interfaced(n2) ? (m2 = "column", C2 = Ml.CHART_STYLE, !_2 && (_2 = Ml.LAST_STYLE), !g2 && (g2 = Ml.HIGH_STYLE), !y2 && (y2 = Ml.LOW_STYLE)) : (m2 = "stacked", C2 = Fl.CHART_STYLE);
          var x2 = ld.getSelectorStyle(l2, "." + C2);
          v2 = new sd(x2.fill).toHex();
        }
        var I2 = g2 ? ld.getSelectorStyle(l2, "." + g2) : void 0, E2 = y2 ? ld.getSelectorStyle(l2, "." + y2) : void 0, S2 = f2 ? ld.getSelectorStyle(l2, "." + f2) : void 0, O2 = _2 ? ld.getSelectorStyle(l2, "." + _2) : void 0, R2 = { type: m2, colors: { colorHigh: I2 && I2.fill ? new sd(I2.fill).toHex() : void 0, colorLow: E2 && E2.fill ? new sd(E2.fill).toHex() : void 0, colorFirst: S2 && S2.fill ? new sd(S2.fill).toHex() : void 0, colorLast: O2 && O2.fill ? new sd(O2.fill).toHex() : void 0, colorMarkers: b2, colorSeries: v2 }, sparkLines: {}, range: p2 };
        i2.sparkLineGroup = R2, this._sparkColumns[r2.$_hash] = i2;
      }
    }
  }, t2;
}();
var ud = function() {
  function t2() {
  }
  return t2.convertNumberFormat = function(t3) {
    return t3.indexOf(";") > 0 && (t3 = t3.split(";")[0]), t3.indexOf(".#") > 0 ? t3.replace(".#", ".0") : t3;
  }, t2.convertDateFormat = function(t3) {
    for (var e2 = "", i2 = t3.length, o2 = 0; o2 < i2; o2++) {
      var r2 = t3.charAt(o2);
      switch (r2) {
        case "y":
        case "d":
        case "m":
        case "s":
        case ":":
          e2 += r2;
          break;
        case "M":
          e2 += "m";
          break;
        case "a":
          e2 += "AM/PM";
          break;
        case "H":
          e2 += "h", (o2 >= i2 - 1 || "H" != t3.charAt(o2 + 1)) && (e2 += "h");
          break;
        case "h":
          0 != o2 && "h" == t3.charAt(o2 - 1) || (e2 += "h");
          break;
        case "S":
        case "T":
        case "t":
        case "Z":
        case "z":
        case "+":
          break;
        case ".":
        case "/":
        case "-":
        case " ":
          (o2 >= i2 - 1 || "S" != t3.charAt(o2 + 1)) && (e2 = e2 + "\\" + r2);
          break;
        default:
          e2 = e2 + '"' + r2 + '"';
      }
    }
    return e2;
  }, t2;
}();
var cd = function() {
  function t2() {
    this._contentTypes = {}, this._bulkDownload = true;
  }
  return Object.defineProperty(t2.prototype, "bulkDownload", { get: function() {
    return this._bulkDownload;
  }, set: function(t3) {
    this._bulkDownload = t3;
  }, enumerable: false, configurable: true }), t2.prototype.executeDownLoad = function(t3, e2, i2) {
    return r(this, void 0, void 0, function() {
      var o2, r2, s2, a2, l2;
      return n(this, function(n2) {
        switch (n2.label) {
          case 0:
            if (o2 = [], r2 = Object.keys(e2), !this.bulkDownload) return [3, 1];
            for (s2 = 0; s2 < r2.length; s2++) a2 = r2[s2], l2 = e2[a2], o2.push(this.download(l2).then(function(t4) {
              return new Promise(function(e3, i3) {
                var o3 = new Uint8Array(t4.buffer);
                try {
                  var r3 = Array.prototype.map.call(o3, function(t5) {
                    return String.fromCharCode(t5);
                  }).join(""), n3 = "data:".concat(t4.type, ";base64,").concat(Rt.btoa(r3)), s3 = document.createElement("img");
                  s3.style.position = "fixed", s3.style.top = "-10000px", s3.style.left = "-10000px", s3.src = n3, s3.onload = function() {
                    t4.width = s3.width, t4.height = s3.height, s3.src = "", e3(t4);
                  }, s3.onerror = function() {
                    i3();
                  };
                } finally {
                }
              });
            }).catch(function() {
            }));
            return Promise.all(o2).catch(function() {
            }).finally(function() {
              i2 && i2.call(t3, e2);
            }), [3, 6];
          case 1:
            s2 = 0, n2.label = 2;
          case 2:
            return s2 < r2.length ? (a2 = r2[s2], l2 = e2[a2], [4, this.download(l2).then(function(t4) {
              return new Promise(function(e3, i3) {
                var o3 = new Uint8Array(t4.buffer);
                try {
                  var r3 = Array.prototype.map.call(o3, function(t5) {
                    return String.fromCharCode(t5);
                  }).join(""), n3 = "data:".concat(t4.type, ";base64,").concat(Rt.btoa(r3)), s3 = document.createElement("img");
                  s3.style.position = "fixed", s3.style.top = "-10000px", s3.style.left = "-10000px", s3.src = n3, s3.onload = function() {
                    t4.width = s3.width, t4.height = s3.height, s3.src = "", e3(t4);
                  }, s3.onerror = function() {
                    i3();
                  };
                } finally {
                }
              });
            }).catch(function() {
            })]) : [3, 5];
          case 3:
            n2.sent(), n2.label = 4;
          case 4:
            return s2++, [3, 2];
          case 5:
            i2 && i2.call(t3, e2), n2.label = 6;
          case 6:
            return [2];
        }
      });
    });
  }, t2.prototype.getContentTypes = function() {
    return this._contentTypes;
  }, t2.prototype.getExtension = function(t3, e2) {
    var i2 = function(t4) {
      return Array.prototype.map.call(t4, function(t5) {
        return Ot.hex(t5);
      }).join("");
    };
    if (t3) {
      var o2 = "", r2 = t3.toLowerCase().split(/\s*(?:;|$)\s*/), n2 = Ot.find(r2, function(t4) {
        return 0 === t4.indexOf("image");
      });
      n2 && (o2 = n2.indexOf("svg") >= 0 ? "svg" : n2.substring(6));
      var s2 = Ot.find(r2, function(t4) {
        return t4.indexOf("octet-stream") >= 0;
      });
      if (!o2 && s2 && e2.byteLength > 20) {
        var a2 = new Uint8Array(e2), l2 = i2(a2.slice(0, 10)), h2 = i2(a2.slice(-18));
        0 === l2.indexOf("474946") ? (o2 = "gif", t3 = "image/gif") : 0 === l2.indexOf("89504e47") ? (o2 = "png", t3 = "image/png") : 0 === l2.indexOf("ffd8") && "ffd9" === h2.substr(-4) ? (o2 = "jpeg", t3 = "image/jpeg") : 0 === l2.indexOf("424d") && (o2 = "bmp", t3 = "image/bmp");
      }
      return o2 && !this._contentTypes.hasOwnProperty(o2) && (this._contentTypes[o2] = t3), { ext: o2, type: t3 };
    }
  }, t2.prototype.download = function(t3) {
    var e2 = this;
    return new Promise(function(i2, o2) {
      var r2 = new XMLHttpRequest();
      r2.open("GET", t3.url), r2.onload = function() {
        if (200 === r2.status) {
          var o3 = e2.getExtension(r2.getResponseHeader("content-type"), r2.response), n2 = o3.ext, s2 = o3.type;
          n2 ? (t3.fileName = "".concat(t3.id, ".").concat(n2), t3.type = s2, t3.buffer = r2.response, i2(t3)) : i2(null);
        } else i2(null);
      }, r2.onerror = function() {
        o2();
      }, r2.responseType = "arraybuffer", r2.send();
    });
  }, t2;
}();
var dd = /\<|\>|\&|\"|\'/;
function pd(t2) {
  return dd.test(t2) ? t2.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/\"/g, "&quot;").replace(/\'/g, "&apos;") : t2;
}
var fd = function() {
  function t2() {
  }
  return t2.createDocument = function(t3, e2) {
    var i2 = { name: t3, attrs: {} };
    for (var o2 in e2) i2.attrs[o2] = e2[o2];
    return i2;
  }, t2.removeItem = function(e2) {
    if (e2.texts = null, e2.attrs = null, e2.childs) for (var i2 = e2.childs.length; i2--; ) t2.removeItem(e2.childs[i2]), delete e2.childs[i2];
    e2.childs = null;
  }, t2.addChild = function(e2, i2, o2, r2) {
    var n2 = { name: i2, attrs: o2 };
    return r2 && t2.addText(n2, pd(r2)), t2.addChildElement(e2, n2), n2;
  }, t2.addChildElement = function(t3, e2) {
    t3.childs || (t3.childs = []), t3.childs.push(e2);
  }, t2.addProperty = function(t3, e2, i2) {
    t3.attrs || (t3.attrs = {}), t3.attrs[e2] = pd(i2);
  }, t2.addText = function(t3, e2) {
    t3.texts || (t3.texts = []), t3.texts.push(e2);
  }, t2.toString = function(e2) {
    var i2 = "<" + e2.name;
    for (var o2 in e2.attrs) i2 += " " + o2 + '="' + e2.attrs[o2] + '"';
    if (e2.childs || e2.texts) {
      if (i2 += ">", e2.texts) for (var r2 = 0, n2 = e2.texts.length; r2 < n2; r2++) i2 += e2.texts[r2];
      if (e2.childs) for (r2 = 0, n2 = e2.childs.length; r2 < n2; r2++) i2 += t2.toString(e2.childs[r2]);
      i2 += "</" + e2.name + ">";
    } else i2 += "/>";
    return i2;
  }, t2.xmlEscape = function(t3) {
    return pd(t3);
  }, t2;
}();
var _d = function() {
  function t2() {
  }
  return t2.toColCaption = function(t3) {
    for (var e2 = ""; t3 >= 0; ) e2 = String.fromCharCode(t3 % 26 + 65) + e2, t3 = Math.floor(t3 / 26) - 1;
    return e2;
  }, t2.toRange = function(e2, i2, o2, r2, n2) {
    void 0 === o2 && (o2 = false), void 0 === r2 && (r2 = 1), void 0 === n2 && (n2 = 1);
    var s2 = i2 + 1;
    return o2 ? t2.toColCaption(e2) + s2 + ":" + t2.toColCaption(e2 + r2 - 1) + (s2 + n2 - 1) : t2.toColCaption(e2) + s2;
  }, t2.daysOfYear = function(e2) {
    for (var i2 = 0, o2 = 0; o2 < e2.getMonth(); o2++) i2 += t2.$$_MONTH_DAYS[o2];
    if (e2.getMonth() >= 2) {
      var r2 = e2.getFullYear();
      (r2 % 400 == 0 || r2 % 4 == 0 && r2 % 100 != 0) && i2++;
    }
    return i2 += e2.getDate();
  }, t2.daysOfPriorYears = function(t3) {
    return t3 <= 1900 ? 0 : 365 * (--t3 - 1899) + (Math.floor(t3 / 4) - Math.floor(t3 / 100) + Math.floor(t3 / 400) - 460);
  }, t2.toExcelDate = function(e2) {
    var i2 = (1e3 * (60 * (60 * e2.getHours() + e2.getMinutes()) + e2.getSeconds()) + e2.getMilliseconds()) / t2.$$_DAY_MILLISECONDS, o2 = t2.daysOfPriorYears(e2.getFullYear()) + this.daysOfYear(e2) + i2;
    return o2 >= 60 && o2++, o2;
  }, t2.XML_HEAD_STRING = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>', t2.$$_DAY_MILLISECONDS = 864e5, t2.$$_MONTH_DAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30], t2;
}();
var gd = function() {
  function t2() {
    this._nextId = 0, this._count = 0, this._stringMap = {}, this._strings = [];
  }
  return t2.prototype.dispose = function() {
    for (var t3 in this._strings = null, this._stringMap) delete this._stringMap[t3];
    this._stringMap = null;
  }, Object.defineProperty(t2.prototype, "count", { get: function() {
    return this._count;
  }, enumerable: false, configurable: true }), t2.prototype.uniqueCount = function() {
    return this._nextId;
  }, t2.prototype.add = function(t3) {
    this._count++;
    var e2 = this._stringMap[t3];
    return void 0 === e2 && (e2 = this._nextId++, this._stringMap[t3] = e2, this._strings[e2] = t3), e2;
  }, t2.prototype.getIndex = function(t3) {
    return this._stringMap[t3];
  }, t2.prototype.createPart = function() {
    var t3 = fd.createDocument("sst", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main" });
    fd.addProperty(t3, "count", this._count.toString()), fd.addProperty(t3, "uniqueCount", this._nextId.toString());
    for (var e2 = /^\s|\s$|\r|\n|\r\n/, i2 = 0, o2 = this._strings.length; i2 < o2; i2++) {
      var r2 = fd.addChild(t3, "si"), n2 = this._strings[i2].replace(/([\u0000-\u0008\u000b\u000c\u000e-\u001F])/g, function(t4) {
        return "_x".concat(("0000" + t4.charCodeAt(0).toString(16)).substr(-4), "_");
      }), s2 = fd.addChild(r2, "t", null, n2);
      e2.test(this._strings[i2]) && fd.addProperty(s2, "xml:space", "preserve");
    }
    var a2 = fd.toString(t3);
    return _d.XML_HEAD_STRING + a2;
  }, t2;
}();
var yd = function() {
  function t2(t3, e2) {
    this._id = t3, this._url = e2;
  }
  return Object.defineProperty(t2.prototype, "id", { get: function() {
    return this._id;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "url", { get: function() {
    return this._url;
  }, enumerable: false, configurable: true }), t2;
}();
var md = function() {
  function t2() {
    this._images = [], this._imageMap = {};
  }
  return t2.prototype.add = function(t3) {
    if (this._images.indexOf(t3) < 0) {
      var e2 = this._images.push(t3);
      this._imageMap[t3] = new yd(e2, t3);
    }
    return t3;
  }, t2.prototype.getImageMap = function() {
    return this._imageMap;
  }, t2.prototype.getImage = function(t3) {
    return this._imageMap && this._imageMap[t3];
  }, t2.prototype.getImageId = function(t3) {
    return this._imageMap && this._imageMap[t3] && this._imageMap[t3].id;
  }, t2;
}();
var bd = function() {
  function t2(t3, e2, i2, o2) {
    this.col = t3, this.toCol = t3, this.row = e2, this.toRow = e2, this.cWidth = 7 * i2, this.cHeight = o2 > 0 ? o2 / 0.75 : -1;
  }
  return t2.prototype.getDrawingInfos = function() {
    return { col: this.col.toString(), fromColOff: Math.round(this.fromX * t2.emu).toString(), row: this.row.toString(), fromRowOff: Math.round(this.fromY * t2.emu).toString(), toCol: this.toCol.toString(), toColOff: Math.round(this.colOff * t2.emu).toString(), toRow: this.toRow.toString(), toRowOff: Math.round(this.rowOff * t2.emu).toString() };
  }, t2.prototype.drawPosition = function(t3) {
    var e2 = fd, i2 = this.getDrawingInfos(), o2 = e2.addChild(t3, "xdr:from");
    e2.addChild(o2, "xdr:col", null, i2.col), e2.addChild(o2, "xdr:colOff", null, i2.fromColOff), e2.addChild(o2, "xdr:row", null, i2.row), e2.addChild(o2, "xdr:rowOff", null, i2.fromRowOff), o2 = e2.addChild(t3, "xdr:to"), e2.addChild(o2, "xdr:col", null, i2.toCol), e2.addChild(o2, "xdr:colOff", null, i2.toColOff), e2.addChild(o2, "xdr:row", null, i2.toRow), e2.addChild(o2, "xdr:rowOff", null, i2.toRowOff);
  }, t2.emu = 9525, t2;
}();
var vd = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2) {
    void 0 === s2 && (s2 = true);
    var a2 = t2.call(this, e3, i2, o2, r2) || this;
    return a2.offset = 4, a2.xLocation = "left", a2.yLocation = "center", a2.transparent = false, a2.text = "", a2.style = n2, a2.border = s2, a2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "gradientFill", { get: function() {
    var t3 = this.style["background-image"], e3 = "linear-gradient(", i2 = t3 ? t3.indexOf(e3) : -1;
    if (i2 > -1) {
      var o2 = this.splitEscape(t3.slice(i2 + e3.length, t3.length - 1));
      return o2.length > 2 ? new sd(o2[1]).toColorHex() : new sd(o2[0]).toColorHex();
    }
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fill", { get: function() {
    return new sd(this.style.fill || this.style["background-color"], false).toColorHex();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stroke", { get: function() {
    return this.style.stroke ? new sd(this.style.stroke, false).toColorHex() : this.fill;
  }, enumerable: false, configurable: true }), e2.prototype.splitEscape = function(t3, e3) {
    if (void 0 === e3 && (e3 = ","), t3) {
      for (var i2 = [], o2 = false, r2 = "", n2 = 0; n2 < t3.length; n2++) {
        var s2 = t3[n2];
        s2 != e3 || o2 ? (" " != s2 || o2) && (r2 += s2) : (i2.push(r2), r2 = ""), "(" == s2 && (o2 = true), ")" == s2 && (o2 = false);
      }
      return r2 && i2.push(r2), i2;
    }
    return null;
  }, e2.prototype.getRectangleSize = function(t3, e3) {
    if ("number" == typeof t3) return t3;
    if (t3 && -1 !== t3.indexOf("px")) t3 = t3.replace("px", "");
    else if (t3 && t3.indexOf("%")) {
      var i2 = parseFloat(t3.replace("%", ""));
      t3 = e3 * i2 / 100;
    }
    return Number(t3);
  }, e2.prototype.drawFill = function(t3) {
    var e3 = fd;
    if (this.gradientFill) {
      var i2 = e3.addChild(t3, "a:solidFill");
      e3.addChild(i2, "a:srgbClr", { val: this.gradientFill });
    } else {
      i2 = e3.addChild(t3, "a:solidFill");
      e3.addChild(i2, "a:srgbClr", { val: this.fill });
    }
  }, e2.prototype.calcPosition = function() {
    var t3 = this.getRectangleSize(this.percentageOffset, this.cWidth - 2 * this.offset - 3) || this.offset;
    switch (this.width = this.width ? this.width : this.getRectangleSize(this.percentageWidth, this.cWidth - 2 * this.offset - 3), this.height = this.height ? this.height : this.getRectangleSize(this.percentageHeight, this.cHeight - 2 * this.offset - 3), this.fromX = this.offset, this.fromY = (this.cHeight - this.height) / 2, this.rowOff = this.fromY + this.height, this.xLocation) {
      case "left":
        this.colOff = this.width + this.offset;
        break;
      case "percent":
        this.fromX = Math.max(t3, this.offset) + this.offset, this.colOff = this.fromX + this.width;
        break;
      case "right":
        this.fromX = Math.max(1, this.cWidth - this.width - 2 * this.offset), this.colOff = this.cWidth - 2 * this.offset;
    }
    switch (this.yLocation) {
      case "top":
        this.fromY = this.offset, this.rowOff = this.fromY + this.height;
        break;
      case "center":
        break;
      case "bottom":
        this.rowOff = this.cHeight - this.offset, this.fromY = this.rowOff - this.height;
    }
    for (var e3 = this.cHeight / 2 - this.height / 2, i2 = this.cWidths || [], o2 = 1; o2 < i2.length; o2++) {
      var r2 = i2[o2] - i2[o2 - 1];
      switch (this.xLocation) {
        case "left":
          this.fromX >= i2[o2] && (this.col++, this.fromX -= r2), this.fromX + this.width > i2[o2] && (this.toCol++, this.colOff -= r2);
          break;
        case "percent":
          t3 >= i2[o2] && (this.col++, this.fromX -= r2), t3 + this.width > i2[o2] && (this.toCol++, this.colOff -= r2);
          break;
        case "right":
          this.fromX >= i2[o2] && (this.col++, this.fromX -= r2), this.cWidth <= i2[o2] && (o2 > 1 && this.toCol++, this.colOff = r2 - 2 * this.offset);
      }
    }
    var n2 = this.cHeights || [];
    switch (this.yLocation) {
      case "top":
      case "center":
        for (o2 = 1; o2 < n2.length; o2++) e3 >= n2[o2] && (this.row++, this.fromY -= n2[o2] - n2[o2 - 1]), e3 + this.height > n2[o2] && (this.toRow++, this.rowOff -= n2[o2] - n2[o2 - 1]);
        break;
      case "bottom":
        for (o2 = n2.length - 1; o2 > 0; o2--) this.toRow++, this.rowOff -= n2[o2] - n2[o2 - 1], this.height < n2[o2] && (this.row++, this.fromY -= n2[o2] - n2[o2 - 1]);
    }
  }, e2.prototype.draw = function(t3, e3) {
    var i2 = fd, o2 = i2.addChild(t3, "xdr:twoCellAnchor", { editAs: "oneCell" });
    this.calcPosition(), this.drawPosition(o2);
    var r2 = i2.addChild(o2, "xdr:sp", { macro: "", textlink: "" }), n2 = i2.addChild(r2, "xdr:nvSpPr");
    i2.addChild(n2, "xdr:cNvPr", { id: e3 + 2, name: "rectangle " + e3 }), i2.addChild(n2, "xdr:cNvSpPr");
    var s2 = i2.addChild(r2, "xdr:spPr"), a2 = i2.addChild(s2, "a:xfrm");
    if (i2.addChild(a2, "a:off", { x: "1", y: "1" }), i2.addChild(a2, "a:ext", { cx: "1181100", cy: "124995" }), i2.addChild(s2, "a:prstGeom", { prst: "rect" }), this.transparent ? i2.addChild(s2, "a:noFill") : this.drawFill(s2), !this.border) {
      var l2 = i2.addChild(s2, "a:ln");
      i2.addChild(l2, "a:noFill");
    }
    var h2 = i2.addChild(r2, "xdr:style"), u2 = i2.addChild(h2, "a:lnRef", { idx: "2" });
    i2.addChild(u2, "a:srgbClr", { val: this.stroke });
    var c2 = i2.addChild(h2, "a:fillRef", { idx: "1" });
    i2.addChild(c2, "a:srgbClr", { val: "000000" });
    var d2 = i2.addChild(h2, "a:effectRef", { idx: "0" });
    i2.addChild(d2, "a:schemeClr", { val: "accent1" });
    var p2 = i2.addChild(h2, "a:fontRef", { idx: "minor" });
    i2.addChild(p2, "a:schemeClr", { val: "lt1" });
    var f2 = i2.addChild(r2, "xdr:txBody");
    i2.addChild(f2, "a:bodyPr", { vertOverflow: "clip", horzOverflow: "clip", rtlCol: "0", anchor: "ctr" }), i2.addChild(f2, "a:lstStyle");
    var _2 = i2.addChild(f2, "a:p");
    if (i2.addChild(_2, "a:pPr", { algn: "ctr" }), this.text) {
      var g2 = i2.addChild(_2, "a:r"), y2 = i2.addChild(g2, "a:rPr", { lang: "ko-KR", altLang: "en-US", sz: "1000" }), m2 = i2.addChild(y2, "a:solidFill");
      i2.addChild(m2, "a:schemeClr", { val: "tx1" }), i2.addChild(g2, "a:t").texts = [this.text];
    } else i2.addChild(_2, "a:endParaRPr", { lang: "ko-KR", altLang: "en-US", sz: "1100" });
    i2.addChild(o2, "xdr:clientData");
  }, e2;
}(bd);
var wd = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2) {
    var a2 = t2.call(this, e3, i2, o2, r2) || this;
    switch (a2.imageUrl = s2, n2) {
      case N.CENTER:
        a2.location = N.CENTER;
        break;
      case N.RIGHT:
      case N.RIGHT_EDGE:
        a2.location = N.RIGHT;
        break;
      default:
        a2.location = N.LEFT;
    }
    return a2;
  }
  return i(e2, t2), e2.prototype.calcPosition = function() {
    var t3, e3 = this.rHeight, i2 = this.rWidth, o2 = this.imageWidth, r2 = this.imageHeight;
    null != e3 && e3 > 0 && null != i2 && i2 > 0 ? (o2 = i2, r2 = e3) : null != e3 && e3 > 0 ? (t3 = e3 / r2, r2 = e3, o2 *= t3) : null != i2 && i2 > 0 && (t3 = i2 / o2, o2 = i2, r2 *= t3), this.cWidth = this.cWidth < 0 ? o2 : this.cWidth, this.cHeight = this.cHeight < 0 ? r2 : this.cHeight, t3 = 1, (this.cWidth < o2 || this.cHeight < r2) && (r2 *= t3 = Math.min((this.cWidth - 2) / o2, (this.cHeight - 2) / r2), o2 *= t3);
    var n2 = 1;
    this.location === N.CENTER ? n2 = Math.max(1, this.cWidth / 2 - o2 / 2) : this.location === N.RIGHT && (n2 = this.cWidth - o2 - 1);
    for (var s2 = this.cHeight / 2 - r2 / 2, a2 = this.row, l2 = this.col, h2 = a2, u2 = this.col, c2 = s2, d2 = n2, p2 = s2 + r2, f2 = n2 + o2, _2 = this.cHeights || [], g2 = 1; g2 < _2.length; g2++) s2 >= _2[g2] && (a2++, c2 -= _2[g2] - _2[g2 - 1]), s2 + r2 > _2[g2] && (h2++, p2 -= _2[g2] - _2[g2 - 1]);
    var y2 = this.cWidths || [];
    for (g2 = 1; g2 < y2.length; g2++) n2 >= y2[g2] && (l2++, d2 -= y2[g2] - y2[g2 - 1]), n2 + o2 > y2[g2] && (u2++, f2 -= y2[g2] - y2[g2 - 1]);
    this.row = a2, this.toRow = h2, this.col = l2, this.toCol = u2, this.fromX = Math.max(1, d2), this.fromY = Math.max(1, c2), this.colOff = Math.min(f2, this.cWidth - 1), this.rowOff = Math.min(p2, this.cHeight - 1);
  }, e2.prototype.draw = function(t3, e3) {
    var i2 = fd;
    if (this.eImage && this.eImage.fileName) {
      this.imageWidth = this.eImage.width, this.imageHeight = this.eImage.height, this.calcPosition();
      var o2 = i2.addChild(t3, "xdr:twoCellAnchor", { editAs: "oneCell" });
      this.drawPosition(o2);
      var r2 = i2.addChild(o2, "xdr:pic"), n2 = i2.addChild(r2, "xdr:nvPicPr");
      i2.addChild(n2, "xdr:cNvPr", { id: e3 + 2, name: "picture " + e3 });
      var s2 = i2.addChild(n2, "xdr:cNvPicPr");
      i2.addChild(s2, "a:picLocks", { noChangeAspect: "1" });
      var a2 = i2.addChild(r2, "xdr:blipFill"), l2 = i2.addChild(a2, "a:blip", { "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships", "r:embed": "rId" + this.imageIndex }), h2 = i2.addChild(l2, "a:extLst"), u2 = i2.addChild(h2, "a:ext", { uri: "{28A0092B-C50C-407E-A947-70E740481C1C}" });
      i2.addChild(u2, "a14:useLocalDpi", { "xmlns:a14": "http://schemas.microsoft.com/office/drawing/2010/main", val: "0" }), i2.addChild(i2.addChild(a2, "a:stretch"), "a:fillRect");
      var c2 = i2.addChild(r2, "xdr:spPr"), d2 = i2.addChild(c2, "a:xfrm");
      i2.addChild(d2, "a:off", { x: "1", y: "1" }), i2.addChild(d2, "a:ext", { cx: "1181100", cy: "1189663" }), i2.addChild(i2.addChild(c2, "a:prstGeom", { prst: "rect" }), "a:avLst"), i2.addChild(o2, "xdr:clientData");
    }
  }, e2;
}(bd);
var Cd = function() {
  function t2(t3, e2, i2) {
    this._infos = [], this._book = t3, this._sheet = e2, this._index = i2;
  }
  return t2.prototype.dispose = function() {
    return null;
  }, Object.defineProperty(t2.prototype, "fileName", { get: function() {
    return "drawing" + this._index + ".xml";
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "relationId", { get: function() {
    return "rId" + this._rId;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "rId", { set: function(t3) {
    this._rId = t3;
  }, enumerable: false, configurable: true }), t2.prototype.createPart = function() {
    for (var t3 = fd.createDocument("xdr:wsDr", { "xmlns:xdr": "http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing", "xmlns:a": "http://schemas.openxmlformats.org/drawingml/2006/main" }), e2 = this._infos, i2 = 0; i2 < e2.length; i2++) {
      var o2 = e2[i2], r2 = this._sheet.getMergeInfo(o2.row, o2.col);
      if (r2) {
        for (var n2 = [0], s2 = -1, a2 = 0, l2 = [0], h2 = r2.row; h2 < r2.row + r2.rows; h2++) {
          var u2 = this._sheet.getRow(h2);
          if (!(u2._height > 0)) {
            s2 = -1, n2 = [];
            break;
          }
          n2.push(s2 += u2._height / 0.75);
        }
        for (var c2 = r2.col; c2 < r2.col + r2.cols; c2++) l2.push(a2 += 7 * this._sheet.getColumnWidth(c2));
        o2.cHeight = s2, o2.cWidth = a2, o2.cWidths = l2.slice(), o2.cHeights = n2.slice();
      }
      o2 instanceof wd && (o2.eImage = this._book.getExcelImage(o2.imageUrl), o2.imageIndex = this._book.getImageIndex(o2.imageUrl)), o2.draw(t3, i2);
    }
    var d2 = fd.toString(t3);
    return _d.XML_HEAD_STRING + d2;
  }, t2.prototype.addImage = function(t3, e2, i2, o2, r2, n2, s2, a2) {
    var l2 = new wd(t3, e2, i2, o2, r2, n2);
    return l2._rWidth = s2, l2._rHeight = a2, this._infos.push(l2), l2;
  }, t2.prototype.addActualTarget = function(t3, e2, i2, o2, r2, n2, s2, a2) {
    var l2 = r2[0], h2 = r2[1], u2 = r2[2];
    u2 = u2 || 100;
    var c2 = new vd(t3, e2, i2, o2, a2.background), d2 = new vd(t3, e2, i2, o2, a2.actual), p2 = new vd(t3, e2, i2, o2, a2.target, false);
    c2.xLocation = "left", c2.percentageWidth = "100%", c2.percentageHeight = "80%", d2.xLocation = "left", d2.percentageWidth = Math.min(100, Math.max(1, h2 / u2 * 100)) + "%", d2.percentageHeight = n2 || "40%", p2.xLocation = "percent", p2.percentageOffset = Math.min(100, Math.max(0, l2 / u2 * 100)) + "%", p2.width = s2 || 3, p2.percentageHeight = "80%", null != h2 && h2 > 0 ? this._infos.push(c2, d2, p2) : this._infos.push(c2, p2);
  }, t2.prototype.addBar = function(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2) {
    var u2 = new vd(t3, e2, i2, o2, s2.barStyle, false), c2 = new vd(t3, e2, i2, o2, {}, false), d2 = h2 - l2 || 1, p2 = Math.min(100, (r2 - l2) / d2 * 100);
    if (isNaN(a2)) {
      switch (n2) {
        case rr.LEFT:
        case rr.TOP:
          u2.xLocation = "left";
          break;
        case rr.RIGHT:
        case rr.BOTTOM:
          u2.xLocation = "right";
      }
      u2.percentageWidth = Math.max(1, p2) + "%", c2.xLocation = "left", c2.percentageWidth = "100%";
    } else u2.xLocation = "percent", r2 < a2 ? (c2.xLocation = "percent", u2.percentageOffset = Math.max(1, p2) + "%", c2.percentageOffset = Math.max(1, (a2 - l2) / d2 * 100) + "%", u2.style = s2.negativeStyle) : (c2.xLocation = "left", u2.percentageOffset = Math.max(1, (a2 - l2) / d2 * 100) + "%"), c2.percentageWidth = "50%", u2.percentageWidth = Math.max(1, Math.abs((r2 - a2) / d2 * 100)) + "%";
    u2.percentageHeight = "80%", c2.percentageHeight = "80%", c2.transparent = true, c2.text = r2.toString(), null != r2 && (r2 > 0 || r2 < a2) && a2 !== r2 ? this._infos.push(u2, c2) : this._infos.push(c2);
  }, t2.prototype.addSignal = function(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2, u2) {
    var c2 = a2 ? Math.abs(r2) : r2;
    isNaN(l2) || isNaN(h2) || (c2 = s2 * (c2 - l2) / (h2 - l2));
    for (var d2 = n2[0], p2 = n2[1], f2 = 1, _2 = d2 * (100 / Math.max(d2, p2)), g2 = (p2 - d2) / (s2 - 1), y2 = 0; y2 < s2; y2++) {
      var m2 = new vd(t3, e2, i2, o2, y2 < c2 ? u2.barStyle : u2.inactiveStyle, false), b2 = (100 - 2 * (s2 + 1)) / s2;
      m2.offset = 1, m2.xLocation = "percent", m2.yLocation = "bottom", m2.percentageHeight = _2 + "%", m2.percentageWidth = b2 + "%", m2.percentageOffset = f2 + "%", f2 += b2 + 2, _2 += g2, this._infos.push(m2);
    }
  }, t2.prototype.createSheetRel = function() {
    var t3 = fd.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" }), e2 = fd.addChild(t3, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" });
    fd.addProperty(e2, "Id", this.relationId), fd.addProperty(e2, "Target", "../drawings/" + this.fileName);
    var i2 = fd.toString(t3);
    return _d.XML_HEAD_STRING + i2;
  }, t2.prototype.createRel = function() {
    var t3 = [];
    this._infos.forEach(function(e3) {
      t3.indexOf(e3.imageUrl) < 0 && t3.push(e3.imageUrl);
    });
    for (var e2 = fd.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" }), i2 = 0; i2 < t3.length; i2++) {
      var o2 = t3[i2], r2 = this._book.getExcelImage(o2);
      if (r2 && r2.fileName) {
        var n2 = fd.addChild(e2, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" });
        fd.addProperty(n2, "Id", "rId" + this._book.getImageIndex(o2).toString()), fd.addProperty(n2, "Target", "../media/" + r2.fileName);
      }
    }
    var s2 = fd.toString(e2);
    return _d.XML_HEAD_STRING + s2;
  }, t2;
}();
var xd = function() {
  function t2(t3, e2) {
    this._memoText = [], this._vmlText = [], this._authors = [], this._sId = 0, this._sheet = t3, this._index = e2, this._ctx = document.createElement("canvas").getContext("2d");
  }
  return t2.prototype.dispose = function() {
    return null;
  }, Object.defineProperty(t2.prototype, "fileName", { get: function() {
    return "comments" + this._index + ".xml";
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "relationId", { get: function() {
    return "rId" + this.rId;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "vmlId", { get: function() {
    return "rId" + this.vId;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "sId", { get: function() {
    return this._sId++;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "shapeId", { get: function() {
    return "_x0000_s" + String(this.sId).padStart(4, "0");
  }, enumerable: false, configurable: true }), t2.prototype.addAuthor = function(t3) {
    t3 = fd.xmlEscape(t3);
    var e2 = this._authors.indexOf(t3);
    return e2 >= 0 ? e2 : this._authors.push(t3) - 1;
  }, t2.prototype.addMemo = function(t3, e2, i2) {
    for (var o2 = this.addAuthor(i2.author), r2 = this.getMemoWidth(i2), n2 = t3 + 1, s2 = n2, a2 = r2, l2 = 0; a2 > 0; ) {
      var h2 = 7 * this._sheet.getColumnWidth(s2);
      if (a2 + 15 <= h2) {
        l2 = a2 + 15;
        break;
      }
      a2 -= h2, s2++;
    }
    var u2 = 7 * this._sheet.getColumnWidth(s2), c2 = Math.round(l2 / u2 * 1024), d2 = '<v:shape id="'.concat(this.shapeId, `" type="#_x0000_t202" style='position:absolute;margin-left:165pt;margin-top:8pt;width:`).concat(r2, `px;height:81pt;z-index:1;visibility:hidden' fillcolor="#ffffe1 [80]" strokecolor="#217346" o:insetmode="auto"><v:fill color2="#ffffe1 [80]"/><v:fill color2="#ffffe1 [80]"/><v:shadow color="none [81]" obscured="t"/><v:path o:connecttype="none"/><v:textbox style='mso-direction-alt:auto'><div style='text-align:left'></div></v:textbox><x:ClientData ObjectType="Note"><x:MoveWithCells/><x:SizeWithCells/><x:Anchor>`).concat(n2, ", 15, ").concat(e2 > 0 ? e2 - 1 : 0, ", 8, ").concat(s2, ", ").concat(c2, ", ").concat(e2 + 2, ", 17</x:Anchor><x:AutoFill>False</x:AutoFill><x:Row>").concat(e2, "</x:Row><x:Column>").concat(t3, "</x:Column></x:ClientData></v:shape>");
    this._vmlText.push(d2);
    var p2 = '<comment ref="'.concat(_d.toRange(t3, e2), '" authorId="').concat(o2 > -1 ? o2 : 0, '" shapeId="0"><text>').concat(i2.authorVisible ? '<r><rPr><b /><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>'.concat(this._authors[o2], '</t></r><r><rPr><b /><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>:</t></r><r><rPr><sz val="10" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t xml:space="preserve">\n</t></r>') : "", '<r><rPr><sz val="').concat(i2.fontSize || 10, '" /><color rgb="FF000000" /><rFont val="Malgun Gothic" /><family val="2" /><charset val="129" /></rPr><t>').concat(fd.xmlEscape(i2.message), "</t></r></text></comment>");
    this._memoText.push(p2);
  }, t2.prototype.getMemoWidth = function(t3) {
    var e2 = this, i2 = t3.message, o2 = Math.ceil((t3.fontSize || 10) * (96 / 72)) + "px";
    this._ctx.font = o2 + " Malgun Gothic";
    var r2 = i2.split("\n"), n2 = 0;
    if (r2.forEach(function(t4) {
      n2 = Math.max(n2, e2._ctx.measureText(t4).width);
    }), t3.authorVisible && t3.author) {
      this._ctx.font = "bold ".concat(o2, " Malgun Gothic");
      var s2 = this._ctx.measureText(t3.author).width;
      n2 = Math.max(n2, s2);
    }
    return Math.max(t3.minWidth, Math.min(Math.ceil(n2 + 6), t3.maxWidth));
  }, t2.prototype.createSheetRel = function() {
    var t3 = fd.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" }), e2 = fd.addChild(t3, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" });
    fd.addProperty(e2, "Id", "rId" + this.rId), fd.addProperty(e2, "Target", "../" + this.fileName), e2 = fd.addChild(t3, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" }), fd.addProperty(e2, "Id", this.vmlId), fd.addProperty(e2, "Target", "../drawings/vmlDrawing1.vml");
    var i2 = fd.toString(t3);
    return _d.XML_HEAD_STRING + i2;
  }, t2.prototype.createPart = function() {
    return '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="xr" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision"><authors>'.concat(this._authors.map(function(t3) {
      return "<author>".concat(t3, "</author>");
    }).join(""), "</authors><commentList>").concat(this._memoText.join(""), "</commentList></comments>");
  }, t2.prototype.createVmlPart = function() {
    return '<xml xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel"><o:shapelayout v:ext="edit"><o:idmap v:ext="edit" data="1"/></o:shapelayout><v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe"><v:stroke joinstyle="miter"/><v:path gradientshapeok="t" o:connecttype="rect"/></v:shapetype>'.concat(this._vmlText.join(""), "</xml>");
  }, t2;
}();
var Id = function() {
  function t2(t3) {
    this._id = t3;
  }
  return t2.EqualsById = function(t3, e2) {
    return !t3 && !e2 || !(!t3 && e2 || t3 && !e2) && t3._id == e2.id;
  }, Object.defineProperty(t2.prototype, "id", { get: function() {
    return this._id;
  }, enumerable: false, configurable: true }), t2.prototype.dispose = function() {
  }, t2;
}();
var Ed = function() {
  function t2() {
    this._items = [], this._indexer = 0;
  }
  return t2.prototype.dispose = function() {
    for (var t3 = this._items.length; t3--; ) this._items[t3].dispose();
    this._items = null;
  }, t2.prototype.getIndexer = function() {
    return this._indexer++;
  }, t2.prototype.create = function() {
    for (var t3, e2 = [], i2 = 0; i2 < arguments.length; i2++) e2[i2] = arguments[i2];
    for (var o2 = this._items.length; o2--; ) if ((t3 = this._items[o2]).equals.apply(t3, e2)) return t3;
    return t3 = this.createInstance.apply(this, e2), this._items.push(t3), t3;
  }, t2.prototype.createUnique = function() {
    for (var t3 = [], e2 = 0; e2 < arguments.length; e2++) t3[e2] = arguments[e2];
    var i2 = this.createInstance.apply(this, t3);
    return this._items.push(i2), i2;
  }, t2;
}();
var Sd = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2, a2, l2, h2) {
    var u2 = t2.call(this, e3) || this;
    return u2._bold = void 0, u2._italic = void 0, u2._underline = void 0, u2._name = i2, u2._size = o2, u2._color = r2, u2._bold = n2, u2._italic = s2, u2._underline = a2, u2._strike = l2, u2._double = h2, u2;
  }
  return i(e2, t2), e2.prototype.assignFrom = function(t3) {
    this._name = this._name || t3._name, this._size = this._size || t3._size, this._color = this._color || t3._color, this._bold = null == this._bold ? t3._bold : this._bold, this._italic = null == this._italic ? t3._italic : this._italic, this._underline = null == this._underline ? t3._underline : this._underline, this._strike = null == this._strike ? t3._strike : this._strike, this._double = null == this._double ? t3._double : this._double;
  }, e2.prototype.equals = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    return void 0 === t3 && (t3 = "Tahoma"), void 0 === e3 && (e3 = 10), void 0 === i2 && (i2 = "ff000000"), void 0 === o2 && (o2 = false), void 0 === r2 && (r2 = false), void 0 === n2 && (n2 = false), void 0 === s2 && (s2 = false), void 0 === a2 && (a2 = false), this._name == t3 && this._size == e3 && this._color == i2 && this._bold == o2 && this._italic == r2 && this._underline == n2 && this._strike == s2 && this._double == a2;
  }, e2.prototype.toXml = function(t3, e3) {
    Li.addChildWithAttr(t3, e3, "sz", "val", this._size || 10), Li.addChildWithAttr(t3, e3, "name", "val", this._name || "Calibri"), Li.addChildWithAttr(t3, e3, "color", "rgb", this._color || "ff000000"), Li.addChildWithAttr(t3, e3, "b", "val", this._bold ? "true" : "false"), Li.addChildWithAttr(t3, e3, "i", "val", this._italic ? "true" : "false"), this._underline && Li.addChildWithAttr(t3, e3, "u", "val", this._double ? "double" : ""), this._strike && Li.addChild(t3, e3, "strike");
  }, e2;
}(Id);
var Od = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this, o2 = xt(e3).getComputedStyle(e3);
    return i2._defFontSize = i2.$_convertUnit(o2.fontSize || "16px"), i2;
  }
  return i(e2, t2), e2.prototype.createInstance = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    return new Sd(this.getIndexer(), t3, e3, i2, o2, r2, n2, s2, a2);
  }, e2.prototype.createFromCss = function(t3) {
    var e3 = t3["font-family"];
    e3 ? (e3.indexOf(",") > -1 && (e3 = e3.split(",")[0]), e3 = e3.replace(/\"/g, "")) : e3 = void 0;
    var i2 = this.$_convertUnit(t3["font-size"]);
    i2 = isNaN(i2) ? void 0 : 72 * i2 / 96;
    var o2 = t3.color;
    o2 && (o2 = "#" == o2.charAt(0) ? t3.color : new sd(o2).toColorHex());
    var r2 = "bold" == t3["font-weight"], n2 = "italic" == t3["font-style"], s2 = t3["text-decoration-line"], a2 = !!s2 && s2.indexOf("underline") >= 0, l2 = !!s2 && s2.indexOf("line-through") >= 0, h2 = "double" === t3["text-decoration-style"];
    return this.create(e3, i2, o2, r2, n2, a2, l2, h2);
  }, e2.prototype.toXml = function(t3, e3) {
    for (var i2 = this._items.length, o2 = 0; o2 < i2; o2++) {
      var r2 = Li.addChild(t3, e3, "font");
      this._items[o2].toXml(t3, r2);
    }
    Li.setAttr(e3, "count", i2);
  }, e2.prototype.$_convertUnit = function(t3) {
    return null == t3 ? void 0 : "string" == typeof t3 ? t3.indexOf("px") > 0 ? parseFloat(t3) : t3.indexOf("pt") > 0 ? Math.round(1.3333 * parseFloat(t3)) : t3.indexOf("em") > 0 ? parseFloat(t3) * this._defFontSize : 12 : parseInt(t3);
  }, e2;
}(Ed);
var Rd = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2, a2) {
    void 0 === i2 && (i2 = "solid"), void 0 === r2 && (r2 = 0), void 0 === n2 && (n2 = false), void 0 === a2 && (a2 = 90);
    var l2 = t2.call(this, e3) || this;
    return l2._pattern = i2, l2._color = o2, l2._linear = n2, l2._color2 = s2, l2._degree = a2, l2._tint = r2, l2;
  }
  return i(e2, t2), e2.prototype.assignFrom = function(t3) {
    this._pattern = t3._pattern || this._pattern, this._color = t3._color || this._color, this._tint = t3._tint || this._tint, this._linear = null == t3._linear ? this._linear : t3._linear, this._color2 = t3._color2 || this._color2, this._degree = t3._degree || this._degree;
  }, e2.prototype.equalsObj = function(t3) {
    return this._pattern == t3._pattern && this._color == t3._color && this._color2 == t3._color2 && this._linear == t3._linear && this._degree == t3._degree && this._tint == t3._tint;
  }, e2.prototype.equals = function(t3, e3, i2, o2, r2, n2) {
    return void 0 === t3 && (t3 = "solid"), void 0 === i2 && (i2 = 0), void 0 === o2 && (o2 = false), void 0 === n2 && (n2 = 90), this._pattern == t3 && this._color == e3 && this._color2 == r2 && this._linear == o2 && this._degree == n2 && this._tint == i2;
  }, e2.prototype.toXml = function(t3, e3) {
    var i2, o2 = this._tint || 0;
    if (this._linear) {
      var r2 = Li.addChildWithAttr(t3, e3, "gradientFill", "degree", this._degree || 90), n2 = Li.addChildWithAttr(t3, r2, "stop", "position", "0");
      i2 = Li.addChild(t3, n2, "color"), Li.setAttr(i2, "rgb", this._color), Li.setAttr(i2, "tint", this._tint || 0), n2 = Li.addChildWithAttr(t3, r2, "stop", "position", "1"), i2 = Li.addChild(t3, n2, "color"), Li.setAttr(i2, "rgb", this._color2), Li.setAttr(i2, "tint", o2);
    } else {
      var s2 = Li.addChildWithAttr(t3, e3, "patternFill", "patternType", this._pattern.toString());
      "none" != this._pattern && null != this._color && (i2 = Li.addChild(t3, s2, "fgColor"), Li.setAttr(i2, "rgb", this._color), Li.setAttr(i2, "tint", o2));
    }
  }, e2;
}(Id);
var Pd = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.createInstance = function(t3, e3, i2, o2, r2, n2) {
    return new Rd(this.getIndexer(), t3, e3, i2, o2, r2, n2);
  }, e2.prototype.createFromCss = function(t3) {
    var e3 = t3["background-image"], i2 = "linear-gradient(", o2 = e3 ? e3.indexOf(i2) : -1;
    if (o2 > -1) {
      var r2 = this._splitEscape(e3.slice(o2 + i2.length, e3.length - 1)), n2 = void 0, s2 = void 0, a2 = void 0;
      r2.length > 2 ? (n2 = new sd(r2[1]), s2 = new sd(r2[2]), a2 = parseInt(r2[0])) : (n2 = new sd(r2[0]), s2 = new sd(r2[1]), a2 = 180), a2 = (a2 + 270) % 360;
      var l2 = 1 - n2._a;
      return this.create("none", n2.toHex(), l2, true, s2.toHex(), a2);
    }
    if (t3["background-color"]) {
      var h2 = new sd(t3["background-color"]);
      l2 = 1 - h2._a;
      return h2 ? this.create("solid", h2.toHex(), l2) : this._items[0];
    }
  }, e2.prototype.toXml = function(t3, e3) {
    for (var i2 = this._items.length, o2 = 0; o2 < i2; o2++) {
      var r2 = Li.addChild(t3, e3, "fill");
      this._items[o2].toXml(t3, r2);
    }
    Li.setAttr(e3, "count", i2);
  }, e2.prototype._splitEscape = function(t3, e3) {
    if (void 0 === e3 && (e3 = ","), t3) {
      for (var i2 = [], o2 = false, r2 = "", n2 = 0; n2 < t3.length; n2++) {
        var s2 = t3[n2];
        s2 != e3 || o2 ? (" " != s2 || o2) && (r2 += s2) : (i2.push(r2), r2 = ""), "(" == s2 && (o2 = true), ")" == s2 && (o2 = false);
      }
      return r2 && i2.push(r2), i2;
    }
    return null;
  }, e2;
}(Ed);
var kd = function(t2) {
  function e2(e3, i2, o2, r2) {
    void 0 === o2 && (o2 = 1), void 0 === r2 && (r2 = "none");
    var n2 = t2.call(this, e3) || this;
    return n2._color = i2, n2._width = o2, n2._type = r2, n2;
  }
  return i(e2, t2), e2.equalsObj = function(t3, e3) {
    return !t3 && !e3 || !(!t3 && e3 || t3 && !e3) && (t3._color == e3._color && t3._type == e3._type && t3._width == e3._width);
  }, e2.prototype.equals = function(t3, e3, i2) {
    return void 0 === e3 && (e3 = 1), void 0 === i2 && (i2 = "none"), this._color == t3 && this._width == e3 && this._type == i2;
  }, e2.prototype.toXml = function(t3, e3) {
    var i2 = this._width <= 1 ? "thin" : this._width <= 2 ? "medium" : "thick";
    Li.setAttr(e3, "style", i2), Li.addChildWithAttr(t3, e3, "color", "rgb", this._color);
  }, e2;
}(Id);
var Dd = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.createInstance = function(t3, e3, i2) {
    return new kd(this.getIndexer(), t3, e3, i2);
  }, e2.prototype.createFromCss = function(t3, e3) {
    var i2 = t3[e3 + "-style"];
    if (i2 && "none" != i2) {
      var o2 = new sd(t3[e3 + "-color"]), r2 = i2, n2 = parseInt(t3[e3 + "-width"]);
      if (!o2 && isNaN(n2)) return this._items[0];
      if (isNaN(n2)) n2 = 0;
      else if (0 === n2) return;
      return this.create(o2.toColorHex(), n2, r2);
    }
  }, e2;
}(Ed);
var Td = function(t2) {
  function e2(e3, i2, o2, r2, n2) {
    var s2 = t2.call(this, e3) || this;
    return s2._left = i2, s2._top = o2, s2._right = r2, s2._bottom = n2, s2;
  }
  return i(e2, t2), e2.equalsObj = function(t3, e3) {
    return kd.equalsObj(t3._left, e3._left) && kd.equalsObj(t3._top, e3._top) && kd.equalsObj(t3._right, e3._right) && kd.equalsObj(t3._bottom, e3._bottom);
  }, Object.defineProperty(e2.prototype, "left", { get: function() {
    return this._left;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "right", { get: function() {
    return this._right;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "top", { get: function() {
    return this._top;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "bottom", { get: function() {
    return this._bottom;
  }, enumerable: false, configurable: true }), e2.prototype.dispose = function() {
    this._left = null, this._top = null, this._right = null, this._bottom = null, t2.prototype.dispose.call(this);
  }, e2.prototype.equals = function(t3, e3, i2, o2) {
    return kd.EqualsById(this._left, t3) && kd.EqualsById(this._top, e3) && kd.EqualsById(this._right, i2) && kd.EqualsById(this._bottom, o2);
  }, e2.prototype.toXml = function(t3, e3) {
    this.borderToXml(t3, e3, "left"), this.borderToXml(t3, e3, "right"), this.borderToXml(t3, e3, "top"), this.borderToXml(t3, e3, "bottom");
  }, e2.prototype.borderToXml = function(t3, e3, i2) {
    var o2 = Li.addChild(t3, e3, i2), r2 = this[i2];
    r2 && r2.toXml(t3, o2);
  }, e2;
}(Id);
var Md = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._lines = e3, i2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._lines = null, t2.prototype.dispose.call(this);
  }, e2.prototype.createInstance = function(t3, e3, i2, o2) {
    return new Td(this.getIndexer(), t3, e3, i2, o2);
  }, e2.prototype.createFromCss = function(t3) {
    var e3 = this._lines, i2 = e3.createFromCss(t3, "border-left"), o2 = e3.createFromCss(t3, "border-right"), r2 = e3.createFromCss(t3, "border-top"), n2 = e3.createFromCss(t3, "border-bottom");
    return i2 || o2 || r2 || n2 ? this.create(i2, r2, o2, n2) : void 0;
  }, e2.prototype.extend = function(t3, e3) {
    t3 = t3 || {};
    for (var i2 = new Td(null, e3.left || t3.left, e3.top || t3.top, e3.right || t3.right, e3.bottom || t3.bottom), o2 = this._items.length; o2--; ) {
      var r2 = this._items[o2];
      if (Td.equalsObj(this._items[o2], i2)) return r2;
    }
    return i2._id = this.getIndexer(), this._items.push(i2), i2;
  }, e2.prototype.toXml = function(t3, e3) {
    for (var i2 = this._items.length, o2 = 0; o2 < i2; o2++) {
      var r2 = Li.addChild(t3, e3, "border");
      this._items[o2].toXml(t3, r2);
    }
    Li.setAttr(e3, "count", i2);
  }, e2;
}(Ed);
var Fd = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2, a2, l2, h2) {
    void 0 === n2 && (n2 = false), void 0 === s2 && (s2 = 0);
    var u2 = t2.call(this, i2) || this;
    return u2._collection = e3, u2._horzAlign = o2, u2._vertAlign = r2, u2._wrapText = n2, u2._formatId = s2, u2._font = a2, u2._fill = l2, u2._border = h2, u2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "horzAlign", { get: function() {
    return this._horzAlign;
  }, set: function(t3) {
    this._horzAlign = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "vertAlign", { get: function() {
    return this._vertAlign;
  }, set: function(t3) {
    this._vertAlign = t3;
  }, enumerable: false, configurable: true }), e2.prototype.dispose = function() {
    this._font = null, this._fill = null, this._border = null, this._collection = null, t2.prototype.dispose.call(this);
  }, e2.prototype.equals = function(t3, e3, i2, o2, r2, n2, s2, a2) {
    return this._horzAlign == t3 && this._vertAlign == e3 && this._wrapText == i2 && this._formatId == o2 && Sd.EqualsById(this._font, r2) && Rd.EqualsById(this._fill, n2) && Td.EqualsById(this._border, s2) && Ot.equalObjects(this._cellProptectProps, a2);
  }, e2.prototype.toXml = function(t3, e3) {
    var i2 = this;
    Li.setAttr(e3, "borderId", (this._border ? this._border.id : 0) + ""), Li.setAttr(e3, "fillId", (this._fill ? this._fill.id : 0) + ""), Li.setAttr(e3, "fontId", (this._font ? this._font.id : 0) + ""), Li.setAttr(e3, "numFmtId", this._formatId + ""), Li.setAttr(e3, "xfId", "0");
    var o2 = Li.addChild(t3, e3, "alignment");
    if (Li.setAttr(o2, "horizontal", this._horzAlign || "left"), Li.setAttr(o2, "vertical", this._vertAlign || "center"), this._wrapText && Li.setAttr(o2, "wrapText", "1"), this._cellProptectProps) {
      var r2 = Li.addChild(t3, e3, "protection");
      Object.keys(this._cellProptectProps).forEach(function(t4) {
        Li.setAttr(r2, t4, i2._cellProptectProps[t4]);
      });
    }
  }, e2.prototype.cloneAsNew = function(t3, i2, o2, r2, n2, s2, a2, l2, h2) {
    return new e2(this._collection, t3, i2 || this._horzAlign, o2 || this._vertAlign, null != r2 ? r2 : this._wrapText, null != n2 ? n2 : this._formatId, s2 || this._font, a2 || this._fill, l2 || this._border);
  }, e2;
}(Id);
var Ld = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this) || this;
    return r2._fonts = e3, r2._fills = i2, r2._borders = o2, r2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._fonts = null, this._fills = null, this._borders = null, t2.prototype.dispose.call(this);
  }, e2.prototype.addStyle = function(t3) {
    for (var e3 = this._items.length; e3--; ) {
      var i2 = this._items[e3];
      if (i2.equals(t3.horzAlign, t3.vertAlign, t3._wrapText, t3._formatId, t3._font, t3._fill, t3._border, t3._cellProptectProps)) return i2;
    }
    return t3._id = this.getIndexer(), t3._collection = this, t3;
  }, e2.prototype.changeFormatId = function(t3, e3) {
    for (var i2, o2 = this._items.length; o2--; ) if ((i2 = this._items[o2]).equals(t3.horzAlign, t3.vertAlign, t3._wrapText, e3, t3._font, t3._fill, t3._border, t3._cellProptectProps)) return i2;
    return (i2 = t3.cloneAsNew(this.getIndexer(), null, null, null, e3, null, null, null))._cellProptectProps = Ot.deepCopy(t3._cellProptectProps), this._items.push(i2), i2;
  }, e2.prototype.changeBorder = function(t3, e3) {
    for (var i2, o2 = this._borders.extend(t3._border, e3), r2 = this._items.length; r2--; ) if ((i2 = this._items[r2]).equals(t3.horzAlign, t3.vertAlign, t3._wrapText, t3._formatId, t3._font, t3._fill, o2, t3._cellProptectProps)) return i2;
    var n2 = t3.cloneAsNew(this.getIndexer(), null, null, null, null, null, null, o2);
    return n2._cellProptectProps = Ot.deepCopy(t3._cellProptectProps), this._items.push(n2), n2;
  }, e2.prototype.createInstance = function(t3, e3, i2, o2, r2, n2, s2) {
    return void 0 === i2 && (i2 = false), void 0 === o2 && (o2 = 0), void 0 === r2 && (r2 = null), void 0 === n2 && (n2 = null), void 0 === s2 && (s2 = null), new Fd(this, this.getIndexer(), t3, e3, i2, o2, r2, n2, s2);
  }, e2.prototype.createFromCss = function(t3, e3, i2, o2, r2, n2, s2) {
    void 0 === e3 && (e3 = true), void 0 === i2 && (i2 = true), void 0 === o2 && (o2 = true), void 0 === r2 && (r2 = false), void 0 === n2 && (n2 = 0), void 0 === s2 && (s2 = null);
    var a2, l2, h2 = e3 ? this._borders.createFromCss(t3) : null, u2 = i2 ? this._fonts.createFromCss(t3) : null, c2 = o2 ? this._fills.createFromCss(t3) : null, d2 = t3["text-align"];
    d2 && ("center" == d2 ? a2 = "center" : "right" == d2 ? a2 = "right" : "left" == d2 && (a2 = "left"));
    var p2 = t3["vertical-align"];
    return p2 && ("top" == p2 ? l2 = "top" : "bottom" == p2 && (l2 = "bottom")), this.create(a2, l2, r2, n2, u2, c2, h2, s2);
  }, e2.prototype.toXml = function(t3, e3) {
    for (var i2 = this._items.length, o2 = 0; o2 < i2; o2++) {
      var r2 = Li.addChild(t3, e3, "xf");
      this._items[o2].toXml(t3, r2);
    }
    Li.setAttr(e3, "count", i2);
  }, e2;
}(Ed);
var Nd = function() {
  function t2(t3) {
    this._numberFmts = [], this._fonts = new Od(t3), this._fills = new Pd(), this._lines = new Dd(), this._borders = new Md(this._lines), this._styles = new Ld(this._fonts, this._fills, this._borders), this._fills.create("none"), this._fills.create("gray125"), this._borders.create(), this._fonts.create(), this._styles.create();
  }
  return t2.prototype.dispose = function() {
    this._styles.dispose(), this._borders.dispose(), this._lines.dispose(), this._fills.dispose(), this._fonts.dispose();
  }, t2.prototype.addNumberFormat = function(e2) {
    var i2 = this._numberFmts.indexOf(e2);
    return i2 < 0 && (this._numberFmts.push(e2), i2 = this._numberFmts.length - 1), t2.EXCEL_NUMFMT_START + i2;
  }, t2.prototype.addStyle = function(t3, e2, i2, o2, r2, n2) {
    return t3 ? this._styles.createFromCss(t3, e2, i2, o2, r2, n2) : null;
  }, t2.prototype.extendStyle = function(t3, e2, i2, o2, r2) {
    o2 = null == o2 ? t3._formatId : o2;
    var n2 = this._styles.createFromCss(e2, true, true, true, i2, o2, r2);
    return n2._border = n2._border || t3._border, n2._fill = n2._fill || t3._fill, n2._font && t3._font ? n2._font.assignFrom(t3._font) : n2._font = n2._font || t3._font, n2._horzAlign = n2._horzAlign || t3._horzAlign, n2._vertAlign = n2._vertAlign || t3._vertAlign, n2._wrapText = null != n2._wrapText ? n2._wrapText : t3._wrapText, n2._formatId = null != o2 && null != n2._formatId ? n2._formatId : t3._formatId, n2._cellProptectProps = Ot.deepCopy(r2) || Ot.deepCopy(t3._cellProptectProps), this._styles.addStyle(n2);
  }, t2.prototype.changeFormatId = function(t3, e2) {
    return this._styles.changeFormatId(t3, e2);
  }, t2.prototype.changeBorder = function(t3, e2) {
    return this._styles.changeBorder(t3, e2);
  }, t2.prototype.createPart = function() {
    var t3 = '<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"></styleSheet>', e2 = Li.parse(t3), i2 = e2.documentElement;
    if (this._numberFmts.length > 0) {
      var o2 = Li.addChild(e2, i2, "numFmts");
      this._createNumberFormats(e2, o2);
    }
    var r2 = Li.addChild(e2, i2, "fonts");
    this._createFonts(e2, r2);
    var n2 = Li.addChild(e2, i2, "fills");
    this._createFills(e2, n2);
    var s2 = Li.addChild(e2, i2, "borders");
    this._createBorders(e2, s2);
    var a2 = Li.addChild(e2, i2, "cellStyleXfs");
    this._createDefXfs(e2, a2);
    var l2 = Li.addChild(e2, i2, "cellXfs");
    return this._createStyles(e2, l2), t3 = Li.toString(e2), _d.XML_HEAD_STRING + t3;
  }, t2.prototype._createNumberFormats = function(e2, i2) {
    for (var o2 = 0, r2 = this._numberFmts.length; o2 < r2; o2++) {
      var n2 = Li.addChild(e2, i2, "numFmt");
      Li.setAttr(n2, "formatCode", this._numberFmts[o2]), Li.setAttr(n2, "numFmtId", t2.EXCEL_NUMFMT_START + o2);
    }
  }, t2.prototype._createFonts = function(t3, e2) {
    this._fonts.toXml(t3, e2);
  }, t2.prototype._createFills = function(t3, e2) {
    this._fills.toXml(t3, e2);
  }, t2.prototype._createBorders = function(t3, e2) {
    this._borders.toXml(t3, e2);
  }, t2.prototype._createDefXfs = function(t3, e2) {
    var i2 = Li.addChildWithAttr(t3, e2, "xf", "count", 1);
    Li.setAttr(i2, "borderId", 0), Li.setAttr(i2, "fillId", 0), Li.setAttr(i2, "fontId", 0), Li.setAttr(i2, "numFmtId", 0);
  }, t2.prototype._createStyles = function(t3, e2) {
    this._styles.toXml(t3, e2);
  }, t2.EXCEL_NUMFMT_START = 200, t2;
}();
var $d = function(t2) {
  function e2(e3, i2, o2, r2, n2, s2) {
    var a2 = t2.call(this, e3) || this;
    return a2._hash = i2, a2._width = o2, a2._style = r2, a2._hidden = n2, a2._position = s2, a2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    this._style = null, t2.prototype.dispose.call(this);
  }, Object.defineProperty(e2.prototype, "position", { get: function() {
    return this._position || this.id + 1;
  }, enumerable: false, configurable: true }), e2.prototype.equals = function(t3) {
    return this.id == t3;
  }, e2.prototype.toTextXml = function(t3) {
    var e3 = this._position || this.id + 1, i2 = { min: e3, max: e3, width: this._width, customWidth: "1" };
    this._style && (i2.style = this._style.id), this._hidden && (i2.hidden = "1"), fd.addChild(t3, "col", i2);
  }, e2;
}(Id);
var Ad = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.createInstance = function(t3, e3, i2, o2, r2) {
    return new $d(this.getIndexer(), t3, e3, i2, o2, r2);
  }, Object.defineProperty(e2.prototype, "count", { get: function() {
    return this._items.length;
  }, enumerable: false, configurable: true }), e2.prototype.toTextXml = function(t3) {
    for (var e3 = fd.addChild(t3, "cols"), i2 = 0, o2 = this.count; i2 < o2; i2++) this._items[i2].toTextXml(e3);
  }, e2.prototype.getWidth = function(t3) {
    return this._items[t3] ? this._items[t3]._width : 9;
  }, e2.prototype.getColumn = function(t3) {
    for (var e3 = this._items, i2 = 0; i2 < e3.length; i2++) if (e3[i2].position === t3) return e3[i2];
  }, e2;
}(Ed);
var Bd = function() {
  function t2(t3, e2, i2, o2, r2, n2) {
    void 0 === r2 && (r2 = ""), this._range = _d.toRange(e2, t3), this._style = i2, this._type = r2, this._fomula = n2, this._value = o2;
  }
  return t2.prototype.dispose = function() {
    this._style = null;
  }, Object.defineProperty(t2.prototype, "style", { get: function() {
    return this._style;
  }, set: function(t3) {
    this._style = t3;
  }, enumerable: false, configurable: true }), t2.prototype.toXmlText = function() {
    var e2 = [];
    return e2.push("<" + t2.ELEMENT_NAME), e2.push(' r="'.concat(this._range, '"')), "" != this._type && e2.push(' t="'.concat(this._type, '"')), this._style && e2.push(' s="'.concat(this._style.id, '"')), e2.push(">"), this._fomula && e2.push("<f>".concat(this._fomula, "</f>")), null != this._value && e2.push("<v>".concat(this._value, "</v>")), e2.push("</" + t2.ELEMENT_NAME + ">"), e2.join("");
  }, t2.ELEMENT_NAME = "c", t2;
}();
var Vd = function() {
  function t2(t3, e2, i2) {
    this._row = 0, this._sheet = t3, this._book = t3.workbook, this._index = e2, this._height = i2, this._cells = [];
  }
  return Object.defineProperty(t2.prototype, "outLineLevel", { get: function() {
    return this._outlineLevel;
  }, set: function(t3) {
    this._outlineLevel = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "index", { get: function() {
    return this._index;
  }, enumerable: false, configurable: true }), t2.prototype.dispose = function() {
    for (var t3 = this._cells.length; t3--; ) this._cells[t3].dispose(), this._cells[t3] = null;
    this._cells = null;
  }, t2.prototype.toXmlText = function() {
    var e2 = [];
    e2.push("<" + t2.ELEMENT_NAME), e2.push(' r="'.concat(this._index + 1, '"')), this._height && this._height > -1 && (e2.push(' ht="'.concat(this._height, '"')), e2.push(' customHeight="1"')), null != this._outlineLevel && e2.push(' outlineLevel="'.concat(this._outlineLevel, '"')), e2.push(">");
    for (var i2 = 0, o2 = this._cells.length; i2 < o2; i2++) {
      var r2 = this._cells[i2];
      r2 && e2.push(r2.toXmlText());
    }
    return e2.push("</" + t2.ELEMENT_NAME + ">"), e2.join("");
  }, t2.prototype.borrowCell = function(t3, e2, i2, o2, r2) {
    void 0 === o2 && (o2 = "");
    var n2 = this._cells[t3];
    n2 && n2.dispose(), n2 = new Bd(this._index, t3, e2, i2, o2, r2), this._cells[t3] = n2;
  }, t2.prototype.addBlank = function(t3, e2) {
    this.borrowCell(t3, e2);
  }, t2.prototype.addCell = function(t3, e2, i2, o2, r2) {
    this.borrowCell(t3, o2, i2, e2, r2);
  }, t2.prototype.addText = function(t3, e2, i2) {
    var o2 = null != e2 ? String(e2) : "", r2 = this._book.addSharedString(o2);
    this.addCell(t3, "s", r2, i2);
  }, t2.prototype.addNumber = function(t3, e2, i2, o2) {
    var r2 = isNaN(e2) || null == e2 ? "" : String(e2);
    this.addCell(t3, "n", r2, i2, o2);
  }, t2.prototype.addBool = function(t3, e2, i2) {
    this.addCell(t3, "b", null == e2 ? "" : e2 ? 1 : 0, i2);
  }, t2.prototype.addDate = function(t3, e2, i2) {
    if (e2) {
      var o2 = _d.toExcelDate(e2);
      this.addNumber(t3, o2, i2);
    } else this.addCell(t3, "s", "", i2);
  }, t2.prototype.addLink = function(t3, e2, i2, o2) {
    if (i2 && "" != i2) {
      var r2 = document.createElement("div");
      r2.innerText = r2.textContent = i2, i2 = r2.innerHTML.replace(/(<br>|<br\/>)/gi, "&#13;&#10;"), r2.innerText = r2.textContent = e2, i2 = 'HYPERLINK("' + i2 + ((e2 = r2.innerHTML.replace(/(<br>|<br\/>)/gi, "\r\n")) ? '","' + e2 + '")' : '")'), this.addCell(t3, "str", e2, o2, i2);
    } else this.addText(t3, e2, o2);
  }, t2.prototype.addImage = function(t3, e2, i2, o2, r2, n2, s2, a2) {
    if (r2) return e2 && o2 !== N.CENTER ? this.addText(t3, e2, n2) : this.addBlank(t3, n2), this._sheet.addImage(t3, this._index, i2, this._height, o2, r2, s2, a2);
    e2 ? this.addText(t3, e2, n2) : this.addBlank(t3, n2);
  }, t2.prototype.addActualTarget = function(t3, e2, i2, o2, r2, n2, s2) {
    this.addBlank(t3, s2), this._sheet.addActualTarget(t3, this._index, i2, this._height, e2, r2, n2, o2);
  }, t2.prototype.addBar = function(t3, e2, i2, o2, r2, n2, s2, a2, l2) {
    this.addBlank(t3, l2), this._sheet.addBar(t3, this._index, i2, this._height, e2, o2, r2, n2, s2, a2);
  }, t2.prototype.addSignal = function(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2) {
    this.addBlank(t3, h2), this._sheet.addSignal(t3, this._index, i2, this._height, e2, o2, r2, n2, s2, a2, l2);
  }, t2.prototype.addSparkLine = function(t3, e2, i2, o2) {
    var r2 = i2.layout.firstColumn, n2 = this._sheet, s2 = this._index, a2 = n2.borrowSparkGroup(r2.index, i2.sparkLineGroup), l2 = a2.range.start, h2 = a2.range.end - l2 + 1, u2 = a2.range.row;
    u2 = null == u2 ? 0 : u2;
    var c2 = a2.sparkLines, d2 = "'".concat(n2.name, "'!").concat(_d.toRange(e2 + l2, s2 + u2, true, h2));
    c2[_d.toRange(t3, this._index)] = d2, this.addBlank(t3, o2);
  }, t2.ELEMENT_NAME = "row", t2.LINE_REGEX = /\r|\n|\r\n/, t2.BR_REGEX = /<br>|<br\/>/, t2;
}();
var jd = function() {
  function t2(t3, e2, i2, o2) {
    this._mergeCount = 0, this._outlineLevel = 0, this._dataRows = [], this._sparkGroups = {}, this._firstRow = -1, this._firstCol = -1, this._lastRow = -1, this._fixedCol = 0, this._fixedRow = 0, this._relation_indexer = 1, this._mergeInfos = {}, this._book = t3, this._index = e2, this._name = i2, this._attrs = o2.sheetAttrs, this._protectPassword = o2.protectPassword, this._protectProperties = o2.protectProperties, this._sheetProtect = o2.sheetProtect, this._outlineSummaryBelow = o2.outlineSummaryBelow, this._outlineSummaryRight = o2.outlineSummaryRight, this._columns = new Ad(), this._prepare();
  }
  return t2.prototype.dispose = function() {
    this._txmerge = null, fd.removeItem(this._txdoc), this._txdoc = null, this._columns = null, this.clearRows(), this._dataRows = null, this._borderEdges = null;
  }, Object.defineProperty(t2.prototype, "id", { get: function() {
    return t2.RELATION_ID + this._index;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "name", { get: function() {
    return this._name;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "colCount", { get: function() {
    return this._columns.count;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "rowCount", { get: function() {
    return this._dataRows.length;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "workbook", { get: function() {
    return this._book;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "drawing", { get: function() {
    return this._drawing;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "memo", { get: function() {
    return this._memo;
  }, enumerable: false, configurable: true }), t2.prototype.setFirstRow = function(t3) {
    this._firstRow < 0 && (this._firstRow = t3);
  }, t2.prototype.setLastRow = function(t3) {
    this._lastRow = Math.max(this._lastRow, t3);
  }, t2.prototype.setFirstCol = function(t3) {
    this._firstCol < 0 && (this._firstCol = t3);
  }, t2.prototype.clearRows = function() {
    for (var t3 = this._dataRows.length; t3--; ) this._dataRows[t3].dispose(), this._dataRows[t3] = null;
    this._dataRows = [];
  }, t2.prototype.addColumn = function(t3, e2, i2, o2, r2) {
    return this._columns.createUnique(t3, e2, i2, o2, r2);
  }, t2.prototype.getColumn = function(t3) {
    return this._columns.getColumn(t3);
  }, t2.prototype.getColumnWidth = function(t3) {
    return this._columns.getWidth(t3);
  }, t2.prototype.getMergeInfo = function(t3, e2) {
    return this._mergeInfos["".concat(t3, ":").concat(e2)];
  }, t2.prototype.addRow = function(t3, e2) {
    return this._dataRows[t3] = new Vd(this, t3, e2);
  }, t2.prototype.getRow = function(t3) {
    return this._dataRows[t3];
  }, t2.prototype.borrowRow = function(t3, e2) {
    return this._dataRows[t3] || this.addRow(t3, e2);
  }, t2.prototype.borrowSparkGroup = function(t3, e2) {
    return this._sparkGroups[t3] || (this._sparkGroups[t3] = e2), this._sparkGroups[t3];
  }, t2.prototype.setRowLevel = function(t3, e2) {
    if (e2 >= 0) {
      var i2 = this._dataRows[t3];
      i2 && (i2.outLineLevel = e2, this._outlineLevel = Math.max(e2, this._outlineLevel));
    }
  }, t2.prototype.addMerge = function(t3, e2, i2, o2) {
    if (i2 > 1 || o2 > 1) {
      var r2 = _d.toRange(e2, t3, true, o2, i2);
      this._mergeInfos["".concat(t3, ":").concat(e2)] = { row: t3, rows: i2, col: e2, cols: o2, range: r2 };
    }
  }, t2.prototype.createPart = function() {
    var t3 = this._txdoc, e2 = "A1:" + _d.toRange(this._columns.count - 1, this._dataRows.length - 1);
    if (this._outlineLevel > 0) {
      var i2 = fd.addChild(t3, "sheetPr");
      fd.addChild(i2, "outlinePr", { summaryBelow: this._outlineSummaryBelow, summaryRight: this._outlineSummaryRight }), fd.addChild(t3, "sheetFormatPtr", { outlineLevelRow: this._outlineLevel });
    }
    fd.addChild(t3, "dimension", { ref: e2 });
    var o2 = fd.addChild(t3, "sheetViews"), r2 = { workbookViewId: 0, showOutlineSymbols: "true" };
    this._attrs && Ot.extendObj(this._attrs, r2), 0 == this._book.count && (r2.tabSelected = 1);
    var n2 = fd.addChild(o2, "sheetView", r2);
    (this._fixedCol > 0 || this._fixedRow > 0) && fd.addChild(n2, "pane", { xSplit: this._fixedCol, ySplit: this._fixedRow, topLeftCell: _d.toRange(this._fixedCol, this._fixedRow), activePane: "bottomRight", state: "frozen" }), this._columns && this._columns.toTextXml(t3);
    for (var s2 = fd.addChild(t3, "sheetData"), a2 = this._dataRows, l2 = this._borderEdges, h2 = 0, u2 = a2.length; h2 < u2; h2++) {
      if (h2 == this._firstRow) {
        for (var c2 = 0, d2 = Math.max(0, this._firstCol); d2 < a2[h2]._cells.length; d2++) {
          (p2 = a2[h2]._cells[d2]) && l2 && (p2.style = this._book.changeBorderId(p2.style, l2[c2++ ? "top" : "leftTop"]));
        }
        for (d2 = a2[h2]._cells.length; d2--; ) {
          if ((p2 = a2[h2]._cells[d2]) && l2) {
            p2.style = this._book.changeBorderId(p2.style, l2.rightTop);
            break;
          }
        }
      } else if (h2 === this._lastRow) {
        for (c2 = 0, d2 = Math.max(0, this._firstCol); d2 < a2[h2]._cells.length; d2++) {
          (p2 = a2[h2]._cells[d2]) && l2 && (p2.style = this._book.changeBorderId(p2.style, l2[c2++ ? "bottom" : "leftBottom"]));
        }
        for (d2 = a2[h2]._cells.length; d2--; ) {
          if ((p2 = a2[h2]._cells[d2]) && l2) {
            p2.style = this._book.changeBorderId(p2.style, l2.rightBottom);
            break;
          }
        }
      } else if (h2 > this._firstRow && h2 < this._lastRow) {
        for (d2 = Math.max(0, this._firstCol); d2 < a2[h2]._cells.length; d2++) {
          if ((p2 = a2[h2]._cells[d2]) && l2) {
            p2.style = this._book.changeBorderId(p2.style, l2.left);
            break;
          }
        }
        for (d2 = a2[h2]._cells.length; d2--; ) {
          var p2;
          if ((p2 = a2[h2]._cells[d2]) && l2) {
            p2.style = this._book.changeBorderId(p2.style, l2.right);
            break;
          }
        }
      }
      a2[h2] && fd.addText(s2, a2[h2].toXmlText());
    }
    if (this._sheetProtect) {
      var f2 = fd.addChild(t3, "sheetProtection");
      if (fd.addProperty(f2, "sheet", "1"), this._protectPassword) {
        var _2 = function(t4) {
          var e3, i3, o3 = 0, r3 = function(t5) {
            for (var e4 = [], i4 = t5.split(""), o4 = 0; o4 < i4.length; ++o4) e4[o4] = i4[o4].charCodeAt(0);
            return e4;
          }(t4), n3 = r3.length + 1;
          i3 = n3, (e3 = "undefined" != typeof Buffer ? Buffer.alloc ? Buffer.alloc(i3) : new Buffer(i3) : "undefined" != typeof Uint8Array ? new Uint8Array(i3) : new Array(i3))[0] = r3.length;
          for (var s3 = 1; s3 < n3; ++s3) e3[s3] = r3[s3 - 1];
          for (s3 = n3 - 1; s3 >= 0; --s3) o3 = ((0 == (16384 & o3) ? 0 : 1) | o3 << 1 & 32767) ^ e3[s3];
          return (52811 ^ o3).toString(16).toUpperCase();
        }(this._protectPassword);
        fd.addProperty(f2, "password", _2);
      }
      if (this._protectProperties) {
        var g2 = this._protectProperties;
        Object.keys(g2).forEach(function(t4) {
          fd.addProperty(f2, t4, g2[t4]);
        });
      }
    }
    if (this._mergeCount = Object.keys(this._mergeInfos).length, this._mergeCount > 0) {
      for (var y2 in fd.addProperty(this._txmerge, "count", this._mergeCount + ""), this._mergeInfos) fd.addChild(this._txmerge, "mergeCell", { ref: this._mergeInfos[y2].range });
      fd.addChildElement(this._txdoc, this._txmerge);
    }
    if (this._drawing && fd.addChild(t3, "drawing", { "r:id": this._drawing.relationId }), Object.keys(this._sparkGroups).length > 0) {
      var m2 = fd.addChild(t3, "extLst"), b2 = fd.addChild(m2, "ext", { uri: "{05C60535-1F16-4fd2-B633-F4F36F0B64E0}", "xmlns:x14": "http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" }), v2 = fd.addChild(b2, "x14:sparklineGroups", { "xmlns:xm": "http://schemas.microsoft.com/office/excel/2006/main" });
      for (var h2 in this._sparkGroups) {
        var w2 = this._sparkGroups[h2], C2 = w2.colors, x2 = w2.sparkLines, I2 = fd.addChild(v2, "x14:sparklineGroup", { type: w2.type || "line" });
        C2.colorSeries && fd.addChild(I2, "x14:colorSeries", { rgb: C2.colorSeries }), C2.colorMarkers && (fd.addProperty(I2, "markers", "1"), fd.addChild(I2, "x14:colorMarkers", { rgb: C2.colorMarkers })), C2.colorFirst && (fd.addProperty(I2, "first", "1"), fd.addChild(I2, "x14:colorFirst", { rgb: C2.colorFirst })), C2.colorLast && (fd.addProperty(I2, "last", "1"), fd.addChild(I2, "x14:colorLast", { rgb: C2.colorLast })), C2.colorHigh && (fd.addProperty(I2, "high", "1"), fd.addChild(I2, "x14:colorHigh", { rgb: C2.colorHigh })), C2.colorLow && (fd.addProperty(I2, "low", "1"), fd.addChild(I2, "x14:colorLow", { rgb: C2.colorLow }));
        var E2 = fd.addChild(I2, "x14:sparklines");
        for (var S2 in x2) {
          var O2 = fd.addChild(E2, "x14:sparkline");
          fd.addChild(O2, "xm:f", void 0, x2[S2]), fd.addChild(O2, "xm:sqref", void 0, S2);
        }
      }
    }
    return this._memo && fd.addChild(t3, "legacyDrawing", { "r:id": this._memo.vmlId }), _d.XML_HEAD_STRING + fd.toString(t3);
  }, t2.prototype.createBorderEdges = function(t3) {
    function e2(e3) {
      var i2 = {};
      return e3.forEach(function(e4) {
        i2["border-".concat(e4, "-style")] = t3["border-".concat(e4, "-style")], i2["border-".concat(e4, "-color")] = t3["border-".concat(e4, "-color")], i2["border-".concat(e4, "-width")] = t3["border-".concat(e4, "-width")];
      }), this._book._styles._borders.createFromCss(i2) || {};
    }
    t3 && (this._borderEdges = { leftTop: e2.call(this, ["left", "top"]), top: e2.call(this, ["top"]), rightTop: e2.call(this, ["right", "top"]), left: e2.call(this, ["left"]), right: e2.call(this, ["right"]), leftBottom: e2.call(this, ["left", "bottom"]), bottom: e2.call(this, ["bottom"]), rightBottom: e2.call(this, ["right", "bottom"]) });
  }, t2.prototype.setFixedInfo = function(t3, e2) {
    this._fixedRow = null == t3 ? this._fixedRow : Math.max(this._fixedRow, t3), this._fixedCol = null == e2 ? this._fixedCol : Math.max(this._fixedCol, e2);
  }, t2.prototype.addImage = function(t3, e2, i2, o2, r2, n2, s2, a2) {
    this._createDrawing();
    var l2 = this._book.addImage(n2);
    return this._drawing.addImage(t3, e2, i2, o2, r2, l2, s2, a2);
  }, t2.prototype.addActualTarget = function(t3, e2, i2, o2, r2, n2, s2, a2) {
    this._createDrawing(), this._drawing.addActualTarget(t3, e2, i2, o2, r2, n2, s2, a2);
  }, t2.prototype.addBar = function(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2) {
    this._createDrawing(), this._drawing.addBar(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2);
  }, t2.prototype.addSignal = function(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2, u2) {
    this._createDrawing(), this._drawing.addSignal(t3, e2, i2, o2, r2, n2, s2, a2, l2, h2, u2);
  }, t2.prototype.addMemo = function(t3, e2, i2) {
    this._createMemo(), this._memo.addMemo(t3, e2, i2);
  }, t2.prototype._prepare = function() {
    this._txdoc = fd.createDocument("worksheet", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main", "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships" }), this._txmerge = fd.createDocument("mergeCells");
  }, t2.prototype._createDrawing = function() {
    void 0 === this._drawing && (this._drawing = this._book.createDrawing(this), this._drawing.rId = this._relation_indexer++);
  }, t2.prototype._createMemo = function() {
    void 0 === this._memo && (this._memo = this._book.createMemo(this), this._memo.rId = this._relation_indexer++, this._memo.vId = this._relation_indexer++);
  }, t2.RELATION_ID = "rId", t2;
}();
var Hd = function() {
  function t2(t3) {
    this._sheet_indexer = 3, this._drawing_indexer = 1, this._comments_indexer = 1, this._parts = {}, this._parts = {}, this._strings = new gd(), this._images = new md(), this._styles = new Nd(t3), this._downloader = new cd(), this._sheets = [], this._drawings = [], this._memos = [], this._preapreTemplateParts();
  }
  return t2.prototype.dispose = function() {
    this._parts = {}, this._strings.dispose(), this._strings = null, this._styles.dispose(), this._styles = null, this._drawings.forEach(function(t3) {
      t3.dispose();
    }), this._drawings = null, this._memos.forEach(function(t3) {
      t3.dispose();
    }), this._memos = null, this._sheets.forEach(function(t3) {
      t3.dispose();
    }), this._sheets = null;
  }, Object.defineProperty(t2.prototype, "currentSheet", { get: function() {
    return this._currentSheet;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "count", { get: function() {
    return this._sheets ? this._sheets.length : 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "styles", { get: function() {
    return this._styles;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "downloader", { get: function() {
    return this._downloader;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "hasImage", { get: function() {
    return this._images._images.length > 0;
  }, enumerable: false, configurable: true }), t2.prototype.createSheet = function(t3, e2) {
    var i2 = new jd(this, this._sheet_indexer++, t3 || "Sheet" + (this._sheets.length + 1), e2);
    return this._sheets.push(i2), this._currentSheet = i2, i2;
  }, t2.prototype.createDrawing = function(t3) {
    var e2 = new Cd(this, t3, this._drawing_indexer++);
    return this._drawings.push(e2), e2;
  }, t2.prototype.createMemo = function(t3) {
    var e2 = new xd(t3, this._comments_indexer++);
    return this._memos.push(e2), e2;
  }, t2.prototype.addSharedString = function(t3) {
    return this._strings.add(t3);
  }, t2.prototype.addImage = function(t3) {
    return this._images.add(t3);
  }, t2.prototype.getImageMap = function() {
    return this._images.getImageMap();
  }, t2.prototype.getExcelImage = function(t3) {
    return this._images.getImage(t3);
  }, t2.prototype.getImageIndex = function(t3) {
    return this._images.getImageId(t3);
  }, t2.prototype.addNumberFormat = function(t3) {
    return this._styles.addNumberFormat(t3);
  }, t2.prototype.addStyle = function(t3, e2, i2, o2, r2, n2) {
    if (null == r2) {
      var s2 = t3.whiteSpace || t3["white-space"];
      r2 = null != s2 && "none" !== s2 && "nowrap" !== s2;
    }
    return this._styles.addStyle(t3, e2, i2, o2, r2, n2);
  }, t2.prototype.changeFormatId = function(t3, e2) {
    return this._styles.changeFormatId(t3, e2);
  }, t2.prototype.changeBorderId = function(t3, e2) {
    return this._styles.changeBorder(t3, e2);
  }, t2.prototype.extendStyle = function(t3, e2, i2, o2, r2) {
    return this._styles.extendStyle(t3, e2, i2, o2, r2);
  }, t2.prototype.createParts = function() {
    var t3 = this._parts, e2 = fd.createDocument("Types", { xmlns: "http://schemas.openxmlformats.org/package/2006/content-types" });
    if (fd.addChild(e2, "Default", { Extension: "rels", ContentType: "application/vnd.openxmlformats-package.relationships+xml" }), this._memos.length > 0 && fd.addChild(e2, "Default", { Extension: "vml", ContentType: "application/vnd.openxmlformats-officedocument.vmlDrawing" }), fd.addChild(e2, "Default", { Extension: "xml", ContentType: "application/xml" }), fd.addChild(e2, "Override", { PartName: "/docProps/app.xml", ContentType: "application/vnd.openxmlformats-officedocument.extended-properties+xml" }), fd.addChild(e2, "Override", { PartName: "/docProps/core.xml", ContentType: "application/vnd.openxmlformats-package.core-properties+xml" }), fd.addChild(e2, "Override", { PartName: "/xl/sharedStrings.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" }), fd.addChild(e2, "Override", { PartName: "/xl/styles.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" }), fd.addChild(e2, "Override", { PartName: "/xl/workbook.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" }), this._drawings.length > 0) {
      for (var i2 = "application/vnd.openxmlformats-officedocument.drawing+xml", o2 = 0; o2 < this._drawings.length; o2++) {
        var r2 = "/xl/drawings/" + (f2 = this._drawings[o2]).fileName;
        fd.addChild(e2, "Override", { PartName: r2, ContentType: i2 });
      }
      var n2 = this.downloader.getContentTypes();
      Object.keys(n2).forEach(function(t4) {
        fd.addChild(e2, "Default", { Extension: t4, ContentType: n2[t4] });
      });
    }
    if (this._memos.length > 0) for (i2 = "application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml", o2 = 0; o2 < this._memos.length; o2++) {
      r2 = "/xl/" + (_2 = this._memos[o2]).fileName;
      fd.addChild(e2, "Override", { PartName: r2, ContentType: i2 });
    }
    var s2 = fd.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" });
    fd.addChild(s2, "Relationship", { Id: "rId1", Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings", Target: "sharedStrings.xml" }), fd.addChild(s2, "Relationship", { Id: "rId2", Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles", Target: "styles.xml" });
    var a2 = fd.createDocument("workbook", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main", "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships" });
    fd.addChild(a2, "workbookPr", { date1904: "false" });
    var l2 = fd.addChild(a2, "bookViews");
    fd.addChild(l2, "workbookView", { activeTab: "0" });
    for (var h2 = fd.addChild(a2, "sheets"), u2 = (o2 = 0, this._sheets.length); o2 < u2; o2++) {
      var c2 = this._sheets[o2], d2 = "worksheets/sheet" + (o2 + 1).toString() + ".xml", p2 = "xl/" + d2;
      if (t3[p2] = c2.createPart(), e2 && fd.addChild(e2, "Override", { PartName: "/" + p2, ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" }), h2 && fd.addChild(h2, "sheet", { name: c2.name || "Sheet" + (o2 + 1).toString(), sheetId: (o2 + 1).toString(), "r:id": c2.id }), s2 && fd.addChild(s2, "Relationship", { Id: c2.id, Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet", Target: d2 }), c2.drawing) {
        var f2 = c2.drawing;
        t3[p2 = "xl/worksheets/_rels/sheet" + (o2 + 1).toString() + ".xml.rels"] = f2.createSheetRel(), t3[p2 = "xl/drawings/_rels/" + f2.fileName + ".rels"] = f2.createRel(), t3[p2 = "xl/drawings/" + f2.fileName] = f2.createPart();
      }
      if (c2.memo) {
        var _2 = c2.memo;
        t3[p2 = "xl/worksheets/_rels/sheet" + (o2 + 1).toString() + ".xml.rels"] = _2.createSheetRel(), t3[p2 = "xl/" + _2.fileName] = _2.createPart(), t3[p2 = "xl/drawings/vmlDrawing1.vml"] = _2.createVmlPart();
      }
    }
    var g2 = _d.XML_HEAD_STRING;
    return t3["[Content_Types].xml"] = g2 + fd.toString(e2), t3["xl/workbook.xml"] = g2 + fd.toString(a2), t3["xl/_rels/workbook.xml.rels"] = g2 + fd.toString(s2), t3["xl/sharedStrings.xml"] = this._strings.createPart(), t3["xl/styles.xml"] = this._styles.createPart(), t3;
  }, t2.prototype.createCoreProperties = function(t3) {
    var e2 = t3.created ? t3.created.toISOString() : (/* @__PURE__ */ new Date()).toISOString(), i2 = _d.XML_HEAD_STRING;
    for (var o2 in this._parts["docProps/core.xml"] = i2 + '<coreProperties xmlns="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dcterms:created xsi:type="dcterms:W3CDTF">' + e2 + "</dcterms:created>", t3) if ("created" !== o2) {
      var r2 = ("keywords" == o2 || "category" == o2 ? "cp:" : "dc:") + o2;
      this._parts["docProps/core.xml"] += "<" + r2 + ">" + fd.xmlEscape(t3[o2]) + "</" + r2 + ">";
    }
    this._parts["docProps/core.xml"] += "</coreProperties>";
  }, t2.prototype._preapreTemplateParts = function() {
    var t3 = this._parts, e2 = _d.XML_HEAD_STRING;
    t3["_rels/.rels"] = e2 + '<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/></Relationships>', t3["docProps/app.xml"] = e2 + '<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>RealGrid</Application><AppVersion>2.0</AppVersion></Properties>';
  }, t2;
}();
var Wd = function(t2) {
  function e2(e3, i2) {
    void 0 === i2 && (i2 = null);
    var o2 = t2.call(this, null, e3) || this;
    return o2._groupSorting = true, o2._groupSortDirection = l.ASCENDING, o2._groupSortCase = h.SENSITIVE, o2.source = o2._rs = new bn(false), o2._groupedProvider = new Ur(o2._rs, false), o2._groupedProvider.footerCounter = i2, o2._summarizer = new Rn(o2._rs), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this.clearListener(), this._rs && this._rs.dispose(), this._rs = null, this._groupedProvider && this._groupedProvider.dispose(), this._groupedProvider = null, this._summarizer && this._summarizer.dispose(), this._summarizer = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "maxRowCount", { get: function() {
    return this._rs.maxItemCount;
  }, set: function(t3) {
    this._rs.maxItemCount = Math.max(0, t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "hideDeleted", { get: function() {
    return this._rs.hideDeleted;
  }, set: function(t3) {
    this._rs.hideDeleted = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "inclusiveFiltering", { get: function() {
    return this._rs.isFilterOr;
  }, set: function(t3) {
    this._rs.isFilterOr = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryMode", { get: function() {
    return this._rs.summaryMode;
  }, set: function(t3) {
    this._rs.summaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupSummaryMode", { get: function() {
    return this._groupedProvider.summaryMode;
  }, set: function(t3) {
    this._groupedProvider.summaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sortMode", { get: function() {
    return this._rs.sortMode;
  }, set: function(t3) {
    this._rs.sortMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterMode", { get: function() {
    return this._rs.filterMode;
  }, set: function(t3) {
    this._rs.filterMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "grouped", { get: function() {
    return this._groupedProvider.grouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergedGrouped", { get: function() {
    return this._groupedProvider.grouped && this._groupedProvider.mergeMode;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupLevels", { get: function() {
    return this._groupedProvider.groupCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupByFieldCount", { get: function() {
    return this._groupedProvider.groupCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupByFields", { get: function() {
    return this._groupedProvider.groupedFields;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandWhenGrouping", { set: function(t3) {
    this._groupedProvider.expandWhenGrouping = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarizer", { get: function() {
    return this._summarizer;
  }, enumerable: false, configurable: true }), e2.prototype.canGrouping = function(t3) {
    return this.source.canGrouping(t3);
  }, e2.prototype.getFieldDomain = function(t3) {
    return this._rs.getFieldDomain(t3);
  }, e2.prototype.isFiltered = function(t3) {
    return null != t3 ? this._rs.hasFilter(t3) : this._rs.hasFilters();
  }, e2.prototype.addFilter = function(t3, e3) {
    this._rs.addFilter(t3, e3);
  }, e2.prototype.clearAllFilters = function() {
    this._rs.clearAllFilters();
  }, e2.prototype.beginFiltering = function() {
    this._rs.beginFilter();
  }, e2.prototype.endFiltering = function(t3, e3, i2) {
    this._rs.endFilter(true, t3, e3, i2);
  }, e2.prototype.setHideDeletedRows = function(t3) {
    this._rs.hideDeleted = t3;
  }, e2.prototype.orderBy = function(t3, e3, i2) {
    if (this._groupedProvider.grouped && this._groupSorting) {
      for (var o2 = e3 ? e3.length : 0, r2 = i2 ? i2.length : 0, n2 = this._groupedProvider.groupedFields, s2 = this._rs.getSortDirections(), a2 = this._rs.getSortCases(), u2 = [], c2 = 0, d2 = n2.length; c2 < d2; c2++) u2.push(n2[c2]);
      for (c2 = 0, d2 = t3.length; c2 < d2; c2++) {
        var p2 = t3[c2], f2 = u2.indexOf(p2), _2 = void 0, g2 = void 0;
        _2 = o2 > c2 ? e3[c2] : o2 > 0 ? e3[o2 - 1] : l.ASCENDING, g2 = r2 > c2 ? i2[c2] : r2 > 0 ? i2[r2 - 1] : h.SENSITIVE, f2 < 0 ? (u2.push(p2), s2[u2.length - 1] = _2, a2[u2.length - 1] = g2) : (s2[f2] = _2, a2[f2] = g2);
      }
      n2 = u2, this._rs.orderBy(n2, s2, a2);
    } else this._rs.orderBy(t3, e3, i2);
  }, e2.prototype.getSortFields = function() {
    return this._rs.getSortFields();
  }, e2.prototype.getSortDirections = function() {
    return this._rs.getSortDirections();
  }, e2.prototype.getSortCases = function() {
    return this._rs.getSortCases();
  }, e2.prototype.setLabelComparer = function(t3) {
    this._rs.labelComparer = t3;
  }, e2.prototype.groupBy = function(t3, e3, i2, o2) {
    void 0 === e3 && (e3 = true), void 0 === i2 && (i2 = l.ASCENDING), void 0 === o2 && (o2 = h.SENSITIVE), (t3 && !(t3.length < 1) || this._groupedProvider.grouped) && this.canGrouping(t3) && (this._groupSorting = e3, this._groupSortDirection = i2, e3 && this._rs.orderBy(t3, [i2], [o2], false), this.$_groupBy(t3));
  }, e2.prototype.groupByMode = function(t3, e3) {
    if (t3 && t3.length > 0) {
      if (this._groupSorting && this._rs.orderBy(t3, [this._groupSortDirection], [this._groupSortCase], false), !this.canGrouping(t3)) return;
      this._groupedProvider.groupByMode(t3, e3);
    } else null != e3 && (this._groupedProvider._mergeMode = e3);
  }, e2.prototype.$_groupBy = function(t3, e3) {
    t3 && t3.length > 0 ? (this.source = this._groupedProvider, this._groupedProvider.groupByMode(t3, e3)) : (this._groupedProvider.groupByMode(t3, e3), this.source = this._rs);
  }, e2.prototype.addGroupBy = function(t3, e3, i2) {
    var o2;
    if (this._groupedProvider.groupCount < 1 ? o2 = [e3] : (o2 = this._groupedProvider.groupedFields).splice(t3, 0, e3), this._groupSorting = 0 === t3 ? i2 : this._groupSorting, this.canGrouping(o2)) {
      if (this._groupSorting) {
        var r2 = [this._groupSortDirection];
        this._rs.orderBy(o2, r2, null, false);
      }
      this.$_groupBy(o2);
    }
  }, e2.prototype.removeGroupBy = function(t3, e3) {
    if (this._groupedProvider.grouped) {
      for (var i2 = this._groupedProvider.groupedFields, o2 = -1, r2 = 0, n2 = i2.length - 1; n2 >= 0; n2--) if (r2++, i2[n2] == t3) {
        o2 = n2;
        break;
      }
      if (o2 >= 0) {
        if (i2.splice(o2, e3 ? r2 : 1), !this.canGrouping(i2)) return;
        this._groupSorting && this._rs.orderBy(i2, [this._groupSortDirection], null, false), this.$_groupBy(i2);
      } else {
        if (!this.canGrouping(null)) return;
        this._groupSorting && this._rs.orderBy(null, null, null, false);
      }
    }
  }, e2.prototype.isGroupedField = function(t3) {
    return this._groupedProvider.isGroupedField(t3);
  }, e2.prototype.getGroupLevel = function(t3) {
    return this._groupedProvider.getGroupLevel(t3);
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    this._groupedProvider.expand(t3, e3, i2, o2);
  }, e2.prototype.collapse = function(t3, e3, i2, o2) {
    this._groupedProvider.collapse(t3, e3, i2, o2);
  }, e2.prototype.collapseAll = function(t3) {
    this._groupedProvider.collapseAll(t3);
  }, e2.prototype.expandAll = function(t3, e3) {
    this._groupedProvider.expandAll(t3, e3);
  }, e2.prototype.setPaging = function(t3, e3, i2, o2) {
    this._rs.setPaging(t3, e3, i2, o2);
  }, Object.defineProperty(e2.prototype, "page", { get: function() {
    return this._rs.page;
  }, enumerable: false, configurable: true }), e2.prototype.setPage = function(t3, e3) {
    this._rs.setPage(t3, e3);
  }, Object.defineProperty(e2.prototype, "pageCount", { get: function() {
    return this._rs.pageCount;
  }, set: function(t3) {
    this._rs.pageCount = t3;
  }, enumerable: false, configurable: true }), e2.prototype.getPageOfDataRow = function(t3) {
    return this._rs.getPageOfDataRow(t3);
  }, e2.prototype.getDisplayItemIndex = function(t3) {
    return this._rs.isPaging ? t3.index + this._rs.pageStartIndex : t3.index;
  }, e2.prototype.getCheckedRows = function(t3) {
    return this._rs.getCheckedRows(t3);
  }, Object.defineProperty(e2.prototype, "checkableExpression", { set: function(t3) {
    this._rs.checkableExpression = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "checkableCallback", { set: function(t3) {
    this._rs.checkableCallback = t3;
  }, enumerable: false, configurable: true }), e2.prototype.resetCheckables = function() {
    this._rs.resetCheckables();
  }, e2.prototype.applyCheckables = function() {
    this._rs.applyCheckables();
  }, e2.prototype.getFirstRow = function() {
    if (this.itemCount > 0) return this._groupedProvider.grouped ? this._groupedProvider.getFirstRow() : this._rs.getItem(0);
  }, e2.prototype.getLastRow = function() {
    if (this.itemCount > 0) return this._groupedProvider.grouped ? this._groupedProvider.getLastRow() : this._rs.getItem(this._rs.itemCount - 1);
  }, e2.prototype.getPrevRow = function(t3) {
    if (this.itemCount > 0) return this._groupedProvider.grouped ? this._groupedProvider.getPrevRow(t3) : t3 && t3.index > 0 ? this._rs.getItem(t3.index - 1) : this._rs.getItem(0);
  }, e2.prototype.getNextRow = function(t3) {
    if (this.itemCount > 0) return this._groupedProvider.grouped ? this._groupedProvider.getNextRow(t3) : t3 && t3.index < this._rs.itemCount - 1 ? this._rs.getItem(t3.index + 1) : this._rs.getItem(0);
  }, e2.prototype.getGroupItem = function(t3) {
    if (this._groupedProvider.grouped) return this._groupedProvider.getGroupItem(t3);
  }, e2.prototype.getJsonRows = function() {
    return this._rs.getJsonRows();
  }, Object.defineProperty(e2.prototype, "rowCount", { get: function() {
    return this._rs.rowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemLength", { get: function() {
    return this._rs.itemLength;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "visibleRowCount", { get: function() {
    return this.grouped ? this._groupedProvider.visibleRowCount : this._rs.rowCount;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "sorted", { get: function() {
    return this._rs.sorted;
  }, enumerable: false, configurable: true }), e2.prototype.getMovable = function(t3) {
    return !this.grouped && this._rs.getMovable(t3);
  }, e2.prototype.getAllItems = function() {
    return this.source.getAllItems();
  }, e2.prototype.getPagingAllItems = function() {
    var t3 = this._rs;
    return t3.isSorted ? t3._sortedItems.slice() : t3._items.slice();
  }, e2.prototype.findItem = function(t3, e3, i2, o2, r2) {
    return this._groupedProvider.findItem(t3, e3, i2, o2, r2);
  }, e2.prototype.findCell = function(t3, e3, i2, o2, r2, n2) {
    return this._groupedProvider.findCell(t3, e3, i2, o2, r2, n2);
  }, e2.prototype.checkItems = function(t3, e3, i2) {
    this.source.checkItems(t3, e3, i2);
  }, e2.prototype.checkItem = function(t3, e3, i2, o2) {
    this.source.checkItem(t3, e3, i2, o2);
  }, e2.prototype.checkAll = function(t3, e3, i2, o2, r2) {
    var n2 = this.editingItem;
    n2 && (!i2 || n2.checkable) && n2._setChecked(t3), this.source.checkAll(t3, e3, i2, o2, r2);
  }, e2.prototype.setCheckFieldIndex = function(t3) {
    this._rs.setCheckFieldIndex(t3);
  }, e2.prototype.setItemChecked = function(t3, e3) {
    return this._rs.setItemChecked(t3, e3);
  }, e2.prototype.getItemChecked = function(t3, e3) {
    return this._rs.getItemChecked(t3, e3);
  }, e2.prototype.setGroupCheckable = function(t3, e3) {
    this.grouped && this._groupedProvider.setGroupCheckable(t3, e3);
  }, e2.prototype.getItemOfRow = function(t3, e3) {
    return this._rs.getItemOfRow(t3, e3);
  }, e2.prototype.addCellStyle = function(t3, e3, i2) {
    return this._rs.addCellStyle(t3, e3, i2);
  }, e2.prototype.removeCellStyle = function(t3, e3) {
    return this._rs.removeCellStyle(t3, e3);
  }, e2.prototype.getUserCellStyle = function(t3, e3) {
    return this._rs.getUserCellStyle(t3, e3);
  }, e2.prototype._doBeginUpdate = function(e3) {
    var i2 = t2.prototype._doBeginUpdate.call(this, e3);
    return this._groupedProvider.$_setEditItem(i2), i2;
  }, e2.prototype._doBeginAppendDummy = function() {
    var e3 = t2.prototype._doBeginAppendDummy.call(this);
    return this._groupedProvider.$_setDummyEditItem(e3), e3;
  }, e2.prototype._doBeginAppend = function(e3) {
    var i2 = t2.prototype._doBeginAppend.call(this, e3);
    return this._groupedProvider.$_setEditItem(i2), i2;
  }, e2.prototype._doBeginInsert = function(e3, i2, o2, r2) {
    var n2 = t2.prototype._doBeginInsert.call(this, e3, i2, o2, r2);
    return this._groupedProvider.$_setEditItem(n2), n2;
  }, e2.prototype._doCancelDummyEdit = function() {
    t2.prototype._doCancelDummyEdit.call(this), this._groupedProvider.$_setDummyEditItem(null);
  }, e2.prototype._doCancelEdit = function(e3, i2) {
    t2.prototype._doCancelEdit.call(this, e3, i2), this._groupedProvider.$_setEditItem(null);
  }, e2.prototype._doCommitEdit = function(e3, i2) {
    return !!t2.prototype._doCommitEdit.call(this, e3, i2) && (this._groupedProvider.$_setEditItem(null), true);
  }, e2.prototype.moveItem = function(t3, e3) {
    this.source.moveItem(t3, e3);
  }, e2.prototype.setSortingOptions = function(t3) {
    this._rs.setSortingOptions(t3);
  }, e2.prototype.onGroupedItemProviderGrouping = function(t3, e3) {
    return this.fireConfirmEvent(Ur.GROUPING, e3);
  }, e2.prototype.onGroupedItemProviderGrouped = function(t3) {
    this.fireEvent(Ur.GROUPED);
  }, e2.prototype.onGroupedItemProviderExpand = function(t3, e3) {
    return this.fireConfirmEvent(Ur.EXPAND, e3);
  }, e2.prototype.onGroupedItemProviderExpanded = function(t3, e3) {
    this.fireEvent(Ur.EXPANDED, e3);
  }, e2.prototype.onGroupedItemProviderCollapse = function(t3, e3) {
    return this.fireConfirmEvent(Ur.COLLAPSE, e3);
  }, e2.prototype.onGroupedItemProviderCollapsed = function(t3, e3, i2) {
    this.fireEvent(Ur.COLLAPSED, e3, i2);
  }, e2;
}(Jo);
var Gd = function(t2) {
  function e2(e3, i2, o2) {
    return void 0 === o2 && (o2 = null), t2.call(this, e3, i2, o2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "cellView", { get: function() {
    return this.owner;
  }, enumerable: false, configurable: true }), e2;
}(function(t2) {
  function e2(e3, i2, o2) {
    void 0 === o2 && (o2 = null);
    var r2 = t2.call(this, e3, o2) || this;
    return r2._clickable = false, r2._owner = i2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "owner", { get: function() {
    return this._owner;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "clickable", { get: function() {
    return this._clickable;
  }, set: function(t3) {
    t3 != this._clickable && (this._clickable = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "";
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype._hoverChanged = function() {
    this.invalidate();
  }, e2.prototype._changed = function() {
    this.invalidate();
  }, e2;
}(_a));
var Ud = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype._doUpdateContent = function(t3, e3, i2) {
    i2[Ot.TextProp] = "";
  }, e2.prototype._doRender = function(t3) {
  }, e2;
}(Mh);
var Yd = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, null, i2) || this;
    return o2._cells = [], o2._levels = 0, o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cells.forEach(function(t3) {
      t3.dispose();
    }), this._cells = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.prepare = function(t3) {
    for (this._levels = t3; this._cells.length < t3; ) {
      var e3 = this.$_createCell();
      this._cells.push(e3);
    }
  }, e2.prototype._doPrepareTableExtents = function(e3) {
    if (t2.prototype._doPrepareTableExtents.call(this, e3), this._levels > 0) for (var i2 = this.width / this._levels, o2 = 0; o2 < this._levels; o2++) this._cells[o2].width = i2;
  }, e2.prototype._doPrepareTableRow = function(e3, i2, o2, r2) {
    t2.prototype._doPrepareTableRow.call(this, e3, i2, o2, r2), r2.className = this.$_getRowClassName(i2);
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    var i2 = It(t3);
    return t3[b] = e3 + 1, i2.createElement("div");
  }, e2.prototype._doLayoutContent = function(t3) {
    for (var e3 = this._levels; this.childCount < e3; ) this.addChild(this._cells[this.childCount]);
    for (; this.childCount > e3; ) this.removeLast();
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._getCellCount = function(t3) {
    return this._levels;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return this._cells[e3].width;
  }, e2;
}(Rl);
var zd = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "rowGroupHeadView") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-head";
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    var i2 = this.grid, o2 = [];
    return i2.header.visible && o2.push(t3.headBounds.height), i2.filterPanel.visible && o2.push(t3.filterPanelBounds.height), i2.headerSummaries.visible && o2.push(t3.sumBounds.height), o2[e3] || 0;
  }, e2.prototype.$_createCell = function() {
    return new Ud(this.doc, "rowGroupHeadCellView");
  }, e2.prototype._getTableRowCount = function(t3) {
    var e3 = this.grid, i2 = 0;
    return e3.header.visible && i2++, e3.filterPanel.visible && i2++, e3.headerSummaries.isVisible() && i2++, i2;
  }, e2.prototype.$_getRowClassName = function(t3) {
    var e3 = this.grid, i2 = [];
    return e3.header.visible && i2.push(""), e3.filterPanel.visible && i2.push("rg-rowgroup-filter-panel"), e3.headerSummaries.isVisible() && i2.push("rg-rowgroup-summary"), i2[t3] || "";
  }, e2;
}(Yd);
var qd = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "rowGroupFootView") || this;
  }
  return i(e2, t2), e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-foot";
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    return t3.footBounds.height;
  }, e2.prototype.$_createCell = function() {
    return new Ud(this.doc, "rowGroupFootCellView");
  }, e2.prototype._getTableRowCount = function(t3) {
    return 1;
  }, e2.prototype.$_getRowClassName = function(t3) {
    return "rg-rowgroup-foot-row";
  }, e2;
}(Yd);
var Kd = "rg-rowgroup-expander";
var Xd = Kd + " rg-rowgroup-expander-expanded";
var Zd = Kd + " rg-rowgroup-expander-collapsed";
var Jd = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "rowGroupExpandHandle") || this;
    return o2._expanded = false, o2.clickable = true, o2;
  }
  return i(e2, t2), e2.isExpander = function(t3) {
    var e3 = t3.className;
    return e3 && e3.indexOf(Kd) >= 0;
  }, Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return this._expanded;
  }, set: function(t3) {
    t3 != this._expanded && (this._expanded = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._createDom = function(t3) {
    return t3.createElement("span");
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), e3.style.position = "", e3.style.display = "inline-block";
  }, e2.prototype._getCssSelector = function() {
    return this._expanded ? Xd : Zd;
  }, e2.prototype._getCssDisplay = function() {
    return "";
  }, e2.prototype._beforeDraw = function(t3) {
    this._setClassName(t3);
  }, e2;
}(Gd);
var Qd = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowGroupBarCell") || this;
    return i2._level = 0, i2._expander = new Jd(e3, i2), i2.addChild(i2._expander), i2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "level", { get: function() {
    return this._level;
  }, set: function(t3) {
    this._level = t3;
  }, enumerable: false, configurable: true }), e2.prototype.updateCell = function(e3, i2, o2) {
    t2.prototype.updateCell.call(this, e3, i2, o2);
    var r2, n2 = i2.item, s2 = n2.getAncestor(this.bar.l);
    if (s2) {
      var a2 = e3.rowGroup;
      r2 = (s2.expanded ? a2.expandedAdornments : a2.collapsedAdornments) === p.SUMMARY;
    }
    if (s2 && (n2 instanceof Go && n2 === s2 || s2.getFirstVisibleItem(r2) === n2) && s2.level === this.bar.l) {
      var l2 = this._expander._dom;
      o2.appendChild(l2), this._expander.setBounds(1, 1, this.width - 2, this.width - 2), this._expander.expanded = s2.expanded;
      var h2 = e3.rowGroup.$_isExpanderVisible(s2);
      this._expander.visible = !s2.expanded || null == h2 || h2, l2[g] = n2.index;
    } else this._expander.visible = false;
    o2.style.paddingTop = "2px";
  }, e2.prototype.validate = function() {
    t2.prototype.validate.call(this);
    var e3 = this._expander._dom;
    Ot.detach(e3);
  }, e2;
}(Mh);
var tp = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "rowGroupBarContainer") || this;
    return o2._cells = [], o2._levels = 0, o2._bars = [], o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._cells = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.prepare = function(t3, e3) {
    this._levels = e3;
  }, e2.prototype.getLevelIndent = function(t3) {
    return t3 * this.width / Math.max(1, this._levels);
  }, e2.prototype.getViewOf = function(t3) {
    for (var e3 = this.getChildren(), i2 = 0, o2 = e3.length; i2 < o2; i2++) {
      var r2 = e3[i2];
      if (r2._expander._dom === t3) return r2;
    }
  }, Object.defineProperty(e2.prototype, "currentLevels", { get: function() {
    return this._levels;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-bar";
  }, e2.prototype._prepareCellContent = function(t3, e3) {
    return It(t3).createElement("div");
  }, e2.prototype._doLayoutContent = function(t3) {
    for (var e3, i2 = t3.grid, o2 = i2.rowGroup, r2 = this.width / Math.max(1, this._levels), n2 = this._bars, s2 = n2.length, a2 = t3.topIndex, l2 = t3.fixedItemCount, h2 = l2 > 0; this.childCount < s2; ) e3 = this._cells.length > 0 ? this._cells.pop() : this._createCell(), this.addChild(e3);
    for (; this.childCount > s2; ) (e3 = this.removeLast()).validate(), this._cells.push(e3);
    for (var u2 = 0; u2 < s2; u2++) {
      var c2 = n2[u2];
      e3 = this.getChild(u2);
      var d2 = c2.tr1, p2 = h2 ? d2 < l2 ? d2 : d2 - 1 + a2 : d2 + a2, f2 = Ts.temp(i2, p2), _2 = o2.getBarCell(f2), g2 = t3.getTableItemBounds(c2.r);
      e3.bar = c2, e3.level = c2.l, e3.updateCell(i2, _2, this.getCellContent(d2, c2.c)), g2.x = r2 * c2.c, g2.width = r2, e3.setRect(g2);
    }
  }, e2.prototype._doRender = function(t3) {
  }, e2.prototype._doPrepareTableRows = function(e3, i2) {
    t2.prototype._doPrepareTableRows.call(this, e3, i2), this.$_layoutBarCells(e3, i2);
  }, e2.prototype._getTableRowHeight = function(t3, e3) {
    var i2 = t3.fixedItemCount > 0 && e3 > t3.fixedItemCount ? 1 : 0;
    return t3.getTableItemHeight(e3 - i2);
  }, e2.prototype._getCellCount = function(t3) {
    return this._levels;
  }, e2.prototype._getCellWidth = function(t3, e3) {
    return this.width / Math.max(1, this._levels);
  }, e2.prototype._createCell = function() {
    return new Qd(this.doc);
  }, e2.prototype.$_calcLevels = function(t3, e3, i2, o2) {
    for (var r2, n2 = [], s2 = 1, a2 = 0, l2 = 0; l2 < o2 - i2; l2++) {
      var h2 = t3[l2 + i2].getAncestor(e3);
      n2.push(-1), h2 && r2 === h2 || (n2[a2] = s2, r2 = h2, a2 = n2.length - 1, s2 = 0), s2++;
    }
    return n2[a2] = s2, n2;
  }, e2.prototype.$_layoutBarCells = function(t3, e3) {
    var i2 = t3.grid, o2 = this.model, r2 = t3.$_getItems(), n2 = r2.length, s2 = t3.fixedItemCount, a2 = e3.children, l2 = this._bars = [];
    if (!(n2 < 1)) {
      for (var h2 = 0, u2 = this._getCellCount(t3); h2 < u2; h2++) {
        var c2 = i2.rowGroupLevels, d2 = o2.indentVisibleLevel, f2 = 0;
        f2 = d2 < 0 ? c2 + d2 + h2 + 1 : h2 + 1;
        var _2 = 0, y2 = 0;
        if (s2 > 0) {
          for (var m2 = void 0, b2 = void 0; _2 < s2; _2++, y2++) (b2 = (m2 = a2[y2]).children[h2]).style.display = "", b2.removeAttribute("rowspan"), Ot.setClassName(b2, ""), 0 === h2 && Ot.setClassName(m2, ""), b2[g] = _2;
          m2 = a2[y2++], 0 === h2 && Ot.setClassName(m2, bl.ROW_BAR_STYLE), (b2 = m2.children[h2]).style.display = "", b2.removeAttribute("rowspan"), Ot.setClassName(b2, bl.ROW_BAR_CELL_STYLE);
        }
        if (_2 < n2) for (var v2 = this.$_calcLevels(r2, f2, _2, n2), w2 = 0; _2 < n2; _2++, w2++, y2++) {
          var C2 = v2[w2], x2 = (b2 = (m2 = a2[y2]).children[h2], r2[_2]), I2 = x2.getAncestor(f2);
          if (0 === h2 && Ot.setClassName(m2, ""), b2.removeAttribute("rowspan"), C2 > 0) {
            var E2 = this.grid.rowGroup, S2 = I2 && (I2.expanded ? E2.expandedAdornments : E2.collapsedAdornments) === p.SUMMARY, O2 = 1 === C2 && I2 && (x2 instanceof Go || I2.getFirstVisibleItem(S2) === x2);
            (C2 > 1 || O2) && (l2.push({ r: _2, tr1: y2, tr2: y2 + C2 - 1, c: h2, l: f2 }), b2.rowSpan = C2), b2.style.display = "", Ot.setClassName(b2, "rg-rowgroup-bar-cell rg-rowgroup-bar-level-" + String(f2)), b2[g] = x2.index;
          } else b2.style.display = "none", Ot.setClassName(b2, "");
        }
      }
      l2.sort(function(t4, e4) {
        return t4.r - e4.r;
      });
    }
  }, e2;
}(Pl);
var ep = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, "rowGroupBarPane") || this;
    return o2._barContainer = new tp(e3, i2), o2.addChild(o2._barContainer), o2._footView = new qd(e3), o2.addChild(o2._footView), o2._headView = new zd(e3), o2.addChild(o2._headView), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "levelCount", { get: function() {
    return this.grid.layoutManager.rowGroupLevels;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "currentLevel", { get: function() {
    return this._barContainer.currentLevels;
  }, enumerable: false, configurable: true }), e2.prototype.getLevelIndent = function(t3) {
    return this._barContainer.getLevelIndent(t3);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    var o2 = this._barContainer.model.getIndentCount(this.levelCount);
    return this._headView.prepare(o2), this._footView.prepare(o2), this._barContainer.prepare(t3, o2), new wl(o2 * t3.rowGroup.levelIndent, i2);
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = this.grid, i2 = t3.headBounds;
    if (this._headView.visible = e3.header.visible || e3.headerSummaries.isVisible() || e3.filterPanel.visible) {
      var o2 = 0;
      e3.header.visible && (o2 += i2.height), e3.headerSummaries.isVisible() && (o2 += t3.summaryBounds.height), e3.filterPanel.visible && (o2 += t3.filterPanelBounds.height), this._headView.setBounds(0, i2.y, this.width, o2), this._headView.layoutContent(t3);
    }
    i2 = t3.footBounds, (this._footView.visible = e3.footers.isVisible()) && (this._footView.setBounds(0, i2.y, this.width, i2.height), this._footView.layoutContent(t3)), i2 = t3.rowBarBounds, this._barContainer.setBounds(0, i2.y, this.width, i2.height), this._barContainer.layoutContent(t3);
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-bar-container";
  }, e2.prototype._visibleChanged = function() {
    var e3 = this;
    t2.prototype._visibleChanged.call(this), this.getChildren().forEach(function(t3) {
      t3.visible = e3.visible;
    });
  }, e2;
}(Yh);
!function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "rowGroupPane") || this;
  }
  i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  };
}(Yh);
var ip = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowGroupHeaderCellView") || this;
    return i2._indent = 0, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "indent", { get: function() {
    return this._indent;
  }, set: function(t3) {
    this._indent = Math.max(0, t3);
  }, enumerable: false, configurable: true }), e2.prototype._createDom = function(t3) {
    return t3.createElement("div");
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = e3.style;
    i2.top = "50%", i2.msTransform = i2.transform = "translate(0px, -50%)", i2.setProperty("overflow", "hidden", "important"), i2.setProperty("pointer-events", "none", "important");
  }, e2.prototype._beforeDraw = function(t3) {
  }, e2.prototype._doUpdateContent = function(t3, e3, i2) {
    i2[Ot.TextProp] = e3.text, i2.style.left = this._indent > 0 ? this._indent + "px" : "";
  }, e2;
}(Mh);
var op = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "rowGroupHeaderView") || this;
    return i2._cellView = new ip(e3), i2.addChild(i2._cellView), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, this._cellView = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, set: function(t3) {
    this._item = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "itemIndex", { get: function() {
    return this._item.index;
  }, enumerable: false, configurable: true }), e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3), e3.style.setProperty("overflow", "hidden", "important");
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-header rg-rowgroup-header-level-" + String(this._item.level);
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = e3.rowGroup;
    this._cellView.indent = i2.indentVisible ? 0 : e3.groupBarPane.getLevelIndent(this._item.level - 1), this._cellView.updateCell(e3, i2.getHeaderCell(this._item), this._cellView._dom);
  }, e2;
}(Cl);
var rp = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "rowGroupRightHeaderView") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._item = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "item", { get: function() {
    return this._item;
  }, set: function(t3) {
    this._item = t3;
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-header rg-rowgroup-header-level-" + String(this._item.level);
  }, e2;
}(Cl);
var np = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "rowGroupFooterView") || this;
  }
  return i(e2, t2), e2.prototype._doLayoutContent = function(t3) {
    var e3 = t3.grid, i2 = e3.rowGroup, o2 = t3.cellLayouts._dataCells.length, r2 = this._getFirstCell(t3), n2 = this._getStartCell(t3) - r2, s2 = n2, a2 = this._getEndCell(t3) - r2, l2 = this._item instanceof jr;
    l2 && (s2 = Math.max(n2, this._item.parent.level - r2)), this.$_refreshSpans(this._item.index, this._item.$_footerIndex, o2, s2, a2), s2 = 0;
    for (var h2 = 0; h2 < o2; h2++) {
      var u2 = this._getTableRow(t3, this._domIndex + h2), c2 = this._getBodyCells(this._domIndex + h2), d2 = i2.getFooterStyleName(this._item);
      u2.className = d2;
      for (var p2 = s2; p2 <= a2; p2++) {
        var f2 = c2[p2], _2 = f2.layout;
        if (!(l2 && f2.merged && f2.head && f2 === f2.head)) {
          if (e3.isRecycleMode() && u2.recycle) ;
          else if (f2.clearExpander(), f2.clearButtons(), f2.renderer2 && f2.renderer2.clearContent(), f2.visible) if (_2.isNull) _2.isProxy || f2.setClassName(Rc.FOOTER_CELL_STYLE);
          else {
            var g2 = Ts.temp(e3, this._item.index, _2), y2 = i2.getFooterCell(g2);
            this._updateCell(e3, i2, y2, f2);
          }
        }
      }
    }
  }, e2.prototype._getBodyCells = function(t3) {
    return this.parent.$_getBodyCells(t3);
  }, e2.prototype._getTableRow = function(t3, e3) {
    return this.parent.$_getTableRow(t3, e3);
  }, e2.prototype._getTableCell = function(t3) {
    return this.parent.$_getTableCell(this._domIndex, t3);
  }, e2.prototype._getFirstCell = function(t3) {
    return t3._firstCell;
  }, e2.prototype._getLastCell = function(t3) {
    return t3._lastCell;
  }, e2.prototype._getStartCell = function(t3) {
    return t3.getStartCell(false);
  }, e2.prototype._getEndCell = function(t3) {
    return t3.getEndCell(false);
  }, e2.prototype._getBodyView = function() {
    return this.parent._bodyView;
  }, e2.prototype._updateCell = function(t3, e3, i2, o2) {
    var r2 = i2.valueColumn.groupFooters.get(i2.footerIndex), n2 = e3.getFooterCellStyle(i2, o2.style.clear()), s2 = i2.getSummary(), a2 = o2.cell.firstElementChild;
    if (o2.setClassName(n2.styleName), Ot.setClassName(a2, Rc.FOOTER_CELL_RENDERER), o2.refreshFormatters(n2), e3.getFooterCellFormatters(r2, o2), s2) {
      var l2 = i2.getTemplate(o2), h2 = i2.getSummary().templateEvents;
      void 0 === l2 ? a2[Ot.TextProp] = i2.getDisplayText(o2) : (a2.innerHTML = l2, h2 && dn(a2, h2));
    } else a2[Ot.TextProp] = "";
  }, e2.prototype.$_refreshSpans = function(t3, e3, i2, o2, r2) {
    for (var n2 = this.grid.layoutManager._tableRowPoints, s2 = 0; s2 < i2; s2++) for (var a2 = this._getBodyCells(this._domIndex + s2), l2 = o2; l2 <= r2; l2++) {
      var h2 = a2[l2], u2 = h2.layout, c2 = u2.parent, d2 = c2 && c2.vertical;
      if (h2.spanned) ;
      else if (u2.isProxy) h2.clear(false);
      else {
        var p2 = 0, f2 = 0, _2 = u2.getGroupFooterUserSpan(this._item.parent, e3), g2 = _2 ? 0 : u2.getGroupFooterSpan(t3, e3) - 1;
        if (_2) {
          var y2 = this._item, m2 = (y2.parent.footerCount - y2.vindex) * i2, b2 = _2.footerCount || 0, v2 = b2 > 0 ? b2 * i2 : _2.rowspan || 1, w2 = _2.colspan || 1;
          v2 = Math.min(v2, m2), h2.set(w2, v2, true);
          for (var C2 = 0; C2 < v2; C2++) for (var x2 = this._getBodyCells(this._domIndex + C2 + s2), I2 = 0; I2 < w2; I2++) {
            var E2 = x2 && x2[I2 + l2];
            E2 && E2 !== h2 && E2.span(h2);
          }
        } else if (g2 > 0) {
          var S2 = 0, O2 = u2.vindex + 1;
          if (d2) for (; S2++ < g2 && S2 < i2; ) {
            f2 += (R2 = c2.getVisible(O2++))._dspan, this._getBodyCells(this._domIndex + s2 + 1)[l2].span(h2);
          }
          else for (; S2++ < g2 && l2 - o2 + S2 < a2.length && O2 < c2.visibleCount; ) {
            var R2;
            if (!(R2 = c2.getVisible(O2++))) break;
            p2 += R2._cspan, a2[l2 + S2].span(h2);
          }
        }
        u2.isNull && h2.clear(true), !_2 && h2.set(u2._cspan + p2, u2._dspan + f2, true), h2.rowSpan > 1 && (h2.height = n2[h2.rowIndex + h2.rowSpan] - n2[h2.rowIndex], h2.cell.firstElementChild.style.maxHeight = h2.height - 2 + "px");
      }
    }
  }, e2;
}(Ll);
var sp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getBodyCells = function(t3) {
    return this.parent.$_getFixedBodyCells(t3);
  }, e2.prototype._getTableRow = function(t3, e3) {
    return this.parent.$_getFixedTableRow(e3);
  }, e2.prototype._getTableCell = function(t3) {
    return this.parent.$_getFixedTableCell(this._domIndex, t3);
  }, e2.prototype._getBodyView = function() {
    return this.parent._fixedView;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2;
}(np);
var ap = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getBodyCells = function(t3) {
    return this.parent.$_getRightBodyCells(t3);
  }, e2.prototype._getTableRow = function(t3, e3) {
    return this.parent.$_getRightTableRow(e3);
  }, e2.prototype._getTableCell = function(t3) {
    return this.parent.$_getRightTableCell(this._domIndex, t3);
  }, e2.prototype._getBodyView = function() {
    return this.parent._rightView;
  }, e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2;
}(np);
var lp = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2 || "rowGroupLayer") || this;
    return o2._headerPool = [], o2._headerViews = [], o2._rightHeaderPool = [], o2._rightHeaderViews = [], o2._footerPool = [], o2._footerViews = [], o2._fixedFooterPool = [], o2._fixedFooterViews = [], o2._rightFooterPool = [], o2._rightFooterViews = [], o2._indents = [], o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._bodyView = this._fixedView = this._rightView = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this.getAncestor(pp);
  }, enumerable: false, configurable: true }), e2.prototype.layout = function(t3) {
    this._doPrepareContent(t3), this._doLayoutContent(t3);
  }, e2.prototype.getHeaderView = function(t3) {
    for (var e3 = 0, i2 = this._headerViews; e3 < i2.length; e3++) {
      var o2 = i2[e3];
      if (o2.item === t3) return o2;
    }
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = e3.style;
    i2.setProperty("overflow", "hidden", "important"), i2.setProperty("pointer-events", "none", "important");
  }, e2.prototype._getCssSelector = function() {
    return "rg-rowgroup-layer";
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype._doPrepareContent = function(t3) {
    this.$_prepareHeaders(t3);
  }, e2.prototype.$_prepareIndents = function(t3) {
    for (var e3 = this._indents = [], i2 = t3.rowGroupLevels + 1, o2 = 0; o2 < i2; o2++) e3[o2] = t3.getLevelIndent(o2);
    return e3;
  }, e2.prototype._doLayoutContent = function(t3) {
    var e3, i2 = this.$_prepareIndents(t3), o2 = t3.$_getItems(), r2 = o2.length, n2 = t3.fixedItemCount, s2 = n2 > 0, a2 = this._rightView, l2 = t3.contentBounds.right - t3.sideContentBounds.x, h2 = 0, u2 = 0, c2 = t3.trs, d2 = n2, p2 = s2 ? d2 * c2 + 1 : d2 * c2;
    for (a2 && (e3 = t3.rightContentBounds.clone(), l2 = Math.min(l2, this.width - e3.width), e3.x -= this.x, e3.leftBy(t3.rightBarWidth)); d2 < r2; d2++) {
      var f2 = o2[d2];
      if (f2 instanceof Go) {
        var _2 = this._headerViews[h2], g2 = t3.getTableItemBounds(d2), y2 = i2[f2.level];
        if (_2.item = f2, _2.setBounds(y2, g2.y, l2 - y2, g2.height), _2.layoutContent(t3), a2) {
          var m2 = this._rightHeaderViews[h2];
          m2.item = f2, m2.setBounds(e3.x, g2.y, e3.width, g2.height), m2.layoutContent(t3);
        }
        h2++, p2++;
      } else if (f2 instanceof Uo) {
        if (this._fixedView) (_2 = this._fixedFooterViews[u2]).updateItem(f2, p2, c2, true), _2.layoutContent(t3);
        if (this._rightView) (_2 = this._rightFooterViews[u2]).updateItem(f2, p2, c2, true), _2.layoutContent(t3);
        if (this._bodyView) {
          _2 = this._footerViews[u2++];
          Ot.isDebugging(), _2.updateItem(f2, p2, c2, true), _2.layoutContent(t3);
        }
        p2 += c2;
      } else p2 += c2;
    }
  }, e2.prototype.$_prepareHeaders = function(t3) {
    for (var e3 = t3.$_getItems(), i2 = 0, o2 = t3.fixedItemCount, r2 = e3.length; o2 < r2; o2++) e3[o2] instanceof Go && i2++;
    for (var n2 = this._headerPool, s2 = this._headerViews; s2.length < i2; ) {
      (a2 = n2.pop()) || (a2 = new op(this.doc)), this.addChild(a2), s2.push(a2);
    }
    for (; s2.length > i2; ) {
      var a2 = s2.pop();
      this.removeChild(a2), n2.push(a2);
    }
    var l2 = this._rightHeaderPool, h2 = this._rightHeaderViews;
    if (this._rightView) {
      for (; h2.length < i2; ) {
        (a2 = l2.pop()) || (a2 = new rp(this.doc)), this.addChild(a2), h2.push(a2);
      }
      for (; h2.length > i2; ) {
        a2 = h2.pop();
        this.removeChild(a2), l2.push(a2);
      }
    } else for (; h2.length > 0; ) {
      a2 = h2.pop();
      this.removeChild(a2), l2.push(a2);
    }
  }, e2.prototype.$_prepareGroupItems = function(t3, e3, i2, o2) {
    this._bodyView = e3, this._fixedView = i2, this._rightView = o2;
  }, e2.prototype.$_prepareGroupFooters = function(t3, e3) {
    for (var i2 = 0, o2 = e3.fixedItemCount, r2 = t3.length; o2 < r2; o2++) t3[o2] instanceof Uo && i2++;
    for (; this._footerViews.length < i2; ) {
      (n2 = this._footerPool.pop()) || (n2 = new np(this.doc)), this.addChild(n2), this._footerViews.push(n2);
    }
    for (; this._footerViews.length > i2; ) {
      var n2 = this._footerViews.pop();
      this.removeChild(n2), this._footerPool.push(n2);
    }
    if (this._fixedView) {
      for (; this._fixedFooterViews.length < i2; ) {
        (n2 = this._fixedFooterPool.pop()) || (n2 = new sp(this.doc)), this.addChild(n2), this._fixedFooterViews.push(n2);
      }
      for (; this._fixedFooterViews.length > i2; ) {
        n2 = this._fixedFooterViews.pop();
        this.removeChild(n2), this._fixedFooterPool.push(n2);
      }
    } else for (; this._fixedFooterViews.length > 0; ) {
      n2 = this._fixedFooterViews.pop();
      this.removeChild(n2), this._fixedFooterPool.push(n2);
    }
    if (this._rightView) {
      for (; this._rightFooterViews.length < i2; ) {
        (n2 = this._rightFooterPool.pop()) || (n2 = new ap(this.doc)), this.addChild(n2), this._rightFooterViews.push(n2);
      }
      for (; this._rightFooterViews.length > i2; ) {
        n2 = this._rightFooterViews.pop();
        this.removeChild(n2), this._rightFooterPool.push(n2);
      }
    } else for (; this._rightFooterViews.length > 0; ) {
      n2 = this._rightFooterViews.pop();
      this.removeChild(n2), this._rightFooterPool.push(n2);
    }
  }, e2.prototype.$_getTableRow = function(t3, e3) {
    return this._bodyView._tbody.children[e3];
  }, e2.prototype.$_getTableCell = function(t3, e3) {
    return this._bodyView._tbody.children[t3].children[e3];
  }, e2.prototype.$_getFixedTableRow = function(t3) {
    return this._fixedView._tbody.children[t3];
  }, e2.prototype.$_getFixedTableCell = function(t3, e3) {
    return this._fixedView._tbody.children[t3].children[e3];
  }, e2.prototype.$_getRightTableRow = function(t3) {
    return this._rightView._tbody.children[t3];
  }, e2.prototype.$_getRightTableCell = function(t3, e3) {
    return this._rightView._tbody.children[t3].children[e3];
  }, e2.prototype.$_getBodyCells = function(t3) {
    return this._bodyView._cells[t3];
  }, e2.prototype.$_getFixedBodyCells = function(t3) {
    return this._fixedView._cells[t3];
  }, e2.prototype.$_getRightBodyCells = function(t3) {
    return this._rightView._cells[t3];
  }, e2;
}(ga);
var hp = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._enabled = true, i2._expandWhenGrouping = true, i2._summarizing = true, i2._fixMergedColumns = true, i2._headerClickable = false, i2._toast = new Hh({ visible: false, message: i2._messageCallback }), i2.assignFrom(Ke.grouping), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "enabled", { get: function() {
    return this._enabled;
  }, set: function(t3) {
    this._enabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "prompt", { get: function() {
    return this._prompt || Ge.messages.groupingPrompt;
  }, set: function(t3) {
    t3 != this._prompt && (this._prompt = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandWhenGrouping", { get: function() {
    return this._expandWhenGrouping;
  }, set: function(t3) {
    this._expandWhenGrouping = t3, this._changed();
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarizing", { get: function() {
    return this._summarizing;
  }, set: function(t3) {
    t3 != this._summarizing && (this._summarizing = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "fixMergedColumns", { get: function() {
    return this._fixMergedColumns;
  }, set: function(t3) {
    this._fixMergedColumns = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerClickable", { get: function() {
    return this._headerClickable;
  }, set: function(t3) {
    this._headerClickable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "toast", { get: function() {
    return this._toast;
  }, set: function(t3) {
    t3 && !t3.message && ((t3 = o(o({}, t3), { message: this._messageCallback })).message = this._messageCallback), this._toast.assignFrom(t3);
  }, enumerable: false, configurable: true }), e2.prototype._changed = function() {
    this.grid._groupingOptionsChanged(this), this._layoutOwner();
  }, e2.prototype._messageCallback = function() {
    var t3;
    return (null === (t3 = Ke.grouping.toast) || void 0 === t3 ? void 0 : t3.message) || Ge.messages.groupingToastMessage;
  }, e2;
}(ml);
var up = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._field = -1, i2._text = "", i2._textWidth = 0, i2._textHeight = 0, i2._closeHeight = 0, i2._padHorz = 5, i2._padVert = 4, i2._itemGap = 8, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    Ot.detach(this._textView), Ot.detach(this._closeView), this._textView = this._closeView = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "field", { get: function() {
    return this._field;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "text", { get: function() {
    return this._text;
  }, enumerable: false, configurable: true }), e2.prototype.setColumn = function(t3) {
    this._field = t3.dataIndex, this._textView[Ot.TextProp] = this._text = t3.displayText;
  }, e2.prototype.isCloseButton = function(t3) {
    return t3 === this._closeView;
  }, e2.prototype._getCssSelector = function() {
    return "rg-header rg-header-cell rg-group-panel-item";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = It(e3);
    this._textView = i2.createElement("span"), this._textView.className = this._getTextCss(), this._textView.style.display = "inline-block", e3.appendChild(this._textView), this._closeView = i2.createElement("span"), this._closeView.className = this._getButtonCss(), e3.appendChild(this._closeView);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    var o2 = (this._textWidth = this._textView.offsetWidth) + this._itemGap + this._closeView.offsetWidth + 2 * this._padHorz, r2 = this._textHeight = this._textView.offsetHeight;
    return r2 = Math.max(r2, this._closeHeight = this._closeView.offsetHeight), r2 += 2 * this._padVert, new wl(o2, r2);
  }, e2.prototype._doLayoutContent = function(t3) {
  }, e2.prototype._doDraw = function(t3) {
    var e3 = this._dom.clientHeight;
    this._textView.style.left = this._padHorz + "px", this._textView.style.top = Math.floor((e3 - this._textHeight) / 2) + "px", this._closeView.style.left = this._padHorz + this._textWidth + this._itemGap + "px", this._closeView.style.top = Math.floor((e3 - this._closeHeight) / 2) + "px";
  }, e2.prototype._getTextCss = function() {
    return "rg-group-panel-item-text";
  }, e2.prototype._getButtonCss = function() {
    return "rg-group-panel-item-close";
  }, e2;
}(Cl);
var cp = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype.setText = function(t3) {
    this._textView[Ot.TextProp] = this._text = t3;
  }, e2.prototype._getCssSelector = function() {
    return "rg-header rg-header-cell rg-group-panel-reset";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
  }, e2.prototype._doMeasure = function(e3, i2, o2) {
    if (this._text) return t2.prototype._doMeasure.call(this, e3, i2, o2);
    var r2 = t2.prototype._doMeasure.call(this, e3, i2, o2);
    return r2.width = this._closeView.offsetWidth + 2 * this._padHorz, r2;
  }, e2.prototype._doDraw = function(e3) {
    if (this.text) t2.prototype._doDraw.call(this, e3);
    else {
      var i2 = this._dom, o2 = i2.clientHeight, r2 = i2.clientWidth, n2 = this._closeView.clientWidth;
      this._closeView.style.left = (r2 - n2) / 2 + "px", this._closeView.style.top = Math.floor((o2 - this._closeHeight) / 2) + "px";
    }
  }, e2.prototype._getTextCss = function() {
    return "rg-group-panel-reset-text";
  }, e2.prototype._getButtonCss = function() {
    return "rg-group-panel-reset-close";
  }, e2;
}(up);
var dp = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2) || this;
    return o2._minHeight = 0, o2._itemViews = [], o2._count = 0, o2._padHorz = 16, o2._padVert = 10, o2._itemGap = 20, o2.visible = false, o2.assignFrom(Ke.groupPanel), o2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._itemViews && this._itemViews.forEach(function(t3, e3) {
      t3.dispose();
    }), this._itemViews = null, Ot.detach(this._messageView), this._messageView = null, this._resetView = this._resetView.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "showResetButton", { get: function() {
    return null != this._showResetButton ? this._showResetButton : Ke.groupPanel.showResetButton;
  }, set: function(t3) {
    this._showResetButton != t3 && (this._showResetButton = t3, this._doSizeChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "resetText", { get: function() {
    return null != this._resetText ? this._resetText : Ke.groupPanel.resetText || Ge.messages.groupResetText;
  }, set: function(t3) {
    this._resetText != t3 && (this._resetText = t3, this._doSizeChanged());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "minHeight", { get: function() {
    return this._minHeight;
  }, set: function(t3) {
    this._minHeight !== t3 && (this._minHeight = t3, this._doSizeChanged());
  }, enumerable: false, configurable: true }), e2.prototype._getCssSelector = function() {
    return "rg-group-panel";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = It(e3);
    e3.style.overflow = "hidden";
    var o2 = this._messageView = i2.createElement("span");
    this._resetView = new cp(i2), o2.className = "rg-group-panel-message", e3.appendChild(o2);
  }, e2.prototype._doMeasure = function(t3, e3, i2) {
    var o2 = t3.groupingOptions;
    this._count = t3.rowGroupLevels;
    var r2 = this.minHeight, n2 = 0, s2 = this._messageView.style;
    if (this._count > 0 ? s2.display = "none" : (s2.display = "", this._messageView[Ot.TextProp] = o2.prompt, n2 = this._messageView.offsetHeight, r2 = Math.max(r2, n2 + 2 * this._padVert), s2.left = this._padHorz + "px", s2.top = (r2 - n2) / 2 + "px"), this.$_prepareItemViews(t3, this._count), this._count > 0) {
      for (var a2 = 0; a2 < this._count; a2++) {
        var l2 = (h2 = this._itemViews[a2]).measure(t3, e3, i2);
        h2.width = l2.width, n2 = Math.max(n2, l2.height);
      }
      r2 = Math.max(r2, n2 + 2 * this._padVert);
      for (a2 = 0; a2 < this._count; a2++) {
        (h2 = this._itemViews[a2]).height = n2, h2.y = (r2 - n2) / 2;
      }
      if (this.showResetButton) {
        var h2;
        l2 = (h2 = this._resetView).measure(t3, e3, i2);
        h2.width = l2.width, h2.height = n2, h2.y = (r2 - n2) / 2;
      }
    }
    return new wl(e3, r2);
  }, e2.prototype._doPrepareContent = function(t3) {
  }, e2.prototype._doLayoutContent = function(t3) {
    if (this._count > 0) {
      var e3 = this._padHorz;
      this._padVert;
      for (var i2 = 0; i2 < this._count; i2++) {
        var o2;
        (o2 = this._itemViews[i2]).x = e3, e3 += this._itemGap + o2.width;
      }
      if (this.showResetButton) (o2 = this._resetView).x = e3;
    }
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype._visibleChanged = function() {
    var t3 = this.grid;
    t3 && (t3.invalidateLayout(), t3.invalidatePosition());
  }, e2.prototype._doSizeChanged = function() {
    var t3 = this.grid;
    this.invalidate(true), t3 && (t3.invalidateLayout(), t3.invalidatePosition());
  }, e2.prototype.$_prepareItemViews = function(t3, e3) {
    for (var i2 = this._itemViews, o2 = this._resetView, r2 = t3.rowGroupFields, n2 = i2.length; n2 < e3; n2++) i2.push(new up(t3.doc));
    for (n2 = 0; n2 < e3; n2++) {
      var s2 = i2[n2];
      s2.setColumn(t3.$_getVisibleRootByField(r2[n2], true)), s2.visible = true, this.addChild(s2);
    }
    for (n2 = e3; n2 < i2.length; n2++) this.removeChild(i2[n2]);
    this.showResetButton && this._count > 0 ? (o2.setText(this.resetText), this.addChild(o2)) : this.removeChild(o2);
  }, e2;
}(El);
var pp = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    r2._rowGroupSummaryRuntime = new Bs(), r2._rs = r2._createItemSource(), r2.itemSource = r2._rs, r2._groupingOptions = new hp(r2), r2._groupingOptionsChanged(r2._groupingOptions), r2._groupPanelView = new dp(r2.doc, r2.rowGroup), r2.topContentPane.addChild(r2._groupPanelView);
    for (var n2 = [r2._groupBarPane._headView, r2._groupBarPane._footView, r2._groupBarPane._barContainer], s2 = n2.length - 1; s2 >= 0; s2--) {
      var a2 = n2[s2];
      r2._tableViews[a2.$_hash] = a2;
    }
    return r2.editOptions.displayEmptyEditRow && r2.editOptions.appendable && r2._rs.appendDummy(), r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._rs.dispose(), this._rs = null, this._groupPanelView = this.groupPanelView.dispose(), this._rowGroup = this._rowGroup && this._rowGroup.dispose(), this._groupingOptions = this._groupingOptions.dispose(), t2.prototype._doDispose.call(this);
  }, e2.prototype._doCreateOtherElements = function() {
    this._groupView = new lp(this.doc), this.addElement(this._groupView);
  }, Object.defineProperty(e2.prototype, "maxRowCount", { get: function() {
    return this._rs.maxRowCount;
  }, set: function(t3) {
    this._rs.maxRowCount = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroup", { get: function() {
    return this._rowGroup;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupPanelView", { get: function() {
    return this._groupPanelView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupBarPane", { get: function() {
    return this._groupBarPane;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupView", { get: function() {
    return this._groupView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupingOptions", { get: function() {
    return this._groupingOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "paged", { get: function() {
    return this._rs.page >= 0;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "page", { get: function() {
    return this._rs.page;
  }, set: function(t3) {
    this.setPage(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "pageCount", { get: function() {
    return this._rs.pageCount;
  }, set: function(t3) {
    var e3 = this._rs.pageCount;
    this._rs.pageCount = t3, this._rs.pageCount != e3 && this.$_firePageCountChanged(this._rs.pageCount);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupLevels", { get: function() {
    return this._rs.groupLevels;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupFields", { get: function() {
    return this._rs.groupByFields;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGrouped", { get: function() {
    return this._rs.grouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergedRowGrouped", { get: function() {
    return this._rs.mergedGrouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupSummaryRuntime", { get: function() {
    return this._rowGroupSummaryRuntime;
  }, enumerable: false, configurable: true }), e2.prototype.isTree = function() {
    return false;
  }, e2.prototype.recursiveDeleting = function() {
    return false;
  }, e2.prototype._beforeChangeLayout = function() {
    this.ungroupBy();
  }, e2.prototype.isGrouped = function(t3) {
    return t3 && t3.groupLevel > 0;
  }, e2.prototype.isGroupedField = function(t3) {
    return this._rs.isGroupedField(t3);
  }, e2.prototype.isSortByLabelColumn = function(t3) {
    return this.columnByField(t3).sortByLabel;
  }, e2.prototype.getGroupLevel = function(t3) {
    return this._rs.getGroupLevel(t3);
  }, e2.prototype.groupByFieldNames = function(t3, e3, i2) {
    void 0 === i2 && (i2 = l.ASCENDING);
    var o2 = this.dataSource;
    if (o2 && t3 && t3.length > 0) {
      for (var r2 = [], n2 = 0; n2 < t3.length; n2++) {
        var s2 = t3[n2], a2 = o2.getFieldIndex(s2), h2 = this.columnByField(s2), u2 = h2 && this.layoutByColumn(h2);
        !u2 || this.rowGroup.mergeMode && u2.parent != this.activeCellLayout._root || a2 >= 0 && r2.push(a2);
      }
      r2.length > 0 && (e3 = void 0 === e3 ? this.rowGroup.sorting : e3, this.groupBy(r2, e3, i2));
    } else this.ungroupBy();
  }, e2.prototype.groupBy = function(t3, e3, i2) {
    this._beforevIndex = null, this.isItemEditing(null) || this.toastManager.show(this.groupingOptions.toast, true, (function() {
      this.$_doGroupBy(t3, e3, i2);
    }).bind(this));
  }, e2.prototype.clearGroupBy = function() {
    this.isItemEditing(null) || (this._rs.setLabelComparer(null), this._rs.groupBy(null, true, l.ASCENDING), this.$_clearColumnMergeGrouped());
  }, e2.prototype.ungroupBy = function() {
    this.clearGroupBy();
  }, e2.prototype.addGroupBy = function(t3, e3) {
    var i2 = this;
    e3 && (this.isItemEditing(null) || this.isGrouped(e3) || e3.layout && e3.layout.visible && (!e3.layout.isRoot && this.rowGroup.mergeMode || e3.dataIndex >= 0 && this.toastManager.show(this.groupingOptions.toast, true, function() {
      i2.$_doAddGroupBy(t3, e3);
    })));
  }, e2.prototype.removeGroupByField = function(t3) {
    if (!(t3 < 0) && !this.isItemEditing(null) && this.isGroupedField(t3)) {
      this._rs.removeGroupBy(t3, false);
    }
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    this.isItemEditing(null) || this._rs.expand(t3, e3, i2, o2);
  }, e2.prototype.expandAll = function(t3, e3) {
    this.isItemEditing(null) || this._rs.expandAll(t3, e3);
  }, e2.prototype.collapse = function(t3, e3, i2, o2) {
    this.isItemEditing(null) || this._rs.collapse(t3, e3, i2, o2);
  }, e2.prototype.collapseAll = function(t3) {
    this.isItemEditing(null) || this._rs.collapseAll(t3);
  }, e2.prototype.isGroupedColumn = function(t3) {
    return t3 && t3.dataIndex >= 0 && this._rs.isGroupedField(t3.dataIndex);
  }, e2.prototype.blankGroupData = function() {
    return !this.rowGroup.mergeMode && this.rowGroup.blankGroupData;
  }, e2.prototype.getSortFields = function() {
    return this.itemSource.getSortFields();
  }, e2.prototype.getSortDirections = function() {
    return this.itemSource.getSortDirections();
  }, e2.prototype.getSortCases = function() {
    return this.itemSource.getSortCases();
  }, e2.prototype.setPaging = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 10), void 0 === i2 && (i2 = -1), this._rs.setPaging(t3, e3, i2, null);
  }, e2.prototype.setPage = function(t3, e3) {
    if (void 0 === e3 && (e3 = -1), (t3 = Math.max(0, Math.min(t3, this._rs.pageCount - 1))) != this._rs.page) {
      var i2 = false;
      this.$_firePageChanging(t3) && (this._rs.setPage(t3, e3), i2 = true), i2 && this.$_firePageChanged(this._rs.page);
    }
  }, e2.prototype.getPageOfDataRow = function(t3) {
    return this._rs.getPageOfDataRow(t3);
  }, Object.defineProperty(e2.prototype, "isLayer", { get: function() {
    return false;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarizer", { get: function() {
    return this._rs.summarizer;
  }, enumerable: false, configurable: true }), e2.prototype._createSidePane = function() {
    return this._addGridObject(this._rowGroup = new Rc(this)), this._groupBarPane = new ep(this.doc, this.rowGroup);
  }, e2.prototype.isSidePaneVisible = function() {
    return this.rowGrouped && !this.mergedRowGrouped && this._rowGroup.indentVisible;
  }, e2.prototype._createLayoutManager = function() {
    return new fp(this);
  }, e2.prototype.canGrouping = function() {
    return this._groupPanelView.visible;
  }, e2.prototype._canMerge = function() {
    return this.dataCount > 0;
  }, Object.defineProperty(e2.prototype, "undoable", { get: function() {
    return this._rs.undoable;
  }, set: function(t3) {
    this._rs.undoable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._rs.canUndo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._rs.canRedo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._rs.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._rs.redoing;
  }, enumerable: false, configurable: true }), e2.prototype.undo = function() {
    return !!this._rs.canUndo && (this._rs.cancelWhenLastUndo = this.editOptions.cancelWhenLastUndo, this.editController.cancelEditor(true), this._rs.undo(), true);
  }, e2.prototype.redo = function() {
    return !!this._rs.canRedo && (this._rs.redo(), true);
  }, e2.prototype.execute = function(t3) {
    this._rs.execute(t3);
  }, e2.prototype.clearCommandStack = function(t3) {
    void 0 === t3 && (t3 = true), this._rs.clearCommandStack(t3);
  }, e2.prototype.getRowView = function(e3, i2) {
    return i2 instanceof Go ? this._groupView.getHeaderView(i2) : t2.prototype.getRowView.call(this, e3, i2);
  }, e2.prototype._doSortItems = function(t3, e3, i2) {
    var o2 = this.itemSource;
    o2.setLabelComparer(this._doPrepareComparer(t3)), o2.orderBy(t3, e3, i2);
  }, e2.prototype._doColumnFiltersChanged = function(t3, e3, i2) {
    this.applyFilters(t3, e3, i2), this.invalidateLayout();
  }, e2.prototype.setOptions = function(e3) {
    if (e3) {
      var i2 = this._rs;
      void 0 !== e3.hideDeleted && (i2.hideDeleted = e3.hideDeleted), void 0 !== e3.hideDeletedRows && (i2.hideDeleted = e3.hideDeletedRows), void 0 !== e3.inclusiveFiltering && (i2.inclusiveFiltering = e3.inclusiveFiltering), void 0 !== e3.filterOr && (i2.inclusiveFiltering = e3.filterOr), void 0 !== e3.summaryMode && (i2.summaryMode = e3.summaryMode), void 0 !== e3.groupSummaryMode && (i2.groupSummaryMode = e3.groupSummaryMode), void 0 !== e3.sortMode && (i2.sortMode = e3.sortMode), void 0 !== e3.filterMode && (i2.filterMode = e3.filterMode), e3.rowGroup && this.rowGroup.assignFrom(e3.rowGroup), t2.prototype.setOptions.call(this, e3);
    }
  }, e2.prototype.$_beforeRender = function() {
    this._groupBarPane.levelCount !== this._groupBarPane.currentLevel && (this._needPosition = true), t2.prototype.$_beforeRender.call(this);
  }, e2.prototype._visualObjectChanged = function(e3) {
    t2.prototype._visualObjectChanged.call(this, e3), e3 instanceof na && (this._rs.checkableExpression = e3.checkableExpression);
  }, e2.prototype.resetCheckables = function() {
    this._rs.resetCheckables();
  }, e2.prototype.applyCheckables = function() {
    this._rs.applyCheckables();
  }, e2.prototype.getCheckedRows = function(t3, e3, i2) {
    var o2, r2;
    if (e3) {
      o2 = [];
      for (var n2 = 0, s2 = this.itemCount; n2 < s2; n2++) (r2 = this.getItem(n2)).checked && r2.dataRow >= 0 && o2.push(r2.dataRow);
    } else o2 = this._rs.getCheckedRows(i2);
    return t3 && o2.sort(function(t4, e4) {
      return t4 - e4;
    }), o2;
  }, e2.prototype.getCheckedItemIndices = function(t3) {
    for (var e3 = [], i2 = 0, o2 = this.itemCount; i2 < o2; i2++) {
      var r2 = this.getItem(i2);
      r2.checked && (t3 || r2.dataRow >= 0) && e3.push(r2.index);
    }
    return e3;
  }, e2.prototype.getCheckedItems = function(t3) {
    for (var e3 = [], i2 = 0, o2 = this.itemCount; i2 < o2; i2++) {
      var r2 = this.getItem(i2);
      r2.checked && (t3 || r2.dataRow >= 0) && e3.push(r2);
    }
    return e3;
  }, e2.prototype.getMergedItems = function(t3, e3, i2, o2) {
    var r2 = (function() {
      return l2.index < u2 ? h2.mergeRows ? a2.$_checkFixedMerge(this.itemSource, n2, t3, u2) : null : a2.$_checkMerge(this.itemSource, n2, t3, true, u2);
    }).bind(this), n2 = e3 instanceof ls ? e3 : this.columnByName(e3), s2 = n2.layout, a2 = s2.merges, l2 = this.getItem(t3);
    if (!l2) return null;
    if (!a2) return o2 ? i2 && !l2.isDataRow ? null : [l2.index] : null;
    var h2 = this.fixedOptions, u2 = h2.rowCount, c2 = r2();
    if (!c2) {
      var d2 = this.getGroupLevel(n2.dataIndex);
      (d2 > 0 && n2.mergeGrouped && !this.isTree() ? jn.getDefault(d2, this.rowGroup.mergeMode) : s2.$_mergeRuleObj()).parseBounds(this.itemSource, n2.dataIndex, 0, this.itemCount - 1, a2._flags), c2 = r2();
    }
    if (!c2 && o2) return [t3];
    if (c2) {
      for (var p2 = [], f2 = c2.top; f2 <= c2.bottom; f2++) (this.getItem(f2).isDataRow || !i2) && p2.push(f2);
      return p2.length > 0 ? p2 : null;
    }
    return null;
  }, e2.prototype.findGroupItem = function(t3, e3) {
    var i2 = this.getGroupLevel(e3);
    if (i2 > 0) for (var o2 = t3 instanceof Wo ? t3 : t3.parent; o2; ) {
      if (o2.level == i2) return o2;
      o2 = o2.parent;
    }
    return null;
  }, e2.prototype.getItemOfModel = function(t3) {
    return t3 instanceof jo ? t3 : t3.itemIndex >= 0 ? this.getItem(t3.itemIndex) : t3.id >= 0 ? this._rs.getGroupItem(t3.id) : null;
  }, e2.prototype.getJsonRows = function() {
    return this._rs.getJsonRows();
  }, e2.prototype.getIndicatorIndex = function(t3, e3) {
    var i2 = this._rs.getDisplayItemIndex(t3), o2 = this.paged ? this._rs.itemLength : this.itemCount;
    return e3 ? o2 - i2 - 1 : i2;
  }, e2.prototype.indicatorReverse = function(t3) {
    return !(this.rowGrouped && this.paged) && t3 === ks.REVERSE;
  }, e2.prototype.getFirstRow = function() {
    return this._rs.getFirstRow();
  }, e2.prototype.getLastRow = function() {
    return this._rs.getLastRow();
  }, e2.prototype.getPrevRow = function(t3) {
    return this._rs.getPrevRow(t3);
  }, e2.prototype.getNextRow = function(t3) {
    return this._rs.getNextRow(t3);
  }, e2.prototype.canMoveRows = function(t3, e3, i2) {
    if (i2 && this.canMoveRow(e3, false) && t3) {
      for (var o2 = false, r2 = 0; r2 < t3.length; r2++) {
        var n2 = t3[r2];
        n2 && n2.isDataRow && (o2 = true);
      }
      return o2;
    }
  }, e2.prototype._getMoveTarget = function(t3, e3, i2, o2) {
    return this.getItem(i2 + o2);
  }, e2.prototype._doMoveRows = function(t3, e3) {
    var i2 = e3 && e3.dataRow;
    if (i2 >= 0) {
      for (var o2 = [], r2 = 0, n2 = t3; r2 < n2.length; r2++) {
        var s2 = n2[r2], a2 = s2 && s2.dataRow;
        a2 >= 0 && o2.push(a2);
      }
      if (o2.length > 0) return this.dataSource.moveRowList(o2, i2);
    }
  }, e2.prototype._getCellTypeOf = function(t3) {
    return t3 instanceof zd ? O.GROUP_HEAD : t3 instanceof qd ? O.GROUP_FOOT : t3 instanceof tp ? O.GROUP_BAR : void 0;
  }, e2.prototype.updatePastedRow = function(t3, e3, i2) {
    var o2 = t3.dataRow;
    if (o2 >= 0) {
      var r2 = this.dataSource;
      r2 && r2.updateRow(o2, e3, i2);
    }
  }, e2.prototype.appendPastedRow = function(t3) {
    var e3 = this.dataSource;
    if (e3) return e3.appendRow(t3);
  }, e2.prototype.getSummaryCount = function(e3) {
    return "groupFooter" === e3 ? this.rowGroup.footers.count : t2.prototype.getSummaryCount.call(this, e3);
  }, e2.prototype.isRecycleMode = function() {
    return t2.prototype.isRecycleMode.call(this) && (!this.rowGrouped || 1 === this.activeCellLayout.dataRows);
  }, e2.prototype.resetGrid = function(e3) {
    var i2 = this.itemSource;
    i2 && (i2.grouped || i2.source === i2._rs || (i2.source = i2._rs, this.setNeedRefresh(true))), t2.prototype.resetGrid.call(this, e3);
  }, e2.prototype.setColumns = function(e3) {
    t2.prototype.setColumns.call(this, e3), this.mergedRowGrouped && this._doRowGroupMergeModeChanged();
  }, e2.prototype._createItemSource = function() {
    var t3 = new Wd(true, this._rowGroup);
    return t3.setSortingOptions(this.sortingOptions), t3;
  }, e2.prototype.$_rowGroupChanged = function(t3) {
    this._doRowGroupMergeModeChanged();
  }, e2.prototype._groupingOptionsChanged = function(t3) {
    this._rs.expandWhenGrouping = t3.expandWhenGrouping, this.groupPanelView && this.groupPanelView.invalidate();
  }, e2.prototype.$_rowGroupAdornmentsChanged = function(t3, e3) {
    this._rs._groupedProvider.resetAdornments(this.handler, t3, e3);
  }, e2.prototype.$_getVisibleRootByField = function(t3, e3) {
    for (var i2 = this.visibleLayoutCount, o2 = 0; o2 < i2; o2++) {
      var r2 = this.getVisibleLayout(o2), n2 = r2 instanceof _s && Ot.cast(r2.firstColumn, ls);
      if (n2 && n2.dataIndex == t3) return n2;
    }
    return e3 ? this.columnByField(t3) : null;
  }, e2.prototype.$_clearColumnMergeGrouped = function() {
    this._activeCellLayout._clearMergeGrouped();
  }, e2.prototype._doRowGroupMergeModeChanged = function() {
    this.$_clearColumnMergeGrouped();
    var t3 = this._rs.groupByFields;
    if (this.rowGroup.mergeMode) {
      if (t3 && t3.length > 0) for (var e3 = t3.length - 1; e3 >= 0; e3--) {
        var i2 = this.$_getVisibleRootByField(t3[e3], false);
        i2 ? i2.$_setMergeGrouped(true) : t3.splice(e3, 1);
      }
      this._rs.groupByMode(t3, true);
    } else this._rs.groupByMode(t3, false);
  }, e2.prototype.$_doGroupBy = function(t3, e3, i2) {
    var o2, r2 = this.dataSource;
    if (this.$_clearColumnMergeGrouped(), r2 && t3 && (o2 = t3.length) > 0) {
      for (var n2 = r2.fieldCount, s2 = [], a2 = 0; a2 < o2; a2++) t3[a2] >= 0 && t3[a2] < n2 && s2.push(t3[a2]);
      if (s2.length > 0) {
        if (this.rowGroup.mergeMode) for (a2 = s2.length - 1; a2 >= 0; a2--) {
          var h2 = this.$_getVisibleRootByField(s2[a2], false);
          h2 ? h2.$_setMergeGrouped(true) : s2.splice(a2, 1);
        }
        s2.length > 0 && (this._rs.setLabelComparer(this._doPrepareComparer(s2)), this._rs.groupBy(s2, e3, i2));
      }
    } else this._rs.setLabelComparer(null), this._rs.groupBy(null, true, l.ASCENDING);
  }, e2.prototype.$_doAddGroupBy = function(t3, e3) {
    var i2 = e3.dataIndex;
    e3.$_setMergeGrouped(this.rowGroup.mergeMode);
    try {
      var o2 = this.rowGroupFields ? this.rowGroupFields.slice() : [];
      o2.push(i2), this._rs.setLabelComparer(this._doPrepareComparer(o2)), this._rs.addGroupBy(t3, i2, this.rowGroup.sorting);
    } catch (t4) {
      throw e3.$_setMergeGrouped(false), t4;
    }
  }, e2.prototype.$_clearGroupedIndices = function() {
    for (var t3 = this.columnCount - 1; t3 >= 0; t3--) {
      var e3 = Ot.cast(this.getColumn(t3), ls);
      e3 && e3.$_setGroupLevel(this._rs.getGroupLevel(-1));
    }
  }, e2.prototype.$_setGroupedIndices = function() {
    for (var t3 = this.columnCount - 1; t3 >= 0; t3--) {
      var e3 = Ot.cast(this.getColumn(t3), ls);
      e3 && e3.$_setGroupLevel(this._rs.getGroupLevel(e3.dataIndex));
    }
  }, e2.prototype.$_firePageChanging = function(t3) {
    return this.fireConfirmEvent(e2.PAGE_CHANGING, t3);
  }, e2.prototype.$_firePageChanged = function(t3) {
    this.fireEvent(e2.PAGE_CHANGED, t3);
  }, e2.prototype.$_firePageCountChanged = function(t3) {
    this.fireEvent(e2.PAGE_COUNT_CHANGED, t3);
  }, e2.prototype.$_fireGrouping = function(t3) {
    return this.fireConfirmEvent(e2.GROUPING, t3);
  }, e2.prototype.$_fireGrouped = function() {
    this.fireEvent(e2.GROUPED);
  }, e2.prototype.$_fireExpanding = function(t3) {
    return this.fireConfirmEvent(e2.EXPANDING, t3);
  }, e2.prototype.$_fireExpanded = function(t3) {
    this.fireEvent(e2.EXPANDED, t3);
  }, e2.prototype.$_fireCollapsing = function(t3) {
    return this.fireConfirmEvent(e2.COLLAPSING, t3);
  }, e2.prototype.$_fireCollapsed = function(t3) {
    this.fireEvent(e2.COLLAPSED, t3);
  }, e2.prototype.onGroupedItemProviderGrouping = function(t3, e3) {
    return this.$_fireGrouping(e3);
  }, e2.prototype.onGroupedItemProviderGrouped = function(t3) {
    this.selections.clear(true), this.$_clearGroupedIndices(), this.groupPanelView.invalidate(), this.setNeedRefresh(true);
    var e3, i2, o2 = this._rs.groupByFields;
    if (o2 && o2.length > 0 && this.$_setGroupedIndices(), this.rowGroup.mergeMode) {
      var r2 = [], n2 = this.visibleLayoutCount, s2 = this._beforevIndex;
      (e3 = !this._beforevIndex) && (s2 = this._beforevIndex = {});
      for (var a2 = [], l2 = 0; l2 < n2; l2++) {
        var h2 = this.getVisibleLayout(l2), u2 = Ot.cast(h2.firstColumn, ls);
        if (i2 = h2.merges, u2) {
          e3 && (s2[u2.$_hash] = { vIndex: h2.vindex });
          var c2 = s2[u2.$_hash];
          u2.mergeGrouped && u2.groupLevel <= 0 ? (i2 && i2.clear(), u2.$_setMergeGrouped(false)) : u2.mergeGrouped && (i2 || (i2 = new Kn(h2)), r2.push(u2), c2 && (c2.hasGrouped = true)), a2.push(u2);
        }
      }
      if (this.rowGroup.resetOriginVindex) for (l2 = a2.length; --l2 >= 0; ) {
        (c2 = s2[a2[l2].$_hash]).hasGrouped && (a2[l2].layout.vindex = c2.vIndex);
      }
      if ((n2 = r2.length) > 0) {
        r2 = r2.sort(function(t4, e4) {
          return t4.groupLevel - e4.groupLevel;
        });
        for (l2 = 0; l2 < n2; l2++) (i2 = r2[l2].layout.merges).clear(), i2.initialize(Vn.INIT_COUNT), r2[l2].layout.vindex = l2;
      } else this._beforevIndex = null;
      n2 = this.visibleLayoutCount;
      for (l2 = 0; l2 < n2; l2++) {
        (u2 = Ot.cast(this.getVisibleLayout(l2).firstColumn, ls)) && !u2.mergeGrouped && (i2 = u2.layout.merges) && (i2.clear(), i2.initialize(Vn.INIT_COUNT));
      }
    }
    this.requestPrepareEditor(), this._itemCheckChanged = true, this.$_fireGrouped(), this._cellLayoutChanged(), this.container.defaultTool.layoutChanged();
  }, e2.prototype.onGroupedItemProviderExpand = function(t3, e3) {
    return this.$_fireExpanding(e3);
  }, e2.prototype.onGroupedItemProviderExpanded = function(t3, e3) {
    this.$_fireExpanded(e3);
  }, e2.prototype.onGroupedItemProviderCollapse = function(t3, e3) {
    return this.$_fireCollapsing(e3);
  }, e2.prototype.onGroupedItemProviderCollapsed = function(t3, e3, i2) {
    if (i2 && e3 instanceof Hr) {
      var o2 = e3.getFirstVisibleItem(this.rowGroup.collapsedAdornments === p.SUMMARY);
      if (this.topIndex > o2.index) {
        var r2 = this.layoutByColumn(this.columnByField(e3.groupField)), n2 = Ms.tempItem(this, o2, r2);
        Ts.areEquals(this.focusedIndex, n2) ? this.topIndex = n2.itemIndex : this.setFocusedIndex(n2);
      }
    }
    this.$_fireCollapsed(e3);
  }, e2.PAGE_CHANGING = "onGridViewPageChanging", e2.PAGE_CHANGED = "onGridViewPageChanged", e2.PAGE_COUNT_CHANGED = "onGridViewPageCountChanged", e2.GROUPING = "onGridViewGrouping", e2.GROUPED = "onGridViewGrouped", e2.EXPANDING = "onGridViewExpanding", e2.EXPANDED = "onGridViewExpanded", e2.COLLAPSING = "onGridViewCollapsing", e2.COLLAPSED = "onGridViewCollapsed", e2;
}(zc);
var fp = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "panelVisible", { get: function() {
    return this.grid.groupPanelView.visible;
  }, enumerable: false, configurable: true }), e2.prototype.getLevelIndent = function(t3) {
    var e3 = this.grid;
    if (this.mergedRowGrouped) {
      for (var i2 = this.fixedLayoutCount, o2 = 0, r2 = 0; r2 < t3; r2++) o2 += r2 < i2 ? this.getFixedLayoutWidth(r2) : this.getLayoutWidth(r2 - i2);
      return i2 ? t3 > i2 ? o2 = Math.max(this.fixedWidth, o2 + this.fixedBarWidth - this.leftPos) : t3 === i2 && (o2 += this.fixedBarWidth) : o2 -= this.leftPos, o2;
    }
    return e3.rowGroup.indentVisible ? e3.groupBarPane.getLevelIndent(t3) : 0;
  }, Object.defineProperty(e2.prototype, "grid", { get: function() {
    return this._grid;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "topPanelVisible", { get: function() {
    return this.panelVisible;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGrouped", { get: function() {
    return !this.grid.rowGroup.mergeMode && this.grid.rowGrouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "mergedRowGrouped", { get: function() {
    return this.grid.rowGroup.mergeMode && this.grid.rowGrouped;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupLevels", { get: function() {
    return this.grid.rowGroupLevels;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "rowGroupFields", { get: function() {
    return this.grid.rowGroupFields;
  }, enumerable: false, configurable: true }), e2.prototype.$_groupView = function(t3) {
    return this.grid.groupView;
  }, e2.prototype.setLeftPos = function(e3, i2) {
    t2.prototype.setLeftPos.call(this, e3, i2);
    var o2 = this.grid, r2 = o2.mergedRowGrouped, n2 = this.$_groupView(r2);
    n2.visible && this.$_layoutRowGroupView(o2, n2);
  }, e2.prototype._prepareItems = function(e3) {
    t2.prototype._prepareItems.call(this, e3);
    var i2 = this.grid;
    if (i2.rowGrouped) {
      var o2 = i2.mergedRowGrouped, r2 = this.$_groupView(o2), n2 = this.contentBounds.isEmpty ? null : i2.bodyView, s2 = this.fixedContentBounds.isEmpty ? null : i2.fixedBodyView, a2 = this.rightContentBounds.isEmpty ? null : i2.rightBodyView;
      r2.$_prepareGroupItems(this, n2, s2, a2), r2.$_prepareGroupFooters(this._items, this);
    }
  }, e2.prototype._doMeasureTopPane = function(t3, e3) {
    var i2 = t3.groupPanelView;
    if (this.panelVisible) if (i2._dirty) {
      var o2 = i2.measure(t3, e3.width, e3.height);
      e3.height = o2.height;
    } else e3.height = i2.bounds.height;
    else e3.height = 1, e3.width = 1;
  }, e2.prototype._doLayoutTopPane = function(t3, e3) {
    var i2 = t3.groupPanelView;
    i2.setBounds(0, 0, e3.width, e3.height), this.panelVisible && i2.layoutContent(this);
  }, e2.prototype._doLayout = function(e3, i2) {
    t2.prototype._doLayout.call(this, e3, i2);
  }, e2.prototype._adjustLayout = function(e3, i2) {
    t2.prototype._adjustLayout.call(this, e3, i2);
    var o2 = e3.rowGrouped, r2 = e3.mergedRowGrouped, n2 = e3._sideContentPane;
    n2 && this._layoutSidePane(e3, n2);
    var s2 = this.$_groupView(r2);
    this.$_groupView(!r2).visible = false, (s2.visible = o2) && this.$_layoutRowGroupView(e3, s2);
  }, e2.prototype.isMergedCell = function(t3) {
    var e3 = this.grid;
    if (e3.rowGroup.mergeMode && e3.isGroupedColumn(t3.dataColumn)) return true;
    var i2 = t3.layout;
    if (i2 && i2.isColumn && t3.layout.merged) {
      var o2 = i2.merges;
      if (o2) return null != o2.getRoom(t3);
    }
    return false;
  }, e2.prototype.$_layoutRowGroupView = function(t3, e3) {
    var i2 = this.contentBounds, o2 = this.sideContentBounds.clone();
    o2.top = i2.y + this.bodyBounds.y, o2.right = this.rightContentBounds.right, o2.bottom = Math.min(this.footBounds.y + i2.y, i2.bottom), e3.setRect(o2), e3.layout(this);
  }, e2;
}(Jl);
var _p = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3, "gridSelectionTool") || this;
    return i2._panelCellReq = new gp(), i2._panelCellFeedback = new yp(e3.doc), i2._groupingReq = new bp(), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._panelCellReq = null, t2.prototype._doDispose.call(this);
  }, e2.prototype._doPointerDown = function(e3) {
    var i2 = this.grid, o2 = this.mouseEventTarget;
    if (0 === e3.button && (Al.isExpander(o2) || Jd.isExpander(o2))) {
      var r2 = this._findTableCell(o2), n2 = i2.getTableView(r2);
      if (Al.isExpander(o2) && n2 instanceof Ul) {
        var s2 = i2.getDataCellIndex(r2, this._tempIndex), a2 = n2.getCellAt(i2.layoutManager, s2), l2 = i2.findGroupItem(a2.item, a2.layout.firstColumn.dataIndex);
        this.$_toggleExpanded(i2, l2, e3);
      } else if (Jd.isExpander(o2) && n2 instanceof tp) {
        var h2 = n2.getViewOf(o2);
        return void ((l2 = (l2 = i2.getItem(o2[g])).getAncestor(h2.level)) instanceof Go && this.$_toggleExpanded(i2, l2, e3));
      }
    }
    t2.prototype._doPointerDown.call(this, e3);
  }, e2.prototype._doClick = function(e3) {
    var i2 = e3.mouseX, o2 = e3.mouseY, r2 = this.grid, n2 = this.findElementAt(i2, o2, false);
    n2 instanceof cp && n2._dom.contains(e3.target) ? r2.ungroupBy() : (n2 instanceof up && n2.isCloseButton(e3.target) && r2.removeGroupByField(n2.field), t2.prototype._doClick.call(this, e3));
  }, e2.prototype._doDblClick = function(e3) {
    var i2 = e3.mouseX, o2 = e3.mouseY, r2 = this.grid, n2 = this.findElementAt(i2, o2, false);
    n2 instanceof op && r2.groupingOptions.headerClickable ? this.$_toggleExpanded(r2, n2.item, e3) : t2.prototype._doDblClick.call(this, e3);
  }, e2.prototype._getEditRequest = function(e3, i2, o2, r2, n2, s2, a2) {
    var l2 = t2.prototype._getEditRequest.call(this, e3, i2, o2, r2, n2, s2, a2);
    if (l2) return l2;
    if (this.grid.container.contains(e3)) {
      var h2 = this.grid, u2 = this.findElementAt(o2, r2, false), c2 = this._findTableCell(e3), d2 = c2 && h2.getTableView(c2);
      if (d2 instanceof Kl && !n2) {
        var p2 = d2.layoutByCell(c2), f2 = p2.firstColumn;
        if (h2.groupPanelView.visible && f2 && f2.groupable && h2.groupingOptions.enabled) {
          var _2 = h2.layoutManager.getHeaderCellRect(p2);
          return this._groupingReq.init(p2, _2, o2, r2);
        }
      }
      return u2 instanceof up ? this._panelCellReq.init(u2, o2, r2) : void 0;
    }
  }, e2.prototype._getDragTracker = function(e3, i2, o2) {
    var r2 = this.grid;
    return e3 instanceof gp ? new mp(r2, e3, this._panelCellFeedback) : e3 instanceof bp ? new vp(r2, e3, this._panelCellFeedback) : t2.prototype._getDragTracker.call(this, e3, i2, o2);
  }, e2.prototype.getNextRequest = function(e3, i2, o2, r2) {
    if (!(e3 instanceof uu && e3.layout instanceof _s)) return e3 instanceof bp && e3.layout instanceof _s && i2 instanceof Bu ? this._colMoveReq.init(e3.layout, o2, r2, null) : t2.prototype.getNextRequest.call(this, e3, i2, o2, r2);
    var n2 = this.grid, s2 = e3.layout.firstColumn;
    return n2.groupingOptions.enabled && n2.layoutManager.topPanelVisible && s2 instanceof ls && s2.groupable && r2 + 3 < n2.groupPanelView.bottom ? this._groupingReq.init(e3.layout, i2, o2, r2) : void 0;
  }, e2.prototype._getClickData = function(e3, i2) {
    if (e3 instanceof op) return Tu.getItem(O.GROUP_HEADER, e3.itemIndex, null);
    if (e3 instanceof dp) return Tu.getData(O.GROUP_PANEL);
    if (e3 instanceof up) {
      if (e3.isCloseButton(i2.target) || e3.field < 0) return;
      var o2 = this.grid.dataSource.getOrgFieldName(e3.field);
      return Tu.getField(O.GROUP_COLUMN, e3.field, o2);
    }
    return t2.prototype._getClickData.call(this, e3, i2);
  }, e2.prototype.$_toggleExpanded = function(t3, e3, i2) {
    e3.expanded ? t3.collapse(e3, false, false, i2) : t3.expand(e3, false, false, 0);
  }, e2;
}(Yu);
var gp = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._field = -1, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "source", { get: function() {
    return this._source;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "x", { get: function() {
    return this._x;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "y", { get: function() {
    return this._y;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "field", { get: function() {
    return this._field;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3, i2) {
    return this._source = t3, this._x = e3, this._y = i2, this._field = t3.field, this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "pointer";
  }, enumerable: false, configurable: true }), e2;
}(bh);
var yp = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._no = false, i2;
  }
  return i(e2, t2), e2.prototype.setField = function(t3, e3) {
    void 0 === e3 && (e3 = false), this._textView[Ot.TextProp] = t3, this._noMark.style.display = (this._no = e3) ? "inline-block" : "none";
  }, e2.prototype._getCssSelector = function() {
    return "rg-header rg-header-cell rg-group-panel-item rg-group-panel-cell-feedback";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = this.doc;
    this._textView = i2.createElement("span"), this._textView.className = "rg-group-panel-item-text", this._textView.style.display = "inline-block", e3.appendChild(this._textView), this._noMark = i2.createElement("span"), this._noMark.className = "rg-group-panel-no-mark", this._noMark.style.display = "none", e3.appendChild(this._noMark);
  }, e2.prototype._doDraw = function(t3) {
    var e3 = this._textView.offsetWidth, i2 = this._textView.offsetHeight, o2 = this._textView.style;
    o2.left = Math.max(0, (this.width - e3) / 2) + "px", o2.top = Math.max(0, (this.height - i2) / 2) + "px", this._no && (e3 = this._noMark.offsetWidth, i2 = this._noMark.offsetHeight, (o2 = this._noMark.style).left = Math.max(0, (this.width - e3) / 2) + "px", o2.top = Math.max(0, (this.height - i2) / 2) + "px");
  }, e2;
}(_a);
var mp = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, "groupPanelCellTracker") || this;
    return r2._request = i2, r2._feedback = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = null, this._feedback = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = this._request.source.boundsByContainer();
    return this._feedback.setRect(n2), this._feedback.setField(this._request.source.text), this._feedback.visible = true, r2.addFeedbackElement(this._feedback), this._offsetX = e3 - n2.x, this._offsetY = i2 - n2.y, true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return e3 -= this._offsetX, i2 -= this._offsetY, this._feedback.move(e3, i2), true;
  }, e2.prototype._doCompleted = function() {
    var t3 = this.grid, e3 = t3.layoutManager;
    this.currentY > e3.contentBounds.y && t3.removeGroupByField(this._request.field);
  }, e2.prototype._doEnded = function() {
    this.grid.removeFeedbackElement(this._feedback);
  }, e2;
}(lh);
var bp = function(t2) {
  function e2() {
    return t2.call(this) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._layout = null, this._source = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "layout", { get: function() {
    return this._layout;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "source", { get: function() {
    return this._source;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "x", { get: function() {
    return this._x;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "y", { get: function() {
    return this._y;
  }, enumerable: false, configurable: true }), e2.prototype.init = function(t3, e3, i2, o2) {
    return this._layout = t3, this._source = e3, this._x = i2, this._y = o2, this;
  }, Object.defineProperty(e2.prototype, "cursor", { get: function() {
    return "pointer";
  }, enumerable: false, configurable: true }), e2;
}(bh);
var vp = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, "groupingCellTracker") || this;
    return r2._request = i2, r2._feedback = o2, r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._request = null, this._feedback = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.getRequest = function() {
    return this._request;
  }, e2.prototype._doStart = function(t3, e3, i2, o2) {
    var r2 = this.grid, n2 = this._request.source, s2 = n2 instanceof _a ? n2.boundsByContainer() : n2, a2 = r2.isGroupedField(this._request.layout.firstColumn.dataIndex);
    return this._feedback.setRect(s2), this._feedback.setField(this._request.layout.firstColumn.displayText, a2), this._feedback.visible = true, r2.addFeedbackElement(this._feedback), this._offsetX = e3 - s2.x, this._offsetY = s2.height / 3, true;
  }, e2.prototype._doDrag = function(t3, e3, i2, o2) {
    return !(i2 > this.grid.layoutManager.topContentBounds.bottom) && (e3 -= this._offsetX, i2 -= this._offsetY, this._feedback.move(e3, i2), true);
  }, e2.prototype._doCompleted = function() {
    var t3 = this.grid, e3 = t3.layoutManager;
    if (this.currentY < e3.contentBounds.y) {
      var i2 = t3.$_getVisibleRootByField(this._request.layout.firstColumn.dataIndex, true);
      t3.rowGroup.mergeMode && t3.activeCellLayout.setMoveColumn(this._request.layout), t3.addGroupBy(e3.rowGroupLevels, i2);
    }
  }, e2.prototype._doEnded = function() {
    this.grid.removeFeedbackElement(this._feedback);
  }, e2.prototype.getNextRequest = function(t3, e3) {
    return this.grid.activeTool.getNextRequest(this._request, this._request.source, t3, e3);
  }, e2;
}(lh);
var wp = function(t2) {
  function e2(e3, i2, o2, r2) {
    void 0 === o2 && (o2 = false), void 0 === r2 && (r2 = null);
    var n2 = t2.call(this, e3, o2, r2) || this, s2 = n2._containerDom.parentElement;
    return s2.style.height && (n2._orgCssHeight = s2.style.height), n2._gridView && (n2._gridView.$_handler = i2), n2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._gridView = null, this._watchTimer && clearInterval(this._watchTimer), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "gridView", { get: function() {
    return this._gridView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "heightMeasurer", { get: function() {
    return this._heightMeasurer;
  }, enumerable: false, configurable: true }), e2.prototype.setWatchTimer = function(t3) {
    this._watchTimer && clearInterval(this._watchTimer), this._watchTimer = null, this._displayObserver = this._displayObserver || this.$_displayObserver.bind(this), t3 && (this._watchTimer = setInterval(this._displayObserver, 100));
  }, e2.prototype.recallHeight = function() {
    var t3 = this._containerDom.parentElement.style;
    this.gridView._loading || (this._orgCssHeight ? t3.height = this._orgCssHeight : t3.removeProperty("height"));
  }, e2.prototype.getTableCell = function(t3) {
    return this._gridView.getTableCell(t3);
  }, e2.prototype.getThreshold = function() {
    return Ot.isMobile() ? this._gridView.mobileOptions.tapThreshold : 3;
  }, e2.prototype._doResized = function(e3) {
    t2.prototype._doResized.call(this, e3), this._gridView.$_containerResized();
  }, e2.prototype._isOutChildElement = function(t3) {
    var e3 = this.gridView, i2 = "focusout" === t3.type ? t3.relatedTarget : t3.target;
    if (e3.filterSelector.opened && (i2 === e3.filterSelector._element || Ot.isAncestorOf(e3.filterSelector._element, i2, t3))) return true;
    if (i2 instanceof SVGElement) for (var o2 = Ot.getComposedPath(t3); o2 && o2.length && !((i2 = o2.shift()) instanceof HTMLElement); ) ;
    var r2 = i2 && i2.className || "";
    if ("string" == typeof r2) {
      if (e3.popupMenuManager.isShow() && r2.indexOf("rg-popup") >= 0) return true;
      try {
        if (r2.indexOf("rg-editor") >= 0 && i2.$_owner._grid.container !== this) return false;
        if (r2.indexOf("rg-root") >= 0 && i2 !== this._containerDom) return false;
        if (e3.isEditing()) for (var n2 = i2; n2; ) {
          if ((n2.className || "").indexOf("rg-") >= 0) return true;
          n2 = n2.parentElement;
        }
      } catch (t4) {
        Ot.log("check outer elements fail => ".concat(i2));
      }
      return false;
    }
  }, e2.prototype._doPrepareContainer = function(t3, e3, i2) {
    t3.className = "rg-root rg-grid", Ot.isMobile() && (t3.style.touchAction = "unset"), this._gridView = this._createGridView(e3, i2), this.addElement(this._gridView), this._heightMeasurer = new Cp(this.measurer), this._sizeInfo = new it(0, 0, t3.clientWidth, t3.clientHeight);
  }, e2.prototype._createDefaultTool = function() {
    return new _p(this);
  }, e2.prototype._doLayout = function(t3) {
    var e3 = this._gridView, i2 = t3.clone();
    e3.setRect(i2), i2.x = i2.y = 0, e3.$_layout(i2);
  }, e2.prototype._layoutChildren = function(t3) {
    var e3 = this;
    this._sizeInfo.width = t3.width, this._sizeInfo.height = t3.height, (isNaN(this._zoomRatio) || this._gridView && this._gridView._loading) && (this._zoomRatio = Ot.getZoom(this._containerDom), setTimeout(function() {
      e3._zoomRatio = Ot.getZoom(e3._containerDom);
    }, 500));
  }, e2.prototype._doBeforeRender = function() {
    var t3 = this.gridView, e3 = t3._dom;
    if (e3 && e3.scrollLeft > 0) {
      var i2 = e3.scrollLeft;
      t3.leftPos = i2, e3.scrollLeft = 0;
    }
    t3.visible && t3.$_beforeRender();
  }, e2.prototype._doAfterRender = function() {
    if (!this.gridView.fitSyncHeight()) {
      var t3 = this._containerDom.parentElement;
      this._orgCssHeight = t3.style.height;
    }
    this._gridView.visible && this._gridView.$_afterRender();
  }, e2.prototype._doPrepareRender = function(t3) {
    var e3 = t3.clone();
    this._gridView.visible && (this._gridView.setRect(e3), e3.x = e3.y = 0, this._gridView.$_prepareRender(e3));
  }, e2.prototype._focusChanged = function(t3, e3, i2) {
    this._gridView && this._gridView._fireGridFocusChanged(t3, e3, i2);
  }, e2.prototype._createGridView = function(t3, e3) {
    return new pp(this, t3, e3);
  }, e2.prototype._resizeHandler = function(t3) {
    if (null == this._watchTimer) {
      var e3 = this;
      this._resizeTimer = setTimeout(function() {
        e3._displayObserver();
      }, 100);
    }
  }, e2.prototype.$_displayObserver = function() {
    var t3 = this._containerDom, e3 = t3.clientWidth, i2 = t3.clientHeight, o2 = this._sizeInfo;
    e3 > 0 && i2 > 0 && (Math.abs(this._sizeInfo.width - e3) >= 1 || Math.abs(this._sizeInfo.height - i2) >= 1) && (this._gridView.fitSyncHeight() || (this._orgCssHeight = t3.parentElement.style.height), o2.width = e3, o2.height = i2, this.invalidateLayout(), this._doResized(null));
  }, e2;
}(Th);
var Cp = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._bodyStyle = "rg-body", i2._headerStyle = "rg-header", i2._summaryStyle = "rg-header-summary", i2._footerStyle = "rg-footer", i2._dataRowStyle = "rg-data-row", i2._headerRowStyle = "", i2._summaryRowStyle = "", i2._footerRowStyle = "", i2._groupFooterStyle = "rg-rowgroup-footer", i2._dataCellStyle = "rg-data-cell", i2._headerCellStyle = "rg-header-cell", i2._summaryCellStyle = "rg-header-summary-cell", i2._footerCellStyle = "rg-footer-cell", i2._groupFooterCellStyle = "rg-rowgroup-footer-cell", i2._rowHeight = 0, i2._headerHeight = 0, i2._summaryHeight = 0, i2._footerHeight = 0, i2._gfooterHeight = 0, i2._dirty = true, i2._container = e3, i2.$_prepareElements(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._container = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "rowHeight", { get: function() {
    return this._rowHeight || (this._rowHeight = this.$_measure(this._bodyStyle, this._dataRowStyle, this._dataCellStyle));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "headerHeight", { get: function() {
    return this._headerHeight || (this._headerHeight = this.$_measure(this._headerStyle, this._headerRowStyle, this._headerCellStyle));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summaryHeight", { get: function() {
    return this._summaryHeight || (this._summaryHeight = this.$_measure(this._summaryStyle, this._summaryRowStyle, this._summaryCellStyle));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "footerHeight", { get: function() {
    return this._footerHeight || (this._footerHeight = this.$_measure(this._footerStyle, this._footerRowStyle, this._footerCellStyle));
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupFooterHeight", { get: function() {
    return this._gfooterHeight || this.$_measure(this._bodyStyle, this._groupFooterStyle, this._groupFooterCellStyle);
  }, enumerable: false, configurable: true }), e2.prototype.measure = function(t3) {
    this._dirty && (this._dirty = false);
  }, e2.prototype.invalidate = function() {
    this._dirty = true;
  }, e2.prototype.$_prepareElements = function(t3) {
    var e3 = It(t3), i2 = e3.createElement("table");
    i2.setAttribute("inert", "");
    var o2 = i2.createCaption();
    o2.textContent = "grid measurer table", o2.style.width = o2.style.height = "0px", o2.style.padding = "none", o2.style.boxSizing = "border-box", o2.style.overflow = "hidden", i2.createTHead().appendChild(document.createElement("tr")).appendChild(document.createElement("th")).scope = "col", t3.appendChild(i2);
    var r2 = i2.style;
    r2.width = "1000px", r2.height = "1px", r2.left = "-10000px", r2.position = "absolute", i2.className = "rg-table";
    var n2 = e3.createElement("tbody");
    i2.appendChild(n2);
    var s2 = e3.createElement("tr");
    n2.appendChild(s2);
    var a2 = e3.createElement("td");
    a2.className = "rg-data-cell", s2.appendChild(a2);
    var l2 = e3.createElement("div");
    a2.appendChild(l2), l2[Ot.TextProp] = "AYwyhi우리테크";
  }, e2.prototype.$_measure = function(t3, e3, i2) {
    var o2 = this._container, r2 = this._container.firstElementChild.tBodies[0].rows[0], n2 = r2.cells[0];
    return o2.className = t3, r2.className = e3, n2.className = i2, r2.offsetHeight;
  }, e2;
}(Ft);
var xp = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3) || this;
    return i2._levelIndent = 16, i2._lineVisible = true, i2._showCheckBox = false, i2._iconImagesRoot = "", i2._defaultIcon = -1, i2._collapseWhenLeftKey = true, i2._collapseWhenCtrlKey = true, i2._expandWhenRightKey = true, i2._expandWhenCtrlKey = true, i2._iconVisible = true, i2._expanderIconStyle = q.TRIANGLE, i2._expandedIcon = -1, i2._collapsedIcon = -1, i2._recursiveSoftDeleting = false, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "levelIndent", { get: function() {
    return this._levelIndent;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "lineVisible", { get: function() {
    return this._lineVisible;
  }, set: function(t3) {
    t3 != this._lineVisible && (this._lineVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "showCheckBox", { get: function() {
    return this._showCheckBox;
  }, set: function(t3) {
    t3 != this._showCheckBox && (this._showCheckBox = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconImagesRoot", { get: function() {
    return this._iconImagesRoot;
  }, set: function(t3) {
    t3 !== this._iconImagesRoot && (this._iconImagesRoot = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconImages", { get: function() {
    return this._iconImages;
  }, set: function(t3) {
    t3 !== this._iconImages && (this._iconImages = t3 ? t3.slice() : [], this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "defaultIcon", { get: function() {
    return this._defaultIcon;
  }, set: function(t3) {
    t3 != this._defaultIcon && (this._defaultIcon = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandedIcon", { get: function() {
    return this._expandedIcon;
  }, set: function(t3) {
    t3 != this._expandedIcon && (this._expandedIcon = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapsedIcon", { get: function() {
    return this._collapsedIcon;
  }, set: function(t3) {
    t3 != this._collapsedIcon && (this._collapsedIcon = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconCallback", { get: function() {
    return this._iconCallback;
  }, set: function(t3) {
    t3 != this._iconCallback && (this._iconCallback = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapseWhenLeftKey", { get: function() {
    return this._collapseWhenLeftKey;
  }, set: function(t3) {
    this._collapseWhenLeftKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "collapseWhenCtrlKey", { get: function() {
    return this._collapseWhenCtrlKey;
  }, set: function(t3) {
    this._collapseWhenCtrlKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandWhenRightKey", { get: function() {
    return this._expandWhenRightKey;
  }, set: function(t3) {
    this._expandWhenRightKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandWhenCtrlKey", { get: function() {
    return this._expandWhenCtrlKey;
  }, set: function(t3) {
    this._expandWhenCtrlKey = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "iconVisible", { get: function() {
    return this._iconVisible;
  }, set: function(t3) {
    t3 != this._iconVisible && (this._iconVisible = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expanderIconStyle", { get: function() {
    return this._expanderIconStyle;
  }, set: function(t3) {
    t3 != this._expanderIconStyle && (this._expanderIconStyle = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "recursiveDeleting", { get: function() {
    return this._recursiveSoftDeleting;
  }, set: function(t3) {
    this._recursiveSoftDeleting = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "expandWhenSetData", { get: function() {
    return this._expandWhenSetData;
  }, set: function(t3) {
    t3 !== this._expandWhenSetData && (this._expandWhenSetData = t3, this._changed());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateOptions", { get: function() {
    return this._templateOptions;
  }, set: function(t3) {
    this._templateOptions = t3, this._templateChanged = true, this._changed();
  }, enumerable: false, configurable: true }), e2;
}(ml);
!function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this, e3, i2, "treeExpandHandle") || this;
    return o2._expanded = false, o2.clickable = true, o2;
  }
  i(e2, t2), Object.defineProperty(e2.prototype, "expanded", { get: function() {
    return this._expanded;
  }, set: function(t3) {
    t3 != this._expanded && (this._expanded = t3, this._changed());
  }, enumerable: false, configurable: true }), e2.prototype._createDom = function() {
    return null;
  };
}(Gd);
var Ip;
var Ep = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this) || this;
    return i2._exclusive = false, i2.assignFrom(e3), i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._dom.style.removeProperty("padding-left"), this._expander = this._check = this._icon = this._span = this._label = this._checkImage = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "template", { get: function() {
    return this._parser && this._parser.template;
  }, set: function(t3) {
    t3 != this.template && (this._parser || (this._parser = new fn()), this._parser.template = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "valueCallback", { get: function() {
    return this._valueCallback;
  }, set: function(t3) {
    this._valueCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "callback", { get: function() {
    return this._callback;
  }, set: function(t3) {
    this._callback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "templateEvents", { get: function() {
    return this._templateEvents;
  }, set: function(t3) {
    this._templateEvents = Ot.makeArray(t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "inputFocusable", { get: function() {
    return this._inputFocusable;
  }, set: function(t3) {
    this._inputFocusable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "renderCallback", { get: function() {
    return this._renderCallback;
  }, set: function(t3) {
    this._renderCallback = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "type", { get: function() {
    return e2.TYPE;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "styleName", { get: function() {
    var t3 = e2.STYLE_NAME;
    return null == this.template && null == this.callback || (t3 += " rg-tree-template"), t3;
  }, enumerable: false, configurable: true }), e2.prototype.canClick = function(t3) {
    var e3 = xt(this._dom), i2 = t3.target;
    return !(i2 instanceof e3.HTMLTableCellElement && i2.className.indexOf("rg-") >= 0 || this._div === i2);
  }, e2.prototype._doClick = function(t3, e3, i2) {
    return { type: this.type, target: i2 || e3.target, value: t3.value };
  }, e2.prototype.$_setHtml = function(t3, e3) {
    if (t3 != this._html) {
      var i2 = this._div;
      return this._html = t3, i2.innerHTML = t3, this.renderCallback = e3 && dn(i2, e3), true;
    }
    return false;
  }, e2.prototype._doInitContent = function(t3) {
    var e3 = It(t3), i2 = this._expander = e3.createElement("span");
    t3.appendChild(i2);
    var o2 = this._check = e3.createElement("input");
    o2.type = "checkbox", o2.className = "rg-tree-checkbox", o2.style.display = "inline-block", (this._checkImage = e3.createElement("label")).style.display = "none";
    var r2 = this._icon = e3.createElement("img");
    r2.className = "rg-tree-icon", r2.alt = "", t3.appendChild(r2);
    var n2 = this._span = e3.createElement("span");
    t3.appendChild(n2);
    var s2 = this._div = e3.createElement("div");
    s2.style.display = "none", t3.appendChild(s2);
    var a2 = this._label = e3.createElement("label");
    a2.style.display = "none", t3.appendChild(a2);
  }, e2.prototype._doRenderCell = function(t3, i2, o2, r2, n2) {
    var s2 = t3, a2 = s2.treeOptions, l2 = a2.showCheckBox, h2 = a2.levelIndent, u2 = this._expander, c2 = this._dom, d2 = this._check, p2 = this._icon, f2 = this._span, _2 = this._label, g2 = i2.item, y2 = o2.cell, m2 = this._checkImage, b2 = t3.checkBar, v2 = a2.expanderIconStyle === q.SQUARE ? " square" : "";
    if (u2.className = g2.isLeaf ? "rg-tree-leaf" : g2.expanded ? "rg-tree-expanded" + v2 : "rg-tree-collapsed" + v2, t3.accessibility && (g2.isLeaf ? y2.removeAttribute("aria-expanded") : y2.setAttribute("aria-expanded", g2.expanded ? "true" : "false")), this._exclusive != b2.exclusive && (this._exclusive = b2.exclusive, d2.setAttribute("type", this._exclusive ? "radio" : "checkbox"), d2.className = this._exclusive ? "rg-tree-radio" : "rg-tree-checkbox"), d2.disabled = !(s2.editOptions.checkable && g2.checkable), l2) {
      d2.checked = g2.checked, d2.indeterminate = g2.indeterminate;
      var w2 = d2.id = e2.FOR_ID + i2.item.index + "-" + t3.$_hash;
      if (_2.setAttribute("for", w2), _2[Ot.TextProp] = this._makeText(t3, i2, o2) + (d2.checked ? " checked" : " unchecked"), b2.useImages) {
        d2.style.display = "none", m2.style.display = "inline-block", m2.parentElement || (c2.insertBefore(m2, this._span), c2.insertBefore(d2, this._span)), m2.setAttribute("for", w2);
        var C2 = "rg-tree-checkimage";
        C2 += " ".concat(!b2.exclusive && g2.indeterminate ? "indeterminate" : g2.checked ? "checked" : "unchecked"), C2 += " ".concat(b2.exclusive ? " radio" : ""), C2 += " ".concat(d2.disabled ? " disabled" : ""), m2.className = C2.trim();
      } else d2.style.display = "inline-block", m2.style.display = "none", d2.parentElement || c2.insertBefore(d2, this._span);
    } else d2.parentElement && (Ot.detach(d2), Ot.detach(m2));
    if (a2.iconVisible) {
      p2.parentElement || c2.insertBefore(p2, this._span);
      var x2 = t3.getTreeIcon(g2);
      x2 ? (p2.src = x2, p2.removeAttribute("height"), p2.style.removeProperty("visibility")) : (p2.removeAttribute("src"), p2.height = 1, p2.style.visibility = "hidden");
    } else p2.parentElement && c2.removeChild(p2);
    if (null != this.template || null != this.callback) {
      var I2 = a2.templateOptions;
      this._span.style.display = "none", this._div.style.display = "inline-block";
      var E2, S2 = I2.callback, O2 = Ot.makeArray(I2.templateEvents);
      E2 = S2 ? this.$_setHtml(S2.call(this, t3.handler, i2, r2, n2), O2) : this.$_setHtml(this._parser.realize(t3, i2, o2, I2.valueCallback), O2), this.renderCallback && this.renderCallback.forEach(function(e3) {
        e3.callback.call(null, t3.handler, i2, e3.elt, E2);
      });
    } else this._span.style.removeProperty("display"), this._div.style.display = "none", f2[Ot.TextProp] = this._makeText(t3, i2, o2);
    c2.style.setProperty("padding-left", 3 + (g2.level - 1) * h2 + "px", "important");
  }, e2.TYPE = "tree", e2.FOR_ID = "$$-tree-check", e2.STYLE = "rg-tree-renderer", e2.STYLE_NAME = "rg-renderer " + e2.STYLE, e2;
}(zr);
var Sp = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "treeItemView") || this;
  }
  return i(e2, t2), e2.prototype.isCheckBox = function(t3) {
    var e3 = t3.className;
    return "rg-tree-checkbox" == e3 || "rg-tree-radio" == e3;
  }, e2.prototype.isCheckImage = function(t3) {
    var e3 = t3.className;
    return e3 && e3.indexOf("rg-tree-checkimage") >= 0;
  }, e2.prototype._doLayoutContent = function(e3) {
    t2.prototype._doLayoutContent.call(this, e3);
  }, e2.prototype._createRenderer = function(e3, i2, r2, n2, s2) {
    var a2 = e3;
    if (this.isTreeCell(e3, i2)) {
      var l2 = a2 && a2.treeOptions.templateOptions;
      return new Ep(o(o({}, n2), l2));
    }
    return t2.prototype._createRenderer.call(this, e3, i2, r2, n2, s2);
  }, e2.prototype.$_getRenderer = function(e3, i2, o2, r2, n2) {
    var s2 = e3;
    return this.isTreeCell(e3, i2) && s2.treeOptions._templateChanged && (n2.rendererChanged = true), t2.prototype.$_getRenderer.call(this, e3, i2, o2, r2, n2);
  }, e2.prototype.$_getDefaultRenderer = function(t3, e3) {
    return this.isTreeCell(t3, e3) ? Ep.TYPE : qr.TYPE;
  }, e2.prototype.isTreeCell = function(t3, e3) {
    return 0 === t3.layoutManager.getHorzColumnIndex(e3.valueColumn.layout);
  }, e2;
}(Al);
var Op = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return 0;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.fixedCellCount - 1;
  }, e2;
}(Sp);
var Rp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype._getFirstCell = function(t3) {
    return this._getStartCell(t3);
  }, e2.prototype._getLastCell = function(t3) {
    return this._getEndCell(t3);
  }, e2.prototype._getStartCell = function(t3) {
    return t3.cellCount - t3.rightCellCount;
  }, e2.prototype._getEndCell = function(t3) {
    return t3.cellCount - 1;
  }, e2;
}(Sp);
var Pp = function(t2) {
  function e2(e3, i2) {
    return t2.call(this, e3, i2) || this;
  }
  return i(e2, t2), e2.prototype.isTreeCell = function(t3) {
    var e3 = this.bodyCellAt(t3);
    return e3 && e3.renderer2 instanceof Ep;
  }, e2.prototype.createRowElement = function() {
    return new Sp(this.doc);
  }, e2;
}(Ul);
var kp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.isTreeCell = function(t3) {
    var e3 = this.bodyCellAt(t3);
    return e3 && e3.renderer2 instanceof Ep;
  }, e2.prototype.createRowElement = function() {
    return new Op(this.doc);
  }, e2;
}(Yl);
var Dp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.isTreeCell = function(t3) {
    var e3 = this.bodyCellAt(t3);
    return e3 && e3.renderer2 instanceof Ep;
  }, e2.prototype.createRowElement = function() {
    return new Rp(this.doc);
  }, e2;
}(zl);
var Tp = function(t2) {
  function e2(e3) {
    var i2 = t2.call(this, e3.doc) || this;
    return i2._levelWidth = 16, i2._handleWidth = 9, i2._handleHeight = 9, i2._stroke = "gray", i2._linePool = [], i2._lines = [], i2._startIndex = -1, i2._endIndex = -1, i2._treeView = e3, i2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._linePool = null, this._lines = null, t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "levelWidth", { get: function() {
    return this._levelWidth;
  }, set: function(t3) {
    t3 != this._levelWidth && (this._levelWidth = t3, this.invalidate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "handleWidth", { get: function() {
    return this._handleWidth;
  }, set: function(t3) {
    t3 != this._handleWidth && (this._handleWidth = t3, this.invalidate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "handleHeight", { get: function() {
    return this._handleHeight;
  }, set: function(t3) {
    t3 != this._handleHeight && (this._handleHeight = t3, this.invalidate());
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "stroke", { get: function() {
    return this._stroke;
  }, set: function(t3) {
    t3 != this._stroke && (this._stroke = t3, this.invalidate());
  }, enumerable: false, configurable: true }), e2.prototype.setRange = function(t3, e3, i2) {
    e3 == this._startIndex && i2 == this._endIndex || (this._startIndex = e3, this._endIndex = i2, this.invalidate());
  }, e2.prototype.layout = function(t3) {
    var e3 = this._treeView;
    if (this.$_hideAll(), !(!e3 || this._startIndex < 0 || this._endIndex < 0 || this._startIndex > this._endIndex)) {
      var i2, o2 = null;
      for (i2 = this._startIndex; i2 <= this._endIndex && !(o2 = e3.getItem(i2)); i2++) ;
      if (o2) {
        var r2 = o2.level;
        if (r2 > 1 || o2.childIndex > 0) {
          for (var n2 = 0; n2 < r2; n2++) {
            var s2 = o2.getAncestor(n2);
            (a2 = s2.last) && a2.index >= i2 && (a2 = this.$_findLevelItem(n2 + 1, i2), this.$_drawVertLine(t3, this.$_borrowLine(), null, a2, s2.level));
          }
          o2.childIndex > 0 && this.$_drawVertLine(t3, this.$_borrowLine(), null, o2, o2.parent.level);
        }
        for (; i2 <= this._endIndex; i2++) {
          var a2, l2 = (o2 = e3.getItem(i2)).parent;
          if ((n2 = o2.childIndex) < l2.count - 1) (a2 = l2.getItem(n2 + 1)).index > this._endIndex && (a2 = null), this.$_drawVertLine(t3, this.$_borrowLine(), o2, a2, l2.level);
          if ((l2 = o2) && l2.expanded && l2.count > 0) (a2 = l2.getItem(0)).index > this._endIndex && (a2 = null), this.$_drawChildLine(t3, this.$_borrowLine(), o2, a2);
          this.$_drawHorzLine(t3, this.$_borrowLine(), o2);
        }
      }
    }
  }, e2.prototype._getCssSelector = function() {
    return "rg-tree-lines";
  }, e2.prototype._initDom = function(e3) {
    t2.prototype._initDom.call(this, e3);
    var i2 = e3.style;
    i2.setProperty("pointer-events", "none", "important"), i2.setProperty("overflow", "hidden");
  }, e2.prototype._doDraw = function(t3) {
  }, e2.prototype.$_borrowLine = function() {
    var t3 = this._linePool.pop();
    t3 || ((t3 = this._treeView.doc.createElement("div")).className = "rg-tree-line", t3.style.position = "absolute", this._dom.appendChild(t3));
    return t3.style.display = "inline-block", this._lines.push(t3), t3;
  }, e2.prototype.$_hideAll = function() {
    for (var t3 = this._lines.length - 1; t3 >= 0; t3--) "none" != this._lines[t3].style.display && (this._lines[t3].style.display = "none");
    this._linePool = this._linePool.concat(this._lines.splice(0, this._lines.length));
  }, e2.prototype.$_findLevelItem = function(t3, e3) {
    for (var i2 = e3; i2 <= this._endIndex; i2++) {
      var o2 = this._treeView.getItem(i2);
      if (o2 && o2.level == t3) return o2;
    }
    return null;
  }, e2.prototype.$_setBounds = function(t3, e3, i2, o2, r2) {
    var n2 = t3.style;
    n2.left = 3 + e3 + "px", n2.top = i2 + "px", n2.width = 1 == o2 ? "1px" : o2 + "px", n2.height = 1 == r2 ? "1px" : r2 + "px";
  }, e2.prototype.$_drawVertLine = function(t3, e3, i2, o2, r2) {
    var n2 = t3.topIndex, s2 = r2 * this._levelWidth + this._levelWidth / 2, a2 = 0, l2 = this.height, h2 = this._handleHeight;
    if (i2) {
      var u2 = t3.getItemBounds(i2.index - n2), c2 = i2 instanceof In && i2.hasChildren ? h2 + 2 : 0;
      a2 = u2.y + u2.height / 2 + c2 / 2 + 1;
    }
    if (o2) {
      u2 = t3.getItemBounds(o2.index - n2), c2 = o2 instanceof In && o2.hasChildren ? h2 : 0;
      l2 = u2.y + u2.height / 2 - c2 / 2;
    }
    this.$_setBounds(e3, s2, a2, 1, l2 - a2);
  }, e2.prototype.$_drawHorzLine = function(t3, e3, i2) {
    var o2, r2 = t3.topIndex, n2 = i2.parent.level * this._levelWidth + this._levelWidth / 2, s2 = i2.level * this._levelWidth + 1;
    i2.hasChildren && (n2 += this._handleWidth / 2 + 1);
    var a2 = t3.getItemBounds(i2.index - r2);
    o2 = a2.y + a2.height / 2, this.$_setBounds(e3, n2, o2, s2 - n2, 1);
  }, e2.prototype.$_drawChildLine = function(t3, e3, i2, o2) {
    var r2, n2 = t3.topIndex, s2 = i2.level * this._levelWidth + this._levelWidth / 2, a2 = this.height, l2 = t3.getItemBounds(i2.index - n2);
    if (r2 = l2.y + l2.height / 2 + 5, o2) {
      l2 = t3.getItemBounds(o2.index - n2);
      var h2 = o2.hasChildren ? this._handleHeight : 0;
      a2 = l2.y + l2.height / 2 - h2 / 2;
    }
    this.$_setBounds(e3, s2, r2, 1, a2 - r2);
  }, e2;
}(ga);
var Mp = function(t2) {
  function e2(e3) {
    return t2.call(this, e3, "treeViewSelectionTool") || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, e2.prototype._doKeyDown = function(e3) {
    var i2, o2 = this.focused.clone(), r2 = this.grid.treeOptions, n2 = e3.which, s2 = Ot.ctrlKey(e3);
    if (o2 && (i2 = o2.item)) switch (n2) {
      case 39:
        if (!s2 && 1 == this.grid.visibleLayoutCount && o2.isRight && r2.expandWhenRightKey || s2 && r2.expandWhenCtrlKey) {
          if (!i2.expanded) return i2.setExpanded(true, false, false), true;
          if (i2.count > 0) return o2.down(), this.setFocused(o2, true, true), true;
        }
        break;
      case 37:
        if (!s2 && o2.isLeft && r2.collapseWhenLeftKey || s2 && r2.collapseWhenCtrlKey) {
          if (i2.expanded) return i2.setExpanded(false, false, false), true;
          if (!(i2.parent instanceof En)) return o2.itemIndex = i2.parent.index, this.setFocused(o2, true, true), true;
        }
    }
    return t2.prototype._doKeyDown.call(this, e3);
  }, e2.prototype._doPointerDown = function(e3) {
    var i2 = e3.mouseX, o2 = e3.mouseY, r2 = e3.altKey, n2 = this.grid, s2 = this.findElementAt(i2, o2, false), a2 = this.mouseEventTarget;
    if (s2 instanceof Sp && Al.isExpander(a2) && !r2) {
      var l2 = s2._item;
      l2 instanceof In && (l2.expanded ? n2.collapse(l2, false) : n2.expand(l2, false, false));
    }
    t2.prototype._doPointerDown.call(this, e3);
  }, e2.prototype._doClick = function(e3, i2, o2) {
    i2 = i2 || e3.mouseX, o2 = o2 || e3.mouseY;
    var r2 = e3.shiftKey, n2 = this.grid, s2 = n2.checkBar, a2 = this.findElementAt(i2, o2, false), l2 = e3.target;
    if (a2 instanceof Sp) {
      if (a2.isCheckImage(l2)) return;
      if (a2.isCheckBox(l2)) {
        var h2 = n2.getItem(a2.itemIndex);
        n2.editOptions.checkable && h2.checkable ? (s2.exclusive && s2.toggleRadio && (l2.checked = !h2.checked), this._doCheck(l2, h2, r2)) : e3.preventDefault();
      }
    }
    t2.prototype._doClick.call(this, e3, i2, o2);
  }, e2.prototype._canMoveRowAt = function(t3, e3, i2) {
    var o2 = t3.boundsByContainer(t3.getCellRectAt(this.grid.layoutManager, e3, false)), r2 = 3 + (e3.item.level - 1) * this.grid.treeOptions.levelIndent;
    if (i2 < o2.x + (t3.isTreeCell(e3) ? r2 : 20)) {
      var n2 = this.grid.getSelectedItems();
      if (n2.length > 1) {
        for (var s2 = n2[0].level, a2 = 1; a2 < n2.length; a2++) if (n2[a2].level < s2) return false;
      }
      return true;
    }
  }, e2;
}(Yu);
var Fp = function(t2) {
  function e2(e3, i2, o2, r2) {
    return t2.call(this, e3, i2, o2, r2) || this;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "treeView", { get: function() {
    return this.gridView;
  }, enumerable: false, configurable: true }), e2.prototype._createGridView = function(t3, e3) {
    return new $p(this, t3, e3);
  }, e2.prototype._createDefaultTool = function() {
    return new Mp(this);
  }, e2;
}(wp);
var Lp = function(t2) {
  function e2() {
    return t2.call(this, "treeItemExpanderCell") || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "getText", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var Np = function(t2) {
  function e2() {
    return t2.call(this, "treeItemFooterCell") || this;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "getText", { get: function() {
    var t3 = String(this.value());
    if (!t3) {
      var e3 = this.index;
      e3.dataColumn && (t3 = e3.column.footer.text);
    }
    return t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "value", { get: function() {
    return null;
  }, enumerable: false, configurable: true }), e2;
}(_r);
var $p = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    return r2._expanderCell = new Lp(), r2._footerCell = new Np(), r2._focusedRow = -1, r2.itemSource = r2._rs = r2._createItemSource(), r2;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this.itemSource = this._rs = this.itemSource && this.itemSource.dispose(), t2.prototype._doDispose.call(this);
  }, Object.defineProperty(e2.prototype, "treeOptions", { get: function() {
    return this._treeOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "linesView", { get: function() {
    return this._linesView;
  }, enumerable: false, configurable: true }), e2.prototype.isTree = function() {
    return true;
  }, e2.prototype.recursiveDeleting = function() {
    return this.treeOptions.recursiveDeleting;
  }, e2.prototype._beforeChangeLayout = function() {
  }, e2.prototype.getLevels = function(t3) {
    return this._rs.getLevels(t3);
  }, e2.prototype.getExpanderCell = function(t3) {
    return this._expanderCell.setIndex(Ts.temp(this, t3)), this._expanderCell;
  }, e2.prototype.getFooterCell = function(t3) {
    return this._footerCell.setIndex(t3), this._footerCell;
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    this.isItemEditing(null) || this._rs.expand(t3, e3, i2, o2);
  }, e2.prototype.collapse = function(t3, e3) {
    this.isItemEditing(null) || this._rs.collapse(t3, e3);
  }, e2.prototype.expandAll = function(t3, e3) {
    this.isItemEditing(null) || this._rs.expandAll(t3, e3);
  }, e2.prototype.collapseAll = function() {
    this.isItemEditing(null) || this._rs.collapseAll();
  }, e2.prototype.getTreeIcon = function(t3) {
    var e3 = this.treeOptions, i2 = e3.iconImages;
    if (i2) {
      var o2 = void 0;
      o2 = t3.hasChildren && t3.expanded && e3.expandedIcon > -1 ? e3.expandedIcon : t3.hasChildren && t3.collapsed && e3.collapsedIcon > -1 ? e3.collapsedIcon : t3.iconIndex;
      var r2 = e3.iconCallback;
      if (r2) {
        var n2 = r2(this.handler, t3.index, t3.dataRow, o2);
        if ("string" == typeof n2) return n2;
        isNaN(n2) || (o2 = n2);
      }
      if ((o2 < 0 || o2 >= i2.length) && (o2 = e3.defaultIcon), o2 >= 0 && o2 < i2.length) return e3.iconImagesRoot + i2[o2];
    }
  }, e2.prototype.getCheckedItems = function() {
    for (var t3 = [], e3 = 0, i2 = this.itemCount; e3 < i2; e3++) {
      var o2 = this.getItem(e3);
      o2.checked && t3.push(o2);
    }
    return t3;
  }, e2.prototype.getCheckedItemIndices = function() {
    for (var t3 = [], e3 = 0, i2 = this.itemCount; e3 < i2; e3++) {
      var o2 = this.getItem(e3);
      o2.checked && t3.push(o2.index);
    }
    return t3;
  }, e2.prototype.getCheckedRows = function(t3) {
    var e3 = null;
    if (t3) {
      e3 = [];
      for (var i2 = 0, o2 = this.itemCount; i2 < o2; i2++) {
        var r2 = this.getItem(i2);
        r2.checked && e3.push(r2.row);
      }
    } else e3 = this._rs.getCheckedRows();
    return e3;
  }, e2.prototype.getCheckedRowIds = function(t3) {
    var e3 = null;
    if (t3) {
      e3 = [];
      for (var i2 = 0, o2 = this.itemCount; i2 < o2; i2++) {
        var r2 = this.getItem(i2);
        r2.checked && e3.push(r2.dataRow);
      }
    } else e3 = this._rs.getCheckedRowIds();
    return e3;
  }, e2.prototype.checkChildren = function(t3, e3, i2, o2, r2, n2) {
    if (void 0 === r2 && (r2 = true), void 0 === n2 && (n2 = false), t3) for (var s2 = 0, a2 = t3.count; s2 < a2; s2++) {
      var l2 = t3.getItem(s2);
      r2 ? l2.checkable && l2.setChecked(e3, n2) : l2.setChecked(e3, n2), !i2 || !l2.expanded && o2 || this.checkChildren(l2, e3, true, o2, r2, n2);
    }
  }, e2.prototype.resetCheckables = function() {
    this._rs.resetCheckables();
  }, e2.prototype.applyCheckables = function() {
    this._rs.applyCheckables();
  }, e2.prototype.getItemOfModel = function(t3) {
    return t3.itemIndex >= 0 ? this.getItem(t3.itemIndex) : t3.dataRow >= 0 ? this.getItemOfRow(t3.dataRow, false) : 0 === t3.level && -1 === t3.parentId ? this.itemSource.rootItem : null;
  }, e2.prototype.getJsonRows = function() {
    return this._rs.getJsonRows();
  }, Object.defineProperty(e2.prototype, "dataSource", { get: function() {
    return this._rs && this._rs.dataSource;
  }, set: function(t3) {
    this._rs && (this._rs.dataSource = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "maxItemCount", { get: function() {
    return this._rs ? this._rs.maxItemCount : 0;
  }, set: function(t3) {
    this._rs && (this._rs.maxItemCount = t3);
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "summarizer", { get: function() {
    return this._rs.summarizer;
  }, enumerable: false, configurable: true }), e2.prototype._initStyles = function() {
    t2.prototype._initStyles.call(this), this._treeOptions = new xp(this);
  }, e2.prototype._createItemSource = function() {
    var t3 = new kn(true);
    return t3.setSortingOptions(this.sortingOptions), t3;
  }, e2.prototype._doContentPanesCreated = function() {
    this._linesView = new Tp(this), this.addElement(this._linesView);
  }, e2.prototype._createSidePane = function() {
    return t2.prototype._createSidePane.call(this);
  }, e2.prototype._createLayoutManager = function() {
    return new Ap(this);
  }, e2.prototype._createBodyView = function(t3) {
    return new Pp(this.doc, t3);
  }, e2.prototype._createFixedBodyView = function(t3) {
    return new kp(this.doc, t3);
  }, e2.prototype._createRightBodyView = function(t3) {
    return new Dp(this.doc, t3);
  }, e2.prototype._visualObjectChanged = function(e3) {
    t2.prototype._visualObjectChanged.call(this, e3);
  }, e2.prototype.append = function(t3, e3) {
    return this.insert(this._rs.rootItem, false, true, t3, e3);
  }, e2.prototype._doCanInsert = function(t3, e3, i2) {
    return t3 && (t3.count > 0 || !i2 || 0 == t3.level || this.editOptions.appendable);
  }, e2.prototype._doMaxRowCountChanged = function() {
    this._rs.maxItemCount = this.maxItemCount;
  }, e2.prototype.getSortFields = function() {
    return this._rs.getSortFields();
  }, e2.prototype.getSortDirections = function() {
    return this._rs.getSortDirections();
  }, e2.prototype.getSortCases = function() {
    return this._rs.getSortCases();
  }, e2.prototype._doSortItems = function(t3, e3, i2) {
    this._rs.setLabelComparer(this._doPrepareComparer(t3)), this._rs.orderBy(t3, e3, i2);
  }, e2.prototype._doColumnFiltersChanged = function(t3, e3, i2) {
    this._rs.includeParentItem = this.filteringOptions.includeParentItem, this.applyFilters(t3, e3, i2);
  }, e2.prototype.setOptions = function(e3) {
    if (e3) {
      var i2 = this._rs;
      void 0 !== e3.hideDeleted && (i2.hideDeleted = e3.hideDeleted), void 0 !== e3.hideDeletedRows && (i2.hideDeleted = e3.hideDeletedRows), void 0 !== e3.summaryMode && (i2.summaryMode = e3.summaryMode), void 0 !== e3.sortMode && (i2.sortMode = e3.sortMode), t2.prototype.setOptions.call(this, e3);
    }
  }, e2.prototype._doPrepareRender = function(e3) {
    var i2 = this._horzScrolled;
    t2.prototype._doPrepareRender.call(this, e3), i2 && this.layoutManager.$_layoutLines();
  }, e2.prototype.$_doLayout = function(e3, i2) {
    this._treeOptions, t2.prototype.$_doLayout.call(this, e3, i2);
  }, e2.prototype.assignImageList = function(t3) {
  }, e2.prototype.getEditBounds = function(e3, i2) {
    return t2.prototype.getEditBounds.call(this, e3, i2);
  }, e2.prototype.updatePastedRow = function(t3, e3, i2) {
    if (t3 instanceof In) {
      var o2 = t3.row;
      o2 && o2.update(e3, i2);
    }
  }, e2.prototype.appendPastedRow = function(t3) {
    var e3 = this.dataSource;
    if (e3) {
      var i2 = e3.createRow(t3, -1, false);
      return e3.rootRow.addChild(i2, false), i2.rowId;
    }
  }, Object.defineProperty(e2.prototype, "undoable", { get: function() {
    return this._rs.undoable;
  }, set: function(t3) {
    this._rs.undoable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canUndo", { get: function() {
    return this._rs.canUndo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "canRedo", { get: function() {
    return this._rs.canRedo;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "undoing", { get: function() {
    return this._rs.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "redoing", { get: function() {
    return this._rs.redoing;
  }, enumerable: false, configurable: true }), e2.prototype.undo = function() {
    return !!this._rs.canUndo && (this._rs.cancelWhenLastUndo = this.editOptions.cancelWhenLastUndo, this.editController.cancelEditor(true), this._rs.undo(), true);
  }, e2.prototype.redo = function() {
    return !!this._rs.canRedo && (this._rs.redo(), true);
  }, e2.prototype.execute = function(t3) {
    this._rs.execute(t3);
  }, e2.prototype.clearCommandStack = function(t3) {
    void 0 === t3 && (t3 = true), this._rs.clearCommandStack(t3);
  }, e2.prototype.getFirstRow = function() {
    return null;
  }, e2.prototype.getLastRow = function() {
    return null;
  }, e2.prototype.getPrevRow = function(t3) {
    return null;
  }, e2.prototype.getNextRow = function(t3) {
    return null;
  }, e2.prototype.canMoveRows = function(t3, e3, i2) {
    if (i2 && this.canMoveRow(e3, false) && t3 && t3.length > 0) {
      var o2 = t3[0].parent;
      if (o2 !== i2.parent) return false;
      for (var r2 = 1, n2 = t3.length; r2 < n2; r2++) if (o2 !== t3[r2].parent) return false;
      var s2 = false;
      for (r2 = 0; r2 < t3.length; r2++) {
        var a2 = t3[r2];
        a2 && a2.isDataRow && (s2 = true);
      }
      return s2;
    }
  }, e2.prototype._getMoveTarget = function(t3, e3, i2, o2) {
    if ("keydown" === t3) {
      var r2 = this.getItem(i2), n2 = r2.parent;
      if (r2.childIndex + e3.length >= n2.children.length && o2 > 0 || 0 === r2.childIndex && o2 < 0) return;
      var s2 = this.getItem(i2 + o2);
      if (r2.level === s2.level) return s2;
      var a2 = r2.childIndex + o2;
      if (!n2 || a2 < 0 || a2 >= n2.children.length) return;
      return n2.children[a2];
    }
    return this.getItem(i2 + o2);
  }, e2.prototype._doMoveRows = function(t3, e3) {
    var i2 = e3 && e3.dataId;
    if (i2 >= 0) {
      for (var o2 = [], r2 = 0, n2 = t3; r2 < n2.length; r2++) {
        var s2 = n2[r2], a2 = s2 && s2.dataId;
        a2 >= 0 && o2.push(a2);
      }
      if (o2.length > 0) {
        var l2 = this.dataSource, h2 = l2.rowsByIds(o2, false);
        if (h2.length > 0) return l2.moveRows(h2, l2.rowById(i2));
      }
    }
    return false;
  }, e2.prototype._fitLayoutWidth = function(t3) {
    if (!t3.visible) return 0;
    var e3, i2 = this.itemSource, o2 = this.getIndex(this.topIndex, t3.firstColumn), r2 = "", n2 = 0;
    e3 = r2 = t3.firstColumn.header.displayText;
    var s2, a2 = this.getBodyCellAt(o2, false), l2 = a2 && a2.renderer2 && a2.renderer2._dom, h2 = a2 && a2.renderer2 instanceof Ep, u2 = { 0: Ot.getTextLength(e3) }, c2 = { 0: e3 };
    if (l2) {
      var d2 = xt(l2).getComputedStyle(l2);
      if (d2) {
        r2 = d2.paddingLeft;
        var p2 = parseInt(r2.substr(0, r2.indexOf("px")));
        n2 += p2 > 0 ? p2 : 0, r2 = d2.paddingRight, n2 += (p2 = parseInt(r2.substr(0, r2.indexOf("px")))) > 0 ? p2 : 0, s2 = { fontSize: d2.fontSize, fontFamily: d2.fontFamily, fontWeight: d2.fontWeight, fontStyle: d2.fontStyle };
      }
    }
    for (var f2 = 0, _2 = i2.itemCount; f2 < _2; f2++) {
      o2.itemIndex = f2, u2[v2 = h2 ? o2.item.level : 0] = u2[v2] || 0, r2 = this.getDisplayText(o2), Ot.getTextLength(r2) > u2[v2] && (u2[v2] = Ot.getTextLength(r2), c2[v2] = r2);
    }
    for (var g2 = 0, y2 = 0, m2 = 0, b2 = Object.keys(u2); m2 < b2.length; m2++) {
      var v2 = b2[m2];
      g2 = h2 ? parseInt(v2) * this.linesView.levelWidth + 6 + (this.treeOptions.iconVisible ? 24 : 0) : 6, g2 += this.container.measureText("rg-data-cell", c2[v2], s2), y2 = Math.max(y2, g2);
    }
    n2 += y2;
    var w2 = t3.firstColumn, C2 = w2.editor, x2 = this.delegate.getCellEditor(Ma.getEditorType(C2));
    return x2.hasButton(this.displayOptions.showNativeEditButton, C2) && (n2 += this.body.editButtonWidth * x2.buttonCount), w2.button !== F.NONE && (n2 += this.body.cellButtonWidth), n2;
  }, e2.prototype.optionsChanged = function(e3) {
    if (t2.prototype.optionsChanged.call(this, e3), e3 instanceof xp) {
      var i2 = this._rs;
      i2 && i2.setTreeOptions(e3);
    }
  }, e2.prototype.$_afterRender = function() {
    t2.prototype.$_afterRender.call(this), this.treeOptions._templateChanged = false;
  }, e2.prototype.$_getVisibleAncestor = function(t3) {
    var e3 = this._rs.getItemOfRow(t3);
    if (e3) {
      for (; e3 && !e3.visible; ) e3 = e3.parent;
      return e3;
    }
    return null;
  }, e2.prototype.onItemProviderReset = function(e3, i2) {
    this._currentRowId = -1, t2.prototype.onItemProviderReset.call(this, e3, i2);
  }, e2.prototype.onTreeItemProviderItemChanged = function(t3, i2) {
    this.invalidateLayout(), this.fireEvent(e2.CHANGED, i2);
  }, e2.prototype.onTreeItemProviderExpanding = function(t3, i2) {
    return this._focusedRow = this.focusedIndex ? this.focusedIndex.dataRow : -1, this.editController.editing && !t3.isEditing() && this.editController.cancelEditor(true), !this.editController.editing && !t3.isEditing() && this.fireConfirmEvent(e2.EXPANDING, i2);
  }, e2.prototype.onTreeItemProviderExpanded = function(t3, i2) {
    this.fireEvent(e2.EXPANDED, i2);
  }, e2.prototype.onTreeItemProviderCollapsing = function(t3, i2) {
    return this._focusedRow = this.focusedIndex ? this.focusedIndex.dataRow : -1, this.editController.editing && !t3.isEditing() && this.editController.cancelEditor(true), !this.editController.editing && !t3.isEditing() && this.fireConfirmEvent(e2.COLLAPSING, i2);
  }, e2.prototype.onTreeItemProviderCollapsed = function(t3, i2) {
    this.fireEvent(e2.COLLAPSED, i2);
  }, e2.EXPANDING = "onTreeViewExpanding", e2.EXPANDED = "onTreeViewExpanded", e2.COLLAPSING = "onTreeViewCollapsing", e2.COLLAPSED = "onTreeViewCollapsed", e2.CHANGED = "onTreeViewChanged", e2;
}(zc);
var Ap = function(t2) {
  function e2(e3) {
    return t2.call(this, e3) || this;
  }
  return i(e2, t2), e2.prototype.layout = function(e3) {
    t2.prototype.layout.call(this, e3), this.$_layoutLines();
  }, e2.prototype.$_layoutLines = function() {
    var t3 = this.grid, e3 = t3.linesView;
    if (e3.visible = t3.treeOptions.lineVisible) {
      var i2 = this.fixedLayoutCount > 0, o2 = (i2 ? this.fixedBodyBounds : this.bodyBounds).clone();
      i2 ? (o2.y += this.fixedContentBounds.y, o2.x += this.fixedContentBounds.x) : (o2.y += this.contentBounds.y, o2.x += this.contentBounds.x), this.layoutCount > 0 ? o2.width = Math.max(0, this.getLayoutWidth(0)) : o2.width = 0, e3.setRect(o2), e3.levelWidth = 16, e3.setRange(t3, this.topIndex, Math.min(t3.itemCount, this.topIndex + this.itemCount) - 1), e3.layout(this);
    }
  }, e2;
}(Jl);
var Bp = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._columns = null, e3;
  }
  return i(e2, t2), e2.prototype._doDispose = function() {
    this._columns = null, t2.prototype._doDispose.call(this);
  }, e2.prototype.setColumns = function(t3) {
    this._columns = [];
    for (var e3 = 0; e3 < t3.length; e3++) t3[e3].layout instanceof _s && this._columns.push(t3[e3].layout.firstColumn.name);
  }, e2.prototype.setItemIndex = function(t3, e3) {
    this._itemIndex = t3, this._startCol = e3;
  }, e2.prototype.isIdentifier = function(i2) {
    return i2 = i2.toLowerCase(), e2.IDENTS.hasOwnProperty(i2) ? e2.IDENTS[i2] : t2.prototype.isIdentifier.call(this, i2);
  }, e2.prototype.evaluateIdentifier = function(t3) {
    if (t3 === e2.ID_ROW) return String(this._itemIndex + 1);
    throw new Nt("Invalid identifier key: " + t3);
  }, e2.prototype.evaluateIndexerI = function(t3, i2) {
    if (t3 == e2.ID_EXCELCOLUMN) {
      if (i2 < 0 || i2 >= this._columns.length) throw new Nt("Data field index out of bounds:" + i2);
      return this._columns[i2];
    }
    throw new Nt("Invalid identifier indexer: " + t3);
  }, e2.prototype.evaluateIndexerS = function(t3, i2, o2) {
    if (t3 != e2.ID_EXCELCOLUMN) throw new Nt("Invalid identifier indexer: " + t3);
    if (this._columns) {
      var r2 = this._columns.indexOf(i2);
      if (r2 < 0 || r2 >= this._columns.length) throw new Nt("Column is not exists:" + i2);
      return _d.toColCaption(r2 + this._startCol);
    }
  }, e2.ID_EXCELCOLUMN = 0, e2.ID_ROW = 1, e2.IDENTS = { excelcolumn: e2.ID_EXCELCOLUMN, row: e2.ID_ROW }, e2;
}(Wt);
var Vp = function(t2) {
  function e2() {
    var e3 = t2.call(this) || this;
    return e3._gridIndex = 0, e3._numberFormatId = 0, e3._textFormatId = 49, e3._dateFormatId = 14, e3._rowLevels = 0, e3._indentWidth = 3, e3._seriesCell = new wr(), e3._excelFormulaRuntime = new Bp(), e3;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return t2.prototype.dispose.call(this), this._seriesCell = this._seriesCell.dispose(), this._linkRenderer = this._linkRenderer && this._linkRenderer.dispose(), this._templateRenderer = this._templateRenderer && this._templateRenderer.dispose(), this._imageRenderer = this._imageRenderer && this._imageRenderer.dispose(), this._bulletRenderer = this._bulletRenderer && this._bulletRenderer.dispose(), this._barRenderer = this._barRenderer && this._barRenderer.dispose(), this._signalRenderer = this._signalRenderer && this._signalRenderer.dispose(), this._excelFormulaRuntime = this._excelFormulaRuntime.dispose(), this._css = null, null;
  }, e2.prototype._progressCallback = function(t3, e3, i2, o2) {
    var r2 = this._progressGrid, n2 = this._multiOptions;
    r2 && r2.setExportProgress(i2, o2 + n2.prepareProgress, n2.progressMessage);
  }, e2.prototype.getShowOutline = function() {
    return this._rowGrouped && this._exportOptions.showLevelOutline;
  }, e2.prototype.export = function(e3, i2) {
    if (t2.prototype.export.call(this, e3, i2), this._progressGrid = e3, i2) {
      var o2 = this._multiOptions = i2, r2 = this._multiOptions.exportGrids;
      if (r2 && !(r2.length <= 0)) {
        var n2 = It(e3.container._containerDiv).documentElement;
        this._css = this.grid.doc.createElement("span").style;
        var s2 = new Hd(n2);
        if (s2.createCoreProperties(o2.coreProperties || { creator: "Wooritech" }), this._mergeHeads = {}, o2.showProgress) this._allCount = this._prepareCount(o2, r2), this._progressMax = this._allCount + o2.prepareProgress, this._progressPos = 0, this._progressStep = Math.max(this._allCount / 10 | 0, 1), o2.progressCallback ? this.setProgress = o2.progressCallback : (this._progressGrid && this._progressGrid.beginExportProgress(o2.progressMessage), this.setProgress = this._progressCallback), this._exportGridAsync(s2, o2, this._gridIndex = 0, (function t3() {
          var e4 = ++this._gridIndex;
          e4 < o2.exportGrids.length ? this._exportGridAsync(s2, o2, e4, t3.bind(this)) : (!i2.progressCallback && this._progressGrid && this._progressGrid.endExportProgress(), this.save());
        }).bind(this));
        else {
          for (var a2 = 0, l2 = r2.length; a2 < l2; a2++) this._exportGrid(s2, r2[a2].options);
          this.save();
        }
      }
    }
  }, e2.prototype.buildBook = function(t3) {
    var e3 = this._exportOptions.grid;
    e3.isTree() ? this.buildTreeSheet(e3, t3) : this.buildSheet(e3, t3);
  }, e2.prototype.buildSheet = function(t3, e3) {
    var i2 = this, o2 = this._exportOptions, r2 = this._workbook, n2 = r2.createSheet(this._sheetName, o2), s2 = t3.displayOptions;
    if (this._defaultHeight = s2.rowHeight || s2.minRowHeight, this._rowGrouped = t3.rowGrouped, this._mergedGrouped = t3.mergedRowGrouped, this._rowGrouped && (this._rowLevels = t3.rowGroupLevels), this._startItem = 0, o2.allItems && this._rowGrouped) {
      this.allItems = t3.itemSource.getAllItems();
      var a2 = t3.layoutManager.fixedItemCount;
      if (a2 > 0) for (var l2 = 0; l2 < a2; l2++) this.allItems.splice(l2, 0, t3.getItem(l2));
    } else if (o2.pagingAllItems && t3.paged) {
      var h2 = t3.itemSource;
      h2 instanceof Wd && (this.allItems = h2.getPagingAllItems()), o2.onlyCheckedItems && !t3.rowGrouped && (this.allItems = this.allItems.filter(function(t4) {
        return t4.checked;
      }));
    } else o2.onlyCheckedItems && !t3.rowGrouped && (this.allItems = t3.getCheckedItems(false));
    var u2 = this.allItems, c2 = u2 ? u2.length : t3.itemCount;
    if (!this._rowGrouped) {
      this._startItem = o2.start > 0 ? o2.start : 0;
      var d2 = o2.count > 0 ? o2.count : c2;
      c2 = d2 > 0 ? this._startItem + d2 > c2 ? c2 - this._startItem : d2 : c2 - this._startItem;
    }
    this._indexItem = this._startItem, this._lastItem = this._startItem + c2, this._currentRow = o2.yOffset, n2.setFirstCol(this._startCol = o2.xOffset), this._prepareCommonStyles(t3), this._buildColumns(t3), n2.createBorderEdges(ld.getSelectorStyle(this._preparer.documentCssStyles, ".rg-grid")), this._buildDocumentTitle(r2), this.header && this.buildHeader(t3), this.headerSummary && this.buildSummaryItem(t3, false, o2.headerSummary), this.buildItems(t3, function() {
      i2.footer && i2.buildSummaryItem(t3, true, o2.footer), i2._buildDocumentTail(r2), i2._buildUserCells(t3, r2), e3 && e3();
    });
  }, e2.prototype.buildHeader = function(t3) {
    for (var i2 = this._workbook, o2 = i2.currentSheet, r2 = this._preparer, n2 = r2.colCount, a2 = r2.headerRowCount, l2 = t3.header.heights || [], h2 = l2 && l2.length > 0 ? t3.header.minRowHeight : Math.max(t3.header.height, t3.header.minRowHeight * a2) / a2, u2 = [], c2 = 0; c2 < a2; c2++) u2.push(Math.max(l2[c2] || h2, h2) * e2.LINE_HEIGHT);
    var d2 = this._indents, p2 = this._currentRow;
    o2.setFirstRow(this._currentRow);
    var f2, _2 = this._startCol, g2 = this._headerCellStyle, y2 = [];
    for (c2 = 0; c2 < a2; c2++) y2.push(o2.borrowRow(p2 + c2, u2[c2]));
    if (this.indicator) {
      if ((f2 = y2[0]).addText(_2, this.indicatorHead, g2), a2 > 1) {
        for (c2 = 1; c2 < a2; c2++) y2[c2].addBlank(_2, g2);
        o2.addMerge(p2, _2, a2, 1);
      }
      _2++;
    }
    if (this.checkBar) {
      if ((f2 = y2[0]).addText(_2, this.checkBarHead, g2), a2 > 1) {
        for (c2 = 1; c2 < a2; c2++) y2[c2].addBlank(_2, g2);
        o2.addMerge(p2, _2, a2, 1);
      }
      _2++;
    }
    if (d2 > 0) {
      for (var m2 = 0; m2 < d2; m2++) {
        for (c2 = 0; c2 < a2; c2++) y2[c2].addBlank(m2 + _2, this._indentHeadStyle);
        o2.addMerge(p2, m2 + _2, a2, 1);
      }
      _2 += d2;
    }
    for (c2 = 0; c2 < a2; c2++) {
      var b2 = p2 + c2;
      f2 = y2[c2];
      for (m2 = 0; m2 < n2; m2++) {
        var v2 = r2.getHeader(c2, m2), w2 = v2 && v2.layout, C2 = m2 + _2;
        if (w2.isProxy || v2.spanned) f2.addBlank(C2, g2);
        else {
          var x2 = w2.displayText, I2 = this._preparer.documentCssStyles, E2 = w2 instanceof _s ? w2.firstColumn.header : w2.header, S2 = E2.exportStyleName || E2.styleName;
          g2 = this._headerCellStyle, S2 && (g2 = this._parseStyles(i2, this._inheritStyles(s([this._headerCssStyle], ld.getSelectorStyles(I2, S2), true)), true)), f2.addText(C2, x2, g2);
          var O2 = 0, R2 = w2.getHeaderSpan() - 1, P2 = w2.parent, k2 = P2 && P2.vertical;
          if (R2 > 0) {
            var D2 = 0, T2 = w2.vindex + 1;
            if (k2) for (; D2++ < R2 && D2 < a2; ) {
              O2 += P2.getVisible(T2++)._hspan, r2.getHeader(c2 + D2, m2).spanned = true;
            }
            else for (; D2++ < R2 && m2 + D2 < n2 && T2 < P2.visibleCount; ) {
              O2 += P2.getVisible(T2++)._cspan, r2.getHeader(c2, m2 + D2).spanned = true;
            }
          }
          k2 ? o2.addMerge(b2, C2, w2.hspan + O2, w2.cspan) : o2.addMerge(b2, C2, w2.hspan, w2.cspan + O2);
        }
      }
    }
    this._currentRow += a2, this._exportOptions.applyFixed && o2.setFixedInfo(this._currentRow, void 0), o2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildSummaryItem = function(t3, i2, o2) {
    function r2(t4, e3, o3, r3, s3, a3) {
      var l3 = n2.getCell(o3.layout), h3 = this._exportOptions, u3 = l3.value;
      if (a3 && null != a3.text) t4.addText(e3, a3.text, s3);
      else if (u3 instanceof Date) h3.datetimeCallback ? (u3 = h3.datetimeCallback(-1, o3.name, u3)) instanceof Date ? t4.addDate(e3, u3, s3) : t4.addText(e3, u3, s3) : t4.addDate(e3, u3, s3);
      else if (isNaN(u3)) {
        var c3 = i2 ? o3.getFooter(n2._childIndex) : o3.getHeaderSummary(n2._childIndex), d3 = c3 && n2.getCellFormatters(c3, null), p3 = d3 ? l3.getDisplayText(d3) : u3;
        t4.addText(e3, p3 || "", s3);
      } else t4.addNumber(e3, u3, s3);
    }
    var n2, s2 = this._workbook.currentSheet, a2 = this._preparer, l2 = a2.colCount, h2 = a2.dataRowCount, u2 = this._indents, c2 = i2 ? t3.footers : t3.headerSummaries, d2 = o2 === Qc ? c2.count : c2.visibleCount, p2 = d2 * h2, f2 = this._currentRow;
    s2.setFirstRow(this._currentRow);
    for (var _2, g2 = this._startCol, y2 = t3.layoutManager.getDataRowHeights(h2), m2 = y2.reduce(function(t4, e3) {
      return t4 + e3;
    }, 0), b2 = [], v2 = 0; v2 < d2; v2++) {
      var w2 = (n2 = o2 === Qc ? c2.get(v2) : c2.getVisible(v2)).heights || [], C2 = w2.reduce(function(t4, e3) {
        return t4 + e3;
      }, 0), x2 = n2.height;
      x2 = -1 === x2 ? -1 : x2 > 0 ? x2 / h2 : Math.max(n2.minHeight, t3.heightMeasurer.summaryHeight, x2);
      for (var I2 = 0; I2 < h2; I2++) C2 > 0 && w2[I2] > 0 ? b2.push(w2[I2] * e2.LINE_HEIGHT) : m2 > 0 && y2[I2] > 0 ? b2.push(y2[I2] * n2.height / m2 * e2.LINE_HEIGHT) : b2.push(-1 === x2 ? -1 : x2 * e2.LINE_HEIGHT);
    }
    for (v2 = 0; v2 < d2 * h2; v2++) s2.borrowRow(f2 + v2, b2[v2]);
    if (this.indicator) {
      v2 = 0;
      for (var E2 = 0; v2 < d2; v2++) for (var S2 = 0; S2 < h2; S2++) _2 = s2.borrowRow(f2 + E2, b2[E2]), i2 ? 0 === E2 ? _2.addText(g2, this.indicatorFoot, this._indicatorFootStyle) : _2.addBlank(g2, this._indicatorFootStyle) : 0 === E2 ? _2.addText(g2, this.indicatorSummary, this._indicatorSumStyle) : _2.addBlank(g2, this._indicatorSumStyle), E2++;
      s2.addMerge(f2, g2++, p2, 1);
    }
    if (this.checkBar) {
      for (v2 = 0, E2 = 0; v2 < d2; v2++) for (S2 = 0; S2 < h2; S2++) _2 = s2.borrowRow(f2 + E2, b2[E2]), i2 ? 0 === E2 ? _2.addText(g2, this.checkBarSummary, this._checkBarSumStyle) : _2.addBlank(g2, this._checkBarSumStyle) : 0 === E2 ? _2.addText(g2, this.checkBarFoot, this._checkBarFootStyle) : _2.addBlank(g2, this._checkBarFootStyle), E2++;
      s2.addMerge(f2, g2++, p2, 1);
    }
    if (u2 > 0) {
      for (var O2 = 0; O2 < u2; O2++) {
        for (v2 = 0, E2 = 0; v2 < d2; v2++) for (S2 = 0; S2 < h2; S2++) (_2 = s2.borrowRow(f2 + E2, b2[E2])).addBlank(g2 + O2, this._indentFootStyle), E2++;
        s2.addMerge(f2, g2 + O2, d2 * h2, 1);
      }
      g2 += u2;
    }
    for (var R2 = f2, P2 = (i2 ? a2.getFooterItem : a2.getSummaryItem).bind(a2), k2 = (I2 = 0, 0); I2 < d2; I2++) {
      n2 = o2 === Qc ? c2.get(I2) : c2.getVisible(I2);
      for (v2 = 0; v2 < h2; v2++, k2++) {
        _2 = s2.borrowRow(R2, b2[k2]);
        for (O2 = 0; O2 < l2; O2++) {
          var D2 = P2(I2 * h2 + v2, O2), T2 = D2.layout, M2 = T2.firstColumn, F2 = O2 + g2, L2 = T2.firstColumn.$_hash, N2 = (i2 ? this._columnFooterStyles : this._columnSummaryStyles)[L2][I2];
          if (T2.isProxy || D2.spanned) _2.addBlank(F2, N2);
          else {
            var $2 = 0, A2 = i2 ? T2.getFooterSpan(I2) - 1 : T2.getSummarySpan(I2) - 1, B2 = i2 ? T2.getFooterUserSpan(n2._childIndex) : T2.getSummaryUserSpan(n2._childIndex), V2 = T2.parent, j2 = V2 && V2.vertical;
            if (B2) {
              var H2 = B2.footerCount || 0, W2 = H2 > 0 ? H2 * h2 : B2.rowspan || 1, G2 = B2.colspan || 1;
              r2.call(this, _2, F2, M2, I2, N2);
              for (var U2 = 0, Y2 = 0, z2 = 0; z2 < W2; z2++) {
                var q2 = (i2 ? a2._footerCells : a2._summaryCells)[I2 * h2 + v2 + z2];
                q2 && U2++;
                for (var K2 = 0; q2 && K2 < G2; K2++) {
                  var X2 = q2[O2 + K2];
                  X2 && (Y2 = Math.max(Y2, K2 + 1), X2.spanned = true);
                }
              }
              (W2 > 1 || G2 > 1) && s2.addMerge(R2, F2, U2, Y2);
            } else {
              if (A2 > 0) {
                var Z2 = 0, J2 = T2.vindex + 1;
                if (j2) for (; Z2++ < A2 && Z2 < h2; ) {
                  $2 += V2.getVisible(J2++)._dspan, P2(I2 * h2 + v2 + Z2, O2).spanned = true;
                }
                else for (; Z2++ < A2 && O2 + Z2 < l2 && J2 < V2.visibleCount; ) {
                  $2 += V2.getVisible(J2++)._cspan, P2(I2 * h2 + v2, O2 + Z2).spanned = true;
                }
              }
              r2.call(this, _2, F2, M2, I2, N2, D2), j2 ? s2.addMerge(R2, F2, T2._dspan + $2, T2._cspan) : s2.addMerge(R2, F2, T2._dspan, T2._cspan + $2);
            }
          }
        }
        R2++;
      }
    }
    this.getShowOutline() && s2.setRowLevel(R2, 1), this._currentRow += p2, s2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildItems = function(t3, e3) {
    for (var i2 = this._exportOptions, o2 = i2.showIndicatorRow(t3), r2 = i2.showIndicatorReverse(t3), n2 = this.allItems, s2 = n2 ? n2.length : t3.itemCount, a2 = this._progressStep ? this._indexItem + Math.min(this._progressStep, this._lastItem - this._indexItem) : this._lastItem, l2 = this._indexItem; l2 < a2; l2++) {
      var h2 = n2 ? n2[l2] : t3.getItem(l2);
      if (this._indicatorNo = o2 ? h2.isDataRow ? h2.dataRow + 1 : void 0 : r2 ? s2 - l2 : l2 + 1, h2 instanceof Ho) this.buildRow(t3, h2);
      else if (h2 instanceof Hr) this.buildMergedGroupHeader(t3, h2);
      else if (h2 instanceof jr || h2 instanceof Uo) this._preparer.groupModel != h2.parent && this._preparer.setGroupFooterItms(h2.parent, i2.allItems, t3.rowGroup.mergeMode), h2 instanceof jr ? this.buildMergedGroupFooter(t3, h2) : this.buildGroupFooter(t3, h2);
      else {
        if (!(h2 instanceof Go)) throw new Error("Unkown item type");
        this.buildGroupHeader(t3, h2);
      }
      this._progressPos += 1, this._preparer.clearDataSpanned();
    }
    this.setProgress && this.setProgress(t3.handler, "process", this._progressMax, this._progressPos), this._indexItem = a2, this._indexItem >= this._lastItem ? e3 && e3() : setTimeout((function() {
      this.buildItems(t3, e3);
    }).bind(this), 0);
  }, e2.prototype.buildRow = function(t3, i2) {
    var o2, r2, n2 = t3.rowGroup, s2 = this._preparer, a2 = s2.dataRowCount, l2 = s2.colCount, h2 = t3.layoutManager, u2 = this._columnMerged, c2 = this._mergeHeads, d2 = this._indents, f2 = this._workbook.currentSheet, _2 = this._currentRow;
    f2.setFirstRow(this._currentRow);
    var g2, y2 = this._startCol, m2 = t3.displayOptions, b2 = m2.rowHeightCallback;
    i2.index >= 0 && b2 && (h2.getRowHeightOfCallback(t3, i2.index), g2 = i2.heights);
    var v2 = (g2 = g2 || h2.getDataRowHeights(a2)).reduce(function(t4, e3) {
      return t4 + e3;
    }, 0) || i2.height;
    isNaN(v2) && (v2 = -1 === m2.rowHeight ? -1 : Math.max(m2.rowHeight || 0, m2.minRowHeight * a2)), v2 = -1 === v2 ? -1 : v2 > 0 ? v2 / a2 : v2;
    for (var w2 = n2.expandedAdornments === p.SUMMARY && n2.mergeMode, x2 = [], I2 = 0; I2 < a2; I2++) x2.push(f2.borrowRow(_2 + I2, -1 === v2 ? -1 : (g2[I2] || v2) * e2.LINE_HEIGHT));
    this.indicator && this._buildIndicatorCell(t3, f2, x2, this._indicatorNo, _2, y2++, a2), this.checkBar && this._buildCheckBarCell(t3, f2, x2, i2.checked, _2, y2++, a2);
    for (I2 = 0; I2 < a2; I2++) {
      var E2 = x2[I2];
      E2._row = I2;
      var S2 = _2 + I2, O2 = y2;
      for (o2 = 0; o2 < d2; o2++) E2.addBlank(O2, this._indentBarStyle), O2++;
      for (o2 = 0; o2 < l2; o2++) {
        var R2 = o2 + O2, P2 = s2.getItem(I2, o2), k2 = P2.layout, D2 = k2.firstColumn, T2 = D2.$_hash, M2 = this._columnStyles[T2], F2 = Ms.tempItem(t3, i2, k2);
        if (k2.isProxy || P2.spanned) E2.addBlank(R2, P2.style || M2);
        else {
          var L2 = k2._dspan, N2 = false, $2 = false;
          if (u2) {
            var A2 = h2.getMergeRoom(F2);
            if (A2) if (A2.isHead(F2) && 0 == I2 || this._startItem > 0 && i2.index == this._startItem && !w2) M2 = this._buildValueCell(t3, f2, E2, i2, k2, R2, O2), c2[T2] = { startRow: S2, style: M2 }, N2 = true, $2 = !D2.mergeGrouped && i2.isDataRow;
            else {
              var B2 = c2[T2];
              E2.addBlank(R2, B2.style || M2), (A2.isTail(F2) || this._lastItem > 0 && i2.index == this._lastItem - 1) && (L2 = S2 - B2.startRow + a2, f2.addMerge(B2.startRow, R2, L2, 1 + (B2.cols || 0)), delete c2[T2]), N2 = true, $2 = !D2.mergeGrouped && i2.isDataRow;
            }
            else if (this.allItems && !i2.visible && t3.isGroupedColumn(D2) && this._mergedGrouped) {
              E2.addBlank(R2, M2), N2 = true, r2 = i2.parent;
              for (; D2.groupLevel != r2.level && r2; ) r2 = r2.parent;
              var V2 = c2[T2] ? c2[T2].startRow : void 0;
              switch (t3.rowGroup.expandedAdornments) {
                case p.NONE:
                  i2 == r2.firstItem && i2 == r2.lastDataItem ? N2 = false : i2 == r2.firstItem ? (M2 = this._buildValueCell(t3, f2, E2, i2, k2, R2, O2), c2[T2] = { startRow: S2, style: M2 }) : i2 == r2.lastDataItem && (L2 = S2 - V2 + a2, f2.addMerge(V2, R2, L2, 1));
                  break;
                case p.BOTH:
                  i2 == r2.lastDataItem && 0 == r2.footerCount && (L2 = S2 - V2 + a2, f2.addMerge(V2, R2, L2, 1));
                  break;
                case p.HEADER:
                case p.SUMMARY:
                  i2 == r2.firstItem && i2 == r2.lastDataItem ? c2[T2] ? (L2 = S2 - V2 + a2, f2.addMerge(V2, R2, L2, 1), delete c2[T2]) : N2 = false : i2 == r2.lastDataItem ? (L2 = S2 - V2 + a2, f2.addMerge(V2, R2, L2, 1), delete c2[T2]) : r2.firstDataItem;
                  break;
                case p.FOOTER:
                  i2 == r2.firstItem && (M2 = this._buildValueCell(t3, f2, E2, i2, k2, R2, O2), c2[T2] = { startRow: S2, style: M2 }), i2 == r2.lastDataItem && (r2.footerCount > 0 || (L2 = S2 - c2[T2].startRow + a2, f2.addMerge(c2[T2].startRow, R2, L2, 1), delete c2[T2]));
              }
            }
          }
          if (!N2 || $2) {
            var j2 = !$2 && this._buildValueCell(t3, f2, E2, i2, k2, R2, O2), H2 = k2.parent, W2 = H2 && H2.vertical, G2 = true, U2 = k2.spanCallback, Y2 = U2 ? U2(t3.handler, k2, i2.index) : void 0;
            void 0 === Y2 && (Y2 = k2.dataSpan), void 0 === Y2 && (G2 = false, Y2 = k2.cellSpan);
            var z2 = 0;
            if (Y2 > 0) {
              var q2 = 0, K2 = k2.vindex + 1;
              if (W2) for (Y2--; q2++ < Y2 && q2 < a2; ) {
                z2 += (it2 = H2.getVisible(K2++))._dspan, s2.getItem(I2 + q2, o2).spanned = true, s2.getItem(I2 + q2, o2).style = j2;
              }
              else {
                for (var X2 = k2._dspan, Z2 = [], J2 = 0; J2 < X2; J2++) Z2.push(0);
                for (var Q2 = 0; Q2 < X2; Q2++) {
                  Z2[Q2] += k2._defColSpan;
                  for (var tt2 = 1; tt2 < Y2 && o2 + tt2 < l2; tt2++) {
                    var et2 = s2.getItem(I2 + Q2, o2 + tt2).layout;
                    et2 && !et2.isProxy && (Z2[Q2] += et2._defColSpan);
                  }
                }
                for (G2 = Math.max.apply(Math, Z2) === Y2; q2++ < Y2 - 1 && o2 + q2 < l2 && (G2 || K2 < H2.visibleCount); ) {
                  var it2;
                  if (!(it2 = G2 ? s2.getItem(I2, o2 + q2).layout : H2.getVisible(K2++))) break;
                  !it2.isProxy && (z2 += it2._defColSpan);
                }
                for (k2._defColSpan + z2 !== Y2 && (z2 = 0), q2 = 1; q2 < k2._defColSpan + z2; q2++) {
                  if (X2 > 1 && G2) for (tt2 = 1; tt2 < a2 && X2 > tt2; tt2++) s2.getItem(I2 + tt2, o2 + q2).spanned = true, s2.getItem(I2 + tt2, o2 + q2).style = j2;
                  s2.getItem(I2, o2 + q2).spanned = true, s2.getItem(I2, o2 + q2).style = j2;
                }
              }
            }
            if ($2) {
              var ot2 = c2[T2];
              ot2 && (ot2.cols = z2);
            } else W2 ? f2.addMerge(S2, R2, k2._dspan + z2, k2._defColSpan) : f2.addMerge(S2, R2, k2._dspan, k2._defColSpan + z2);
          }
        }
      }
      this.getShowOutline() && C(this.grid.rowGroup.expandedAdornments) && f2.setRowLevel(S2, i2.level);
    }
    this._currentRow += a2, f2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildGroupHeader = function(t3, i2) {
    var o2 = this._workbook, r2 = o2.currentSheet, n2 = this._preparer, s2 = i2.level - 1, a2 = this._indentBarStyle, l2 = n2.colCount, h2 = this._currentRow;
    r2.setFirstRow(this._currentRow);
    var u2 = this._startCol, c2 = t3.layoutManager.getDataRowHeights(n2.dataRowCount).reduce(function(t4, e3) {
      return t4 + e3;
    }, 0);
    c2 = c2 || Math.max(t3.displayOptions.rowHeight, t3.displayOptions.minRowHeight, t3.displayOptions.minTableRowHeight * n2.dataRowCount);
    var d2 = this._exportOptions, p2 = r2.borrowRow(h2, c2 * e2.LINE_HEIGHT);
    if (this.indicator && this._buildIndicatorCell(t3, r2, p2, this._indicatorNo, h2, u2++, 1), this.checkBar && this._buildCheckBarCell(t3, r2, p2, i2.checked, h2, u2++, 1), d2.indenting) for (var f2 = 0; f2 < s2; f2++) p2.addBlank(u2, a2), u2++;
    var _2 = t3.rowGroup.getHeaderText(i2), g2 = this._groupHeaderStyle, y2 = this._preparer.documentCssStyles, m2 = this._dynamicStyles, b2 = "groupheader-style=.rg-rowgroup-header-level-" + i2.level;
    if (m2[b2]) g2 = m2[b2];
    else {
      var v2 = ld.getSelectorStyle(y2, ".rg-rowgroup-header-level-" + i2.level);
      v2 && (g2 = this._extendStyles(o2, g2, v2)), this._dynamicStyles[b2] = g2;
    }
    p2.addText(u2, _2, g2), this._indents > 0 && (l2 += this._indents - (i2.level - 1));
    for (var w2 = 1; w2 < l2; w2++) p2.addBlank(w2 + u2, g2);
    r2.addMerge(h2, u2, 1, l2), this.getShowOutline() && r2.setRowLevel(h2, i2.level), this._currentRow++, r2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildGroupFooter = function(t3, i2) {
    function o2(e3, o3, r3, n3, s3) {
      var a3 = Ic.getValue(i2, r3), l3 = this._exportOptions;
      if (s3 && null != s3.text) e3.addText(o3, s3.text, n3);
      else if (a3 instanceof Date) l3.datetimeCallback ? (a3 = l3.datetimeCallback(i2.index, r3.name, a3)) instanceof Date ? e3.addDate(o3, a3, n3) : e3.addText(o3, a3, n3) : e3.addDate(o3, a3, n3);
      else if (isNaN(a3)) if (a3) e3.addText(o3, a3, n3);
      else {
        var h3 = void 0;
        if (i2) {
          var u3 = Ms.tempItem(t3, i2, r3);
          h3 = t3.getDisplayText(u3) || "";
        } else h3 = r3.groupFooter.text || "";
        e3.addText(o3, h3, n3);
      }
      else e3.addNumber(o3, a3, n3);
    }
    var r2, n2, s2, a2 = this._workbook.currentSheet, l2 = this._exportOptions, h2 = this._preparer, u2 = h2.dataRowCount, c2 = h2.colCount, d2 = this._groupFooterCellStyle, f2 = this._indentBarStyle, _2 = this._indents, g2 = i2.level, y2 = this._currentRow;
    a2.setFirstRow(this._currentRow);
    for (var m2 = this._startCol, b2 = t3.rowGroup.expandedAdornments == p.SUMMARY, v2 = Math.max(Math.max(this._defaultHeight, t3.displayOptions.minRowHeight) / u2, t3.displayOptions.minTableRowHeight), w2 = t3.layoutManager.getDataRowHeights(u2), C2 = [], x2 = 0; x2 < u2; x2++) C2.push(a2.borrowRow(y2 + x2, (w2[x2] || v2) * e2.LINE_HEIGHT));
    this.indicator && this._buildIndicatorCell(t3, a2, C2, this._indicatorNo, y2, m2++, u2), this.checkBar && this._buildCheckBarCell(t3, a2, C2, i2.checked, y2, m2++, u2);
    var I2 = h2.getGroupFooterCells(), E2 = i2.vindex * u2;
    for (x2 = 0; x2 < u2; x2++) {
      var S2 = y2 + x2, O2 = m2, R2 = C2[x2];
      if (_2 > 0) for (var P2 = 0; P2 < _2; P2++) b2 ? P2 < g2 - 2 ? R2.addBlank(O2, f2) : R2.addBlank(O2, d2) : R2.addBlank(O2, f2), 0 == x2 && u2 > 1 && a2.addMerge(S2, O2, u2, 1), O2++;
      for (P2 = 0; P2 < c2; P2++) {
        r2 = P2 + O2;
        var k2 = I2[E2 + x2][P2], D2 = k2.layout;
        if (n2 = D2.firstColumn, s2 = this._columnGroupFooterStyles[n2.$_hash][i2.footerIndex], l2.applyDynamicStyles) {
          var T2 = Ms.tempItem(t3, i2, D2), M2 = t3.rowGroup.getFooterCell(T2), F2 = M2.getSummary();
          s2 = this.$_summaryStyleSet(M2, F2, s2, k2, i2);
        }
        if (D2.isProxy || k2.spanned) R2.addBlank(r2, s2);
        else {
          var L2 = D2.parent, N2 = L2 && L2.vertical, $2 = 0, A2 = 0, B2 = D2.getGroupFooterUserSpan(i2.parent, i2.footerIndex), V2 = B2 ? 0 : D2.getGroupFooterSpan(i2.index, i2.footerIndex) - 1;
          if (B2) {
            var j2 = B2.footerCount || 0;
            $2 = j2 > 0 ? j2 * u2 : B2.rowspan || 1, A2 = B2.colspan || 1, $2 = Math.min((i2.parent.footerCount - i2.vindex) * u2, $2), a2.addMerge(S2, r2, $2, A2);
            for (var H2 = 0; H2 < $2; H2++) for (var W2 = 0; W2 < A2; W2++) I2[E2 + H2 + x2][P2 + W2].spanned = true;
          } else if (V2 > 0) {
            var G2 = 0;
            T2 = D2.vindex + 1;
            if (N2) for (; G2++ < V2 && G2 < u2; ) {
              $2 += L2.getVisible(T2++)._dspan, I2[E2 + G2][P2].spanned = true;
            }
            else for (; G2++ < V2 && T2 < Math.min(c2, L2.visibleCount); ) {
              A2 += L2.getVisible(T2++)._cspan, I2[E2 + x2][P2 + G2].spanned = true;
            }
          }
          o2.call(this, R2, r2, n2, s2, k2), !B2 && a2.addMerge(S2, r2, D2._dspan + $2, D2._cspan + A2);
        }
        this.getShowOutline() && a2.setRowLevel(S2, i2.level);
      }
    }
    this._currentRow += u2, a2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildMergedGroupHeader = function(t3, i2) {
    var o2 = this._workbook.currentSheet, r2 = this._preparer, n2 = i2.level, s2 = Math.max(t3.displayOptions.rowHeight, t3.displayOptions.minRowHeight, t3.displayOptions.minTableRowHeight * r2.dataRowCount), a2 = this._exportOptions, l2 = r2.colCount, h2 = this._currentRow;
    o2.setFirstRow(this._currentRow);
    var u2 = this._startCol, c2 = o2.borrowRow(h2, -1 === s2 ? -1 : s2 * e2.LINE_HEIGHT);
    this.indicator && this._buildIndicatorCell(t3, o2, c2, this._indicatorNo, h2, u2++, 1), this.checkBar && this._buildCheckBarCell(t3, o2, c2, i2.checked, h2, u2++, 1);
    for (var d2 = 0; d2 < n2 - 1; d2++) {
      var p2 = r2.getItem(0, d2), f2 = u2 + d2;
      if (c2.addBlank(f2, this._columnStyles[p2.layout.firstColumn.$_hash]), !a2.allItems) {
        var _2 = p2.layout, g2 = _2.firstColumn, y2 = Ms.tempItem(t3, i2, _2).clone(), m2 = _2.merges.getRoom(y2);
        if (m2.isHead(y2)) {
          var b2 = this._buildValueCell(t3, o2, c2, i2.firstItem, p2.layout, f2);
          this._mergeHeads[g2.$_hash] = { startRow: h2, style: b2 };
        } else if (m2.isTail(y2)) {
          var v2 = this._mergeHeads[g2.$_hash];
          o2.addMerge(v2.startRow, f2, h2 - v2.startRow + 1, 1);
        }
      }
    }
    var w2 = n2 - 1, C2 = r2.getItem(0, w2).layout, x2 = C2.firstColumn, I2 = this._buildValueCell(t3, o2, c2, i2.firstItem, C2, u2 + w2);
    this._mergeHeads[x2.$_hash] = { startRow: h2, style: I2 };
    var E2 = t3.rowGroup.getHeaderText(i2);
    for (d2 = u2 + n2, I2 = this._groupHeaderStyle, n2 < r2.colCount && c2.addText(d2++, E2, I2); d2 < l2 + u2; d2++) c2.addBlank(d2, I2);
    l2 - n2 > 1 && o2.addMerge(h2, n2 + u2, 1, l2 - n2), this._currentRow++, o2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildMergedGroupFooter = function(t3, i2) {
    function o2(e3, o3, r3, n3, s3) {
      var a3 = Ic.getValue(i2, r3), l3 = this._exportOptions;
      if (s3 && null != s3.text) e3.addText(o3, s3.text, n3);
      else if (a3 instanceof Date) l3.datetimeCallback ? (a3 = l3.datetimeCallback(i2.index, r3.name, a3)) instanceof Date ? e3.addDate(o3, a3, n3) : e3.addText(o3, a3, n3) : e3.addDate(o3, a3, n3);
      else if (isNaN(a3)) {
        var h3 = Ms.tempItem(t3, i2, r3).clone(), u3 = t3.getDisplayText(h3) || "";
        e3.addText(o3, u3, n3);
      } else e3.addNumber(o3, a3, n3);
    }
    var r2, n2, s2, a2, l2 = this._workbook.currentSheet, h2 = this._exportOptions, u2 = this._preparer, c2 = u2.dataRowCount, d2 = u2.colCount, f2 = u2.getItemLevel(i2), _2 = this._currentRow;
    l2.setFirstRow(this._currentRow);
    for (var g2 = this._startCol, y2 = t3.rowGroup.expandedAdornments == p.SUMMARY, m2 = Math.max(Math.max(this._defaultHeight, t3.displayOptions.minRowHeight) / c2, t3.displayOptions.minTableRowHeight), b2 = t3.layoutManager.getDataRowHeights(c2), v2 = [], w2 = 0; w2 < c2; w2++) {
      var C2 = l2.borrowRow(_2 + w2, (b2[w2] || m2) * e2.LINE_HEIGHT);
      C2._row = w2, v2.push(C2);
    }
    for (this.indicator && this._buildIndicatorCell(t3, l2, v2, this._indicatorNo, _2, g2++, c2), this.checkBar && this._buildCheckBarCell(t3, l2, v2, i2.checked, _2, g2++, c2), r2 = 0; r2 < f2; r2++) {
      s2 = (T2 = u2.getItem(0, r2).layout).firstColumn;
      var x2 = this._mergeHeads[s2.$_hash];
      a2 = x2 ? x2.style : this._columnStyles[s2.$_hash];
      for (var I2 = i2.parent; I2 && s2.groupLevel !== I2.level; ) I2 = I2.parent;
      if (this.allItems || i2.parent.expanded) {
        for (w2 = 0; w2 < c2; w2++) if (v2[w2].addBlank(g2 + r2, a2), 0 === w2) {
          if (h2.separateRows) (h2.fillMergeFooterValue || i2.parent.level === s2.groupLevel) && (a2 = this._buildValueCell(t3, l2, v2[w2], i2.parent.firstItem, T2, g2 + r2)), l2.addMerge(v2[w2].index, g2 + r2, c2, 1);
          else if (y2) I2.getFirstVisibleItem(true) === i2 && (a2 = this._buildValueCell(t3, l2, v2[w2], i2.parent.firstItem, T2, g2 + r2), this._mergeHeads[s2.$_hash] = { startRow: _2, style: a2 });
          else if (I2.getLastItem(false) === i2) {
            var E2 = this._mergeHeads[s2.$_hash];
            E2 && l2.addMerge(E2.startRow, g2 + r2, _2 + c2 - E2.startRow, 1);
          }
        }
      } else for (w2 = 0; w2 < c2; w2++) if (v2[w2].addBlank(g2 + r2, a2), 0 === w2) if (h2.separateRows) (h2.fillMergeFooterValue || i2.parent.level === s2.groupLevel) && (a2 = this._buildValueCell(t3, l2, v2[w2], i2.parent.firstItem, T2, g2 + r2)), l2.addMerge(v2[w2].index, g2 + r2, c2, 1);
      else {
        var S2 = Ms.tempItem(t3, i2, T2).clone(), O2 = T2.merges.getRoom(S2);
        if (O2.isHead(S2)) {
          var R2 = this._buildValueCell(t3, l2, v2[w2], i2.parent.firstItem, T2, g2 + r2);
          this._mergeHeads[s2.$_hash] = { startRow: _2, style: R2 };
        }
        O2.isTail(S2) && (x2 = this._mergeHeads[s2.$_hash], l2.addMerge(x2.startRow, r2 + g2, _2 - x2.startRow + c2, 1));
      }
    }
    var P2 = u2.getGroupFooterCells(), k2 = i2.vindex * c2;
    for (w2 = 0; w2 < c2; w2++) {
      var D2 = _2 + w2;
      for (r2 = f2; r2 < d2; r2++) {
        n2 = r2 + g2;
        var T2, M2 = P2[k2 + w2][r2];
        if (s2 = (T2 = M2.layout).firstColumn, T2.isProxy || M2.spanned) a2 = this._columnStyles[s2.$_hash], v2[w2].addBlank(n2, a2);
        else {
          var F2 = T2.parent, L2 = F2 && F2.vertical, N2 = 0, $2 = 0, A2 = T2.getGroupFooterUserSpan(i2.parent, i2.footerIndex), B2 = A2 ? 0 : T2.getGroupFooterSpan(i2.index, i2.footerIndex) - 1;
          if (A2) {
            var V2 = A2.footerCount || 0;
            N2 = V2 > 0 ? V2 * c2 : A2.rowspan || 1, $2 = A2.colspan || 1, N2 = Math.min((i2.parent.footerCount - i2.vindex) * c2, N2), l2.addMerge(D2, n2, N2, $2);
            for (var j2 = 0; j2 < N2; j2++) for (var H2 = 0; H2 < $2; H2++) P2[k2 + j2 + w2][H2 + r2].spanned = true;
          } else if (B2 > 0) {
            var W2 = 0;
            S2 = T2.vindex + 1;
            if (L2) for (; W2++ < B2 && W2 < c2; ) {
              N2 += F2.getVisible(S2++)._dspan, P2[k2 + W2][r2].spanned = true;
            }
            else for (; W2++ < B2 && S2 < Math.min(d2 - 1, F2.visibleCount); ) {
              $2 += F2.getVisible(S2++)._cspan, P2[k2 + w2][r2 + W2].spanned = true;
            }
          }
          if (a2 = this._columnGroupFooterStyles[s2.$_hash][i2.footerIndex], h2.applyDynamicStyles) {
            S2 = Ms.tempItem(t3, i2, T2);
            var G2 = t3.rowGroup.getFooterCell(S2), U2 = G2.getSummary();
            a2 = this.$_summaryStyleSet(G2, U2, a2, M2, i2);
          }
          o2.call(this, v2[w2], n2, s2, a2, M2), !A2 && l2.addMerge(D2, n2, T2._dspan + N2, T2._cspan + $2);
        }
        this.getShowOutline() && l2.setRowLevel(D2, f2);
      }
    }
    this._currentRow += c2, l2.setLastRow(this._currentRow - 1);
  }, e2.prototype.buildTreeSheet = function(t3, e3) {
    var i2 = this, o2 = this._exportOptions, r2 = this._workbook;
    o2.allItems && (this.allItems = t3.getAllItems());
    var n2 = this.allItems, s2 = n2 ? n2.length : t3.itemCount, a2 = r2.createSheet(this._sheetName, o2), l2 = t3.displayOptions;
    if (this._defaultHeight = l2.rowHeight || l2.minRowHeight, this._rowLevels = t3.getLevels(false), this._startItem = this._indexItem = 0, !this._rowGrouped) {
      this._startItem = o2.start > 0 ? o2.start : 0;
      var h2 = o2.count > 0 ? o2.count : s2;
      s2 = h2 > 0 ? this._startItem + h2 > s2 ? s2 - this._startItem : h2 : s2 - this._startItem;
    }
    this._lastItem = this._startItem + s2, this._prepareCommonStyles(t3), this._currentRow = o2.yOffset, this._startCol = o2.xOffset, this._buildColumns(t3), a2.createBorderEdges(ld.getSelectorStyle(this._preparer.documentCssStyles, ".rg-grid")), this._buildDocumentTitle(r2), this.header && this.buildHeader(t3), this.headerSummary && this.buildSummaryItem(t3, false, o2.headerSummary), this.buildTreeItems(t3, function() {
      i2.footer && i2.buildSummaryItem(t3, true, o2.footer), i2._buildDocumentTail(r2), i2._buildUserCells(t3, r2), e3 && e3();
    });
  }, e2.prototype.buildTreeItems = function(t3, e3) {
    for (var i2 = this._exportOptions.showIndicatorRow(t3), o2 = this.allItems, r2 = this._progressStep ? this._indexItem + Math.min(this._progressStep, this._lastItem - this._indexItem) : this._lastItem, n2 = this._indexItem; n2 < r2; n2++) {
      var s2 = o2 ? o2[n2] : t3.getItem(n2);
      if (this._indicatorNo = s2 instanceof Ho && i2 ? s2.dataRow : n2 + 1, !(s2 instanceof In)) throw new Error("Unkown tree item type");
      this.buildTreeRow(t3, s2), this._progressPos += 1, this._preparer.clearDataSpanned();
    }
    this.setProgress && this.setProgress(t3.handler, "process", this._progressMax, this._progressPos), this._indexItem = r2, this._indexItem >= this._lastItem ? e3 && e3() : setTimeout((function() {
      this.buildTreeItems(t3, e3);
    }).bind(this), 0);
  }, e2.prototype.buildTreeRow = function(t3, i2) {
    var o2, r2 = this._workbook.currentSheet, n2 = this._preparer, s2 = n2.dataRowCount, a2 = n2.colCount, l2 = this._indents, h2 = i2.level, u2 = this._currentRow;
    r2.setFirstRow(this._currentRow);
    var c2 = this._startCol, d2 = t3.displayOptions, p2 = t3.layoutManager.getDataRowHeights(s2), f2 = p2.reduce(function(t4, e3) {
      return t4 + e3;
    }, 0) || i2.height;
    isNaN(f2) && (f2 = (d2.rowHeight || d2.minRowHeight) * s2), f2 = -1 === f2 ? -1 : f2 > 0 ? f2 / s2 : f2;
    for (var _2 = [], g2 = 0; g2 < s2; g2++) _2.push(r2.borrowRow(u2 + g2, -1 === f2 ? -1 : (p2[g2] || f2) * e2.LINE_HEIGHT));
    this.indicator && this._buildIndicatorCell(t3, r2, _2, this._indicatorNo, u2, c2++, s2), this.checkBar && this._buildCheckBarCell(t3, r2, _2, i2.checked, u2, c2++, s2);
    var y2 = this._bodyCellStyle;
    for (g2 = 0; g2 < s2; g2++) {
      var m2 = _2[g2];
      m2._row = g2;
      var b2 = u2 + g2, v2 = l2 > 0 ? c2 + h2 - 1 : c2, w2 = n2.getItem(g2, 0), C2 = w2.layout, x2 = C2.firstColumn, I2 = this._columnStyles[x2.$_hash], E2 = l2 > 0 ? l2 - h2 + 1 : 0;
      for (o2 = 0; o2 < h2 - 1; o2++) m2.addBlank(o2 + c2, y2);
      for (C2.isProxy || w2.spanned ? m2.addBlank(v2, I2) : (this._buildValueCell(t3, r2, m2, i2, C2, v2, v2), r2.addMerge(b2, v2, C2._dspan, C2._defColSpan + E2)), o2 = 0; o2 < E2; o2++) m2.addBlank(1 + o2 + v2, I2);
      for (v2 = l2 > 0 ? c2 + l2 : c2, o2 = 1; o2 < a2; o2++) {
        var S2 = o2 + v2;
        if (x2 = (C2 = (w2 = n2.getItem(g2, o2)).layout).firstColumn, I2 = this._columnStyles[x2.$_hash], C2.isProxy || w2.spanned) m2.addBlank(S2, I2);
        else {
          var O2 = C2.parent, R2 = O2 && O2.vertical, P2 = C2.spanCallback, k2 = P2 ? P2(t3.handler, C2, i2.index) - 1 : void 0;
          void 0 === k2 && (k2 = C2.getDataSpan() - 1);
          var D2 = 0;
          if (k2 > 0) {
            var T2 = 0, M2 = C2.vindex + 1;
            if (R2) for (; T2++ < k2 && T2 < s2; ) {
              D2 += O2.getVisible(M2++)._dspan, n2.getItem(g2 + T2, o2).spanned = true;
            }
            else for (; T2++ < k2 && o2 + T2 < a2 && M2 < O2.visibleCount; ) {
              D2 += O2.getVisible(M2++)._cspan, n2.getItem(g2, o2 + T2).spanned = true;
            }
          }
          this._buildValueCell(t3, r2, m2, i2, C2, S2, v2), R2 ? r2.addMerge(b2, S2, C2._dspan + D2, C2._cspan) : r2.addMerge(b2, S2, C2._dspan, C2._cspan + D2);
        }
      }
      this._exportOptions.showLevelOutline && r2.setRowLevel(u2, i2.level);
    }
    this._currentRow += s2, r2.setLastRow(this._currentRow - 1);
  }, e2.prototype.prepare = function() {
  }, e2.prototype.finallize = function() {
  }, e2.prototype.save = function() {
    var t3 = this._multiOptions.zip || JSZip, e3 = (function(e4) {
      var l3 = new t3();
      if (e4) for (var h3 = l3.folder("xl/media"), u2 = Object.keys(e4), c2 = 0; c2 < u2.length; c2++) {
        var d2 = e4[u2[c2]];
        d2.fileName && d2.buffer && h3.file(d2.fileName, d2.buffer);
      }
      var p2 = this._workbook.createParts();
      for (var f2 in p2) {
        var _2 = p2[f2];
        _2.indexOf('xmlns=""') >= 0 && (_2 = _2.replace(/ xmlns=""/g, "").replace(/xmlns=""/g, "")), l3.file(f2, _2);
      }
      var g2 = o2.compression || "DEFLATE", y2 = null == o2.streamFiles || o2.streamFiles, m2 = { level: o2.compressionLevel || 6 };
      if (s2) l3.generateAsync ? l3.generateAsync({ type: "blob", compression: g2, streamFiles: y2, compressionOptions: m2 }, function(t4) {
        o2.progressCallback && o2.progressCallback(null, "zip", 100, t4.percent);
      }).then(function(t4) {
        o2.done && "function" == typeof o2.done && o2.done(), a2.saveLocal(r2, t4, i2);
      }) : (o2.done && "function" == typeof o2.done && o2.done(), a2.saveLocal(r2, l3.generate({ type: "blob", compression: g2, streamFiles: y2, compressionOptions: m2 }), i2));
      else if (o2.target === Vi.STREAM) if (l3.generateAsync) l3.generateAsync({ type: "base64", compression: g2, streamFiles: y2, compressionOptions: m2 }, function(t4) {
        o2.progressCallback && o2.progressCallback(null, "zip", 100, t4.percent);
      }).then(function(t4) {
        o2.done && "function" == typeof o2.done && o2.done(t4);
      });
      else {
        var b2 = l3.generate({ type: "base64", compression: g2, streamFiles: y2, compressionOptions: m2 });
        o2.done && "function" == typeof o2.done && o2.done(b2);
      }
      else l3.generateAsync ? l3.generateAsync({ type: "base64", compression: g2, streamFiles: y2, compressionOptions: m2 }, function(t4) {
        o2.progressCallback && o2.progressCallback(null, "zip", 100, t4.percent);
      }).then(function(t4) {
        o2.done && "function" == typeof o2.done && o2.done(), a2.saveServer(r2, t4, o2.url, i2, n2);
      }) : (o2.done && "function" == typeof o2.done && o2.done(), a2.saveServer(r2, l3.generate({ type: "base64", compression: g2, streamFiles: y2, compressionOptions: m2 }), o2.url, i2, n2));
    }).bind(this), i2 = this.grid.doc, o2 = this._multiOptions, r2 = o2.fileName, n2 = o2.params, s2 = "local" == o2.target, a2 = this, l2 = this._workbook;
    if (t3.support.blob || !s2) if (l2.hasImage) {
      var h2 = l2.getImageMap();
      l2.downloader.bulkDownload = o2.bulkImageDownload, l2.downloader.executeDownLoad(this, h2, e3);
    } else e3();
    else alert("not supported on this browser");
  }, e2.prototype._prepareCount = function(t3, e3) {
    for (var i2 = 0, o2 = 0, r2 = e3.length; o2 < r2; o2++) {
      var n2 = void 0, s2 = e3[o2].grid;
      if (s2 instanceof pp) if (t3.allItems && this._rowGrouped) {
        n2 = s2.itemSource.getAllItems();
        var a2 = s2.layoutManager.fixedItemCount;
        if (a2 > 0) for (var l2 = 0; l2 < a2; l2++) n2.splice(l2, 0, s2.getItem(l2));
      } else t3.pagingAllItems && s2.paged ? n2 = s2.itemSource.getPagingAllItems() : t3.onlyCheckedItems && !s2.rowGrouped && (n2 = s2.getCheckedItems(false));
      else s2 instanceof $p && t3.allItems && (n2 = s2.getAllItems());
      i2 += n2 ? n2.length : s2.itemCount;
    }
    return i2;
  }, e2.prototype._inheritStyles = function(t3) {
    for (var e3 = { length: 0 }, i2 = 0, o2 = t3.length; i2 < o2; i2++) t3[i2] && ld.extendCssStyle(t3[i2], e3);
    return e3;
  }, e2.prototype._prepareCommonStyles = function(t3) {
    var e3, i2 = this, o2 = this._preparer.documentCssStyles, r2 = function(t4) {
      return ld.getSelectorStyle(o2, t4);
    }, n2 = function(t4) {
      return ld.getSelectorStyles(o2, t4);
    }, a2 = function(t4) {
      var e4 = [];
      return t4.forEach(function(t5) {
        var i3 = "string" == typeof t5 ? r2(t5) : t5;
        i3 && e4.push(i3);
      }), i2._inheritStyles(e4);
    }, l2 = r2("table"), h2 = a2([l2, r2("tr"), r2("td")]), u2 = a2(["html", ".rg-root"]), c2 = r2(".rg-header"), d2 = r2(".rg-footer"), p2 = r2(".rg-header-summary"), f2 = r2(".rg-body"), _2 = r2(".rg-fixed-body"), g2 = a2([".rg-root table", ".rg-root .rg-table", ".rg-root table tr", ".rg-root .rg-table tr", ".rg-root table tr td", ".rg-root .rg-table tr td", ".rg-root .rg-table td"]), y2 = a2([g2, ".rg-header table", ".rg-header .rg-table", ".rg-header table tr", ".rg-header .rg-table tr", ".rg-header table tr td", ".rg-header .rg-table tr td"]), m2 = a2([g2, ".rg-footer table", ".rg-footer .rg-table", ".rg-footer table tr", ".rg-footer .rg-table tr", ".rg-footer table tr td", ".rg-footer .rg-table tr td"]), b2 = a2([g2, ".rg-header-summary table", ".rg-header-summary .rg-table", ".rg-header-summary table tr", ".rg-header-summary .rg-table tr", ".rg-header-summary table tr td", ".rg-header-summary .rg-table tr td"]), v2 = a2([g2, ".rg-body table", ".rg-body .rg-table", ".rg-body table tr", ".rg-body .rg-table tr", ".rg-body table tr td", ".rg-body .rg-table tr td"]), w2 = a2([g2, ".rg-fixed-body .rg-table", ".rg-fixed-body .rg-table tr", ".rg-fixed-body table tr", ".rg-fixed-body .rg-table tr td", ".rg-fixed-body table tr td", ".rg-fixed-body .rg-data-row"]), C2 = a2([g2, ".rg-rowgroup-bar .rg-table", ".rg-rowgroup-bar .rg-table tr", ".rg-rowgroup-bar table tr", ".rg-rowgroup-bar .rg-table tr td", ".rg-rowgroup-bar table tr td"]), x2 = a2([g2, ".rg-rowgroup-head .rg-table", ".rg-rowgroup-head .rg-table tr", ".rg-rowgroup-head table tr", ".rg-rowgroup-head .rg-table tr td", ".rg-rowgroup-head table tr td"]), I2 = a2([g2, ".rg-rowgroup-foot .rg-table", ".rg-rowgroup-foot .rg-table tr", ".rg-rowgroup-foot table tr", ".rg-rowgroup-foot .rg-table tr td", ".rg-rowgroup-foot table tr td"]), E2 = a2([g2, v2]), S2 = r2(".rg-header-cell"), O2 = r2(".rg-footer-cell"), R2 = r2(".rg-header-summary-cell"), P2 = r2(".rg-data-cell"), k2 = r2(".rg-rowgroup-header"), D2 = r2(".rg-rowgroup-footer"), T2 = r2(".rg-rowgroup-footer-cell"), M2 = a2([u2, ".rg-rowgroup-head", h2, x2]), F2 = a2([u2, ".rg-rowgroup-foot", h2, I2]), L2 = a2([u2, ".rg-rowgroup-bar", h2, ".rg-rowgroup-bar-cell", C2]), N2 = r2(".rg-data-row"), $2 = r2(".rg-fixed-row"), A2 = a2([u2, ".rg-rowbarcontainer", h2, g2, ".rg-rowbarcontainer .rg-table tr", ".rg-rowbarcontainer table tr", ".rg-rowbarcontainer .rg-table tr td", ".rg-rowbarcontainer table tr td", ".rg-rowbarcontainer .rg-table tr td.rg-rowindicator-cell"]), B2 = a2([u2, ".rg-foot", h2, g2, ".rg-foot .rg-table tr td", ".rg-rowindicator-foot"]), V2 = a2([u2, ".rg-sum", h2, g2, ".rg-sum .rg-table tr td", ".rg-rowindicator-sum"]);
    this._indicatorCellStyle = this._parseStyles(this._workbook, A2), this._indicatorFootStyle = this._parseStyles(this._workbook, B2), this._indicatorSumStyle = this._parseStyles(this._workbook, V2);
    var j2 = a2([u2, ".rg-rowbarcontainer", h2, g2, ".rg-rowbarcontainer .rg-table tr", ".rg-rowbarcontainer table tr", ".rg-rowbarcontainer .rg-table tr td", ".rg-rowbarcontainer table tr td.rg-checkbar-cell"]), H2 = a2([u2, ".rg-foot", h2, g2, ".rg-foot .rg-table tr td", ".rg-checkbar-foot"]), W2 = a2([u2, ".rg-sum", h2, g2, ".rg-sum .rg-table tr td", ".rg-checkbar-sum"]);
    this._checkBarCellStyle = this._parseStyles(this._workbook, j2), this._checkBarFootStyle = this._parseStyles(this._workbook, H2), this._checkBarSumStyle = this._parseStyles(this._workbook, W2), e3 = this._headerCssStyle = a2(s(s(s([u2, c2], n2(t3.header.styleName), true), [h2, S2, y2], false), n2(t3.header.exportStyleName), true)), this._headerCellStyle = this._parseStyles(this._workbook, e3, true);
    var G2 = this._exportOptions, U2 = G2.footer === Qc, Y2 = G2.headerSummary === Qc;
    this._footerCellStyles = [];
    for (var z2 = 0; z2 < (U2 ? t3.footers.count : t3.footers.visibleCount); z2++) e3 = a2(s(s([u2, d2], n2((U2 ? t3.footers.get(z2) : t3.footers.getVisible(z2)).styleName), true), [h2, O2, m2], false)), this._footerCellStyles.push(this._parseStyles(this._workbook, e3, true));
    this._summaryCellStyles = [];
    for (z2 = 0; z2 < (Y2 ? t3.headerSummaries.count : t3.headerSummaries.visibleCount); z2++) e3 = a2(s(s([u2, p2], n2((Y2 ? t3.headerSummaries.get(z2) : t3.headerSummaries.getVisible(z2)).styleName), true), [h2, R2, b2], false)), this._summaryCellStyles.push(this._parseStyles(this._workbook, e3, true));
    if (this._groupFooterCellStyles = [], t3 instanceof pp) for (z2 = 0; z2 < t3.rowGroup.footers.count; z2++) {
      var q2 = t3.rowGroup.footers.get(z2);
      e3 = a2(s(s([u2, D2], n2(q2.exportStyleName || q2.styleName), true), [h2, T2, E2], false)), this._groupFooterCellStyles.push(this._parseStyles(this._workbook, e3, true));
    }
    e3 = this._cellCssStyle = a2([u2, f2, l2, v2, N2, P2]), this._bodyCellStyle = this._parseStyles(this._workbook, e3, false), e3 = a2([u2, f2, l2, $2, v2, P2]), this._bodyFixedCellStyle = this._parseStyles(this._workbook, e3, false), e3 = this._fixedCellCssStyle = a2([u2, _2, l2, N2, w2, P2]), this._fixedCellStyle = this._parseStyles(this._workbook, e3, false), this._groupHeaderStyle = this._parseStyles(this._workbook, a2([u2, k2])), this._groupFooterCellStyle = this._parseStyles(this._workbook, a2([u2, l2, D2, T2, v2])), this._indentHeadStyle = this._parseStyles(this._workbook, M2), this._indentFootStyle = this._parseStyles(this._workbook, F2), this._indentBarStyle = this._parseStyles(this._workbook, L2), this._dynamicStyles = {};
  }, e2.prototype._prepareMemo = function(t3, e3, i2, o2, r2) {
    "object" == typeof i2 ? (i2.author && (e3.author = i2.author), void 0 !== i2.authorVisible && (e3.authorVisible = i2.authorVisible), e3.message = i2.message, i2.minWidth && (e3.minWidth = i2.minWidth), i2.maxWidth && (e3.maxWidth = i2.maxWidth), e3.fontSize = i2.fontSize) : "string" == typeof i2 && (e3.message = i2), e3.message && e3 && "object" == typeof e3 && t3.addMemo(o2, r2, e3);
  }, e2.prototype._exportGridAsync = function(t3, e3, i2, o2) {
    if (void 0 === o2 && (o2 = null), i2 < e3.exportGrids.length) {
      var r2 = e3.exportGrids[i2];
      setTimeout((function() {
        this._exportGrid(t3, r2.options, (function() {
          o2();
        }).bind(this));
      }).bind(this));
    }
  }, e2.prototype._exportGrid = function(t3, e3, i2) {
    var o2 = e3.grid;
    this._preparer = new hd(o2, e3), this._exportOptions = e3, this._indents = 0;
    var r2 = this.indicator = e3.indicatorVisible(o2) ? o2.rowIndicator : null, n2 = this.checkBar = e3.checkBarVisible(o2) ? o2.checkBar : null;
    this.header = e3.headerVisible(o2), this.headerSummary = e3.headerSummaryVisible(o2), this.footer = e3.footerVisible(o2), this.indicatorHead = r2 && Ot.toStr(r2.headText), this.indicatorFoot = r2 && Ot.toStr(r2.footText), this.indicatorSummary = r2 && Ot.toStr(r2.sumText), this.checkBarHead = n2 && Ot.toStr(n2.headText), this.checkBarFoot = n2 && Ot.toStr(n2.footText), this.checkBarSummary = n2 && Ot.toStr(n2.sumText), this._sheetName = e3.sheetName, this._workbook = t3, this.allItems = null, this.buildBook((function() {
      this._preparer && this._preparer.dispose(), i2 && i2();
    }).bind(this));
  }, e2.prototype._changeFormatId = function(t3, e3, i2) {
    return t3.changeFormatId(e3, i2);
  }, e2.prototype._parseStyles = function(t3, e3, i2) {
    return t3.addStyle(e3, true, true, true, i2);
  }, e2.prototype._extendStyles = function(t3, e3, i2, o2, r2, n2) {
    return void 0 === o2 && (o2 = true), t3.extendStyle(e3, i2, o2, r2, n2);
  }, e2.prototype.$_summaryStyleSet = function(t3, e3, i2, o2, r2) {
    var n2 = this._exportOptions, s2 = this._workbook, a2 = void 0;
    if (e3) {
      var l2 = e3.exportStyleName || e3.styleName, h2 = void 0;
      if (n2.applyDynamicStyles) {
        if (t3 instanceof Ys) {
          var u2 = new Zn();
          l2 = (h2 = t3.getCellStyle(t3.getCell(e3.column.layout), u2.clear(), false)).exportStyleName || h2.styleName || l2, o2 && (o2.text = h2.text);
        } else if (t3 instanceof Ic) {
          var c2 = this.grid, d2 = (u2 = new ns(), c2.rowGroup.getFooterStyleName(r2 || t3.item));
          h2 = c2.rowGroup.getFooterCellStyle(t3, u2.clear(), false), o2 && (o2.text = h2.text), l2 = (l2 = h2.exportStyleName || h2.styleName || l2) ? d2 + " " + l2 : d2;
        }
      }
      var p2 = e3.excelFormat, f2 = void 0;
      if (p2 || ((p2 = h2 && h2.numberFormat || e3.numberFormat) ? p2 = ud.convertNumberFormat(p2) : (p2 = h2 && h2.datetimeFormat || e3.datetimeFormat) && (p2 = ud.convertDateFormat(p2))), p2 && ((f2 = e3.prefix) && (p2 = '"' + f2 + '"' + p2), (f2 = e3.suffix) && (p2 = p2 + '"' + f2 + '"'), a2 = s2.addNumberFormat(p2)), l2 || void 0 !== a2) {
        var _2 = this._preparer.documentCssStyles, g2 = ld.getSelectorStyles(_2, l2);
        if (e3.$_owner.type) {
          var y2 = e3.$_owner.type + "=styleName=" + l2 + "formatId=" + a2, m2 = this._dynamicStyles;
          return m2[y2] || (m2[y2] = this._extendStyles(s2, i2, this._inheritStyles(g2), true, a2)), m2[y2];
        }
        return this._extendStyles(s2, i2, this._inheritStyles(g2), true, a2);
      }
    }
    return i2;
  }, e2.prototype._buildColumns = function(t3) {
    for (var i2, o2, r2, n2 = this._exportOptions, s2 = this._workbook, l2 = s2.currentSheet, h2 = this._preparer, u2 = 0; u2 < this._startCol; u2++) l2.addColumn(-1, n2.xOffsetWidth / e2.PIXELS_PER_CHAR, null);
    if (this.indicator && (r2 = Math.round(t3.rowIndicator.minWidth / e2.PIXELS_PER_CHAR), l2.addColumn(t3.rowIndicator.$_hash, r2, null)), this.checkBar && (r2 = Math.round(t3.checkBar.width / e2.PIXELS_PER_CHAR), l2.addColumn(t3.checkBar.$_hash, r2, null)), n2.indenting && (t3 instanceof pp && this._rowGrouped && !this._mergedGrouped ? this._indents = t3.rowGroup.getIndentCount(t3.rowGroupLevels) - (t3.rowGroup.expandedAdornments === p.SUMMARY ? 0 : 1) : t3 instanceof $p && (this._indents = this._rowLevels - 1), this._indents > 0)) for (u2 = 0; u2 < this._indents; u2++) r2 = Math.max(this._indentWidth, 1), l2.addColumn(-1, r2, null);
    var c2 = t3.formatOptions;
    this._columnStyles = {}, this._columnFixedStyles = {}, this._columnFooterStyles = {}, this._columnSummaryStyles = {}, this._columnGroupFooterStyles = {};
    var d2 = h2.colCount, f2 = h2.dataRowCount, _2 = false;
    for (u2 = 0; u2 < f2; u2++) for (var g2 = 0; g2 < d2; g2++) {
      var y2 = h2.getItem(u2, g2).layout;
      if (i2 = y2.firstColumn, 0 === u2 && (r2 = Math.round(y2._cellWidth / e2.PIXELS_PER_CHAR), l2.addColumn(i2.$_hash, r2, null, n2.hiddenColumns.indexOf(i2.name) >= 0)), o2 = i2.$_hash, !this._columnStyles[o2]) {
        var m2 = t3.dataSource;
        if (i2 instanceof as) {
          var b2 = this._textFormatId;
          if (i2 instanceof ls) {
            var v2 = n2.exportLink && i2.renderer && i2.renderer.type == sn.TYPE && !i2.excelFormat, w2 = m2.getField(i2.dataIndex), C2 = w2 ? w2.dataType : a.TEXT;
            C2 === a.NUMBER ? b2 = this._numberFormatId : C2 === a.DATETIME && (b2 = this._dateFormatId);
            var x2 = i2.excelFormat, I2 = void 0, E2 = true;
            if (null != x2) b2 = "number" == typeof x2 || parseInt(x2) > 0 ? parseInt(x2) : s2.addNumberFormat(x2);
            else if (v2) b2 = 0;
            else {
              if (C2 == a.NUMBER) {
                var S2 = null === i2.numberFormat ? void 0 : i2.numberFormat || n2.numberFormat || c2.numberFormat;
                if (S2) if (S2.match(/^[#0]([#0,.;aAfFcC ]+$|$)/)) x2 = ud.convertNumberFormat(S2);
                else {
                  var O2 = Ue.numberFormats && Ue.numberFormats[S2];
                  x2 = O2 && O2.excelFormat, E2 = false;
                }
              } else C2 == a.DATETIME && "string" == typeof (x2 = i2.datetimeFormat || n2.datetimeFormat || c2.datetimeFormat) && (x2 = ud.convertDateFormat(x2));
              x2 && (E2 && ((I2 = i2.prefix) && (x2 = '"' + I2 + '"' + x2), (I2 = i2.suffix) && (x2 = x2 + '"' + I2 + '"')), b2 = s2.addNumberFormat(x2));
            }
          }
          this._columnStyles[o2] = this._changeFormatId(s2, y2.isFixed ? this._fixedCellStyle : this._bodyCellStyle, b2), this._columnFixedStyles[o2] = this._changeFormatId(s2, this._bodyFixedCellStyle, b2), this._columnFooterStyles[o2] = [], this._columnSummaryStyles[o2] = [], this._columnGroupFooterStyles[o2] = [];
          for (var R2 = n2.footer === Qc, P2 = n2.headerSummary === Qc, k2 = 0; k2 < (R2 ? t3.footers.count : t3.footers.visibleCount); k2++) {
            var D2 = R2 ? t3.footers.get(k2) : t3.footers.getVisible(k2), T2 = i2.footers.get(D2._childIndex), M2 = this._preparer.getFooterItem(u2 + k2 * f2, g2);
            this._columnFooterStyles[o2][k2] = this.$_summaryStyleSet(D2, T2, this._footerCellStyles[k2], M2);
          }
          for (k2 = 0; k2 < (P2 ? t3.headerSummaries.count : t3.headerSummaries.visibleCount); k2++) {
            var F2 = P2 ? t3.headerSummaries.get(k2) : t3.headerSummaries.getVisible(k2), L2 = i2.headerSummaries.get(F2._childIndex);
            M2 = this._preparer.getSummaryItem(u2 + k2 * f2, g2);
            this._columnSummaryStyles[o2][k2] = this.$_summaryStyleSet(F2, L2, this._summaryCellStyles[k2], M2);
          }
          if (t3 instanceof pp) for (k2 = 0; k2 < t3.rowGroup.footers.count; k2++) {
            var N2 = t3.rowGroup.footers.get(k2), $2 = i2.groupFooters.get(N2.index);
            this._columnGroupFooterStyles[o2][k2] = this.$_summaryStyleSet(null, $2, this._groupFooterCellStyles[k2], null);
          }
        }
        t3 instanceof pp && (n2.separateRows || n2.onlyCheckedItems && !t3.rowGrouped || i2 instanceof ls && i2.layout.canMerge() && (_2 = true));
      }
    }
    this._columnMerged = _2;
  }, e2.prototype._buildTitleCommon = function(t3, e3, i2) {
    if (e3 && e3.visible) {
      for (var o2 = this._currentRow, r2 = this._startCol, n2 = void 0, s2 = t3.currentSheet, a2 = 0; a2 < e3.spaceTop; a2++) {
        n2 = s2.addRow(o2 + a2, void 0);
        for (var l2 = 0; l2 < i2; l2++) n2.addBlank(r2 + l2, void 0);
      }
      o2 += e3.spaceTop;
      var h2 = e3.message, u2 = void 0;
      if (e3.styleName) {
        var c2 = this._preparer.documentCssStyles;
        u2 = this._parseStyles(t3, this._inheritStyles(ld.getSelectorStyles(c2, e3.styleName)), true);
      } else u2 = this._parseStyles(t3, e3.cssStyle, true);
      n2 = s2.addRow(o2, e3.height);
      for (a2 = 0; a2 < i2; a2++) 0 == a2 ? (n2.addText(r2, h2, u2), s2.addMerge(o2, r2, 1, i2)) : n2.addBlank(r2 + a2, u2);
      o2++;
      for (a2 = 0; a2 < e3.spaceBottom; a2++) {
        n2 = s2.addRow(o2 + a2, void 0);
        for (l2 = 0; l2 < i2; l2++) n2.addBlank(r2 + l2, void 0);
      }
      o2 += e3.spaceBottom, this._currentRow = o2;
    }
  }, e2.prototype._buildDocumentTitle = function(t3) {
    var e3 = this._exportOptions, i2 = t3, o2 = this._preparer.colCount;
    this.indicator && o2++, this.checkBar && o2++, o2 += Math.max(this._indents, 0), this._buildTitleCommon(i2, e3.documentTitle, o2), this._buildTitleCommon(i2, e3.documentSubtitle, o2);
  }, e2.prototype._buildDocumentTail = function(t3) {
    var e3 = this._exportOptions, i2 = t3, o2 = this._preparer.colCount;
    this.indicator && o2++, this.checkBar && o2++, o2 += Math.max(this._indents, 0), this._buildTitleCommon(i2, e3.documentTail, o2);
  }, e2.prototype._buildIndicatorCell = function(t3, e3, i2, o2, r2, n2, s2) {
    var a2 = this._indicatorCellStyle;
    if ((Array.isArray(i2) ? i2[0] : i2).addNumber(n2, o2, a2), s2 > 1) {
      for (var l2 = 1; l2 < s2; l2++) i2[l2].addBlank(n2, a2);
      e3.addMerge(r2, n2, s2, 1);
    }
  }, e2.prototype._buildCheckBarCell = function(t3, e3, i2, o2, r2, n2, s2) {
    var a2 = this._checkBarCellStyle, l2 = Array.isArray(i2) ? i2[0] : i2, h2 = this._exportOptions.checkMark, u2 = this._exportOptions.unCheckMark;
    if (l2.addText(n2, o2 ? h2 : u2 || "", a2), s2 > 1) {
      for (var c2 = 1; c2 < s2; c2++) i2[c2].addBlank(n2, a2);
      e3.addMerge(r2, n2, s2, 1);
    }
  }, e2.prototype._buildValueCell = function(t3, e3, i2, o2, r2, n2, l2) {
    var h2, u2, c2 = this;
    void 0 === l2 && (l2 = 0);
    var d2, p2, f2 = this._workbook, _2 = o2.index >= 0 && o2.index < t3.fixedOptions.rowCount, g2 = t3.body, y2 = this._exportOptions, m2 = Ms.tempItem(t3, o2, r2), b2 = r2.firstColumn, v2 = g2.getRowStyle(o2, _2, true, y2.applyDynamicStyles), w2 = v2.exportStyleName || v2.styleName, C2 = b2.exportStyleName || b2.styleName;
    y2.applyDynamicStyles && (p2 = g2.getIndexCellStyle(m2, false));
    var x2, I2 = p2 && p2.renderer || b2.renderer, E2 = y2.exportMemo, S2 = y2.exportShape && I2 && (I2.type === Xr.TYPE || I2.type === qu.TYPE || I2.type === hn.TYPE), O2 = (!r2.isFixed && _2 ? this._columnFixedStyles[b2.$_hash] : this._columnStyles[b2.$_hash]) || this._bodyCellStyle, R2 = false;
    y2.applyFixed && (!t3.isTree() && _2 && e3.setFixedInfo(i2.index + 1, void 0), r2.$_fixed && e3.setFixedInfo(void 0, n2 + 1));
    var P2 = function(t4, e4, i3, o3) {
      var n3 = false;
      if (w2 || C2 || p2 || o3) {
        var s2 = void 0, l3 = void 0, h3 = [r2.isFixed ? c2._fixedCellCssStyle : c2._cellCssStyle];
        if (p2 && "object" == typeof p2) {
          var u3 = p2;
          s2 = "string" == typeof (s2 = p2.exportStyleName || p2.styleName || C2) ? s2 : void 0;
          var d3 = void 0;
          if (l3 = p2.excelFormat) n3 = true;
          else if (e4 == a.NUMBER ? l3 = (d3 = u3.numberFormat) ? ud.convertNumberFormat(d3) : void 0 : e4 == a.DATETIME && (l3 = (d3 = u3.datetimeFormat) ? ud.convertDateFormat(d3) : void 0), l3) {
            n3 = true;
            var _3 = u3.prefix;
            _3 && (l3 = '"' + _3 + '"' + l3);
            var g3 = u3.suffix;
            g3 && (l3 = l3 + '"' + g3 + '"');
          }
        } else s2 = "string" == typeof p2 ? p2 : void 0;
        var m3 = c2._preparer.documentCssStyles, I3 = c2._dynamicStyles, E3 = b2.$_hash + "=" + w2 + "=" + JSON.stringify(v2.style) + "=" + C2 + "=" + s2 + "=" + JSON.stringify(null == p2 ? void 0 : p2.style) + "=" + (null == p2 ? void 0 : p2.excelFormat) + "=" + JSON.stringify(o3) + "=true";
        if (I3[E3]) t4 = I3[E3];
        else {
          var S3 = [];
          if (w2) {
            var O3 = w2.trim().split(" ");
            Array.prototype.push.apply(S3, O3), r2.isFixed && O3.forEach(function(t5) {
              S3.push("rg-fixed-body .".concat(t5));
            });
          }
          if (v2.style) {
            var R3 = document.createElement("span").style;
            R3.cssText = Ot.objectToCssText(v2.style), h3.push(R3);
          }
          C2 && Array.prototype.push.apply(S3, C2.trim().split(" ")), s2 && Array.prototype.push.apply(S3, s2.trim().split(" ")), h3.push.apply(h3, ld.getSelectorStyles(m3, S3)), y2.applyDynamicStyles && p2.style && (c2._css.cssText = Ot.objectToCssText(p2.style), h3.push(c2._css));
          var P3 = void 0;
          l3 && (P3 = f2.addNumberFormat(l3)), x2 = c2._inheritStyles(h3), i3 && (x2["text-decoration-line"] = x2["text-decoration-line"] || "underline", x2.color = "blue");
          var k3 = x2.whiteSpace || x2["white-space"], D3 = null != k3 && "none" != k3 && "nowrap" != k3, T3 = x2.textWrap || x2["text-wrap"] || x2["text-wrap-mode"];
          D3 = D3 || (null != T3 ? "nowrap" !== T3 : D3);
          var M3 = x2.whiteSpaceCollapse || x2["white-space-collapse"] || "";
          D3 = D3 || M3.indexOf("preserve") >= 0, t4 = c2._extendStyles(f2, t4, x2, D3, P3, o3), c2._dynamicStyles[E3] = t4;
        }
      }
      return { es: t4, hasFormat: n3 };
    };
    if (b2.blankWhenExport) i2.addBlank(n2, O2);
    else if (b2 instanceof ls) {
      var k2 = b2.dataIndex, D2 = p2 && p2.cellProtectProps || b2.cellProtectProps, T2 = t3.dataSource.getField(k2), M2 = y2.exportLink && !b2.excelFormat && b2.renderer && b2.renderer.type == sn.TYPE, F2 = y2.exportTemplate && b2.renderer && b2.renderer.type === _n.TYPE, L2 = false !== y2.exportImage && I2 && (I2.type === Zr.TYPE || I2.type === Qr.TYPE), $2 = (L2 = L2 && (y2.exportImage ? false !== I2.exportImage : !!I2.exportImage)) && I2.type === Qr.TYPE, A2 = L2 && I2.type === Zr.TYPE, B2 = void 0;
      if (T2) {
        var V2 = o2.getData(k2), j2 = p2 && p2.text;
        switch (B2 = null != j2 ? void 0 : b2.displayCallback, O2 = (h2 = P2(O2, T2.dataType, M2, D2)).es, R2 = h2.hasFormat, T2.dataType) {
          case "number":
            if (null != j2 ? V2 = j2 : (y2.numberCallback || B2) && (V2 = y2.numberCallback ? y2.numberCallback(o2.index, b2.name, V2, t3.handler) : B2(t3.handler, m2.proxy(), V2)), !R2 && !b2.excelFormat && y2.trailPointZeroFormat && V2 === parseInt(V2)) {
              var H2 = ud.convertNumberFormat(y2.trailPointZeroFormat);
              O2 = this._changeFormatId(f2, O2, f2.addNumberFormat(H2));
            }
            var W2 = b2.excelFormulaExprStatement, G2 = void 0;
            if (W2) {
              var U2 = this._excelFormulaRuntime;
              U2.setItemIndex(i2.index, l2), U2.setColumns(this._preparer._dataCells[i2._row]), G2 = W2.evaluate(U2);
            }
            if (null != V2 && S2) {
              if (I2.type === Xr.TYPE) {
                this._barRenderer ? (this._barRenderer.initOptions(), this._barRenderer.assignFrom(I2)) : this._barRenderer = t3.delegate.createRenderer(Xr.TYPE, I2, null);
                var Y2 = e3.getColumnWidth(n2), z2 = this._barRenderer, q2 = this._preparer.documentCssStyles, K2 = { barStyle: this._inheritStyles(ld.getSelectorStyles(q2, z2.barStyle)), negativeStyle: this._inheritStyles(ld.getSelectorStyles(q2, z2.negativeStyle)) };
                i2.addBar(n2, V2, Y2, z2.origin, K2, z2.baseValue, z2.minimum, z2.maximum, O2);
                break;
              }
              if (I2.type === hn.TYPE) {
                this._signalRenderer ? (this._signalRenderer.initOptions(), this._signalRenderer.assignFrom(I2)) : this._signalRenderer = t3.delegate.createRenderer(hn.TYPE, I2, null);
                Y2 = e3.getColumnWidth(n2), z2 = this._signalRenderer, q2 = this._preparer.documentCssStyles, K2 = { barStyle: this._inheritStyles(ld.getSelectorStyles(q2, z2.barStyle)), inactiveStyle: this._inheritStyles(ld.getSelectorStyles(q2, z2.inactiveStyle)) };
                var X2 = [isNaN(z2.startRate) ? 50 : z2.startRate, isNaN(z2.endRate) ? 100 : z2.endRate], Z2 = z2.barCount || 10;
                i2.addSignal(n2, V2, Y2, X2, Z2, z2.absoluteValue, z2.minimum, z2.maximum, K2, O2);
                break;
              }
            }
            null != V2 || G2 ? "number" == typeof V2 ? i2.addNumber(n2, V2, O2, G2) : i2.addText(n2, V2, O2) : i2.addBlank(n2, O2);
            break;
          case "datetime":
          case "date":
            null != j2 ? i2.addText(n2, j2, O2) : V2 ? y2.datetimeCallback || B2 ? (V2 = y2.datetimeCallback ? y2.datetimeCallback(o2.index, b2.name, V2, t3.handler) : B2(t3.handler, m2.proxy(), V2)) instanceof Date ? i2.addDate(n2, V2, O2) : i2.addText(n2, V2, O2) : i2.addDate(n2, V2, O2) : y2.nullDateText ? i2.addText(n2, y2.nullDateText, O2) : i2.addBlank(n2, O2);
            break;
          case "boolean":
            null != j2 ? i2.addText(n2, j2, O2) : y2.booleanCallback || B2 ? "boolean" == typeof (V2 = y2.booleanCallback ? y2.booleanCallback(o2.index, b2.name, V2, t3.handler) : B2(t3.handler, m2.proxy(), V2)) ? i2.addBool(n2, V2, O2) : i2.addText(n2, V2, O2) : y2.booleanFormat ? (V2 = We.getFormatter(y2.booleanFormat).formatValue(V2), i2.addText(n2, V2, O2)) : i2.addBool(n2, V2, O2);
            break;
          default:
            if (d2 = V2 || "", null != j2) d2 = j2;
            else if (y2.lookupDisplay && (b2.labelField || b2.lookupDisplay)) d2 = mr.getText(o2, b2);
            else if (F2) {
              this._templateRenderer ? this._templateRenderer.clearAndAssignFrom(b2.renderer) : this._templateRenderer = t3.delegate.createRenderer(_n.TYPE, b2.renderer, null);
              var J2 = this._templateRenderer._parser, Q2 = b2.renderer.callback, tt2 = t3.body.getCell(m2), et2 = Q2 ? Q2.call(this, t3.handler, tt2, -1, -1) : J2.realize(t3, tt2, null, this._templateRenderer.valueCallback);
              d2 = et2 ? et2.replace(/<br[\s/]*>/gi, "\n").replace(/(<([^>]+)>)/gi, "") : "";
            } else if (T2.dataType === a.OBJECT && "object" == typeof V2) if (y2.objectCallback) d2 = y2.objectCallback(o2.index, b2.name, V2, t3.handler);
            else {
              var it2 = b2.objectKey || b2.objectCallback, ot2 = it2 ? b2.objectKey : T2.objectKey, rt2 = it2 ? b2.objectCallback : T2.objectCallback;
              d2 = rt2 && "function" == typeof rt2 ? rt2(T2.orgFieldName, o2.dataRow, V2) : ot2 && V2.hasOwnProperty(ot2) ? V2[ot2] : JSON.stringify(V2);
            }
            else null != V2 && (d2 = b2.textFormatter ? b2.textFormatter.getText(V2) : d2);
            if ("number" == typeof (d2 = y2.textCallback ? y2.textCallback(o2.index, b2.name, d2, t3.handler) : B2 && !b2.textFormatter ? B2(t3.handler, m2.proxy(), V2) : d2)) i2.addNumber(n2, d2, O2);
            else if (d2 && M2) {
              tt2 = t3.body.getCell(m2);
              if (this._linkRenderer ? (this._linkRenderer.initOptions(), this._linkRenderer.assignFrom(b2.renderer)) : this._linkRenderer = t3.delegate.createRenderer(sn.TYPE, b2.renderer, null), z2 = this._linkRenderer) {
                var nt2 = z2.$_getUrl(t3, tt2);
                i2.addLink(n2, d2, nt2, O2);
              } else i2.addText(n2, d2, O2);
            } else if (A2) {
              tt2 = t3.body.getCell(m2);
              this._imageRenderer ? (this._imageRenderer.initOptions(), this._imageRenderer.assignFrom(I2)) : this._imageRenderer = t3.delegate.createRenderer(Zr.TYPE, I2, null);
              var st2 = (z2 = this._imageRenderer).$_getImageUrl(t3, tt2);
              Y2 = e3.getColumnWidth(n2);
              st2 ? i2.addImage(n2, d2, Y2, N.CENTER, st2, O2, z2.imageWidth, z2.imageHeight) : i2.addText(n2, d2, O2);
            } else if ($2) {
              tt2 = t3.body.getCell(m2);
              this._iconRenderer ? (this._iconRenderer.initOptions(), this._iconRenderer.assignFrom(I2)) : this._iconRenderer = t3.delegate.createRenderer(Qr.TYPE, I2, null);
              st2 = (z2 = this._iconRenderer).$_getIconUrl(t3, tt2), Y2 = e3.getColumnWidth(n2);
              st2 ? i2.addImage(n2, d2, Y2, z2.iconLocation, st2, O2, z2.iconWidth, z2.iconHeight) : i2.addText(n2, d2, O2);
            } else d2 ? i2.addText(n2, d2, O2) : i2.addBlank(n2, O2);
        }
      } else i2.addBlank(n2, O2);
    } else if (b2 instanceof us) {
      O2 = P2(O2, a.TEXT, false, p2 && p2.cellProtectProps || b2.cellProtectProps).es;
      var at2 = p2 && null != p2.text ? p2.text : b2.value;
      i2.addText(n2, at2, O2);
    } else if (b2 instanceof hs) {
      var lt2 = b2.renderer, ht2 = lt2 && (lt2.type == qu.TYPE || lt2.type == zu.TYPE || lt2.type == kl.SERIES_TYPE);
      if (lt2 && lt2.type && !ht2) {
        var ut2 = this._preparer;
        y2.exportSeriesColumn && Dl.interfaced(lt2) && ut2.sparkColumns[b2.$_hash] ? i2.addSparkLine(n2, l2, ut2.sparkColumns[b2.$_hash], O2) : i2.addBlank(n2, O2);
      } else {
        this._seriesCell.setIndex(m2);
        var ct2 = this._seriesCell.value;
        if (ct2 && ct2.some(function(t4) {
          return !isNaN(t4);
        })) {
          var dt2 = b2.valueSeparator;
          b2.actualTarget && lt2.type == zu.TYPE ? dt2 = lt2.separator : !lt2 || lt2.type && lt2.type != kl.SERIES_TYPE || (dt2 = lt2.valueSeparator);
          var pt2 = this._seriesCell.getDisplayText(t3, dt2);
          if (S2) {
            this._bulletRenderer ? (this._bulletRenderer.initOptions(), this._bulletRenderer.assignFrom(I2)) : this._bulletRenderer = t3.delegate.createRenderer(qu.TYPE, I2, null);
            Y2 = e3.getColumnWidth(n2), z2 = this._bulletRenderer, q2 = this._preparer.documentCssStyles;
            var ft2 = { background: this._inheritStyles(ld.getSelectorStyles(q2, z2.backgroundStyle)), actual: this._inheritStyles(ld.getSelectorStyles(q2, z2.actualStyle)), target: this._inheritStyles(ld.getSelectorStyles(q2, z2.targetStyle)) };
            i2.addActualTarget(n2, s(s([], ct2, true), [lt2.maxValue], false), Y2, ft2, z2.actualHeight, z2.targetWidth, O2);
          } else i2.addText(n2, pt2, O2);
        } else i2.addBlank(n2, O2);
      }
    }
    if (E2) {
      var _t2 = { author: E2.author || "RealGrid", message: "", fontSize: 10, authorVisible: void 0 === E2.authorVisible || E2.authorVisible, minWidth: E2.minWidth ? E2.minWidth : 128, maxWidth: E2.maxWidth ? E2.maxWidth : 400 }, gt2 = (T2 = t3.dataSource.getFieldIndex(null === (u2 = m2.dataColumn) || void 0 === u2 ? void 0 : u2.fieldName), E2.validation && t3.validationManager.cellList[o2.dataRowId]), yt2 = gt2 && gt2[T2];
      yt2 && yt2.column === b2.name && (_t2.message = yt2.message);
      var mt2 = (Q2 = E2.callback) && Q2(t3.handler, o2.itemIndex, o2.dataRow, b2.name, _t2);
      this._prepareMemo(e3, _t2, mt2, n2, i2.index);
    }
    return O2;
  }, e2.prototype._buildUserCells = function(t3, i2) {
    var o2 = this, r2 = this._exportOptions, n2 = i2.currentSheet, s2 = r2.userCellsCallback, a2 = r2.userCells || s2 && s2(t3.handler, n2.rowCount, n2.colCount, n2.name);
    if (Ot.isArray(a2)) {
      var l2 = this._dynamicStyles, h2 = this._preparer.documentCssStyles, u2 = n2.workbook.styles._styles._items[0], c2 = this._css;
      a2.forEach(function(t4) {
        var s3, a3, d2;
        if (t4.format && (d2 = i2.addNumberFormat(t4.format)), t4.styleName) {
          var p2 = t4.styleName;
          if (s3 = "userCells;styleName=".concat(p2, ";formatId=").concat(d2), !(a3 = l2[s3])) {
            var f2 = ld.getSelectorStyles(h2, p2), _2 = o2._inheritStyles(f2);
            a3 = l2[s3] = o2._parseStyles(i2, _2, !!_2.whiteSpace && null), d2 && (a3._formatId = d2);
          }
        } else if (t4.styles) {
          var g2 = Ot.objectToCssText(t4.styles);
          s3 = "userCells;styleName=".concat(g2, ";formatId=").concat(d2), (a3 = l2[s3]) || (c2.cssText = g2, a3 = l2[s3] = o2._parseStyles(i2, c2, !!c2.whiteSpace && null), d2 && (a3._formatId = d2));
        } else d2 && (s3 = "userCells;styleName=".concat(void 0, ";formatId=").concat(d2), (a3 = l2[s3]) || (a3 = l2[s3] = o2._extendStyles(i2, u2, {}, false, d2)));
        a3 = a3 || u2;
        for (var y2 = t4.mergeRow || 1, m2 = t4.mergeCol || 1, b2 = Ot.makeArray(t4.heights, true), v2 = Ot.makeArray(t4.widths, true), w2 = 0; w2 < m2; w2++) {
          var C2 = v2[w2] || t4.width;
          if (C2) {
            var x2 = t4.col + w2 + 1;
            n2.getColumn(x2) || (C2 = Math.ceil(C2 / e2.PIXELS_PER_CHAR), n2.addColumn(-1, C2, null, false, x2));
          }
        }
        for (var I2 = 0; I2 < y2; I2++) for (var E2 = 0; E2 < m2; E2++) {
          var S2 = t4.cellMemo, O2 = n2.borrowRow(t4.row + I2, b2[I2] || t4.height || -1);
          if (0 === I2 && 0 === E2) {
            var R2 = null == t4.value ? "" : t4.value, P2 = n2.getColumnWidth(t4.col);
            if (t4.image && false !== r2.exportImage) {
              var k2 = void 0;
              k2 = "string" == typeof t4.image ? { url: t4.image } : t4.image, O2.addImage(t4.col, R2, P2, k2.location || N.CENTER, k2.url, a3, k2.width, k2.height);
            } else switch (typeof R2) {
              case "string":
                O2.addText(t4.col, R2, a3);
                break;
              case "number":
                O2.addNumber(t4.col, R2, a3, t4.formula);
                break;
              case "boolean":
                O2.addBool(t4.col, null == R2 ? null : R2, a3);
                break;
              default:
                R2 instanceof Date && O2.addDate(t4.col, R2, a3);
            }
          } else O2.addBlank(t4.col + E2, a3);
          if (S2) {
            var D2 = void 0 === r2.exportMemo.authorVisible || r2.exportMemo.authorVisible, T2 = { author: r2.exportMemo.author || "RealGrid", message: "", fontSize: 10, authorVisible: D2, minWidth: 128, maxWidth: 400 };
            o2._prepareMemo(n2, T2, S2, t4.col, O2.index);
          }
        }
        y2 * m2 > 1 && n2.addMerge(t4.row, t4.col, y2, m2);
      });
    }
  }, e2.CSS_HEAD = "rg-header", e2.CSS_FOOT = "rg-footer", e2.CSS_BODY = "rg-body", e2.CSS_FIXED = "rg-fixed-body", e2.CSS_TABLE = "rg-table", e2.CSS_ROWGROUP_BAR = "rg-rowgroup-bar", e2.CSS_ROWGROUP_HEAD = "rg-rowgroup-head", e2.CSS_ROWGROUP_FOOT = "rg-rowgroup-foot", e2.CSS_HEAD_CELL = "rg-header-cell", e2.CSS_INDICATOR = "rg-rowindicator-cell", e2.CSS_CHECK = "rg-checkbar-cell", e2.CSS_DATA_ROW = "rg-data-row", e2.PIXELS_PER_CHAR = 7, e2.LINE_HEIGHT = 0.75, e2;
}(qc);
var jp = function() {
  function t2() {
  }
  return t2.getColumn = function(t3, e2) {
    if (e2) {
      if ("string" == typeof e2) return t3.columnByName(e2);
      if (e2 instanceof ss) return e2;
      if (e2.$_hash) return t3.columnByHash(e2.$_hash);
      if (e2.name) return t3.columnByName(e2.name);
    }
    return null;
  }, t2.getItemProxy = function(e2, i2) {
    var o2 = e2.parent, r2 = { type: void 0, id: e2.id, parentId: null == o2 ? -1 : o2.id, itemIndex: e2.index, index: e2.index, dataRow: -1, checked: e2.checked, checkable: e2.checkable, indeterminate: e2.indeterminate };
    return i2 && (r2.childIndex = e2.childIndex, r2.level = e2.level), e2 instanceof Ho ? (r2.type = "row", r2.dataRow = e2.dataRow) : e2 instanceof Wo ? (r2.count = e2.children.length, r2.expanded = e2.expanded, e2 instanceof Go || e2 instanceof Hr ? (r2.type = "group", r2.footerId = e2.footer ? e2.footer.id : -1, e2 instanceof Yo || i2 && (r2.firstItem = t2.getItemProxy(e2.firstItem), r2.firstDataItem = t2.getItemProxy(e2.firstDataItem), r2.dataRows = e2.getRows())) : e2 instanceof In && (r2.type = "tree", r2.dataRow = e2.dataRow ? e2.dataRow : -1)) : e2 instanceof Uo && (r2.type = "footer"), r2;
  }, t2.getItemIndices = function(t3) {
    for (var e2 = [], i2 = 0, o2 = t3.length; i2 < o2; i2++) e2.push(t3[i2].index);
    return e2;
  }, t2.getValues = function(t3, e2) {
    var i2 = {}, o2 = e2.dataSource;
    if (t3.isItemEditing(e2)) return (i2 = e2.getRowObject()).__rowId = e2.dataRow, i2;
    if (e2.dataRow >= 0) {
      if (e2 instanceof In) {
        var r2 = e2.row, n2 = r2.values;
        i2.__rowId = r2.rowId;
        for (var s2 = 0, a2 = o2.fieldCount; s2 < a2; s2++) {
          i2[o2.getOrgFieldName(s2)] = n2[s2];
        }
      } else (i2 = o2.getRowObject(e2.dataRow)).__rowId = e2.dataRow;
      return i2;
    }
    return null;
  }, t2.getDisplayValues = function(t3, e2, i2) {
    var o2 = t3.getDataColumns();
    if (e2) {
      for (var r2 = i2 ? {} : e2.getRowObject(), n2 = new ns(), s2 = 0, a2 = o2.length; s2 < a2; s2++) {
        var l2 = o2[s2], h2 = t3.body.getCellAt(e2, l2);
        "hiddenDataCell" === h2.name ? h2.setItem(e2) : h2.setIndex2(t3, e2.index, l2), n2.clear(), n2.assign(l2), t3.body.getCellStyle(h2, n2);
        var u2 = n2.toFormatter(null);
        r2[i2 ? l2.name : l2.fieldName] = mr._getDisplayText(t3, e2, l2, e2.getData(l2.dataIndex), u2);
      }
      return r2;
    }
  }, t2.setValues = function(t3, e2, i2, o2) {
    var r2, n2, s2, a2 = e2.dataSource, l2 = a2.fieldCount;
    if (t3.isItemEditing(e2)) {
      if (e2) e2.values = i2;
      else for (var h2 = 0; h2 < l2; h2++) {
        var u2 = a2.getOrgFieldName(h2);
        i2.hasOwnProperty(u2) && e2.setData(h2, i2[u2]);
      }
    } else if ((s2 = e2.dataRow) >= 0) {
      if (a2 instanceof mo) {
        var c2 = a2.rowById(s2);
        if (c2) {
          if (r2 = c2.values || [], Array.isArray(i2)) {
            h2 = 0;
            for (var d2 = i2.length; h2 < d2 && !(n2 = !a2.getField(h2).equalValues(r2[h2], i2[h2])); h2++) ;
          } else for (h2 = 0; h2 < l2; h2++) {
            u2 = a2.getOrgFieldName(h2);
            if (i2.hasOwnProperty(u2) && (n2 = !a2.getField(h2).equalValues(r2[h2], i2[u2]))) break;
          }
          if (!n2) return;
          c2.update(i2, o2);
        }
      } else if (a2 instanceof Mi) {
        if (r2 = a2.getRow(s2), Array.isArray(i2)) for (h2 = 0, d2 = i2.length; h2 < d2 && !(n2 = !a2.getField(h2).equalValues(r2[h2], i2[h2])); h2++) ;
        else for (h2 = 0; h2 < l2; h2++) {
          u2 = a2.getOrgFieldName(h2);
          if (i2.hasOwnProperty(u2) && (n2 = !a2.getField(h2).equalValues(r2[h2], i2[u2]))) break;
        }
        if (!n2) return;
        a2.updateRow(s2, i2, o2);
      }
    }
  }, t2;
}();
var Hp = function() {
  function t2(t3, e2, i2) {
    this.onCurrentChanging = null, this.onCurrentChanged = null, this.onCurrentRowChanged = null, this.onValidateColumn = null, this.onValidateRow = null, this.onValidationFail = null, this.onColumnCheckedChanged = null, this.onMenuItemClicked = null, this.onContextMenuPopup = null, this.onContextMenuItemClicked = null, this.onCellButtonClicked = null, this.onScrollToBottom = null, this.onTopIndexChanged = null, this.onTopIndexChanging = null, this.onLeftPosChanged = null, this.onRowsDeleting = null, this.onRowInserting = null, this.onSelectionCleared = null, this.onSelectionChanged = null, this.onSelectionAdded = null, this.onSelectionEnded = null, this.onShowEditor = null, this.onShowEditCommand = null, this.onHideEditor = null, this.onEditChange = null, this.onGetEditValue = null, this.onEditCommit = null, this.onEditCanceled = null, this.onItemEditCanceled = null, this.onItemEditCancel = null, this.onEditSearch = null, this.onSearchCellButtonClick = null, this.onCellEdited = null, this.onEditRowChanged = null, this.onEditRowPasted = null, this.onRowsPasted = null, this.onCellPasting = null, this.onItemChecked = null, this.onItemAllChecked = null, this.onErrorClicked = null, this.onSorting = null, this.onSortingChanged = null, this.onFiltering = null, this.onFilteringChanged = null, this.onWheel = null, this.onKeyDown = null, this.onKeyPress = null, this.onKeyUp = null, this.onShowTooltip = null, this.onShowHeaderTooltip = null, this.onColumnPropertyChanged = null, this.onLayoutPropertyChanged = null, this.onGridActivated = null, this.onGridFocusChanged = null, this.onCopy = null, this.onCut = null, this.onPaste = null, this.onPasted = null, this.onItemsChecked = null, this.onCellClicked = null, this.onCellDblClicked = null, this.onCellItemClicked = null, this.onCommandStackChanged = null, this.onDataLoadComplated = null, this.onLayoutExpanding = null, this.onLayoutExpanded = null, this.onLayoutCollapsing = null, this.onLayoutCollapsed = null;
    try {
      this._view = this._createView(t3, e2, i2), this._listener = this._createListener(this._view);
    } catch (t4) {
      throw t4;
    }
  }
  return t2.prototype.dispose = function() {
    return this._view.dispose(), this._view = null, this._container = this._container && this._container.dispose(), this._listener = this._listener && this._listener.dispose();
  }, Object.defineProperty(t2.prototype, "summaryMode", { get: function() {
    return this._view.itemSource.summaryMode;
  }, set: function(t3) {
    this._view.itemSource.summaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "hideDeletedRows", { get: function() {
    return this._view.itemSource.hideDeleted;
  }, set: function(t3) {
    this._view.itemSource.hideDeleted = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "sortMode", { get: function() {
    return this._view.itemSource.sortMode;
  }, set: function(t3) {
    this._view.itemSource.sortMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "undoable", { get: function() {
    return this._view.undoable;
  }, set: function(t3) {
    this._view.undoable = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "undoing", { get: function() {
    return this._view.undoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "redoing", { get: function() {
    return this._view.redoing;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "disabled", { get: function() {
    return this._view.container.disabled;
  }, set: function(t3) {
    this._view.container.disabled = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "scrollBarWidth", { get: function() {
    return this._view.scrollBarWidth;
  }, set: function(t3) {
    this._view.scrollBarWidth = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "scrollBarHeight", { get: function() {
    return this._view.scrollBarHeight;
  }, set: function(t3) {
    this._view.scrollBarHeight = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "fixedOptions", { get: function() {
    return this._view.fixedOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "displayOptions", { get: function() {
    return this._view.displayOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "formatOptions", { get: function() {
    return this._view.formatOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "editOptions", { get: function() {
    return this._view.editOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "editorOptions", { get: function() {
    return this._view.editorOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "copyOptions", { get: function() {
    return this._view.copyOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "pasteOptions", { get: function() {
    return this._view.pasteOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "sortingOptions", { get: function() {
    return this._view.sortingOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "filteringOptions", { get: function() {
    return this._view.filteringOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "mobileOptions", { get: function() {
    return this._view.mobileOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "dataDropOptions", { get: function() {
    return this._view.dataDropOptions;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "rowIndicator", { get: function() {
    return this._view.rowIndicator;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "stateBar", { get: function() {
    return this._view.stateBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "checkBar", { get: function() {
    return this._view.checkBar;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "header", { get: function() {
    return this._view.header;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "footer", { get: function() {
    return this._view.footer;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "footers", { get: function() {
    return this._view.footers;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "headerSummary", { get: function() {
    return this._view.headerSummary;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "headerSummaries", { get: function() {
    return this._view.headerSummaries;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "filterPanel", { get: function() {
    return this._view.filterPanel;
  }, enumerable: false, configurable: true }), t2.prototype.ping = function(t3) {
    this._view instanceof zc && alert(t3);
  }, t2.prototype.refresh = function(t3) {
    this._view.refreshView(t3, !t3);
  }, t2.prototype.beginUpdate = function() {
    this._view.beginUpdate();
  }, t2.prototype.endUpdate = function(t3) {
    this._view.endUpdate(t3);
  }, t2.prototype.isVisible = function() {
    return this._view.visible;
  }, t2.prototype.setVisible = function(t3) {
    this._view.visible = t3;
  }, t2.prototype.getItemCount = function() {
    return this._view.itemCount;
  }, t2.prototype.getDataRow = function(t3) {
    var e2 = this._view.getItem(t3);
    return e2 ? e2.dataRow : -1;
  }, t2.prototype.getRowsOfItems = function(t3) {
    var e2 = [];
    if (t3) for (var i2 = 0, o2 = t3.length; i2 < o2; i2++) {
      var r2 = this._view.getItem(t3[i2]);
      r2 && e2.push(r2.dataRow);
    }
    return e2;
  }, t2.prototype.getItemIndex = function(t3) {
    return this._view.getItemIndexOfRow(t3);
  }, t2.prototype.getItemsOfRows = function(t3) {
    return this._view.getItemIndicesOfRows(t3);
  }, t2.prototype.restoreColumns = function() {
    this._view.restoreColumns();
  }, t2.prototype.getDataSource = function() {
    return this._dataDelegator;
  }, t2.prototype.setDataSource = function(t3) {
    this._dataDelegator = t3, this._dataProvider = t3 ? t3.getProvider() : null, this._view.dataSource = this._dataProvider;
  }, t2.prototype.getOptions = function() {
    return { summaryMode: this._view.itemSource.summaryMode.toString(), hideDeletedRows: this._view.itemSource.hideDeleted, sortMode: this._view.itemSource.sortMode.toString(), fixed: this.fixedOptions, display: this.displayOptions, format: this.formatOptions, edit: this.editOptions, editor: this.editorOptions, copy: this.copyOptions, paste: this.pasteOptions, sorting: this.sortingOptions, filtering: this.filteringOptions, dataDrop: this.dataDropOptions, rowIndicator: this.rowIndicator, checkBar: this.checkBar, stateBar: this.stateBar, header: this.header, footer: this.footer, footers: this.footers, headerSummary: this.headerSummary, headerSummaries: this.headerSummaries };
  }, t2.prototype.setOptions = function(t3) {
    t3 && (this._view.setOptions(t3), t3.fixed && this.setFixedOptions(t3.fixed), t3.display && this.setDisplayOptions(t3.display), t3.format && this.setFormatOptions(t3.format), t3.edit && this.setEditOptions(t3.edit), t3.editor && this.setEditorOptions(t3.editor), t3.copy && this.setCopyOptions(t3.copy), t3.paste && this.setPasteOptions(t3.paste), t3.sorting && this.setSortingOptions(t3.sorting), t3.filtering && this.setFilteringOptions(t3.filtering), t3.dataDrop && this.setDataDropOptions(t3.dataDrop), t3.rowIndicator && this.setRowIndicator(t3.rowIndicator), t3.checkBar && this.setCheckBar(t3.checkBar), t3.stateBar && this.setStateBar(t3.stateBar), t3.header && this.setHeader(t3.header), t3.footer && this.setFooter(t3.footer), t3.footers && this.setFooters(t3.footers), t3.headerSummary && this.setHeaderSummary(t3.headerSummary), t3.headerSummaries && this.setHeaderSummaries(t3.headerSummaries), t3.filterPanel && this.setFilterPanel(t3.filterPanel));
  }, t2.prototype.getFixedOptions = function() {
    return this._view.fixedOptions.toProxy();
  }, t2.prototype.setFixedOptions = function(t3) {
    this._view.fixedOptions.assignFrom(t3);
  }, t2.prototype.getDisplayOptions = function() {
    return this._view.displayOptions.toProxy();
  }, t2.prototype.setDisplayOptions = function(t3) {
    this._view.displayOptions.assignFrom(t3);
  }, t2.prototype.getFormatOptions = function() {
    return this._view.formatOptions.toProxy();
  }, t2.prototype.setFormatOptions = function(t3) {
    this._view.formatOptions.assignFrom(t3);
  }, t2.prototype.getEditOptions = function() {
    return this._view.editOptions.toProxy();
  }, t2.prototype.setEditOptions = function(t3) {
    this._view.editOptions.assignFrom(t3);
  }, t2.prototype.getEditorOptions = function() {
    return this._view.editorOptions.toProxy();
  }, t2.prototype.setEditorOptions = function(t3) {
    this._view.editorOptions.assignFrom(t3);
  }, t2.prototype.getCopyOptions = function() {
    return this._view.copyOptions.toProxy();
  }, t2.prototype.setCopyOptions = function(t3) {
    this._view.copyOptions.assignFrom(t3);
  }, t2.prototype.getPasteOptions = function() {
    return this._view.pasteOptions.toProxy();
  }, t2.prototype.setPasteOptions = function(t3) {
    this._view.pasteOptions.assignFrom(t3);
  }, t2.prototype.getSortingOptions = function() {
    return this._view.sortingOptions.toProxy();
  }, t2.prototype.setSortingOptions = function(t3) {
    this._view.sortingOptions.assignFrom(t3);
  }, t2.prototype.getFilteringOptions = function() {
    return this._view.filteringOptions.toProxy();
  }, t2.prototype.setFilteringOptions = function(t3) {
    this._view.filteringOptions.assignFrom(t3);
  }, t2.prototype.getMobileOptions = function() {
    return this._view.mobileOptions.toProxy();
  }, t2.prototype.setMobileOptions = function(t3) {
    this._view.mobileOptions.assignFrom(t3);
  }, t2.prototype.getDataDropOptions = function() {
    return this._view.dataDropOptions.toProxy();
  }, t2.prototype.setDataDropOptions = function(t3) {
    this._view.dataDropOptions.assignFrom(t3);
  }, t2.prototype.getRowIndicator = function() {
    return this._view.rowIndicator.toProxy();
  }, t2.prototype.setRowIndicator = function(t3) {
    this._view.rowIndicator.assignFrom(t3);
  }, t2.prototype.getStateBar = function() {
    return this._view.stateBar.toProxy();
  }, t2.prototype.setStateBar = function(t3) {
    this._view.stateBar.assignFrom(t3);
  }, t2.prototype.getCheckBar = function() {
    return this._view.checkBar.toProxy();
  }, t2.prototype.setCheckBar = function(t3) {
    this._view.checkBar.assignFrom(t3);
  }, t2.prototype.getHeader = function() {
    return this._view.header.toProxy();
  }, t2.prototype.setHeader = function(t3) {
    this._view.header.assignFrom(t3);
  }, t2.prototype.getFooter = function() {
    return this._view.footer.toProxy();
  }, t2.prototype.setFooter = function(t3) {
    this._view.footer.assignFrom(t3);
  }, t2.prototype.getFooters = function() {
    return this._view.footers.toProxy();
  }, t2.prototype.setFooters = function(t3) {
    this._view.footers.assignFrom(t3);
  }, t2.prototype.getHeaderSummary = function() {
    return this._view.headerSummary.toProxy();
  }, t2.prototype.setHeaderSummary = function(t3) {
    this._view.headerSummary.assignFrom(t3);
  }, t2.prototype.getHeaderSummaries = function() {
    return this._view.headerSummaries.toProxy();
  }, t2.prototype.setHeaderSummaries = function(t3) {
    this._view.headerSummaries.assignFrom(t3);
  }, t2.prototype.setFilterPanel = function(t3) {
    this._view.filterPanel.assignFrom(t3);
  }, t2.prototype.setCellStyleCallback = function(t3) {
    this._view.body.cellStyleCallback = t3;
  }, t2.prototype.setRowStyleCallback = function(t3) {
    this._view.body.rowStyleCallback = t3;
  }, t2.prototype.addUserCellStyle = function(t3, e2, i2) {
    this._view.body.addUserCellStyle(t3, e2, i2);
  }, t2.prototype.removeUserCellStyle = function(t3, e2) {
    void 0 === t3 && (t3 = null), void 0 === e2 && (e2 = null), this._view.body.removeUserCellStyle(t3, e2);
  }, t2.prototype.getUserCellStyle = function(t3, e2) {
    return this._view.body.getUserCellStyle(t3, e2);
  }, t2.prototype.setAriaLabelCallback = function(t3) {
    this._view.body.ariaLabelCallback = t3;
  }, t2.prototype.orderBy = function(t3, e2, i2) {
    if (t3) {
      var o2 = [], r2 = [], n2 = [];
      t3 = Ot.makeArray(t3, false), e2 = Ot.makeArray(e2, true), i2 = Ot.makeArray(i2, true);
      for (var s2 = 0, a2 = t3.length; s2 < a2; s2++) o2.push(this._view.columnByField(t3[s2])), r2.push(e2[s2] || l.ASCENDING), n2.push(i2[s2] || h.SENSITIVE);
      this._view.orderBy(o2, r2, n2);
    } else this._view.orderBy([], [], []);
  }, t2.prototype.getSortedFields = function() {
    var t3, e2 = this._view, i2 = e2.getSortFields(), o2 = e2.getSortDirections();
    if (i2 && (t3 = i2.length) > 0) {
      for (var r2 = this._dataProvider, n2 = [], s2 = 0; s2 < t3; s2++) n2.push({ fieldName: r2.getFieldName(i2[s2]), orgFieldName: r2.getOrgFieldName(i2[s2]), direction: o2[s2] });
      return n2;
    }
    return null;
  }, t2.prototype.setFocus = function() {
    this._view.setFocus(null, true);
  }, t2.prototype.getColumn = function(t3) {
    return this._view.getColumn(t3);
  }, t2.prototype.getColumns = function() {
    for (var t3 = this._view.columnCount, e2 = [], i2 = 0; i2 < t3; i2++) e2.push(this._view.getColumn(i2));
    return e2;
  }, t2.prototype.setColumns = function(t3) {
    this._view.setColumns(t3);
  }, t2.prototype.addColumn = function(t3, e2) {
    return this._view.addColumn(t3, e2);
  }, t2.prototype.removeColumn = function(t3) {
    return this._view.removeColumn(t3);
  }, t2.prototype.addLayout = function(t3, e2) {
    return this._view.addLayout(t3, e2);
  }, t2.prototype.removeLayout = function(t3) {
    this._view.removeLayout(t3);
  }, t2.prototype.layoutByColumn = function(t3) {
    return this._view.layoutByColumn(t3);
  }, t2.prototype.layoutByName = function(t3) {
    return this._view.layoutByName(t3);
  }, t2.prototype.getColumnNames = function(t3, e2) {
    return this._view.collectColumnNames(t3, e2);
  }, t2.prototype.columnByName = function(t3) {
    return this._view.columnByName(t3);
  }, t2.prototype.columnByField = function(t3) {
    return this._view.columnByField(t3);
  }, t2.prototype.columnByTag = function(t3) {
    return this._view.columnByTag(t3);
  }, t2.prototype.columnsByTag = function(t3) {
    return this._view.columnsByTag(t3);
  }, t2.prototype.getColumnProperty = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    if (i2 && e2) return i2[e2] instanceof Ft ? i2[e2].toProxy() : i2[e2];
  }, t2.prototype.setColumnProperty = function(t3, e2, i2) {
    var o2 = jp.getColumn(this._view, t3);
    o2 && e2 && (o2[e2] instanceof Ft ? o2[e2].assignFrom(i2) : o2[e2] = i2);
  }, t2.prototype.setColumn = function(t3) {
    var e2 = jp.getColumn(this._view, t3);
    e2 && e2.assignFrom(t3);
  }, t2.prototype.getDisplayColumns = function() {
    return this._view.collectColumns(true, true, true);
  }, t2.prototype.setColumnLayout = function(t3) {
    ("string" != typeof t3 || (t3 = this._view.findColumnLayout(t3))) && this._view.setCellLayout(t3);
  }, t2.prototype.getLayoutByColumn = function(t3) {
    var e2 = this._view.layoutByColumn(t3);
    return e2 ? e2.toProxy() : null;
  }, t2.prototype.saveColumnLayout = function() {
    return this._view.activeCellLayout.getLayout.apply(this._view.activeCellLayout, arguments);
  }, t2.prototype.linearizeColumns = function(t3) {
    this._view.linearizeColumns(t3);
  }, t2.prototype.registerColumnLayouts = function(t3) {
    this._view.registerColumnLayouts(t3);
  }, t2.prototype.fitLayoutWidth = function(t3, e2, i2, o2, r2) {
    var n2;
    return t3 ? t3 instanceof ps ? n2 = t3 : "string" == typeof t3 ? n2 = this._view.layoutByName(t3) : t3.name && (n2 = this._view.layoutByColumn(t3.name)) : null == t3 && (n2 = this._view.activeCellLayout._root), n2 && this._view.fitLayoutWidth(n2, e2, i2, o2, r2);
  }, t2.prototype.setRowHeight = function(t3, e2, i2) {
    void 0 === e2 && (e2 = 0), void 0 === i2 && (i2 = true), this._view.setRowHeight(t3, e2, i2);
  }, t2.prototype.getRowHeight = function(t3) {
    var e2 = this._view.getRowHeight(t3);
    if (isNaN(e2)) {
      var i2 = this._view.getItem(t3);
      e2 = this._view.layoutManager.getItemHeight(i2);
    }
    return e2;
  }, t2.prototype.clearRowHeights = function(t3) {
    this._view.clearRowHeights(t3);
  }, t2.prototype.getCurrent = function() {
    var t3 = this._view.focusedIndex;
    return t3 ? t3.proxy() : null;
  }, t2.prototype.setCurrent = function(t3, e2) {
    void 0 === e2 && (e2 = true);
    var i2 = this._view.focusedIndex.clone();
    i2.assignFrom(t3), this._view.setFocusedIndex(i2, e2, true);
  }, t2.prototype.resetCurrent = function() {
    this._view.setFocusedIndex(this._view.focusedIndex.clone().reset());
  }, t2.prototype.clearCurrent = function() {
    this._view.clearFocusedIndex();
  }, t2.prototype.mouseToIndex = function(t3, e2, i2) {
    var o2 = this._view.mouseToIndex(t3, e2, i2);
    return o2 ? o2.proxy() : null;
  }, t2.prototype.getCellBounds = function(t3, e2, i2) {
    void 0 === i2 && (i2 = true);
    var o2 = jp.getColumn(this._view, e2), r2 = new Ts(this._view, t3, o2);
    if (o2 && r2) {
      var n2 = this._view.layoutManager, s2 = n2.getBodyView(r2), a2 = s2.getCellRectAt(n2, r2, true);
      if (a2 = a2 && (i2 ? s2.boundsByScreen(a2) : s2.boundsByContainer(a2))) return { x: a2.x, y: a2.y, width: a2.width, height: a2.height };
    }
    return null;
  }, t2.prototype.getIndexOfElement = function(t3) {
    var e2 = this._view.getCellViewOf(t3), i2 = this._view.getDataCellIndex(e2);
    return i2 ? i2.proxy() : null;
  }, t2.prototype.getWritable = function(t3, e2) {
    var i2 = jp.getColumn(this._view, e2);
    if (i2 instanceof ls) return this._view.getWritable(t3, i2);
  }, t2.prototype.setColumnFilters = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    i2 instanceof ls && i2.setFilters(e2);
  }, t2.prototype.clearColumnFilters = function(t3) {
    var e2 = jp.getColumn(this._view, t3);
    e2 instanceof ls && e2.clearFilters();
  }, t2.prototype.addColumnFilters = function(t3, e2, i2) {
    var o2 = jp.getColumn(this._view, t3);
    o2 instanceof ls && o2.addFilters(e2, i2);
  }, t2.prototype.removeColumnFilters = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    i2 instanceof ls && i2.removeFilters(e2);
  }, t2.prototype.activateColumnFilters = function(t3, e2, i2) {
    var o2 = jp.getColumn(this._view, t3);
    o2 instanceof ls && o2.activateFilters(e2, i2);
  }, t2.prototype.activateAllColumnFilters = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    i2 instanceof ls && i2.activateAllFilters(e2);
  }, t2.prototype.resetFilters = function() {
    this._view.resetFilters(false);
  }, t2.prototype.hideColumnFilters = function(t3, e2, i2) {
    void 0 === i2 && (i2 = true);
    var o2 = jp.getColumn(this._view, t3);
    o2 instanceof ls && (o2.hideColumnFilters(e2, i2), this._view.closePopups());
  }, t2.prototype.hideAllColumnFilters = function(t3, e2) {
    void 0 === e2 && (e2 = true);
    var i2 = jp.getColumn(this._view, t3);
    i2 instanceof ls && (i2.hideAllColumnFilters(e2), this._view.closePopups());
  }, t2.prototype.toggleColumnFilters = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    i2 instanceof ls && i2.toggleFilters(e2);
  }, t2.prototype.toggleAllColumnFilters = function(t3) {
    var e2 = jp.getColumn(this._view, t3);
    e2 instanceof ls && e2.toggleAllFilters();
  }, t2.prototype.getColumnFilter = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    return i2 instanceof ls && i2.getFilter(e2) ? i2.getFilter(e2).toProxy() : null;
  }, t2.prototype.getColumnFilters = function(t3) {
    var e2 = jp.getColumn(this._view, t3);
    if (e2 instanceof ls) {
      for (var i2 = e2.autoFilter ? e2.autoFilters.items : e2.filters.items, o2 = [], r2 = 0, n2 = i2.length; r2 < n2; r2++) o2.push(i2[r2].toProxy());
      return o2;
    }
    return null;
  }, t2.prototype.getActiveColumnFilters = function(t3, e2) {
    void 0 === e2 && (e2 = true);
    var i2 = jp.getColumn(this._view, t3);
    if (i2 instanceof ls) {
      for (var o2 = i2.getActiveFilters(e2), r2 = [], n2 = 0, s2 = o2.length; n2 < s2; n2++) r2.push(o2[n2].toProxy());
      return r2;
    }
    return null;
  }, t2.prototype.isFiltered = function(t3) {
    if (t3) {
      var e2 = jp.getColumn(this._view, t3);
      return e2 instanceof ls && e2.isFiltered();
    }
    var i2 = this._view.getFilteredColumns();
    return i2 && i2.length > 0;
  }, t2.prototype.autoFiltersRefresh = function(t3, e2) {
    t3 = t3 ? Ot.makeArray(t3) : this._view.getChildColumnNames(null);
    for (var i2 = 0; i2 < t3.length; i2++) {
      var o2 = jp.getColumn(this._view, t3[i2]);
      o2 instanceof ls && o2.autoFilterRefresh(e2);
    }
  }, t2.prototype.showFilterSelector = function(t3, e2) {
    var i2 = jp.getColumn(this._view, t3);
    return !!i2 && (null != e2 && (e2 = String(e2)), this.closeList(), !!this._view.showFilterSelector(i2, e2));
  }, t2.prototype.inlineFilterFocus = function(t3) {
    var e2 = this._view.layoutByColumn(t3);
    e2 && this._view.inlineFilterFocus(e2);
  }, t2.prototype.getValues = function(t3) {
    var e2 = this._view.getItem(t3);
    return e2 ? jp.getValues(this._view, e2) : null;
  }, t2.prototype.getDisplayValues = function(t3, e2) {
    var i2 = this._view.getItem(t3);
    if (i2) return jp.getDisplayValues(this._view, i2, e2);
  }, t2.prototype.getDisplayValuesOfRow = function(t3, e2) {
    var i2 = this._view.getItemOfRow(t3, true);
    if (i2) return jp.getDisplayValues(this._view, i2, e2);
  }, t2.prototype.getJsonRows = function() {
    return this._view.getJsonRows();
  }, t2.prototype.setValues = function(t3, e2, i2) {
    var o2 = this._view.getItem(t3);
    o2 && jp.setValues(this._view, o2, e2, i2);
  }, t2.prototype.getValue = function(t3, e2, i2) {
    var o2;
    void 0 === i2 && (i2 = false);
    var r2 = this._view, n2 = r2._clipboardManager;
    if (n2.isPasting && (o2 = n2.appendingIndex.item).index !== t3 && (o2 = null), o2 = o2 || r2.getItem(t3)) {
      var s2 = this._dataProvider.getFieldIndex(e2), a2 = r2.columnByField(s2);
      return i2 && Ts.equalsTo(r2.editController.editIndex, t3, a2.layout) ? r2.getEditCellValue() : o2.getData(s2);
    }
    return null;
  }, t2.prototype.setValue = function(t3, e2, i2) {
    e2 = this._dataProvider.getFieldIndex(e2), this._view.setValueAt(t3, e2, i2);
  }, t2.prototype.getEditValue = function() {
    return this._view.getEditCellValue();
  }, t2.prototype.setEditValue = function(t3, e2, i2) {
    void 0 === i2 && (i2 = true), this._view.setEditCellValue(t3, e2, i2);
  }, t2.prototype.registerCustomRenderer = function(t3, e2) {
    this._view.registerCustomRenderer(t3, e2);
  }, t2.prototype.unregisterCustomRenderer = function(t3) {
    this._view.unregisterCustomRenderer(t3);
  }, t2.prototype.existsCustomRenderer = function(t3) {
    return this._view.existsCustomRenderer(t3);
  }, t2.prototype.unregisterAllCustomRenderer = function() {
    this._view.unregisterAllCustomRenderer();
  }, t2.prototype.addPopupMenu = function(t3, e2) {
    this._view.addPopupMenu(t3, e2);
  }, t2.prototype.getPopupMenu = function(t3) {
    return this._view.getPopupMenu(t3);
  }, t2.prototype.removePopupMenu = function(t3) {
    this._view.removePopupMenu(t3);
  }, t2.prototype.setContextMenu = function(t3) {
    return this._view.setContextMenu(t3);
  }, t2.prototype.getSelection = function(t3) {
    void 0 === t3 && (t3 = 0);
    var e2 = this._view.getSelection(t3);
    return e2 ? e2.toProxy() : null;
  }, t2.prototype.getSelections = function() {
    var t3 = this._view.getSelections(), e2 = [];
    return t3.forEach(function(t4) {
      e2.push(t4.toProxy());
    }), e2;
  }, t2.prototype.setSelection = function(t3, e2) {
    t3.style && "string" == typeof t3.style && (this._view.clearAddSelection(true, false, e2), this.addSelection(t3, e2));
  }, t2.prototype.addSelection = function(t3, e2) {
    if (void 0 === e2 && (e2 = true), t3.style && "string" == typeof t3.style) {
      var i2, o2, r2 = Ot.valueIn(t3.style, Js) ? t3.style : Js.BLOCK, n2 = 0, s2 = 0;
      if (t3.hasOwnProperty("startItem")) s2 = n2 = t3.startItem;
      else if (t3.hasOwnProperty("startRow")) s2 = n2 = this._view.getItemIndexOfRow(t3.startRow);
      else if ("singleColumn" != r2 && "columns" != r2) return;
      if (t3.hasOwnProperty("endItem")) s2 = t3.endItem;
      else if (t3.hasOwnProperty("endRow")) s2 = this._view.getItemIndexOfRow(t3.endRow);
      else if ("singleColumn" != r2 && "columns" != r2) return;
      i2 = jp.getColumn(this._view, t3.startColumn), o2 = jp.getColumn(this._view, t3.endColumn);
      var a2 = new Ts(this._view, n2, i2), l2 = new Ts(this._view, s2, o2);
      this._view.selections.add(a2, l2, r2, e2);
    }
  }, t2.prototype.clearSelection = function() {
    this._view.clearAddSelection();
  }, t2.prototype.removeSelection = function(t3) {
    var e2 = this._view.selections.getItem(t3);
    e2 && this._view.selections.remove(e2);
  }, t2.prototype.getSelectedItems = function(t3) {
    return this._view.getSelectedItemIndices(t3);
  }, t2.prototype.getSelectedRows = function() {
    return this._view.getSelectedRows();
  }, t2.prototype.deleteSelection = function(t3) {
    this._view.deleteSelection(t3);
  }, t2.prototype.eraseSelection = function(t3) {
    this._view.eraseSelection(t3, false);
  }, t2.prototype.getSelectionData = function(t3, e2) {
    return void 0 === t3 && (t3 = -1), void 0 === e2 && (e2 = 0), e2 >= 0 && e2 < this._view.selections.count ? this._view.selections.getItem(e2).getData(t3) : null;
  }, t2.prototype.getSelectionsData = function() {
    var t3 = [], e2 = this._view.selections.getItems(), i2 = {};
    return e2.forEach(function(t4) {
      t4.getData(-1).forEach(function(t5) {
        var e3 = t5.__rowId;
        e3 >= 0 && (i2[e3] = i2[e3] || {}, Ot.extendObj(t5, i2[e3]));
      });
    }), Object.keys(i2).forEach(function(e3) {
      t3.push(i2[e3]);
    }), t3;
  }, t2.prototype.copyToClipboard = function(t3, e2) {
    return void 0 === e2 && (e2 = true), this._view.toClipboard(t3, e2);
  }, t2.prototype.commitEditor = function(t3, e2) {
    return void 0 === t3 && (t3 = true), void 0 === e2 && (e2 = true), this._view.commitEditor(t3, e2);
  }, t2.prototype.commit = function(t3) {
    return this._view.commit(t3);
  }, t2.prototype.cancel = function() {
    return this._view.cancel();
  }, t2.prototype.fillEditSearchItems = function(t3, e2, i2, o2, r2) {
    var n2 = jp.getColumn(this._view, t3);
    this._view.fillEditSearchItems(n2, e2, i2, o2, r2);
  }, t2.prototype.isItemEditing = function() {
    return this._view.isItemEditing();
  }, t2.prototype.isEditing = function() {
    return this._view.isEditing();
  }, t2.prototype.showEditor = function(t3) {
    void 0 === t3 && (t3 = false), this._view.showEditor(null, null, t3);
  }, t2.prototype.hideEditor = function() {
    this._view.hideEditor(true);
  }, t2.prototype.cancelEditor = function() {
    this._view.cancelEditor(true);
  }, t2.prototype.setValidations = function(t3) {
    this._view.validations = t3;
  }, t2.prototype.validateCells = function(t3, e2, i2, o2) {
    return void 0 === e2 && (e2 = true), void 0 === i2 && (i2 = false), this._view.validateCells(Ot.makeArray(t3), e2, i2, Ot.makeArray(o2));
  }, t2.prototype.getInvalidCells = function(t3) {
    var e2;
    return null != t3 && (e2 = this.getDataRow(t3)) < 0 ? null : this._view.getInvalidCells(e2);
  }, t2.prototype.getInvalidCellsOfRow = function(t3) {
    return null == t3 ? null : this._view.getInvalidCells(t3);
  }, t2.prototype.clearInvalidCells = function(t3, e2) {
    var i2;
    if (null == t3 || (i2 = this._view.getItem(t3)) && i2.isDataRow) return this._view.clearInvalidCells(i2, e2);
  }, t2.prototype.clearInvalidCellsOfRow = function(t3, e2) {
    var i2 = this._view.getItemOfRow(t3, true);
    if (i2) return this._view.clearInvalidCells(i2, e2);
  }, t2.prototype.addInvalidCell = function(t3, e2, i2, o2) {
    var r2 = this._view.getItem(t3);
    r2 && this._view.addInvalidCell(r2, e2, i2, o2);
  }, t2.prototype.addInvalidCellOfRow = function(t3, e2, i2, o2) {
    var r2 = this._view.getItemOfRow(t3, true);
    r2 && this._view.addInvalidCell(r2, e2, i2, o2);
  }, t2.prototype.getEditingItem = function() {
    var t3 = this._view.getEditItem();
    return t3 ? (t3.getRowObject(), { itemIndex: t3.index, dataRow: t3.dataRow, values: t3.getRowObject() }) : null;
  }, t2.prototype.getItemState = function(t3) {
    var e2 = this._view.getItem(t3);
    if (e2) {
      var i2 = e2.itemState;
      return i2 == vo.NORMAL && this._view.focusedIndex.itemIndex == e2.index && (i2 = vo.FOCUSED), i2;
    }
    return null;
  }, t2.prototype.showToast = function(t3, e2) {
    this._view.showToast(t3, e2);
  }, t2.prototype.hideToast = function(t3) {
    this._view.hideToast(t3);
  }, t2.prototype.showMessage = function(t3, e2, i2) {
    var o2 = this._view;
    if ("object" == typeof e2) {
      var r2 = new Ts(this._view);
      if (r2.assignFrom(e2), !o2.isValid(r2, true)) return;
      var n2 = this.getCellBounds(r2.itemIndex, r2.column, false);
      if (!n2) return;
      e2 = n2.x, i2 = n2.y + n2.height;
    }
    "string" == typeof t3 && (t3 = { message: t3 }), this._view.showMessage(t3, e2, i2);
  }, t2.prototype.setLookups = function(t3) {
    this._view.setLookups(t3);
  }, t2.prototype.addLookupSource = function(t3) {
    this._view.addLookupSource(t3);
  }, t2.prototype.removeLookupSource = function(t3) {
    this._view.removeLookupSource(t3);
  }, t2.prototype.existsLookupData = function(t3, e2) {
    return this._view.existsLookupData(t3, e2);
  }, t2.prototype.fillLookupData = function(t3, e2) {
    this._view.fillLookupData(t3, e2);
  }, t2.prototype.getLookupData = function(t3, e2) {
    return this._view.getLookupData(t3, e2);
  }, t2.prototype.clearLookupData = function(t3) {
    this._view.clearLookupData(t3);
  }, t2.prototype.isCheckable = function(t3) {
    return this._view.isCheckable(t3);
  }, t2.prototype.isCheckableOfRow = function(t3) {
    return this._view.isCheckableOfRow(t3);
  }, t2.prototype.setCheckable = function(t3, e2) {
    this._view.setCheckable(t3, e2);
  }, t2.prototype.setCheckableOfRow = function(t3, e2) {
    this._view.setCheckableOfRow(t3, e2);
  }, t2.prototype.isIndeterminateItem = function(t3) {
    return this._view.isIndeterminateItem(t3);
  }, t2.prototype.isCheckedItem = function(t3) {
    return this._view.isCheckedItem(t3);
  }, t2.prototype.isIndeterminateRow = function(t3) {
    return this._view.isIndeterminateRow(t3);
  }, t2.prototype.isCheckedRow = function(t3) {
    return this._view.isCheckedRow(t3);
  }, t2.prototype.indeterminateItem = function(t3, e2) {
    void 0 === e2 && (e2 = true), this._view.indeterminateItem(t3, e2);
  }, t2.prototype.checkItem = function(t3, e2, i2, o2) {
    void 0 === e2 && (e2 = true), void 0 === o2 && (o2 = true), this._view.checkItem(t3, e2, i2, o2);
  }, t2.prototype.indeterminateRow = function(t3, e2) {
    void 0 === e2 && (e2 = true), this._view.indeterminateRow(t3, e2);
  }, t2.prototype.checkRow = function(t3, e2, i2, o2) {
    void 0 === e2 && (e2 = true), void 0 === o2 && (o2 = true), this._view.checkRow(t3, e2, i2, o2);
  }, t2.prototype.checkModel = function(t3, e2, i2, o2) {
    void 0 === e2 && (e2 = true), void 0 === o2 && (o2 = true);
    var r2 = this._view.getItemOfModel(t3);
    this._view.checkModel(r2, e2, i2, o2);
  }, t2.prototype.isCheckedModel = function(t3) {
    return this._view.getItemOfModel(t3).checked;
  }, t2.prototype.isCheckableModel = function(t3) {
    return this._view.getItemOfModel(t3).checkable;
  }, t2.prototype.indeterminateModel = function(t3, e2) {
    var i2 = this._view.getItemOfModel(t3);
    this._view.indeterminateModel(i2, e2);
  }, t2.prototype.isIndeterminateModel = function(t3) {
    return this._view.getItemOfModel(t3).indeterminate;
  }, t2.prototype.checkItems = function(t3, e2, i2) {
    void 0 === e2 && (e2 = true), void 0 === i2 && (i2 = true), this._view.checkItems(t3, e2, i2);
  }, t2.prototype.checkRows = function(t3, e2, i2) {
    void 0 === e2 && (e2 = true), void 0 === i2 && (i2 = true), this._view.checkRows(t3, e2, i2);
  }, t2.prototype.checkAll = function(t3, e2, i2, o2) {
    void 0 === t3 && (t3 = true), void 0 === i2 && (i2 = true), void 0 === o2 && (o2 = true), this._view.checkAll(t3, e2, i2, o2);
  }, t2.prototype.setAllCheck = function(t3, e2) {
    void 0 === t3 && (t3 = true), void 0 === e2 && (e2 = true), this._view.setAllCheck(t3, e2);
  }, t2.prototype.isAllChecked = function() {
    return this._view.allChecked;
  }, t2.prototype.resetCheckables = function(t3) {
    this._view.resetCheckables(), t3 && (this._view.checkBar.checkableExpression = null, this._view.checkBar.checkableCallback = null);
  }, t2.prototype.applyCheckables = function() {
    this._view.applyCheckables();
  }, t2.prototype.setCheckableExpression = function(t3, e2) {
    void 0 === e2 && (e2 = true), this._view.checkBar.checkableExpression = t3, e2 && this._view.applyCheckables();
  }, t2.prototype.setCheckableCallback = function(t3, e2) {
    void 0 === e2 && (e2 = true), this._view.checkBar.checkableCallback = t3, e2 && this._view.applyCheckables();
  }, t2.prototype.getFilteredRows = function(t3) {
    return void 0 === t3 && (t3 = true), this._view.getFilteredRows(t3);
  }, t2.prototype.getSummary = function(t3, e2) {
    var i2 = this._view.summarizer, o2 = "string" == typeof t3 ? this._dataProvider.getFieldIndex(t3) : t3;
    if (-1 == o2) return null;
    switch (e2) {
      case "count":
        return i2.getCount(o2);
      case "sum":
        return i2.getSum(o2);
      case "max":
        return i2.getMax(o2);
      case "min":
        return i2.getMin(o2);
      case "avg":
        return i2.getAvg(o2);
      case "var":
        return i2.getVar(o2);
      case "varp":
        return i2.getVarp(o2);
      case "stdev":
        return i2.getStdev(o2);
      case "stdevp":
        return i2.getStdevp(o2);
      case "datacount":
        return i2.getDataCount(o2);
      case "dataavg":
        return i2.getDataAvg(o2);
    }
  }, t2.prototype.getModel = function(t3, e2) {
    var i2 = this._view.getItem(t3);
    return i2 && jp.getItemProxy(i2, e2);
  }, t2.prototype.getModelAs = function(t3, e2, i2) {
    var o2 = this._view.getItem(t3);
    switch (e2) {
      case "row":
        o2 = Ot.cast(o2, Ho);
        break;
      case "group":
        o2 = Ot.cast(o2, Wo);
        break;
      case "footer":
        o2 = Ot.cast(o2, Uo);
        break;
      case "tree":
        o2 = Ot.cast(o2, In);
    }
    return o2 ? jp.getItemProxy(o2, i2) : null;
  }, t2.prototype.getGroupModel = function(t3, e2) {
    var i2 = this._view.getItem(t3);
    return !i2 || i2 instanceof Wo || (i2 = i2.parent instanceof Yo ? null : i2.parent), i2 ? jp.getItemProxy(i2, e2) : null;
  }, t2.prototype.getRootModel = function(t3, e2) {
    if (!t3 || !this._view.isTree() && !this._view.rowGrouped) return null;
    if (t3) {
      var i2 = this._view.getItem(t3.index);
      if (i2) return i2.root ? jp.getItemProxy(i2.root, e2) : null;
    }
    return null;
  }, t2.prototype.getModels = function(t3, e2) {
    if (t3 = Ot.makeArray(t3)) {
      for (var i2 = [], o2 = 0, r2 = t3.length; o2 < r2; o2++) {
        var n2 = this._view.getItem(t3[o2]);
        n2 && i2.push(jp.getItemProxy(n2, e2));
      }
      return i2;
    }
  }, t2.prototype.getModelOfRow = function(t3, e2) {
    var i2 = this._view.getItemOfRow(t3, false);
    return i2 ? jp.getItemProxy(i2, e2) : null;
  }, t2.prototype.getModelsOfRows = function(t3, e2) {
    if (t3 = Ot.makeArray(t3)) {
      for (var i2 = [], o2 = 0, r2 = t3.length; o2 < r2; o2++) {
        var n2 = this._view.getItemOfRow(t3[o2], false);
        n2 && i2.push(jp.getItemProxy(n2, e2));
      }
      return i2;
    }
  }, t2.prototype.getParentModel = function(t3, e2) {
    var i2;
    return t3 && (i2 = this._view.getItemOfModel(t3)), !i2 || !i2.parent || i2 instanceof Xo || !this._view.isTree() && !this._view.rowGrouped ? null : jp.getItemProxy(i2.parent, e2);
  }, t2.prototype.getChildModel = function(t3, e2, i2) {
    var o2 = t3 && this._view.getItemOfModel(t3);
    if (o2 instanceof Wo) {
      var r2 = o2.getItem(e2);
      return r2 ? jp.getItemProxy(r2, i2) : null;
    }
    return null;
  }, t2.prototype.getChildModels = function(t3, e2) {
    var i2 = t3 && this._view.getItemOfModel(t3);
    if (i2 instanceof Wo) {
      for (var o2 = [], r2 = 0, n2 = i2.count; r2 < n2; r2++) o2.push(jp.getItemProxy(i2.children[r2], e2));
      return o2;
    }
    return null;
  }, t2.prototype.getDescendantModels = function(t3, e2) {
    var i2 = t3 && this._view.getItemOfModel(t3);
    if (i2 instanceof Wo) {
      var o2 = i2.getDescendants(false), r2 = [];
      if (o2) for (var n2 = 0, s2 = o2.length; n2 < s2; n2++) r2.push(jp.getItemProxy(o2[n2], e2));
      return r2;
    }
    return null;
  }, t2.prototype.getGroupSummary = function(t3, e2, i2) {
    if (t3) {
      var o2 = this._view.getItemOfModel(t3), r2 = "string" == typeof e2 ? this._dataProvider.getFieldIndex(e2) : e2;
      if (o2 instanceof Wo && r2 >= 0) {
        var n2 = { count: o2.getNumber(r2), sum: o2.getSum(r2), max: o2.getMax(r2), min: o2.getMin(r2), avg: o2.getAvg(r2), datacount: o2.getDataCount(r2), dataavg: o2.getSum(r2) / o2.getDataCount(r2) };
        return i2 && (n2.var = o2.getVar(r2, 1), n2.varp = o2.getVar(r2, 0), n2.stdev = o2.getStdev(r2, 1), n2.stdevp = o2.getStdev(r2, 0)), n2;
      }
    }
    return null;
  }, t2.prototype.getDistinctItemValues = function(t3, e2, i2) {
    return void 0 === e2 && (e2 = -1), void 0 === i2 && (i2 = l.ASCENDING), t3 = this._dataProvider.getFieldIndex(t3), this._view.getDistinctItemValues(t3, e2, i2);
  }, t2.prototype.showProgress = function() {
    this._view.showProgress();
  }, t2.prototype.setProgress = function(t3, e2, i2, o2) {
    this._view.setProgress(t3, e2, i2, o2);
  }, t2.prototype.closeProgress = function() {
    this._view.closeProgress();
  }, t2.prototype.showLoading = function(t3) {
    this._view.showLoading(t3);
  }, t2.prototype.closeLoading = function() {
    this._view && this._view.hideLoading();
  }, t2.prototype.searchItem = function(t3) {
    return t3 ? this._view.searchItem(t3) : -1;
  }, t2.prototype.searchCell = function(t3) {
    return t3 ? this._view.searchCell(t3) : null;
  }, t2.prototype.resetSize = function(t3) {
    this._view.container.resetSize(t3);
  }, t2.prototype.closeList = function() {
    this._view.closePopups();
  }, t2.prototype.exportGrid = function(t3) {
    if ("csv" === t3.type) {
      var e2 = new od(t3);
      new Kc().export(this._view, e2);
    } else if ("excel" === t3.type) {
      e2 = new rd(this._view, t3);
      new Vp().export(this._view, e2);
    }
  }, t2.prototype.scrollPage = function(t3) {
    this._view._vscrollBar._doScroll(sh.PAGE, t3, 0);
  }, t2.prototype.getTopItem = function() {
    return this._view.topIndex;
  }, t2.prototype.setTopItem = function(t3) {
    void 0 === t3 && (t3 = 0), this._view.topIndex = t3;
  }, t2.prototype.getLeftPos = function() {
    return this._view.leftPos;
  }, t2.prototype.setLeftPos = function(t3) {
    this._view.leftPos = t3;
  }, t2.prototype.setLeftCol = function(t3) {
    var e2;
    if ("string" == typeof t3) {
      var i2 = this._view.layoutByName(t3);
      i2 && (e2 = i2._col);
    } else e2 = t3;
    this._view.leftCell = e2;
  }, t2.prototype.getContainer = function() {
    return this._view.container._containerDiv;
  }, t2.prototype.requestPrepareEditor = function() {
    this._view.requestPrepareEditor();
  }, t2.prototype.destroy = function() {
    return this.dispose();
  }, t2.prototype.fullItemCount = function() {
    return this._view.layoutManager.fullItemCount;
  }, t2.prototype.undo = function() {
    return this._view.undo();
  }, t2.prototype.redo = function() {
    return this._view.redo();
  }, t2.prototype.clearCommandStack = function(t3) {
    void 0 === t3 && (t3 = true), this._view.clearCommandStack(t3);
  }, t2.prototype._getView = function() {
    return this._view;
  }, t2;
}();
var Wp = function(t2) {
  function e2(e3, i2, o2) {
    var r2 = t2.call(this, e3, i2, o2) || this;
    return r2.onPageChanging = null, r2.onPageChanged = null, r2.onPageCountChanged = null, r2.onGrouping = null, r2.onGrouped = null, r2.onExpanding = null, r2.onExpanded = null, r2.onCollapsing = null, r2.onCollapsed = null, r2;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "rowGroup", { get: function() {
    return this._view.rowGroup;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupPanel", { get: function() {
    return this._view.groupPanelView;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterMode", { get: function() {
    return this._view._rs.filterMode;
  }, set: function(t3) {
    this._view._rs.filterMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "filterOr", { get: function() {
    return this._view._rs.inclusiveFiltering;
  }, set: function(t3) {
    this._view._rs.inclusiveFiltering = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupSummaryMode", { get: function() {
    return this._view._rs.groupSummaryMode;
  }, set: function(t3) {
    this._view._rs.groupSummaryMode = t3;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2.prototype, "groupingOptions", { get: function() {
    return this._view.groupingOptions;
  }, enumerable: false, configurable: true }), e2.prototype.getDataSource = function() {
    return this._dataDelegator;
  }, e2.prototype.getRowGroup = function() {
    return this._view.rowGroup.toProxy();
  }, e2.prototype.setRowGroup = function(t3) {
    this._view.rowGroup.assignFrom(t3);
  }, e2.prototype.getGroupPanel = function() {
    return { visible: this._view.groupPanelView.visible, height: this._view.groupPanelView.height, minHeight: this._view.groupPanelView.minHeight };
  }, e2.prototype.setGroupPanel = function(t3) {
    this._view.groupPanelView.assignFrom(t3);
  }, e2.prototype.getOptions = function() {
    var e3 = t2.prototype.getOptions.call(this), i2 = this._view._rs;
    return e3.filterOr = i2.inclusiveFiltering, e3.groupSummaryMode = i2.groupSummaryMode, e3.filterMode = i2.filterMode, e3.grouping = this.groupingOptions, e3.groupPanel = this.groupPanel, e3;
  }, e2.prototype.setOptions = function(e3) {
    t2.prototype.setOptions.call(this, e3), e3.grouping && this._view.groupingOptions.assignFrom(e3.grouping), e3.groupPanel && this._view.groupPanelView.assignFrom(e3.groupPanel);
  }, e2.prototype.getGroupingOptions = function() {
    return this._view.groupingOptions.toProxy();
  }, e2.prototype.setGroupingOptions = function(t3) {
    this._view.groupingOptions.assignFrom(t3);
  }, e2.prototype.groupBy = function(t3, e3, i2) {
    this._view.groupByFieldNames(t3, e3, i2);
  }, e2.prototype.isGrouped = function() {
    return this._view.rowGrouped;
  }, e2.prototype.isMergedGrouped = function() {
    return this._view.mergedRowGrouped;
  }, e2.prototype.getGroupFields = function() {
    return this._view.rowGroupFields;
  }, e2.prototype.getGroupFieldNames = function(t3) {
    void 0 === t3 && (t3 = true);
    var e3 = this._view.rowGroupFields;
    if (e3) {
      var i2 = this._dataProvider;
      if (i2) {
        for (var o2 = [], r2 = 0, n2 = e3.length; r2 < n2; r2++) o2.push(t3 ? i2.getOrgFieldName(e3[r2]) : i2.getFieldName(e3[r2]));
        return o2;
      }
      return e3;
    }
    return null;
  }, e2.prototype.getGroupLevels = function() {
    return this._view.rowGroupLevels;
  }, e2.prototype.getGroupLevel = function(t3) {
    return (t3 = this._dataProvider.getFieldIndex(t3)) > -1 ? this._view.getGroupLevel(t3) : -1;
  }, e2.prototype.getGroupIndex = function(t3) {
    var e3 = this._view.getItem(t3);
    if (e3) {
      var i2 = e3.parent;
      return i2 ? i2.index : -1;
    }
    return -1;
  }, e2.prototype.isGroupItem = function(t3) {
    return this._view.getItem(t3) instanceof Wo;
  }, e2.prototype.isParentVisible = function(t3) {
    var e3 = this._view.getItem(t3);
    return e3 && e3.parent && e3.parent.visible;
  }, e2.prototype.expandGroup = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = 0);
    var r2 = this._view.getItem(t3);
    r2 && r2 instanceof Wo && this._view.expand(r2, e3, i2, o2);
  }, e2.prototype.collapseGroup = function(t3, e3, i2) {
    var o2 = this._view.getItem(t3);
    o2 && o2 instanceof Wo && this._view.collapse(o2, e3, i2);
  }, e2.prototype.expandParent = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = 0);
    var r2 = this._view.getItem(t3);
    if (r2) {
      var n2 = r2.parent;
      n2 && n2.expandable && (n2.collapsed || i2) && this._view.expand(n2, e3, i2, o2);
    }
  }, e2.prototype.collapseParent = function(t3, e3, i2) {
    var o2 = this._view.getItem(t3);
    if (o2) {
      var r2 = o2.parent;
      r2 && r2.collapsable && r2 instanceof Wo && this._view.collapse(r2, e3, i2);
    }
  }, e2.prototype.collapse = function(t3, e3) {
    var i2 = this;
    void 0 === e3 && (e3 = -1);
    var o2 = function(t4) {
      return !t4 || t4 instanceof Yo ? null : t4 instanceof Wo && t4.expanded && (-1 == e3 || t4.level === e3) && Vr(t4, i2.rowGroup.collapsedAdornments) ? t4 : o2(t4.parent);
    }, r2 = this._view.getItem(t3), n2 = o2(r2);
    n2 && this._view.collapse(n2, false, false);
  }, e2.prototype.expand = function(t3, e3) {
    void 0 === e3 && (e3 = -1);
    var i2 = this._view.getItem(t3);
    !i2 || i2 instanceof Yo || (i2 instanceof Wo || (i2 = i2.parent), this._view.expand(i2, true, true, e3));
  }, e2.prototype.expandAll = function(t3, e3) {
    void 0 === t3 && (t3 = true), this._view.itemCount > 0 && this._view.expandAll(t3, e3);
  }, e2.prototype.collapseAll = function(t3) {
    this._view.itemCount > 0 && this._view.collapseAll(t3);
  }, e2.prototype.getGroupSummaryValue = function(t3, e3, i2) {
    if (t3 && this._view.rowGrouped) {
      var o2 = this._view.getItemOfModel(t3), r2 = jp.getColumn(this._view, e3);
      if (o2 instanceof Go) {
        var n2 = o2._allFooters;
        return null != (i2 = 1 === o2.allFooterCount ? 0 : i2) && o2._allFooters[i2] ? (o2 = o2._allFooters[i2], Ic.getValue(o2, r2)) : n2.map(function(t4) {
          return Ic.getValue(t4, r2);
        });
      }
      if (o2 instanceof Uo) return Ic.getValue(o2, r2);
    }
    return null;
  }, e2.prototype.layoutExpandAll = function(t3) {
    this._view.layoutExpandAll(true, t3);
  }, e2.prototype.layoutCollapseAll = function(t3) {
    this._view.layoutExpandAll(false, t3);
  }, e2.prototype.beginInsertRow = function(t3, e3, i2) {
    return void 0 === t3 && (t3 = -1), this._view.insertAt(t3, e3, i2);
  }, e2.prototype.beginAppendRow = function(t3) {
    return this._view.appendAt(t3);
  }, e2.prototype.beginUpdateRow = function(t3) {
    if (this._view.focusedIndex) {
      var e3 = this._view.focusedIndex.clone();
      void 0 !== t3 && (e3.itemIndex = t3), this._view.edit(e3);
    }
  }, e2.prototype.setPaging = function(t3, e3, i2) {
    void 0 === e3 && (e3 = 10), void 0 === i2 && (i2 = -1), this._view.setPaging(t3, e3, i2);
  }, e2.prototype.getPage = function() {
    return this._view.page;
  }, e2.prototype.setPage = function(t3, e3) {
    void 0 === e3 && (e3 = -1), this._view.setPage(t3, e3);
  }, e2.prototype.getPageCount = function() {
    return this._view.pageCount;
  }, e2.prototype.setPageCount = function(t3) {
    this._view.pageCount = t3;
  }, e2.prototype.getPageOfDataRow = function(t3) {
    return this._view.getPageOfDataRow(t3);
  }, e2.prototype.getCheckedItems = function(t3) {
    return void 0 === t3 && (t3 = true), this._view.getCheckedItemIndices(!t3);
  }, e2.prototype.getCheckedRows = function(t3, e3, i2) {
    return void 0 === t3 && (t3 = true), this._view.getCheckedRows(t3, e3, i2);
  }, e2.prototype.getMergedItems = function(t3, e3, i2, o2) {
    return void 0 === i2 && (i2 = true), void 0 === o2 && (o2 = true), this._view.getMergedItems(t3, e3, i2, o2);
  }, e2.prototype.populateMerges = function(t3) {
    void 0 === t3 && (t3 = true), this._view._populateMerges(t3);
  }, e2.prototype._createView = function(t3, e3, i2) {
    return (this._container = new wp(t3, this, e3, i2)).gridView;
  }, e2.prototype._createListener = function(t3) {
    return new Yp(this, t3);
  }, e2;
}(Hp);
var Gp = function(t2) {
  function e2() {
    var e3 = null !== t2 && t2.apply(this, arguments) || this;
    return e3.onTreeItemExpanding = null, e3.onTreeItemExpanded = null, e3.onTreeItemCollapsing = null, e3.onTreeItemCollapsed = null, e3.onTreeItemChanged = null, e3;
  }
  return i(e2, t2), Object.defineProperty(e2.prototype, "treeOptions", { get: function() {
    return this._view.treeOptions;
  }, enumerable: false, configurable: true }), e2.prototype.getDataSource = function() {
    return this._dataDelegator;
  }, e2.prototype.getTreeOptions = function() {
    return this._view.treeOptions.toProxy();
  }, e2.prototype.setTreeOptions = function(t3) {
    this._view.treeOptions.assignFrom(t3);
  }, e2.prototype.getParent = function(t3) {
    var e3 = this._view.getItem(t3);
    return e3 ? e3.parentIndex : -1;
  }, e2.prototype.getChildren = function(t3) {
    var e3 = this._view.getItem(t3);
    if (e3) {
      for (var i2 = [], o2 = 0, r2 = e3.count; o2 < r2; o2++) i2.push(e3.getItem(o2).index);
      return i2;
    }
    return null;
  }, e2.prototype.getDescendants = function(t3) {
    var e3 = this._view.getItem(t3);
    if (e3) {
      for (var i2 = [], o2 = e3.getDescendants(false) || [], r2 = 0, n2 = o2.length; r2 < n2; r2++) i2.push(o2[r2].index);
      return i2;
    }
    return null;
  }, e2.prototype.getAncestors = function(t3, e3) {
    void 0 === e3 && (e3 = true);
    var i2 = this._view.getItem(t3);
    if (i2) {
      for (var o2 = [], r2 = i2.getAncestors(), n2 = 0, s2 = r2.length; n2 < s2; n2++) !e3 && r2[n2] instanceof En || o2.push(r2[n2].index);
      return o2;
    }
    return null;
  }, e2.prototype.expand = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = 0);
    var r2 = this._view.getItem(t3);
    r2 && this._view.expand(r2, e3, i2, o2);
  }, e2.prototype.expandModel = function(t3, e3, i2, o2) {
    void 0 === o2 && (o2 = 0);
    var r2 = this._view.getItemOfModel(t3);
    r2 && this._view.expand(r2, e3, i2, o2);
  }, e2.prototype.collapse = function(t3, e3) {
    var i2 = this._view.getItem(t3);
    i2 && this._view.collapse(i2, e3);
  }, e2.prototype.collapseModel = function(t3, e3) {
    var i2 = this._view.getItemOfModel(t3);
    i2 && this._view.collapse(i2, e3);
  }, e2.prototype.expandAll = function(t3, e3) {
    void 0 === t3 && (t3 = 0), void 0 === e3 && (e3 = true), this._view.expandAll(t3, e3);
  }, e2.prototype.collapseAll = function() {
    this._view.collapseAll();
  }, e2.prototype.getCheckedItems = function() {
    return this._view.getCheckedItemIndices();
  }, e2.prototype.getCheckedRows = function(t3) {
    return this._view.getCheckedRowIds(t3);
  }, e2.prototype.checkChildren = function(t3, e3, i2, o2, r2, n2) {
    void 0 === n2 && (n2 = true);
    var s2 = this._view.getItem(t3);
    s2 && this._view.checkChildren(s2, e3, i2, o2, r2, n2);
  }, e2.prototype._createView = function(t3, e3, i2) {
    return (this._container = new Fp(t3, this, e3, i2)).gridView;
  }, e2.prototype._createListener = function(t3) {
    return new zp(this, t3);
  }, e2;
}(Hp);
var Up = function(t2) {
  function e2(e3, i2) {
    var o2 = t2.call(this) || this;
    return o2._del = e3, o2._view = i2, o2._view.addListener(o2), o2;
  }
  return i(e2, t2), e2.prototype.dispose = function() {
    return this._view.removeListener(this), this._view = null, this._del = null;
  }, e2.prototype.onGridBaseCurrentChanging = function(t3, e3, i2) {
    return this._del.onCurrentChanging ? this._del.onCurrentChanging(this._del, e3.proxy(), i2.proxy()) : (Ot.log("onCurrentChanging", e3, i2), true);
  }, e2.prototype.onGridBaseCurrentChanged = function(t3, e3) {
    this._del.onCurrentChanged ? this._del.onCurrentChanged(this._del, e3.proxy()) : Ot.log("onCurrentChanged", e3);
  }, e2.prototype.onGridBaseCurrentRowChanged = function(t3, e3, i2) {
    this._del.onCurrentRowChanged ? this._del.onCurrentRowChanged(this._del, e3, i2) : Ot.log("onCurrentRowChanged", e3, i2);
  }, e2.prototype.onGridBaseValidateCell = function(t3, e3, i2, o2) {
    if (this._del.onValidateColumn) {
      var r2 = e3.itemIndex, n2 = e3.item && e3.item.dataRow, s2 = this._del.onValidateColumn(this._del, e3.column, i2, o2, r2, n2);
      if (s2 && s2.level && s2.message) throw new Tn(s2.level, s2.message, e3.column, s2.message);
      if ("string" == typeof s2 || "number" == typeof s2) throw new Tn(w.ERROR, s2, e3.column, s2);
    }
  }, e2.prototype.onGridBaseValidateRow = function(t3, e3, i2, o2) {
    if (this._del.onValidateRow) {
      var r2 = this._del.onValidateRow(this._del, e3.index, e3.dataRow, i2, o2);
      if (r2 && r2.level && r2.message) throw new Tn(r2.level, r2.message, null, r2.message);
      if ("string" == typeof r2 || "number" == typeof r2) throw new Tn(w.ERROR, r2, null, r2);
    }
  }, e2.prototype.onGridBaseValidationFail = function(t3, e3, i2, o2) {
    if (!this._del.onValidationFail) return o2;
    var r2 = this._del.onValidationFail(this._del, e3, i2, { level: o2.level, message: o2.message });
    return r2 && r2.level && r2.message ? (o2.level = r2.level, o2.message = r2.message, o2.userMessage = r2.message, o2) : "string" == typeof r2 || "number" == typeof r2 ? (o2.message = r2, o2.userMessage = r2, o2) : void 0;
  }, e2.prototype.onGridBaseCellClicked = function(t3, e3) {
    this._del.onCellClicked ? this._del.onCellClicked(this._del, e3) : Ot.log("onCellClicked: ", e3);
  }, e2.prototype.onGridBaseCellDblClicked = function(t3, e3) {
    this._del.onCellDblClicked ? this._del.onCellDblClicked(this._del, e3) : Ot.log("onCellDblClicked: ", e3);
  }, e2.prototype.onGridBaseCellItemClicked = function(t3, e3, i2) {
    return this._del.onCellItemClicked ? this._del.onCellItemClicked(this._del, e3.toProxy(), i2) : Ot.log("onCellItemClicked: ", i2);
  }, e2.prototype.onGridBaseColumnCheckedChanged = function(t3, e3, i2) {
    this._del.onColumnCheckedChanged ? this._del.onColumnCheckedChanged(this._del, e3, i2) : Ot.log("onColumnCheckedChanged: (" + e3.name + ", " + i2 + ")");
  }, e2.prototype.onGridBaseMenuItemClicked = function(t3, e3, i2) {
    this._del.onMenuItemClicked ? this._del.onMenuItemClicked(this._del, e3.toProxy(), i2) : Ot.log("onMenuItemClicked: ", e3.toProxy(), i2);
  }, e2.prototype.onGridBaseContextMenuPopup = function(t3, e3, i2, o2, r2, n2) {
    return this._del.onContextMenuPopup ? this._del.onContextMenuPopup(this._del, e3, i2, o2, r2, n2) : Ot.log("onContextMenuPopup: x = ", e3, ", y = ", i2, ", clickData =", o2);
  }, e2.prototype.onGridBaseContextMenuItemClicked = function(t3, e3, i2) {
    this._del.onContextMenuItemClicked ? this._del.onContextMenuItemClicked(this._del, e3.toProxy(), i2) : Ot.log("onContextMenuItemClicked: ", e3.toProxy(), i2);
  }, e2.prototype.onGridBaseCellButtonClicked = function(t3, e3) {
    this._del.onCellButtonClicked ? this._del.onCellButtonClicked(this._del, e3.proxy(), e3.column) : Ot.log("onCellButtonClicked: ", e3);
  }, e2.prototype.onGridBaseScrollToBottom = function(t3) {
    this._del.onScrollToBottom ? this._del.onScrollToBottom(this._del) : Ot.log("onScrollToBottom");
  }, e2.prototype.onGridBaseTopIndexChanged = function(t3, e3) {
    this._del.onTopIndexChanged ? this._del.onTopIndexChanged(this._del, e3) : Ot.log("onTopItemIndexChanged: " + e3);
  }, e2.prototype.onGridBaseLeftPosChanged = function(t3, e3) {
    this._del.onLeftPosChanged ? this._del.onLeftPosChanged(this._del, e3) : Ot.log("onLeftPosChanged: " + e3);
  }, e2.prototype.onGridBaseTopIndexChanging = function(t3, e3, i2, o2, r2) {
    return this._del.onTopIndexChanging ? this._del.onTopIndexChanging(this._del, e3, i2, o2, r2) : Ot.log("onTopItemIndexChanging: ", e3, i2, o2, r2);
  }, e2.prototype.onGridBaseRowsDeleting = function(t3, e3) {
    return this._del.onRowsDeleting ? this._del.onRowsDeleting(this._del, e3) : (Ot.log("onRowsDeleting:", e3), true);
  }, e2.prototype.onGridBaseRowInserting = function(t3, e3, i2) {
    if (this._del.onRowInserting) return this._del.onRowInserting(this._del, e3, i2);
    Ot.log("onRowInserting: " + e3, i2);
  }, e2.prototype.onGridBaseSelectionCleared = function(t3) {
    this._del.onSelectionCleared ? this._del.onSelectionCleared(this._del) : Ot.log("onSelectionCleared");
  }, e2.prototype.onGridBaseSelectionChanged = function(t3, e3) {
    this._del.onSelectionChanged ? this._del.onSelectionChanged(this._del, e3) : Ot.log("onSelectionChanged");
  }, e2.prototype.onGridBaseSelectionAdded = function(t3, e3) {
    this._del.onSelectionAdded ? this._del.onSelectionAdded(this._del, e3) : Ot.log("onSelectionAdded: ", e3);
  }, e2.prototype.onGridBaseSelectionEnded = function(t3, e3) {
    this._del.onSelectionEnded ? this._del.onSelectionEnded(this._del, e3) : Ot.log("onSelectionEnded");
  }, e2.prototype.onGridBaseShowEditor = function(t3, e3, i2, o2) {
    return this._del.onShowEditor ? this._del.onShowEditor(this._del, e3.proxy(), i2, o2) : Ot.log("onShowEditor", e3.proxy(), i2, o2);
  }, e2.prototype.onGridBaseShowEditCommand = function(t3, e3) {
    return this._del.onShowEditCommand && this._del.onShowEditCommand(this._del, e3.proxy());
  }, e2.prototype.onGridBaseHideEditor = function(t3, e3) {
    this._del.onHideEditor ? this._del.onHideEditor(this._del, e3.proxy()) : Ot.log("onHideEditor: ", e3.proxy());
  }, e2.prototype.onGridBaseEditChange = function(t3, e3, i2) {
    this._del.onEditChange ? this._del.onEditChange(this._del, e3.proxy(), i2) : Ot.log("onEditChange: " + i2, e3.proxy());
  }, e2.prototype.onGridBaseGetEditValue = function(t3, e3, i2) {
    return this._del.onGetEditValue ? this._del.onGetEditValue(this._del, e3.proxy(), i2) : Ot.log("onGetEditValue: ", e3, i2);
  }, e2.prototype.onGridBaseEditCommit = function(t3, e3, i2, o2) {
    return this._del.onEditCommit ? this._del.onEditCommit(this._del, e3.proxy(), i2, o2) : (Ot.log("onEditCommit", e3.proxy(), i2, o2), true);
  }, e2.prototype.onGridBaseEditCanceled = function(t3, e3) {
    this._del.onEditCanceled ? this._del.onEditCanceled(this._del, e3.proxy()) : Ot.log("onEditCanceled", e3.proxy());
  }, e2.prototype.onGridBaseItemEditCanceled = function(t3, e3) {
    this._del.onItemEditCanceled ? this._del.onItemEditCanceled(this._del, e3.index, e3.itemState) : Ot.log("onItemEditCanceled: " + e3.index + ", " + e3.itemState);
  }, e2.prototype.onGridBaseItemEditCancel = function(t3, e3) {
    return this._del.onItemEditCancel ? this._del.onItemEditCancel(this._del, e3.index, e3.itemState) : (Ot.log("onItemEditCancel: " + e3.index + ", " + e3.itemState), true);
  }, e2.prototype.onGridBaseEditSearch = function(t3, e3, i2) {
    this._del.onEditSearch ? this._del.onEditSearch(this._del, e3.proxy(), i2) : Ot.log("onEditSearch: " + i2, e3.proxy());
  }, e2.prototype.onGridBaseSearchCellButtonClick = function(t3, e3, i2) {
    return this._del.onSearchCellButtonClick ? this._del.onSearchCellButtonClick(this._del, e3.proxy(), i2) : (Ot.log("onSearchCellButtonClick: " + i2, e3.proxy()), null);
  }, e2.prototype.onGridBaseCellEdited = function(t3, e3, i2) {
    return this._del.onCellEdited ? this._del.onCellEdited(this._del, e3.index, e3.dataRow, i2) : Ot.log("onCellEdited: " + e3.index + ", " + e3.dataRow + ", " + i2);
  }, e2.prototype.onGridBaseEditRowChanged = function(t3, e3, i2, o2, r2) {
    return this._del.onEditRowChanged ? this._del.onEditRowChanged(this._del, e3.index, e3.dataRow, i2, o2, r2) : Ot.log("onEditRowChanged: " + e3.index + ", " + e3.dataRow + ", " + i2 + ", " + o2 + " => " + r2);
  }, e2.prototype.onGridBaseEditRowPasted = function(t3, e3, i2, o2, r2) {
    return this._del.onEditRowPasted ? this._del.onEditRowPasted(this._del, e3.index, e3.dataRow, i2, o2, r2) : Ot.log("onEditRowPasted: " + e3.index + ", " + e3.dataRow, i2, o2, r2);
  }, e2.prototype.onGridBaseRowsPasted = function(t3, e3) {
    return this._del.onRowsPasted ? this._del.onRowsPasted(this._del, e3) : Ot.log("onRowsPasted: ", e3);
  }, e2.prototype.onGridBaseCellPasting = function(t3, e3, i2, o2) {
    return this._del.onCellPasting ? this._del.onCellPasting(this._del, e3.proxy(), i2, o2) : Ot.log("onCellPasting: ", e3, i2);
  }, e2.prototype.onGridBaseItemChecked = function(t3, e3, i2) {
    return this._del.onItemChecked ? this._del.onItemChecked(this._del, e3.index, i2) : Ot.log("onItemChecked", e3.index, i2);
  }, e2.prototype.onGridBaseItemsChecked = function(t3, e3, i2) {
    var o2 = jp.getItemIndices(e3);
    return this._del.onItemsChecked ? this._del.onItemsChecked(this._del, o2, i2) : Ot.log("onItemsChecked: " + i2, o2);
  }, e2.prototype.onGridBaseItemAllChecked = function(t3, e3) {
    return this._del.onItemAllChecked ? this._del.onItemAllChecked(this._del, e3) : Ot.log("onItemAllChecked: " + e3);
  }, e2.prototype.onGridBaseErrorClicked = function(t3, e3) {
    this._del.onErrorClicked ? this._del.onErrorClicked(this._del, e3) : Ot.log("onErrorClicked: " + e3);
  }, e2.prototype.onGridBaseSorting = function(t3, e3, i2) {
    for (var o2 = [], r2 = 0, n2 = i2.length; r2 < n2; r2++) o2.push(i2[r2] ? i2[r2].toString() : "ascending");
    return this._del.onSorting ? this._del.onSorting(this._del, e3, i2) : Ot.log("onSorting: ", e3, o2);
  }, e2.prototype.onGridBaseSortingChanged = function(t3) {
    this._del.onSortingChanged ? this._del.onSortingChanged(this._del) : Ot.log("onSortingChanged");
  }, e2.prototype.onGridBaseFiltering = function(t3, e3) {
    return this._del.onFiltering ? this._del.onFiltering(this._del, e3) : Ot.log("onFiltering");
  }, e2.prototype.onGridBaseFilteringChanged = function(t3, e3, i2, o2) {
    var r2 = e3 ? e3.getOwner() : null, n2 = i2 ? i2.toProxy() : null, s2 = r2 ? r2.name : "", a2 = i2 ? i2.name : "";
    return this._del.onFilteringChanged ? this._del.onFilteringChanged(this._del, r2, n2, o2) : Ot.log("onFilteringChanged: " + s2 + ", " + a2);
  }, e2.prototype.onGridBaseWheel = function(t3, e3) {
    return this._del.onWheel ? this._del.onWheel(this._del, e3) : Ot.keyLog("onWheel: " + e3);
  }, e2.prototype.onGridBaseKeyDown = function(t3, e3) {
    return this._del.onKeyDown ? this._del.onKeyDown(this._del, e3) : Ot.keyLog("onKeyDown: " + e3);
  }, e2.prototype.onGridBaseKeyPress = function(t3, e3) {
    this._del.onKeyPress ? this._del.onKeyPress(this._del, e3) : Ot.keyLog("onKeyPress: " + e3);
  }, e2.prototype.onGridBaseKeyUp = function(t3, e3) {
    this._del.onKeyUp ? this._del.onKeyUp(this._del, e3) : Ot.keyLog("onKeyUp: " + e3);
  }, e2.prototype.onGridBaseShowTooltip = function(t3, e3, i2) {
    return this._del.onShowTooltip ? this._del.onShowTooltip(this._del, e3.proxy(), i2) : (Ot.log("onShowTooltip: " + i2, e3.proxy()), i2);
  }, e2.prototype.onGridBaseShowHeaderTooltip = function(t3, e3, i2, o2) {
    return this._del.onShowHeaderTooltip ? this._del.onShowHeaderTooltip(this._del, e3, i2, o2) : (Ot.log("onShowHeaderTooltip: " + e3.name + ", " + i2), i2);
  }, e2.prototype.onGridBaseColumnPropertyChanged = function(t3, e3, i2, o2, r2) {
    this._del.onColumnPropertyChanged ? this._del.onColumnPropertyChanged(this._del, e3, i2, o2, r2) : Ot.log("onColumnPropertyChanged: " + e3.name + ", " + i2 + ", " + o2 + ", " + r2);
  }, e2.prototype.onGridBaseLayoutPropertyChanged = function(t3, e3, i2, o2, r2) {
    this._del.onLayoutPropertyChanged ? this._del.onLayoutPropertyChanged(this._del, e3, i2, o2, r2) : Ot.log("onLayoutPropertyChanged: " + e3.name + ", " + i2 + ", " + o2 + ", " + r2);
  }, e2.prototype.onGridBaseGridActivated = function(t3) {
    this._del.onGridActivated ? this._del.onGridActivated(this._del) : Ot.log("onGridActivated");
  }, e2.prototype.onGridBaseGridFocusChanged = function(t3, e3, i2, o2) {
    this._del.onGridFocusChanged ? this._del.onGridFocusChanged(this._del, e3, o2) : Ot.log("onGridFocusChanged");
  }, e2.prototype.onGridBasePaste = function(t3, e3, i2) {
    if (this._del.onPaste) return this._del.onPaste(this._del, e3.proxy(), i2);
    Ot.log("onPaste: ", e3);
  }, e2.prototype.onGridBaseCopy = function(t3, e3, i2) {
    var o2;
    if (Array.isArray(e3) ? (o2 = [], e3.forEach(function(t4) {
      o2.push(t4.toProxy());
    })) : o2 = e3.toProxy(), i2 && "cut" === i2.type) {
      if (this._del.onCut) return this._del.onCut(this._del, o2, i2);
    } else {
      if (this._del.onCopy) return this._del.onCopy(this._del, o2, i2);
      Ot.log("onCopy: ", o2);
    }
  }, e2.prototype.onGridBasePasted = function(t3) {
    return this._del.onPasted ? this._del.onPasted(this._del) : Ot.log("onPasted");
  }, e2.prototype.onGridBaseCommandStackChanged = function(t3, e3, i2) {
    this._del.onCommandStackChanged ? this._del.onCommandStackChanged(t3.handler, e3, i2) : Ot.log("onCommandStackChanged: undoable " + e3 + ", redoable " + i2);
  }, e2.prototype.onGridBaseDataLoadComplated = function(t3) {
    this._del.onDataLoadComplated ? this._del.onDataLoadComplated(t3.handler) : Ot.log("onDataLoadComplated: ");
  }, e2.prototype.onGridBaseLayoutExpanding = function(t3, e3) {
    return this._del.onLayoutExpanding ? this._del.onLayoutExpanding(t3.handler, e3) : (Ot.log("onLayoutExpanding"), true);
  }, e2.prototype.onGridBaseLayoutExpanded = function(t3, e3) {
    this._del.onLayoutExpanded ? this._del.onLayoutExpanded(t3.handler, e3) : Ot.log("onLayoutExpanded");
  }, e2.prototype.onGridBaseLayoutCollapsing = function(t3, e3) {
    return this._del.onLayoutCollapsing ? this._del.onLayoutCollapsing(t3.handler, e3) : (Ot.log("onLayoutCollapsing"), true);
  }, e2.prototype.onGridBaseLayoutCollapsed = function(t3, e3) {
    this._del.onLayoutCollapsed ? this._del.onLayoutCollapsed(t3.handler, e3) : Ot.log("onLayoutCollapsed");
  }, e2;
}(So);
var Yp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.onGridViewPageChanging = function(t3, e3) {
    return this._del.onPageChanging ? this._del.onPageChanging(this._del, e3) : (Ot.log("onPageChanging:" + e3), true);
  }, e2.prototype.onGridViewPageChanged = function(t3, e3) {
    this._del.onPageChanged ? this._del.onPageChanged(this._del, e3) : Ot.log("onPageChanged:" + e3);
  }, e2.prototype.onGridViewPageCountChanged = function(t3, e3) {
    this._del.onPageCountChanged ? this._del.onPageCountChanged(this._del, e3) : Ot.log("onPageCountChanged:" + e3);
  }, e2.prototype.onGridViewGrouping = function(t3, e3) {
    return this._del.onGrouping ? this._del.onGrouping(this._del, e3) : (Ot.log("onGrouping", e3), true);
  }, e2.prototype.onGridViewGrouped = function(t3) {
    this._del.onGrouped ? this._del.onGrouped(this._del) : Ot.log("onGrouped");
  }, e2.prototype.onGridViewExpanding = function(t3, e3) {
    return this._del.onExpanding ? this._del.onExpanding(this._del, e3.index) : (Ot.log("onExpanding: " + e3.index), true);
  }, e2.prototype.onGridViewExpanded = function(t3, e3) {
    this._del.onExpanded ? this._del.onExpanded(this._del, e3.index) : Ot.log("onExpanded: " + e3.index);
  }, e2.prototype.onGridViewCollapsing = function(t3, e3) {
    return this._del.onCollapsing ? this._del.onCollapsing(this._del, e3.index) : (Ot.log("onCollapsing: " + e3.index), true);
  }, e2.prototype.onGridViewCollapsed = function(t3, e3) {
    this._del.onCollapsed ? this._del.onCollapsed(this._del, e3.index) : Ot.log("onCollapsed: " + e3.index);
  }, e2;
}(Up);
var zp = function(t2) {
  function e2() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return i(e2, t2), e2.prototype.onTreeViewExpanding = function(t3, e3) {
    return this._del.onTreeItemExpanding ? this._del.onTreeItemExpanding(this._del, e3.index, e3.rowId) : (Ot.log("TreeItem expanding: " + e3), true);
  }, e2.prototype.onTreeViewExpanded = function(t3, e3) {
    this._del.onTreeItemExpanded ? this._del.onTreeItemExpanded(this._del, e3.index, e3.rowId) : Ot.log("TreeItem expanded: " + e3);
  }, e2.prototype.onTreeViewCollapsing = function(t3, e3) {
    return this._del.onTreeItemCollapsing ? this._del.onTreeItemCollapsing(this._del, e3.index, e3.rowId) : (Ot.log("TreeItem collapsing: " + e3), true);
  }, e2.prototype.onTreeViewCollapsed = function(t3, e3) {
    this._del.onTreeItemCollapsed ? this._del.onTreeItemCollapsed(this._del, e3.index, e3.rowId) : Ot.log("TreeItem collapsed: " + e3);
  }, e2.prototype.onTreeViewChanged = function(t3, e3) {
    this._del.onTreeItemChanged ? this._del.onTreeItemChanged(this._del, e3.index, e3.rowId) : Ot.log("TreeItem item changed: " + e3);
  }, e2;
}(Up);
var qp = function() {
  function e2() {
  }
  return e2.getVersion = function() {
    return t.version;
  }, e2.getLicenseType = function() {
    return t.license;
  }, e2.getLicenseCode = function() {
    return t.code;
  }, e2.getActiveGrid = function() {
    var t2 = Th.getActiveGrid();
    return t2 && t2.handler;
  }, e2.getGridInstance = function(t2) {
    var e3 = Th.getGridInstance(t2);
    return e3 && e3.handler;
  }, e2.exportGrid = function(t2) {
    var e3 = t2 && t2.exportGrids;
    if (e3) {
      for (var i2 = this.getActiveGrid(), o2 = void 0, r2 = 0; r2 < e3.length; r2++) {
        var n2 = e3[r2].grid;
        if (n2 === i2) {
          o2 = n2;
          break;
        }
        o2 = o2 || n2;
      }
      if (o2) return void o2.exportGrid(t2);
    }
    throw new Error("multiExport must have exportGrids.");
  }, e2.setDebug = function(t2, e3, i2) {
    Ot.setDebugging(t2, e3, i2);
  }, e2.setMobile = function(t2) {
    Ot.setMobile(t2);
  }, e2.setIECompatMode = function(t2) {
    Ot.setIECompatMode(t2);
  }, e2.setTablet = function(t2) {
    Ot.setTablet(t2);
  }, e2.setSlotMode = function(t2) {
    Ot.setSlotMode(t2);
  }, e2.setLocale = function(t2) {
    Ue.setLocale(t2), Th.refreshGrids();
  }, e2.getLocale = function() {
    return Ue.getLocale();
  }, e2.setDefault = function(t2, e3) {
    Ke.setDefaultOptions(t2, e3);
  }, e2.setLicenseKey = function(e3) {
    t.code = e3;
  }, Object.defineProperty(e2, "GridView", { get: function() {
    return Wp;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2, "TreeView", { get: function() {
    return Gp;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2, "LocalDataProvider", { get: function() {
    return Ro;
  }, enumerable: false, configurable: true }), Object.defineProperty(e2, "LocalTreeDataProvider", { get: function() {
    return Po;
  }, enumerable: false, configurable: true }), e2.registerCustomRenderer = function(t2, e3, i2) {
    Ku.registryCustomRenderer(t2, e3, i2);
  }, Object.defineProperty(e2, "CustomCellRendererImpl", { get: function() {
    return fu;
  }, enumerable: false, configurable: true }), e2;
}();
!function(t2) {
  t2.RECTANGLE = "rectangle", t2.TRIANLGE = "triangle", t2.INVERTED_TRIANLGE = "itriangle", t2.DIAMOND = "diamond", t2.UP_ARROW = "uparrow", t2.DOWN_ARROW = "downarrow", t2.LEFT_ARROW = "leftarrow", t2.RIGHT_ARROW = "rightarrow", t2.PLUS = "plus", t2.MINUS = "minus", t2.EQUAL = "equal", t2.STAR = "star";
}(Ip || (Ip = {}));

export {
  a,
  l,
  h,
  c,
  d,
  p,
  v,
  w,
  x,
  I,
  S,
  O,
  R,
  P,
  k,
  D,
  T,
  M,
  F,
  L,
  N,
  $,
  A,
  B,
  V,
  j,
  H,
  W,
  G,
  U,
  Y,
  z,
  q,
  K,
  X,
  Z,
  J,
  St,
  Yt,
  $i,
  Bi,
  Vi,
  ji,
  vo,
  Oo,
  Ro,
  Po,
  rr,
  cr,
  Kr,
  ds,
  gs,
  ys,
  ks,
  Ds,
  Zs,
  Js,
  Qs,
  ma,
  ba,
  va,
  Ga,
  Ua,
  xl,
  Il,
  Qh,
  fu,
  kc,
  Ip,
  Hp,
  Wp,
  Gp,
  qp
};
//# sourceMappingURL=chunk-K63FQNPT.js.map
